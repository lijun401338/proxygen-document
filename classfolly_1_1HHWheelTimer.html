<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>proxygen: folly::HHWheelTimer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">proxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classfolly_1_1HHWheelTimer.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="classfolly_1_1HHWheelTimer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">folly::HHWheelTimer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="HHWheelTimer_8h_source.html">HHWheelTimer.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for folly::HHWheelTimer:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classfolly_1_1HHWheelTimer.png" usemap="#folly::HHWheelTimer_map" alt=""/>
  <map id="folly::HHWheelTimer_map" name="folly::HHWheelTimer_map">
<area href="classfolly_1_1AsyncTimeout.html" alt="folly::AsyncTimeout" shape="rect" coords="0,112,274,136"/>
<area href="classfolly_1_1DelayedDestruction.html" alt="folly::DelayedDestruction" shape="rect" coords="284,112,558,136"/>
<area href="classfolly_1_1DelayedDestructionBase.html" alt="folly::DelayedDestructionBase" shape="rect" coords="284,56,558,80"/>
<area href="classfolly_1_1UndelayedDestruction.html" alt="folly::UndelayedDestruction&lt; HHWheelTimer &gt;" shape="rect" coords="142,224,416,248"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer_1_1Callback.html">Callback</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ac5c81b3296322bb2afffde0af8a0a797"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#ac5c81b3296322bb2afffde0af8a0a797">UniquePtr</a> = std::unique_ptr&lt; <a class="el" href="classfolly_1_1HHWheelTimer.html">HHWheelTimer</a>, <a class="el" href="classfolly_1_1DelayedDestruction_1_1Destructor.html">Destructor</a> &gt;</td></tr>
<tr class="separator:ac5c81b3296322bb2afffde0af8a0a797"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b321b175c8194645ddbbec998c86e9c"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#a3b321b175c8194645ddbbec998c86e9c">SharedPtr</a> = std::shared_ptr&lt; <a class="el" href="classfolly_1_1HHWheelTimer.html">HHWheelTimer</a> &gt;</td></tr>
<tr class="separator:a3b321b175c8194645ddbbec998c86e9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a36d7e9f959838823beec29fec0f498b8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#a36d7e9f959838823beec29fec0f498b8">HHWheelTimer</a> (<a class="el" href="classfolly_1_1TimeoutManager.html">folly::TimeoutManager</a> *timeoutManager, std::chrono::milliseconds intervalMS=std::chrono::milliseconds(<a class="el" href="classfolly_1_1HHWheelTimer.html#ada61080053afe71f1b257cb249fb2f35">DEFAULT_TICK_INTERVAL</a>), <a class="el" href="classfolly_1_1TimeoutManager.html#a91f0d834602dcb7108b525c36fe1981f">AsyncTimeout::InternalEnum</a> internal=<a class="el" href="classfolly_1_1TimeoutManager.html#a91f0d834602dcb7108b525c36fe1981fa1e23852820b9154316c7c06e2b7ba051">AsyncTimeout::InternalEnum::NORMAL</a>, std::chrono::milliseconds defaultTimeoutMS=std::chrono::milliseconds(-1))</td></tr>
<tr class="separator:a36d7e9f959838823beec29fec0f498b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad076f7b139a169006169b5b083fb852a"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#ad076f7b139a169006169b5b083fb852a">cancelAll</a> ()</td></tr>
<tr class="separator:ad076f7b139a169006169b5b083fb852a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a130444ed020c785762134cba766e6a50"><td class="memItemLeft" align="right" valign="top">std::chrono::milliseconds&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#a130444ed020c785762134cba766e6a50">getTickInterval</a> () const </td></tr>
<tr class="separator:a130444ed020c785762134cba766e6a50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb5cca5d424a67e573fadfcbcdd627e5"><td class="memItemLeft" align="right" valign="top">std::chrono::milliseconds&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#aeb5cca5d424a67e573fadfcbcdd627e5">getDefaultTimeout</a> () const </td></tr>
<tr class="separator:aeb5cca5d424a67e573fadfcbcdd627e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50b05b8a39cf365f8653cff355c269f5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#a50b05b8a39cf365f8653cff355c269f5">setDefaultTimeout</a> (std::chrono::milliseconds timeout)</td></tr>
<tr class="separator:a50b05b8a39cf365f8653cff355c269f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4fead46bb46f5a4de978097f864c519"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#ab4fead46bb46f5a4de978097f864c519">scheduleTimeout</a> (<a class="el" href="classfolly_1_1HHWheelTimer_1_1Callback.html">Callback</a> *callback, std::chrono::milliseconds timeout)</td></tr>
<tr class="separator:ab4fead46bb46f5a4de978097f864c519"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a610da1d2277d237f9d59da762aa6c0b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#a610da1d2277d237f9d59da762aa6c0b2">scheduleTimeoutImpl</a> (<a class="el" href="classfolly_1_1HHWheelTimer_1_1Callback.html">Callback</a> *callback, std::chrono::milliseconds timeout)</td></tr>
<tr class="separator:a610da1d2277d237f9d59da762aa6c0b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9701e92a5f82e2e3220958c431d8587"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#aa9701e92a5f82e2e3220958c431d8587">scheduleTimeout</a> (<a class="el" href="classfolly_1_1HHWheelTimer_1_1Callback.html">Callback</a> *callback)</td></tr>
<tr class="separator:aa9701e92a5f82e2e3220958c431d8587"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a829c3e169599218ca09dc955c18a1b82"><td class="memTemplParams" colspan="2">template&lt;class F &gt; </td></tr>
<tr class="memitem:a829c3e169599218ca09dc955c18a1b82"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#a829c3e169599218ca09dc955c18a1b82">scheduleTimeoutFn</a> (F fn, std::chrono::milliseconds timeout)</td></tr>
<tr class="separator:a829c3e169599218ca09dc955c18a1b82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5b3869716ac7418f04c61eb71e08ae8"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#ac5b3869716ac7418f04c61eb71e08ae8">count</a> () const </td></tr>
<tr class="separator:ac5b3869716ac7418f04c61eb71e08ae8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a346f9014b1b870d8e09540c13ffd3b3a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#a346f9014b1b870d8e09540c13ffd3b3a">isDetachable</a> () const </td></tr>
<tr class="separator:a346f9014b1b870d8e09540c13ffd3b3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classfolly_1_1DelayedDestruction"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classfolly_1_1DelayedDestruction')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classfolly_1_1DelayedDestruction.html">folly::DelayedDestruction</a></td></tr>
<tr class="memitem:a6dd27b219d5af8b2a93d6c324c65e95a inherit pub_methods_classfolly_1_1DelayedDestruction"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1DelayedDestruction.html#a6dd27b219d5af8b2a93d6c324c65e95a">destroy</a> ()</td></tr>
<tr class="separator:a6dd27b219d5af8b2a93d6c324c65e95a inherit pub_methods_classfolly_1_1DelayedDestruction"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b64caadd65cdae43185e05eb4beb3fa inherit pub_methods_classfolly_1_1DelayedDestruction"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1DelayedDestruction.html#a2b64caadd65cdae43185e05eb4beb3fa">getDestroyPending</a> () const </td></tr>
<tr class="separator:a2b64caadd65cdae43185e05eb4beb3fa inherit pub_methods_classfolly_1_1DelayedDestruction"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classfolly_1_1DelayedDestructionBase"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classfolly_1_1DelayedDestructionBase')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classfolly_1_1DelayedDestructionBase.html">folly::DelayedDestructionBase</a></td></tr>
<tr class="memitem:a50c17a3675426754e89707ded8566f9f inherit pub_methods_classfolly_1_1DelayedDestructionBase"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1DelayedDestructionBase.html#a50c17a3675426754e89707ded8566f9f">~DelayedDestructionBase</a> ()=default</td></tr>
<tr class="separator:a50c17a3675426754e89707ded8566f9f inherit pub_methods_classfolly_1_1DelayedDestructionBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:aea6d48674701c93320954cb3c8edd134"><td class="memTemplParams" colspan="2">template&lt;typename... Args&gt; </td></tr>
<tr class="memitem:aea6d48674701c93320954cb3c8edd134"><td class="memTemplItemLeft" align="right" valign="top">static <a class="el" href="classfolly_1_1HHWheelTimer.html#ac5c81b3296322bb2afffde0af8a0a797">UniquePtr</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#aea6d48674701c93320954cb3c8edd134">newTimer</a> (Args &amp;&amp;...args)</td></tr>
<tr class="separator:aea6d48674701c93320954cb3c8edd134"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:ada61080053afe71f1b257cb249fb2f35"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#ada61080053afe71f1b257cb249fb2f35">DEFAULT_TICK_INTERVAL</a> = 10</td></tr>
<tr class="separator:ada61080053afe71f1b257cb249fb2f35"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a821107657e767def442730477cff0486"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#a821107657e767def442730477cff0486">~HHWheelTimer</a> () override</td></tr>
<tr class="separator:a821107657e767def442730477cff0486"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classfolly_1_1DelayedDestruction"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classfolly_1_1DelayedDestruction')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classfolly_1_1DelayedDestruction.html">folly::DelayedDestruction</a></td></tr>
<tr class="memitem:adc9a58eaf38e0e9afea76101942ae7df inherit pro_methods_classfolly_1_1DelayedDestruction"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1DelayedDestruction.html#adc9a58eaf38e0e9afea76101942ae7df">~DelayedDestruction</a> () override=default</td></tr>
<tr class="separator:adc9a58eaf38e0e9afea76101942ae7df inherit pro_methods_classfolly_1_1DelayedDestruction"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42db04c8a694b8584822371afb67012c inherit pro_methods_classfolly_1_1DelayedDestruction"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1DelayedDestruction.html#a42db04c8a694b8584822371afb67012c">DelayedDestruction</a> ()</td></tr>
<tr class="separator:a42db04c8a694b8584822371afb67012c inherit pro_methods_classfolly_1_1DelayedDestruction"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classfolly_1_1DelayedDestructionBase"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classfolly_1_1DelayedDestructionBase')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classfolly_1_1DelayedDestructionBase.html">folly::DelayedDestructionBase</a></td></tr>
<tr class="memitem:ad0257a1b700f005ee75d45ecf67abf76 inherit pro_methods_classfolly_1_1DelayedDestructionBase"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1DelayedDestructionBase.html#ad0257a1b700f005ee75d45ecf67abf76">DelayedDestructionBase</a> ()</td></tr>
<tr class="separator:ad0257a1b700f005ee75d45ecf67abf76 inherit pro_methods_classfolly_1_1DelayedDestructionBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31591f967cbdb0b071bff2880de37cb0 inherit pro_methods_classfolly_1_1DelayedDestructionBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1DelayedDestructionBase.html#a31591f967cbdb0b071bff2880de37cb0">getDestructorGuardCount</a> () const </td></tr>
<tr class="separator:a31591f967cbdb0b071bff2880de37cb0 inherit pro_methods_classfolly_1_1DelayedDestructionBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a4c630b24062c903ecff8e36bc4fb133f"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classfolly_1_1HHWheelTimer_1_1Callback.html#acb3a4ae6679b9e3647ed3593e6debec8">Callback::List</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#a4c630b24062c903ecff8e36bc4fb133f">CallbackList</a></td></tr>
<tr class="separator:a4c630b24062c903ecff8e36bc4fb133f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_types_classfolly_1_1AsyncTimeout"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classfolly_1_1AsyncTimeout')"><img src="closed.png" alt="-"/>&#160;Private Types inherited from <a class="el" href="classfolly_1_1AsyncTimeout.html">folly::AsyncTimeout</a></td></tr>
<tr class="memitem:a7dd56e9a9763da05d3090cf1f6db6d8a inherit pub_types_classfolly_1_1AsyncTimeout"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classfolly_1_1TimeoutManager.html#a91f0d834602dcb7108b525c36fe1981f">TimeoutManager::InternalEnum</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1AsyncTimeout.html#a7dd56e9a9763da05d3090cf1f6db6d8a">InternalEnum</a></td></tr>
<tr class="separator:a7dd56e9a9763da05d3090cf1f6db6d8a inherit pub_types_classfolly_1_1AsyncTimeout"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a5447642980777ca72e6b8803eccd0fb5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#a5447642980777ca72e6b8803eccd0fb5">HHWheelTimer</a> (<a class="el" href="classfolly_1_1HHWheelTimer.html">HHWheelTimer</a> const &amp;)=delete</td></tr>
<tr class="separator:a5447642980777ca72e6b8803eccd0fb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0dc0a9efa7d41484dd4dc569dd8d5df"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1HHWheelTimer.html">HHWheelTimer</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#ae0dc0a9efa7d41484dd4dc569dd8d5df">operator=</a> (<a class="el" href="classfolly_1_1HHWheelTimer.html">HHWheelTimer</a> const &amp;)=delete</td></tr>
<tr class="separator:ae0dc0a9efa7d41484dd4dc569dd8d5df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a3ffa6fd6934fa0a3e20ad93431354f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#a7a3ffa6fd6934fa0a3e20ad93431354f">timeoutExpired</a> () noexceptoverride</td></tr>
<tr class="separator:a7a3ffa6fd6934fa0a3e20ad93431354f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83d1fc3d125fca5ff1c29cda981537b7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a21214d6ef664ff09b89c1fd75fe0a042">int64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#a83d1fc3d125fca5ff1c29cda981537b7">timeToWheelTicks</a> (std::chrono::milliseconds t)</td></tr>
<tr class="separator:a83d1fc3d125fca5ff1c29cda981537b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0939329c9940246376143c9242561b97"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#a0939329c9940246376143c9242561b97">cascadeTimers</a> (int bucket, int tick)</td></tr>
<tr class="separator:a0939329c9940246376143c9242561b97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff1ad74461266cd29f238463f1c6e342"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a21214d6ef664ff09b89c1fd75fe0a042">int64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#aff1ad74461266cd29f238463f1c6e342">calcNextTick</a> ()</td></tr>
<tr class="separator:aff1ad74461266cd29f238463f1c6e342"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abef4ebd7213c8264b2ac1d4c8bd4cc5e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#abef4ebd7213c8264b2ac1d4c8bd4cc5e">scheduleNextTimeout</a> ()</td></tr>
<tr class="separator:abef4ebd7213c8264b2ac1d4c8bd4cc5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84f539ae9a10b008e58aad9d536c162f"><td class="memItemLeft" align="right" valign="top">std::chrono::steady_clock::time_point&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#a84f539ae9a10b008e58aad9d536c162f">getCurTime</a> ()</td></tr>
<tr class="separator:a84f539ae9a10b008e58aad9d536c162f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classfolly_1_1AsyncTimeout"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classfolly_1_1AsyncTimeout')"><img src="closed.png" alt="-"/>&#160;Private Member Functions inherited from <a class="el" href="classfolly_1_1AsyncTimeout.html">folly::AsyncTimeout</a></td></tr>
<tr class="memitem:a7d7ce8dfb72b109f981a8ae5a02fadba inherit pub_methods_classfolly_1_1AsyncTimeout"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1AsyncTimeout.html#a7d7ce8dfb72b109f981a8ae5a02fadba">AsyncTimeout</a> (<a class="el" href="classfolly_1_1TimeoutManager.html">TimeoutManager</a> *timeoutManager)</td></tr>
<tr class="separator:a7d7ce8dfb72b109f981a8ae5a02fadba inherit pub_methods_classfolly_1_1AsyncTimeout"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1640b0bf8f86ea47cdfd6f04bf1a4e6 inherit pub_methods_classfolly_1_1AsyncTimeout"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1AsyncTimeout.html#ac1640b0bf8f86ea47cdfd6f04bf1a4e6">AsyncTimeout</a> (<a class="el" href="classfolly_1_1EventBase.html">EventBase</a> *eventBase)</td></tr>
<tr class="separator:ac1640b0bf8f86ea47cdfd6f04bf1a4e6 inherit pub_methods_classfolly_1_1AsyncTimeout"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7431f9cd0456ddba8ebed02ec07334e inherit pub_methods_classfolly_1_1AsyncTimeout"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1AsyncTimeout.html#ae7431f9cd0456ddba8ebed02ec07334e">AsyncTimeout</a> (<a class="el" href="classfolly_1_1TimeoutManager.html">TimeoutManager</a> *timeoutManager, <a class="el" href="classfolly_1_1TimeoutManager.html#a91f0d834602dcb7108b525c36fe1981f">InternalEnum</a> internal)</td></tr>
<tr class="separator:ae7431f9cd0456ddba8ebed02ec07334e inherit pub_methods_classfolly_1_1AsyncTimeout"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9605f7dc08642d59e7166b200164b1d inherit pub_methods_classfolly_1_1AsyncTimeout"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1AsyncTimeout.html#ab9605f7dc08642d59e7166b200164b1d">AsyncTimeout</a> (<a class="el" href="classfolly_1_1EventBase.html">EventBase</a> *eventBase, <a class="el" href="classfolly_1_1TimeoutManager.html#a91f0d834602dcb7108b525c36fe1981f">InternalEnum</a> internal)</td></tr>
<tr class="separator:ab9605f7dc08642d59e7166b200164b1d inherit pub_methods_classfolly_1_1AsyncTimeout"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace419a79762be7138f585c69d0469097 inherit pub_methods_classfolly_1_1AsyncTimeout"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1AsyncTimeout.html#ace419a79762be7138f585c69d0469097">AsyncTimeout</a> ()</td></tr>
<tr class="separator:ace419a79762be7138f585c69d0469097 inherit pub_methods_classfolly_1_1AsyncTimeout"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74ef3d218d6522fc9bd129055e396324 inherit pub_methods_classfolly_1_1AsyncTimeout"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1AsyncTimeout.html#a74ef3d218d6522fc9bd129055e396324">~AsyncTimeout</a> ()</td></tr>
<tr class="separator:a74ef3d218d6522fc9bd129055e396324 inherit pub_methods_classfolly_1_1AsyncTimeout"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb0b7716adfa30f6b0fd5261094d2228 inherit pub_methods_classfolly_1_1AsyncTimeout"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1AsyncTimeout.html#acb0b7716adfa30f6b0fd5261094d2228">scheduleTimeout</a> (<a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> milliseconds)</td></tr>
<tr class="separator:acb0b7716adfa30f6b0fd5261094d2228 inherit pub_methods_classfolly_1_1AsyncTimeout"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8066553aea1349f470765710bda377e inherit pub_methods_classfolly_1_1AsyncTimeout"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1AsyncTimeout.html#af8066553aea1349f470765710bda377e">scheduleTimeout</a> (<a class="el" href="classfolly_1_1TimeoutManager.html#ad4e75200e7fa60f6d967b800edcd8001">TimeoutManager::timeout_type</a> timeout)</td></tr>
<tr class="separator:af8066553aea1349f470765710bda377e inherit pub_methods_classfolly_1_1AsyncTimeout"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2080a127e6087755e7d603883bebfd55 inherit pub_methods_classfolly_1_1AsyncTimeout"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1AsyncTimeout.html#a2080a127e6087755e7d603883bebfd55">cancelTimeout</a> ()</td></tr>
<tr class="separator:a2080a127e6087755e7d603883bebfd55 inherit pub_methods_classfolly_1_1AsyncTimeout"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47ceef409a75b2aa128fdc3dedcd9071 inherit pub_methods_classfolly_1_1AsyncTimeout"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1AsyncTimeout.html#a47ceef409a75b2aa128fdc3dedcd9071">isScheduled</a> () const </td></tr>
<tr class="separator:a47ceef409a75b2aa128fdc3dedcd9071 inherit pub_methods_classfolly_1_1AsyncTimeout"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b78e15598e7f82b00db87354d93d70c inherit pub_methods_classfolly_1_1AsyncTimeout"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1AsyncTimeout.html#a7b78e15598e7f82b00db87354d93d70c">attachTimeoutManager</a> (<a class="el" href="classfolly_1_1TimeoutManager.html">TimeoutManager</a> *timeoutManager, <a class="el" href="classfolly_1_1TimeoutManager.html#a91f0d834602dcb7108b525c36fe1981f">InternalEnum</a> internal=<a class="el" href="classfolly_1_1TimeoutManager.html#a91f0d834602dcb7108b525c36fe1981fa1e23852820b9154316c7c06e2b7ba051">InternalEnum::NORMAL</a>)</td></tr>
<tr class="separator:a7b78e15598e7f82b00db87354d93d70c inherit pub_methods_classfolly_1_1AsyncTimeout"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa227584151bac9659957db81423aaf88 inherit pub_methods_classfolly_1_1AsyncTimeout"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1AsyncTimeout.html#aa227584151bac9659957db81423aaf88">attachEventBase</a> (<a class="el" href="classfolly_1_1EventBase.html">EventBase</a> *eventBase, <a class="el" href="classfolly_1_1TimeoutManager.html#a91f0d834602dcb7108b525c36fe1981f">InternalEnum</a> internal=<a class="el" href="classfolly_1_1TimeoutManager.html#a91f0d834602dcb7108b525c36fe1981fa1e23852820b9154316c7c06e2b7ba051">InternalEnum::NORMAL</a>)</td></tr>
<tr class="separator:aa227584151bac9659957db81423aaf88 inherit pub_methods_classfolly_1_1AsyncTimeout"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00b3e4d19f5c51c2830064570702ded5 inherit pub_methods_classfolly_1_1AsyncTimeout"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1AsyncTimeout.html#a00b3e4d19f5c51c2830064570702ded5">detachTimeoutManager</a> ()</td></tr>
<tr class="separator:a00b3e4d19f5c51c2830064570702ded5 inherit pub_methods_classfolly_1_1AsyncTimeout"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bac258c7aea6d852f5651025268c28b inherit pub_methods_classfolly_1_1AsyncTimeout"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1AsyncTimeout.html#a0bac258c7aea6d852f5651025268c28b">detachEventBase</a> ()</td></tr>
<tr class="separator:a0bac258c7aea6d852f5651025268c28b inherit pub_methods_classfolly_1_1AsyncTimeout"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a698a3899741b89feb38c66b82ecadbf9 inherit pub_methods_classfolly_1_1AsyncTimeout"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classfolly_1_1TimeoutManager.html">TimeoutManager</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1AsyncTimeout.html#a698a3899741b89feb38c66b82ecadbf9">getTimeoutManager</a> ()</td></tr>
<tr class="separator:a698a3899741b89feb38c66b82ecadbf9 inherit pub_methods_classfolly_1_1AsyncTimeout"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99d8d379b527cd634c84446c1f8c1ced inherit pub_methods_classfolly_1_1AsyncTimeout"><td class="memItemLeft" align="right" valign="top">struct event *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1AsyncTimeout.html#a99d8d379b527cd634c84446c1f8c1ced">getEvent</a> ()</td></tr>
<tr class="separator:a99d8d379b527cd634c84446c1f8c1ced inherit pub_methods_classfolly_1_1AsyncTimeout"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a9410c672e8db417e02d2bac4cd64dee3"><td class="memItemLeft" align="right" valign="top">std::chrono::milliseconds&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#a9410c672e8db417e02d2bac4cd64dee3">interval_</a></td></tr>
<tr class="separator:a9410c672e8db417e02d2bac4cd64dee3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa64c38e5d2d370512c16de8562b3aae6"><td class="memItemLeft" align="right" valign="top">std::chrono::milliseconds&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#aa64c38e5d2d370512c16de8562b3aae6">defaultTimeout_</a></td></tr>
<tr class="separator:aa64c38e5d2d370512c16de8562b3aae6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a885604aafe7f40c4e689ff12badd56b2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1HHWheelTimer.html#a4c630b24062c903ecff8e36bc4fb133f">CallbackList</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#a885604aafe7f40c4e689ff12badd56b2">buckets_</a> [<a class="el" href="classfolly_1_1HHWheelTimer.html#a6c08cead3263519196896be0a99849c6">WHEEL_BUCKETS</a>][<a class="el" href="classfolly_1_1HHWheelTimer.html#a58af6ea8fc5b5765cbc263cbbdb5ee5e">WHEEL_SIZE</a>]</td></tr>
<tr class="separator:a885604aafe7f40c4e689ff12badd56b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf9eaf31de7e1f47033faea8cba75ec2"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#abf9eaf31de7e1f47033faea8cba75ec2">bitmap_</a></td></tr>
<tr class="separator:abf9eaf31de7e1f47033faea8cba75ec2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51112dd4c75ed913866c3b0c096d5a8a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a21214d6ef664ff09b89c1fd75fe0a042">int64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#a51112dd4c75ed913866c3b0c096d5a8a">lastTick_</a></td></tr>
<tr class="separator:a51112dd4c75ed913866c3b0c096d5a8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a968220cb12cf85bb2a5f29931d8ab46f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a21214d6ef664ff09b89c1fd75fe0a042">int64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#a968220cb12cf85bb2a5f29931d8ab46f">expireTick_</a></td></tr>
<tr class="separator:a968220cb12cf85bb2a5f29931d8ab46f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac49c055f3e414a6903855e8adde9db52"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#ac49c055f3e414a6903855e8adde9db52">count_</a></td></tr>
<tr class="separator:ac49c055f3e414a6903855e8adde9db52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0fbcb63efb36b4a7c00f72072787b87"><td class="memItemLeft" align="right" valign="top">std::chrono::steady_clock::time_point&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#ad0fbcb63efb36b4a7c00f72072787b87">startTime_</a></td></tr>
<tr class="separator:ad0fbcb63efb36b4a7c00f72072787b87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14f637f10cbac05b248ecacb6c364abc"><td class="memItemLeft" align="right" valign="top">bool *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#a14f637f10cbac05b248ecacb6c364abc">processingCallbacksGuard_</a></td></tr>
<tr class="separator:a14f637f10cbac05b248ecacb6c364abc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a986b9341685d4dca9b3ab74bea3dea5f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1HHWheelTimer.html#a4c630b24062c903ecff8e36bc4fb133f">CallbackList</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#a986b9341685d4dca9b3ab74bea3dea5f">timeouts</a></td></tr>
<tr class="separator:a986b9341685d4dca9b3ab74bea3dea5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a6c08cead3263519196896be0a99849c6"><td class="memItemLeft" align="right" valign="top">static constexpr int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#a6c08cead3263519196896be0a99849c6">WHEEL_BUCKETS</a> = 4</td></tr>
<tr class="separator:a6c08cead3263519196896be0a99849c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3869d970568daa01e71f2f848052f8e8"><td class="memItemLeft" align="right" valign="top">static constexpr int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#a3869d970568daa01e71f2f848052f8e8">WHEEL_BITS</a> = 8</td></tr>
<tr class="separator:a3869d970568daa01e71f2f848052f8e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58af6ea8fc5b5765cbc263cbbdb5ee5e"><td class="memItemLeft" align="right" valign="top">static constexpr unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#a58af6ea8fc5b5765cbc263cbbdb5ee5e">WHEEL_SIZE</a> = (1 &lt;&lt; <a class="el" href="classfolly_1_1HHWheelTimer.html#a3869d970568daa01e71f2f848052f8e8">WHEEL_BITS</a>)</td></tr>
<tr class="separator:a58af6ea8fc5b5765cbc263cbbdb5ee5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6272688cb667dcd2a5cf17502b54ec5f"><td class="memItemLeft" align="right" valign="top">static constexpr unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#a6272688cb667dcd2a5cf17502b54ec5f">WHEEL_MASK</a> = (<a class="el" href="classfolly_1_1HHWheelTimer.html#a58af6ea8fc5b5765cbc263cbbdb5ee5e">WHEEL_SIZE</a> - 1)</td></tr>
<tr class="separator:a6272688cb667dcd2a5cf17502b54ec5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83a41fea54299fef6c20779b118e1e02"><td class="memItemLeft" align="right" valign="top">static constexpr <a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1HHWheelTimer.html#a83a41fea54299fef6c20779b118e1e02">LARGEST_SLOT</a> = 0xffffffffUL</td></tr>
<tr class="separator:a83a41fea54299fef6c20779b118e1e02"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_methods_classfolly_1_1AsyncTimeout"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classfolly_1_1AsyncTimeout')"><img src="closed.png" alt="-"/>&#160;Static Private Member Functions inherited from <a class="el" href="classfolly_1_1AsyncTimeout.html">folly::AsyncTimeout</a></td></tr>
<tr class="memitem:adc13514143c59c219ce704f27cc53e30 inherit pub_static_methods_classfolly_1_1AsyncTimeout"><td class="memTemplParams" colspan="2">template&lt;typename TCallback &gt; </td></tr>
<tr class="memitem:adc13514143c59c219ce704f27cc53e30 inherit pub_static_methods_classfolly_1_1AsyncTimeout"><td class="memTemplItemLeft" align="right" valign="top">static std::unique_ptr&lt; <a class="el" href="classfolly_1_1AsyncTimeout.html">AsyncTimeout</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1AsyncTimeout.html#adc13514143c59c219ce704f27cc53e30">make</a> (<a class="el" href="classfolly_1_1TimeoutManager.html">TimeoutManager</a> &amp;manager, TCallback &amp;&amp;callback)</td></tr>
<tr class="separator:adc13514143c59c219ce704f27cc53e30 inherit pub_static_methods_classfolly_1_1AsyncTimeout"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7a8fe5cc1758ee0efcc871c5df36683 inherit pub_static_methods_classfolly_1_1AsyncTimeout"><td class="memTemplParams" colspan="2">template&lt;typename TCallback &gt; </td></tr>
<tr class="memitem:ac7a8fe5cc1758ee0efcc871c5df36683 inherit pub_static_methods_classfolly_1_1AsyncTimeout"><td class="memTemplItemLeft" align="right" valign="top">static std::unique_ptr&lt; <a class="el" href="classfolly_1_1AsyncTimeout.html">AsyncTimeout</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1AsyncTimeout.html#ac7a8fe5cc1758ee0efcc871c5df36683">schedule</a> (<a class="el" href="classfolly_1_1TimeoutManager.html#ad4e75200e7fa60f6d967b800edcd8001">TimeoutManager::timeout_type</a> timeout, <a class="el" href="classfolly_1_1TimeoutManager.html">TimeoutManager</a> &amp;manager, TCallback &amp;&amp;callback)</td></tr>
<tr class="separator:ac7a8fe5cc1758ee0efcc871c5df36683 inherit pub_static_methods_classfolly_1_1AsyncTimeout"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Hashed Hierarchical Wheel Timer</p>
<p>We model timers as the number of ticks until the next due event. We allow 32-bits of space to track this due interval, and break that into 4 regions of 8 bits. Each region indexes into a bucket of 256 lists.</p>
<p>Bucket 0 represents those events that are due the soonest. Each tick causes us to look at the next list in a bucket. The 0th list in a bucket is special; it means that it is time to flush the timers from the next higher bucket and schedule them into a different bucket.</p>
<p>This technique results in a very cheap mechanism for maintaining time and timers.</p>
<p>Unlike the original timer wheel paper, this implementation does <em>not</em> tick constantly, and instead calculates the exact next wakeup time. </p>

<p>Definition at line <a class="el" href="HHWheelTimer_8h_source.html#l00054">54</a> of file <a class="el" href="HHWheelTimer_8h_source.html">HHWheelTimer.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a4c630b24062c903ecff8e36bc4fb133f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classfolly_1_1HHWheelTimer_1_1Callback.html#acb3a4ae6679b9e3647ed3593e6debec8">Callback::List</a> <a class="el" href="classfolly_1_1HHWheelTimer.html#a4c630b24062c903ecff8e36bc4fb133f">folly::HHWheelTimer::CallbackList</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="HHWheelTimer_8h_source.html#l00290">290</a> of file <a class="el" href="HHWheelTimer_8h_source.html">HHWheelTimer.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3b321b175c8194645ddbbec998c86e9c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classfolly_1_1HHWheelTimer.html#a3b321b175c8194645ddbbec998c86e9c">folly::HHWheelTimer::SharedPtr</a> =  std::shared_ptr&lt;<a class="el" href="classfolly_1_1HHWheelTimer.html">HHWheelTimer</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="HHWheelTimer_8h_source.html#l00058">58</a> of file <a class="el" href="HHWheelTimer_8h_source.html">HHWheelTimer.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac5c81b3296322bb2afffde0af8a0a797"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classfolly_1_1HHWheelTimer.html#ac5c81b3296322bb2afffde0af8a0a797">folly::HHWheelTimer::UniquePtr</a> =  std::unique_ptr&lt;<a class="el" href="classfolly_1_1HHWheelTimer.html">HHWheelTimer</a>, <a class="el" href="classfolly_1_1DelayedDestruction_1_1Destructor.html">Destructor</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="HHWheelTimer_8h_source.html#l00057">57</a> of file <a class="el" href="HHWheelTimer_8h_source.html">HHWheelTimer.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a36d7e9f959838823beec29fec0f498b8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">folly::HHWheelTimer::HHWheelTimer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1TimeoutManager.html">folly::TimeoutManager</a> *&#160;</td>
          <td class="paramname"><em>timeoutManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::chrono::milliseconds&#160;</td>
          <td class="paramname"><em>intervalMS</em> = <code>std::chrono::milliseconds(<a class="el" href="classfolly_1_1HHWheelTimer.html#ada61080053afe71f1b257cb249fb2f35">DEFAULT_TICK_INTERVAL</a>)</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfolly_1_1TimeoutManager.html#a91f0d834602dcb7108b525c36fe1981f">AsyncTimeout::InternalEnum</a>&#160;</td>
          <td class="paramname"><em>internal</em> = <code><a class="el" href="classfolly_1_1TimeoutManager.html#a91f0d834602dcb7108b525c36fe1981fa1e23852820b9154316c7c06e2b7ba051">AsyncTimeout::InternalEnum::NORMAL</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::chrono::milliseconds&#160;</td>
          <td class="paramname"><em>defaultTimeoutMS</em> = <code>std::chrono::milliseconds(-1)</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="HHWheelTimer_8cpp_source.html#l00078">78</a> of file <a class="el" href="HHWheelTimer_8cpp_source.html">HHWheelTimer.cpp</a>.</p>

<p>References <a class="el" href="HHWheelTimer_8h_source.html#l00292">bitmap_</a>, and <a class="el" href="HHWheelTimer_8h_source.html#l00286">WHEEL_SIZE</a>.</p>

<p>Referenced by <a class="el" href="HHWheelTimer_8h_source.html#l00061">newTimer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    : <a class="code" href="classfolly_1_1AsyncTimeout.html#ace419a79762be7138f585c69d0469097">AsyncTimeout</a>(timeoutMananger, <span class="keyword">internal</span>),</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;      <a class="code" href="classfolly_1_1HHWheelTimer.html#a9410c672e8db417e02d2bac4cd64dee3">interval_</a>(intervalMS),</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;      <a class="code" href="classfolly_1_1HHWheelTimer.html#aa64c38e5d2d370512c16de8562b3aae6">defaultTimeout_</a>(defaultTimeoutMS),</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;      <a class="code" href="classfolly_1_1HHWheelTimer.html#a51112dd4c75ed913866c3b0c096d5a8a">lastTick_</a>(1),</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;      <a class="code" href="classfolly_1_1HHWheelTimer.html#a968220cb12cf85bb2a5f29931d8ab46f">expireTick_</a>(1),</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      <a class="code" href="classfolly_1_1HHWheelTimer.html#ac49c055f3e414a6903855e8adde9db52">count_</a>(0),</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      <a class="code" href="classfolly_1_1HHWheelTimer.html#ad0fbcb63efb36b4a7c00f72072787b87">startTime_</a>(<a class="code" href="classfolly_1_1HHWheelTimer.html#a84f539ae9a10b008e58aad9d536c162f">getCurTime</a>()),</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;      <a class="code" href="classfolly_1_1HHWheelTimer.html#a14f637f10cbac05b248ecacb6c364abc">processingCallbacksGuard_</a>(<span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <a class="code" href="classfolly_1_1HHWheelTimer.html#abf9eaf31de7e1f47033faea8cba75ec2">bitmap_</a>.resize((<a class="code" href="classfolly_1_1HHWheelTimer.html#a58af6ea8fc5b5765cbc263cbbdb5ee5e">WHEEL_SIZE</a> / <span class="keyword">sizeof</span>(std::size_t)) / 8, 0);</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;}</div><div class="ttc" id="classfolly_1_1AsyncTimeout_html_ace419a79762be7138f585c69d0469097"><div class="ttname"><a href="classfolly_1_1AsyncTimeout.html#ace419a79762be7138f585c69d0469097">folly::AsyncTimeout::AsyncTimeout</a></div><div class="ttdeci">AsyncTimeout()</div><div class="ttdef"><b>Definition:</b> <a href="AsyncTimeout_8cpp_source.html#l00064">AsyncTimeout.cpp:64</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_abf9eaf31de7e1f47033faea8cba75ec2"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#abf9eaf31de7e1f47033faea8cba75ec2">folly::HHWheelTimer::bitmap_</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; bitmap_</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00292">HHWheelTimer.h:292</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_ad0fbcb63efb36b4a7c00f72072787b87"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#ad0fbcb63efb36b4a7c00f72072787b87">folly::HHWheelTimer::startTime_</a></div><div class="ttdeci">std::chrono::steady_clock::time_point startTime_</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00302">HHWheelTimer.h:302</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_a51112dd4c75ed913866c3b0c096d5a8a"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a51112dd4c75ed913866c3b0c096d5a8a">folly::HHWheelTimer::lastTick_</a></div><div class="ttdeci">int64_t lastTick_</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00299">HHWheelTimer.h:299</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_a968220cb12cf85bb2a5f29931d8ab46f"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a968220cb12cf85bb2a5f29931d8ab46f">folly::HHWheelTimer::expireTick_</a></div><div class="ttdeci">int64_t expireTick_</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00300">HHWheelTimer.h:300</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_a58af6ea8fc5b5765cbc263cbbdb5ee5e"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a58af6ea8fc5b5765cbc263cbbdb5ee5e">folly::HHWheelTimer::WHEEL_SIZE</a></div><div class="ttdeci">static constexpr unsigned int WHEEL_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00286">HHWheelTimer.h:286</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_a14f637f10cbac05b248ecacb6c364abc"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a14f637f10cbac05b248ecacb6c364abc">folly::HHWheelTimer::processingCallbacksGuard_</a></div><div class="ttdeci">bool * processingCallbacksGuard_</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00308">HHWheelTimer.h:308</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_aa64c38e5d2d370512c16de8562b3aae6"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#aa64c38e5d2d370512c16de8562b3aae6">folly::HHWheelTimer::defaultTimeout_</a></div><div class="ttdeci">std::chrono::milliseconds defaultTimeout_</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00282">HHWheelTimer.h:282</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_ac49c055f3e414a6903855e8adde9db52"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#ac49c055f3e414a6903855e8adde9db52">folly::HHWheelTimer::count_</a></div><div class="ttdeci">std::size_t count_</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00301">HHWheelTimer.h:301</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_a9410c672e8db417e02d2bac4cd64dee3"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a9410c672e8db417e02d2bac4cd64dee3">folly::HHWheelTimer::interval_</a></div><div class="ttdeci">std::chrono::milliseconds interval_</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00281">HHWheelTimer.h:281</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_a84f539ae9a10b008e58aad9d536c162f"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a84f539ae9a10b008e58aad9d536c162f">folly::HHWheelTimer::getCurTime</a></div><div class="ttdeci">std::chrono::steady_clock::time_point getCurTime()</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00311">HHWheelTimer.h:311</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a821107657e767def442730477cff0486"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">folly::HHWheelTimer::~HHWheelTimer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Protected destructor.</p>
<p>Use <a class="el" href="classfolly_1_1DelayedDestruction.html#a6dd27b219d5af8b2a93d6c324c65e95a">destroy()</a> instead. See the comments in <a class="el" href="classfolly_1_1DelayedDestruction.html">DelayedDestruction</a> for more details. </p>

<p>Definition at line <a class="el" href="HHWheelTimer_8cpp_source.html#l00094">94</a> of file <a class="el" href="HHWheelTimer_8cpp_source.html">HHWheelTimer.cpp</a>.</p>

<p>References <a class="el" href="HHWheelTimer_8cpp_source.html#l00247">cancelAll()</a>, <a class="el" href="ScopeGuard_8h_source.html#l00184">folly::makeGuard()</a>, <a class="el" href="HHWheelTimer_8h_source.html#l00308">processingCallbacksGuard_</a>, and <a class="el" href="HHWheelTimer_8h_source.html#l00309">timeouts</a>.</p>

<p>Referenced by <a class="el" href="HHWheelTimer_8h_source.html#l00256">isDetachable()</a>.</p>
<div class="fragment"><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                            {</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="comment">// Ensure this gets done, but right before destruction finishes.</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="keyword">auto</span> destructionPublisherGuard = <a class="code" href="namespacefolly.html#a507704cb8cb20963bc6ef5a2f871ab2a">folly::makeGuard</a>([&amp;] {</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="comment">// Inform the subscriber that this instance is doomed.</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1HHWheelTimer.html#a14f637f10cbac05b248ecacb6c364abc">processingCallbacksGuard_</a>) {</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      *<a class="code" href="classfolly_1_1HHWheelTimer.html#a14f637f10cbac05b248ecacb6c364abc">processingCallbacksGuard_</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    }</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  });</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="keywordflow">while</span> (!<a class="code" href="classfolly_1_1HHWheelTimer.html#a986b9341685d4dca9b3ab74bea3dea5f">timeouts</a>.empty()) {</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keyword">auto</span>* cb = &amp;<a class="code" href="classfolly_1_1HHWheelTimer.html#a986b9341685d4dca9b3ab74bea3dea5f">timeouts</a>.front();</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <a class="code" href="classfolly_1_1HHWheelTimer.html#a986b9341685d4dca9b3ab74bea3dea5f">timeouts</a>.pop_front();</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    cb-&gt;cancelTimeout();</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    cb-&gt;callbackCanceled();</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  }</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <a class="code" href="classfolly_1_1HHWheelTimer.html#ad076f7b139a169006169b5b083fb852a">cancelAll</a>();</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;}</div><div class="ttc" id="classfolly_1_1HHWheelTimer_html_a14f637f10cbac05b248ecacb6c364abc"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a14f637f10cbac05b248ecacb6c364abc">folly::HHWheelTimer::processingCallbacksGuard_</a></div><div class="ttdeci">bool * processingCallbacksGuard_</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00308">HHWheelTimer.h:308</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_a986b9341685d4dca9b3ab74bea3dea5f"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a986b9341685d4dca9b3ab74bea3dea5f">folly::HHWheelTimer::timeouts</a></div><div class="ttdeci">CallbackList timeouts</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00309">HHWheelTimer.h:309</a></div></div>
<div class="ttc" id="namespacefolly_html_a507704cb8cb20963bc6ef5a2f871ab2a"><div class="ttname"><a href="namespacefolly.html#a507704cb8cb20963bc6ef5a2f871ab2a">folly::makeGuard</a></div><div class="ttdeci">FOLLY_NODISCARD detail::ScopeGuardImplDecay&lt; F, true &gt; makeGuard(F &amp;&amp;f) noexcept(noexcept(detail::ScopeGuardImplDecay&lt; F, true &gt;(static_cast&lt; F &amp;&amp; &gt;(f))))</div><div class="ttdef"><b>Definition:</b> <a href="ScopeGuard_8h_source.html#l00184">ScopeGuard.h:184</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_ad076f7b139a169006169b5b083fb852a"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#ad076f7b139a169006169b5b083fb852a">folly::HHWheelTimer::cancelAll</a></div><div class="ttdeci">size_t cancelAll()</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8cpp_source.html#l00247">HHWheelTimer.cpp:247</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5447642980777ca72e6b8803eccd0fb5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">folly::HHWheelTimer::HHWheelTimer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1HHWheelTimer.html">HHWheelTimer</a> const &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aff1ad74461266cd29f238463f1c6e342"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a21214d6ef664ff09b89c1fd75fe0a042">int64_t</a> folly::HHWheelTimer::calcNextTick </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="HHWheelTimer_8cpp_source.html#l00307">307</a> of file <a class="el" href="HHWheelTimer_8cpp_source.html">HHWheelTimer.cpp</a>.</p>

<p>References <a class="el" href="HHWheelTimer_8h_source.html#l00311">getCurTime()</a>, <a class="el" href="HHWheelTimer_8h_source.html#l00281">interval_</a>, <a class="el" href="HHWheelTimer_8h_source.html#l00299">lastTick_</a>, <a class="el" href="HHWheelTimer_8h_source.html#l00308">processingCallbacksGuard_</a>, and <a class="el" href="HHWheelTimer_8h_source.html#l00302">startTime_</a>.</p>

<p>Referenced by <a class="el" href="HHWheelTimer_8cpp_source.html#l00281">scheduleNextTimeout()</a>, <a class="el" href="HHWheelTimer_8cpp_source.html#l00111">scheduleTimeoutImpl()</a>, and <a class="el" href="HHWheelTimer_8cpp_source.html#l00184">timeoutExpired()</a>.</p>
<div class="fragment"><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                                   {</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="keyword">auto</span> intervals = (<a class="code" href="classfolly_1_1HHWheelTimer.html#a84f539ae9a10b008e58aad9d536c162f">getCurTime</a>() - <a class="code" href="classfolly_1_1HHWheelTimer.html#ad0fbcb63efb36b4a7c00f72072787b87">startTime_</a>) / <a class="code" href="classfolly_1_1HHWheelTimer.html#a9410c672e8db417e02d2bac4cd64dee3">interval_</a>;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="comment">// Slow eventbases will have skew between the actual time and the</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="comment">// callback time.  To avoid racing the next scheduleNextTimeout()</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="comment">// call, always schedule new timeouts against the actual</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="comment">// timeoutExpired() time.</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classfolly_1_1HHWheelTimer.html#a14f637f10cbac05b248ecacb6c364abc">processingCallbacksGuard_</a>) {</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keywordflow">return</span> intervals;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1HHWheelTimer.html#a51112dd4c75ed913866c3b0c096d5a8a">lastTick_</a>;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  }</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;}</div><div class="ttc" id="classfolly_1_1HHWheelTimer_html_ad0fbcb63efb36b4a7c00f72072787b87"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#ad0fbcb63efb36b4a7c00f72072787b87">folly::HHWheelTimer::startTime_</a></div><div class="ttdeci">std::chrono::steady_clock::time_point startTime_</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00302">HHWheelTimer.h:302</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_a51112dd4c75ed913866c3b0c096d5a8a"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a51112dd4c75ed913866c3b0c096d5a8a">folly::HHWheelTimer::lastTick_</a></div><div class="ttdeci">int64_t lastTick_</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00299">HHWheelTimer.h:299</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_a14f637f10cbac05b248ecacb6c364abc"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a14f637f10cbac05b248ecacb6c364abc">folly::HHWheelTimer::processingCallbacksGuard_</a></div><div class="ttdeci">bool * processingCallbacksGuard_</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00308">HHWheelTimer.h:308</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_a9410c672e8db417e02d2bac4cd64dee3"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a9410c672e8db417e02d2bac4cd64dee3">folly::HHWheelTimer::interval_</a></div><div class="ttdeci">std::chrono::milliseconds interval_</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00281">HHWheelTimer.h:281</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_a84f539ae9a10b008e58aad9d536c162f"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a84f539ae9a10b008e58aad9d536c162f">folly::HHWheelTimer::getCurTime</a></div><div class="ttdeci">std::chrono::steady_clock::time_point getCurTime()</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00311">HHWheelTimer.h:311</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad076f7b139a169006169b5b083fb852a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t folly::HHWheelTimer::cancelAll </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Cancel all outstanding timeouts</p>
<dl class="section return"><dt>Returns</dt><dd>the number of timeouts that were cancelled. </dd></dl>

<p>Definition at line <a class="el" href="HHWheelTimer_8cpp_source.html#l00247">247</a> of file <a class="el" href="HHWheelTimer_8cpp_source.html">HHWheelTimer.cpp</a>.</p>

<p>References <a class="el" href="HHWheelTimer_8h_source.html#l00291">buckets_</a>, <a class="el" href="HHWheelTimer_8h_source.html#l00252">count()</a>, <a class="el" href="HHWheelTimer_8h_source.html#l00301">count_</a>, <a class="el" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt_source.html#l00083">i</a>, <a class="el" href="LogLevel_8cpp_source.html#l00030">min</a>, <a class="el" href="F14TestUtil_8h_source.html#l00414">folly::f14::swap()</a>, <a class="el" href="HHWheelTimer_8h_source.html#l00284">WHEEL_BUCKETS</a>, and <a class="el" href="HHWheelTimer_8h_source.html#l00286">WHEEL_SIZE</a>.</p>

<p>Referenced by <a class="el" href="HHWheelTimerTest_8cpp_source.html#l00400">TEST_F()</a>, and <a class="el" href="HHWheelTimer_8cpp_source.html#l00094">~HHWheelTimer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                               {</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classfolly_1_1HHWheelTimer.html#ac5b3869716ac7418f04c61eb71e08ae8">count</a> = 0;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1HHWheelTimer.html#ac49c055f3e414a6903855e8adde9db52">count_</a> != 0) {</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keyword">const</span> std::size_t numElements = <a class="code" href="classfolly_1_1HHWheelTimer.html#a6c08cead3263519196896be0a99849c6">WHEEL_BUCKETS</a> * <a class="code" href="classfolly_1_1HHWheelTimer.html#a58af6ea8fc5b5765cbc263cbbdb5ee5e">WHEEL_SIZE</a>;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keyword">auto</span> maxBuckets = <a class="code" href="LogLevel_8cpp.html#a7361901234703a521a82885405734c53">std::min</a>(numElements, <a class="code" href="classfolly_1_1HHWheelTimer.html#ac49c055f3e414a6903855e8adde9db52">count_</a>);</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keyword">auto</span> buckets = std::make_unique&lt;CallbackList[]&gt;(maxBuckets);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordtype">size_t</span> countBuckets = 0;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; tick : <a class="code" href="classfolly_1_1HHWheelTimer.html#a885604aafe7f40c4e689ff12badd56b2">buckets_</a>) {</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; bucket : tick) {</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="keywordflow">if</span> (bucket.empty()) {</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        }</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        count += bucket.size();</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <a class="code" href="namespacefolly_1_1f14.html#a20b1454bd115690f6bccf4b9121f2b38">std::swap</a>(bucket, buckets[countBuckets++]);</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="keywordflow">if</span> (count &gt;= <a class="code" href="classfolly_1_1HHWheelTimer.html#ac49c055f3e414a6903855e8adde9db52">count_</a>) {</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        }</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      }</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    }</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> = 0; <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> &lt; countBuckets; ++<a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      <span class="keyword">auto</span>&amp; bucket = buckets[<a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>];</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      <span class="keywordflow">while</span> (!bucket.empty()) {</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <span class="keyword">auto</span>&amp; cb = bucket.front();</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        cb.cancelTimeout();</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        cb.callbackCanceled();</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      }</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    }</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  }</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1HHWheelTimer.html#ac5b3869716ac7418f04c61eb71e08ae8">count</a>;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;}</div><div class="ttc" id="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt_html_a7e98b8a17c0aad30ba64d47b74e2a6c1"><div class="ttname"><a href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt_source.html#l00083">gtest_output_test_golden_lin.txt:83</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_a6c08cead3263519196896be0a99849c6"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a6c08cead3263519196896be0a99849c6">folly::HHWheelTimer::WHEEL_BUCKETS</a></div><div class="ttdeci">static constexpr int WHEEL_BUCKETS</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00284">HHWheelTimer.h:284</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_a885604aafe7f40c4e689ff12badd56b2"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a885604aafe7f40c4e689ff12badd56b2">folly::HHWheelTimer::buckets_</a></div><div class="ttdeci">CallbackList buckets_[WHEEL_BUCKETS][WHEEL_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00291">HHWheelTimer.h:291</a></div></div>
<div class="ttc" id="LogLevel_8cpp_html_a7361901234703a521a82885405734c53"><div class="ttname"><a href="LogLevel_8cpp.html#a7361901234703a521a82885405734c53">min</a></div><div class="ttdeci">LogLevel min</div><div class="ttdef"><b>Definition:</b> <a href="LogLevel_8cpp_source.html#l00030">LogLevel.cpp:30</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_a58af6ea8fc5b5765cbc263cbbdb5ee5e"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a58af6ea8fc5b5765cbc263cbbdb5ee5e">folly::HHWheelTimer::WHEEL_SIZE</a></div><div class="ttdeci">static constexpr unsigned int WHEEL_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00286">HHWheelTimer.h:286</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_ac5b3869716ac7418f04c61eb71e08ae8"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#ac5b3869716ac7418f04c61eb71e08ae8">folly::HHWheelTimer::count</a></div><div class="ttdeci">std::size_t count() const </div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00252">HHWheelTimer.h:252</a></div></div>
<div class="ttc" id="namespacefolly_1_1f14_html_a20b1454bd115690f6bccf4b9121f2b38"><div class="ttname"><a href="namespacefolly_1_1f14.html#a20b1454bd115690f6bccf4b9121f2b38">folly::f14::swap</a></div><div class="ttdeci">void swap(SwapTrackingAlloc&lt; T &gt; &amp;, SwapTrackingAlloc&lt; T &gt; &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="F14TestUtil_8h_source.html#l00414">F14TestUtil.h:414</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_ac49c055f3e414a6903855e8adde9db52"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#ac49c055f3e414a6903855e8adde9db52">folly::HHWheelTimer::count_</a></div><div class="ttdeci">std::size_t count_</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00301">HHWheelTimer.h:301</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0939329c9940246376143c9242561b97"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::HHWheelTimer::cascadeTimers </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bucket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tick</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="HHWheelTimer_8cpp_source.html#l00171">171</a> of file <a class="el" href="HHWheelTimer_8cpp_source.html">HHWheelTimer.cpp</a>.</p>

<p>References <a class="el" href="HHWheelTimer_8h_source.html#l00291">buckets_</a>, <a class="el" href="HHWheelTimer_8h_source.html#l00311">getCurTime()</a>, and <a class="el" href="HHWheelTimer_8cpp_source.html#l00111">scheduleTimeoutImpl()</a>.</p>

<p>Referenced by <a class="el" href="HHWheelTimer_8cpp_source.html#l00184">timeoutExpired()</a>, and <a class="el" href="HHWheelTimer_8h_source.html#l00294">timeToWheelTicks()</a>.</p>
<div class="fragment"><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                                                     {</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <a class="code" href="classfolly_1_1HHWheelTimer.html#a4c630b24062c903ecff8e36bc4fb133f">CallbackList</a> cbs;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  cbs.swap(<a class="code" href="classfolly_1_1HHWheelTimer.html#a885604aafe7f40c4e689ff12badd56b2">buckets_</a>[bucket][tick]);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="keywordflow">while</span> (!cbs.empty()) {</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keyword">auto</span>* cb = &amp;cbs.front();</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    cbs.pop_front();</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <a class="code" href="classfolly_1_1HHWheelTimer.html#a610da1d2277d237f9d59da762aa6c0b2">scheduleTimeoutImpl</a>(cb, cb-&gt;getTimeRemaining(<a class="code" href="classfolly_1_1HHWheelTimer.html#a84f539ae9a10b008e58aad9d536c162f">getCurTime</a>()));</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  }</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <span class="comment">// If tick is zero, timeoutExpired will cascade the next bucket.</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="keywordflow">return</span> tick == 0;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;}</div><div class="ttc" id="classfolly_1_1HHWheelTimer_html_a885604aafe7f40c4e689ff12badd56b2"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a885604aafe7f40c4e689ff12badd56b2">folly::HHWheelTimer::buckets_</a></div><div class="ttdeci">CallbackList buckets_[WHEEL_BUCKETS][WHEEL_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00291">HHWheelTimer.h:291</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_a610da1d2277d237f9d59da762aa6c0b2"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a610da1d2277d237f9d59da762aa6c0b2">folly::HHWheelTimer::scheduleTimeoutImpl</a></div><div class="ttdeci">void scheduleTimeoutImpl(Callback *callback, std::chrono::milliseconds timeout)</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8cpp_source.html#l00111">HHWheelTimer.cpp:111</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_a4c630b24062c903ecff8e36bc4fb133f"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a4c630b24062c903ecff8e36bc4fb133f">folly::HHWheelTimer::CallbackList</a></div><div class="ttdeci">Callback::List CallbackList</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00290">HHWheelTimer.h:290</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_a84f539ae9a10b008e58aad9d536c162f"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a84f539ae9a10b008e58aad9d536c162f">folly::HHWheelTimer::getCurTime</a></div><div class="ttdeci">std::chrono::steady_clock::time_point getCurTime()</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00311">HHWheelTimer.h:311</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac5b3869716ac7418f04c61eb71e08ae8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t folly::HHWheelTimer::count </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the number of currently pending timeouts </p>

<p>Definition at line <a class="el" href="HHWheelTimer_8h_source.html#l00252">252</a> of file <a class="el" href="HHWheelTimer_8h_source.html">HHWheelTimer.h</a>.</p>

<p>References <a class="el" href="HHWheelTimer_8h_source.html#l00301">count_</a>.</p>

<p>Referenced by <a class="el" href="HHWheelTimer_8cpp_source.html#l00247">cancelAll()</a>, and <a class="el" href="HHWheelTimerSlowTests_8cpp_source.html#l00069">TEST_F()</a>.</p>
<div class="fragment"><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                          {</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1HHWheelTimer.html#ac49c055f3e414a6903855e8adde9db52">count_</a>;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  }</div><div class="ttc" id="classfolly_1_1HHWheelTimer_html_ac49c055f3e414a6903855e8adde9db52"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#ac49c055f3e414a6903855e8adde9db52">folly::HHWheelTimer::count_</a></div><div class="ttdeci">std::size_t count_</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00301">HHWheelTimer.h:301</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a84f539ae9a10b008e58aad9d536c162f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::chrono::steady_clock::time_point folly::HHWheelTimer::getCurTime </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="HHWheelTimer_8h_source.html#l00311">311</a> of file <a class="el" href="HHWheelTimer_8h_source.html">HHWheelTimer.h</a>.</p>

<p>References <a class="el" href="TimekeeperTest_8cpp_source.html#l00031">now()</a>.</p>

<p>Referenced by <a class="el" href="HHWheelTimer_8cpp_source.html#l00307">calcNextTick()</a>, and <a class="el" href="HHWheelTimer_8cpp_source.html#l00171">cascadeTimers()</a>.</p>
<div class="fragment"><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                                               {</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="TimekeeperTest_8cpp.html#a562b4baa36dcf267f35a4ba4e0aef329">std::chrono::steady_clock::now</a>();</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  }</div><div class="ttc" id="TimekeeperTest_8cpp_html_a562b4baa36dcf267f35a4ba4e0aef329"><div class="ttname"><a href="TimekeeperTest_8cpp.html#a562b4baa36dcf267f35a4ba4e0aef329">now</a></div><div class="ttdeci">std::chrono::steady_clock::time_point now()</div><div class="ttdef"><b>Definition:</b> <a href="TimekeeperTest_8cpp_source.html#l00031">TimekeeperTest.cpp:31</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aeb5cca5d424a67e573fadfcbcdd627e5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::chrono::milliseconds folly::HHWheelTimer::getDefaultTimeout </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the default timeout interval for this <a class="el" href="classfolly_1_1HHWheelTimer.html">HHWheelTimer</a>.</p>
<p>Returns the timeout interval in milliseconds. </p>

<p>Definition at line <a class="el" href="HHWheelTimer_8h_source.html#l00193">193</a> of file <a class="el" href="HHWheelTimer_8h_source.html">HHWheelTimer.h</a>.</p>

<p>References <a class="el" href="HHWheelTimer_8h_source.html#l00282">defaultTimeout_</a>.</p>

<p>Referenced by <a class="el" href="HHWheelTimerTest_8cpp_source.html#l00129">TEST_F()</a>, and <a class="el" href="WheelTimerInstance_8cpp_source.html#l00022">proxygen::WheelTimerInstance::WheelTimerInstance()</a>.</p>
<div class="fragment"><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                                                  {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1HHWheelTimer.html#aa64c38e5d2d370512c16de8562b3aae6">defaultTimeout_</a>;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  }</div><div class="ttc" id="classfolly_1_1HHWheelTimer_html_aa64c38e5d2d370512c16de8562b3aae6"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#aa64c38e5d2d370512c16de8562b3aae6">folly::HHWheelTimer::defaultTimeout_</a></div><div class="ttdeci">std::chrono::milliseconds defaultTimeout_</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00282">HHWheelTimer.h:282</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a130444ed020c785762134cba766e6a50"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::chrono::milliseconds folly::HHWheelTimer::getTickInterval </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the tick interval for this <a class="el" href="classfolly_1_1HHWheelTimer.html">HHWheelTimer</a>.</p>
<p>Returns the tick interval in milliseconds. </p>

<p>Definition at line <a class="el" href="HHWheelTimer_8h_source.html#l00184">184</a> of file <a class="el" href="HHWheelTimer_8h_source.html">HHWheelTimer.h</a>.</p>

<p>References <a class="el" href="HHWheelTimer_8h_source.html#l00281">interval_</a>.</p>
<div class="fragment"><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                                                {</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1HHWheelTimer.html#a9410c672e8db417e02d2bac4cd64dee3">interval_</a>;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  }</div><div class="ttc" id="classfolly_1_1HHWheelTimer_html_a9410c672e8db417e02d2bac4cd64dee3"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a9410c672e8db417e02d2bac4cd64dee3">folly::HHWheelTimer::interval_</a></div><div class="ttdeci">std::chrono::milliseconds interval_</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00281">HHWheelTimer.h:281</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a346f9014b1b870d8e09540c13ffd3b3a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::HHWheelTimer::isDetachable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="HHWheelTimer_8h_source.html#l00256">256</a> of file <a class="el" href="HHWheelTimer_8h_source.html">HHWheelTimer.h</a>.</p>

<p>References <a class="el" href="AsyncTimeout_8cpp_source.html#l00106">folly::AsyncTimeout::attachEventBase()</a>, <a class="el" href="AsyncTimeout_8cpp_source.html#l00126">folly::AsyncTimeout::detachEventBase()</a>, <a class="el" href="AsyncTimeout_8h_source.html#l00143">folly::AsyncTimeout::getTimeoutManager()</a>, <a class="el" href="HHWheelTimer_8h_source.html#l00151">folly::HHWheelTimer::Callback::HHWheelTimer</a>, <a class="el" href="AsyncTimeout_8cpp_source.html#l00091">folly::AsyncTimeout::isScheduled()</a>, <a class="el" href="extension__points_8h_source.html#l00040">folly::pushmi::__adl::noexcept()</a>, <a class="el" href="classfolly_1_1HHWheelTimer.html#ae0dc0a9efa7d41484dd4dc569dd8d5df">operator=()</a>, <a class="el" href="classfolly_1_1HHWheelTimer_1_1Callback.html#a317b826a2e1bc19c049d780ae418f3fe">folly::HHWheelTimer::Callback::timeoutExpired()</a>, and <a class="el" href="HHWheelTimer_8cpp_source.html#l00094">~HHWheelTimer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                            {</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">return</span> !<a class="code" href="classfolly_1_1AsyncTimeout.html#a47ceef409a75b2aa128fdc3dedcd9071">folly::AsyncTimeout::isScheduled</a>();</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  }</div><div class="ttc" id="classfolly_1_1AsyncTimeout_html_a47ceef409a75b2aa128fdc3dedcd9071"><div class="ttname"><a href="classfolly_1_1AsyncTimeout.html#a47ceef409a75b2aa128fdc3dedcd9071">folly::AsyncTimeout::isScheduled</a></div><div class="ttdeci">bool isScheduled() const </div><div class="ttdef"><b>Definition:</b> <a href="AsyncTimeout_8cpp_source.html#l00091">AsyncTimeout.cpp:91</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aea6d48674701c93320954cb3c8edd134"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classfolly_1_1HHWheelTimer.html#ac5c81b3296322bb2afffde0af8a0a797">UniquePtr</a> folly::HHWheelTimer::newTimer </td>
          <td>(</td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="HHWheelTimer_8h_source.html#l00061">61</a> of file <a class="el" href="HHWheelTimer_8h_source.html">HHWheelTimer.h</a>.</p>

<p>References <a class="el" href="HHWheelTimer_8cpp_source.html#l00078">HHWheelTimer()</a>.</p>

<p>Referenced by <a class="el" href="HTTPUpstreamSessionTest_8cpp_source.html#l00139">HTTPUpstreamTest&lt; SPDY3CodecPair &gt;::HTTPUpstreamTest()</a>, <a class="el" href="session_2test_2TestUtils_8cpp_source.html#l00022">proxygen::makeInternalTimeoutSet()</a>, <a class="el" href="session_2test_2TestUtils_8cpp_source.html#l00031">proxygen::makeTimeoutSet()</a>, <a class="el" href="HHWheelTimerTest_8cpp_source.html#l00222">TEST_F()</a>, <a class="el" href="ThreadWheelTimekeeper_8cpp_source.html#l00104">folly::ThreadWheelTimekeeper::ThreadWheelTimekeeper()</a>, <a class="el" href="HTTPUpstreamSessionTest_8cpp_source.html#l00392">TimeoutableHTTPUpstreamTest&lt; C &gt;::TimeoutableHTTPUpstreamTest()</a>, and <a class="el" href="EventBase_8h_source.html#l00526">folly::EventBase::timer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                                            {</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1HHWheelTimer.html#ac5c81b3296322bb2afffde0af8a0a797">UniquePtr</a>(<span class="keyword">new</span> <a class="code" href="classfolly_1_1HHWheelTimer.html#a36d7e9f959838823beec29fec0f498b8">HHWheelTimer</a>(std::forward&lt;Args&gt;(args)...));</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  }</div><div class="ttc" id="classfolly_1_1HHWheelTimer_html_a36d7e9f959838823beec29fec0f498b8"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a36d7e9f959838823beec29fec0f498b8">folly::HHWheelTimer::HHWheelTimer</a></div><div class="ttdeci">HHWheelTimer(folly::TimeoutManager *timeoutManager, std::chrono::milliseconds intervalMS=std::chrono::milliseconds(DEFAULT_TICK_INTERVAL), AsyncTimeout::InternalEnum internal=AsyncTimeout::InternalEnum::NORMAL, std::chrono::milliseconds defaultTimeoutMS=std::chrono::milliseconds(-1))</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8cpp_source.html#l00078">HHWheelTimer.cpp:78</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_ac5c81b3296322bb2afffde0af8a0a797"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#ac5c81b3296322bb2afffde0af8a0a797">folly::HHWheelTimer::UniquePtr</a></div><div class="ttdeci">std::unique_ptr&lt; HHWheelTimer, Destructor &gt; UniquePtr</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00057">HHWheelTimer.h:57</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae0dc0a9efa7d41484dd4dc569dd8d5df"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1HHWheelTimer.html">HHWheelTimer</a>&amp; folly::HHWheelTimer::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1HHWheelTimer.html">HHWheelTimer</a> const &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="HHWheelTimer_8h_source.html#l00256">isDetachable()</a>.</p>

</div>
</div>
<a class="anchor" id="abef4ebd7213c8264b2ac1d4c8bd4cc5e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::HHWheelTimer::scheduleNextTimeout </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="HHWheelTimer_8cpp_source.html#l00281">281</a> of file <a class="el" href="HHWheelTimer_8cpp_source.html">HHWheelTimer.cpp</a>.</p>

<p>References <a class="el" href="HHWheelTimer_8h_source.html#l00292">bitmap_</a>, <a class="el" href="HHWheelTimer_8cpp_source.html#l00307">calcNextTick()</a>, <a class="el" href="AsyncTimeout_8cpp_source.html#l00084">folly::AsyncTimeout::cancelTimeout()</a>, <a class="el" href="HHWheelTimer_8h_source.html#l00301">count_</a>, <a class="el" href="HHWheelTimer_8h_source.html#l00300">expireTick_</a>, <a class="el" href="BitIterator_8h_source.html#l00170">folly::findFirstSet()</a>, <a class="el" href="ConstexprMathBenchmark_8cpp_source.html#l00188">int64_t</a>, <a class="el" href="HHWheelTimer_8h_source.html#l00281">interval_</a>, <a class="el" href="AsyncTimeout_8cpp_source.html#l00091">folly::AsyncTimeout::isScheduled()</a>, <a class="el" href="BitIterator_8h_source.html#l00161">folly::makeBitIterator()</a>, <a class="el" href="AsyncTimeout_8cpp_source.html#l00080">folly::AsyncTimeout::scheduleTimeout()</a>, <a class="el" href="HHWheelTimer_8h_source.html#l00287">WHEEL_MASK</a>, and <a class="el" href="HHWheelTimer_8h_source.html#l00286">WHEEL_SIZE</a>.</p>

<p>Referenced by <a class="el" href="HHWheelTimer_8cpp_source.html#l00144">scheduleTimeout()</a>, and <a class="el" href="HHWheelTimer_8cpp_source.html#l00184">timeoutExpired()</a>.</p>
<div class="fragment"><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                                       {</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="keyword">auto</span> nextTick = <a class="code" href="classfolly_1_1HHWheelTimer.html#aff1ad74461266cd29f238463f1c6e342">calcNextTick</a>();</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <a class="code" href="ConstexprMathBenchmark_8cpp.html#a21214d6ef664ff09b89c1fd75fe0a042">int64_t</a> tick = 1;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="keywordflow">if</span> (nextTick &amp; <a class="code" href="classfolly_1_1HHWheelTimer.html#a6272688cb667dcd2a5cf17502b54ec5f">WHEEL_MASK</a>) {</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keyword">auto</span> bi = <a class="code" href="namespacefolly.html#a4e908a43ecd7e617880d7ec28118f4ea">makeBitIterator</a>(<a class="code" href="classfolly_1_1HHWheelTimer.html#abf9eaf31de7e1f47033faea8cba75ec2">bitmap_</a>.begin());</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keyword">auto</span> bi_end = <a class="code" href="namespacefolly.html#a4e908a43ecd7e617880d7ec28118f4ea">makeBitIterator</a>(<a class="code" href="classfolly_1_1HHWheelTimer.html#abf9eaf31de7e1f47033faea8cba75ec2">bitmap_</a>.end());</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keyword">auto</span> it = <a class="code" href="namespacefolly.html#a6a313a54ea43a9e72504be2479e16ef5">folly::findFirstSet</a>(bi + (nextTick &amp; WHEEL_MASK), bi_end);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordflow">if</span> (it == bi_end) {</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      tick = <a class="code" href="classfolly_1_1HHWheelTimer.html#a58af6ea8fc5b5765cbc263cbbdb5ee5e">WHEEL_SIZE</a> - ((nextTick - 1) &amp; WHEEL_MASK);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      tick = std::distance(bi + (nextTick &amp; WHEEL_MASK), it) + 1;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    }</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  }</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1HHWheelTimer.html#ac49c055f3e414a6903855e8adde9db52">count_</a> &gt; 0) {</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordflow">if</span> (!this-&gt;<a class="code" href="classfolly_1_1AsyncTimeout.html#a47ceef409a75b2aa128fdc3dedcd9071">AsyncTimeout::isScheduled</a>() ||</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        (<a class="code" href="classfolly_1_1HHWheelTimer.html#a968220cb12cf85bb2a5f29931d8ab46f">expireTick_</a> &gt; tick + nextTick - 1)) {</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      this-&gt;<a class="code" href="classfolly_1_1AsyncTimeout.html#acb0b7716adfa30f6b0fd5261094d2228">AsyncTimeout::scheduleTimeout</a>(<a class="code" href="classfolly_1_1HHWheelTimer.html#a9410c672e8db417e02d2bac4cd64dee3">interval_</a> * tick);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      <a class="code" href="classfolly_1_1HHWheelTimer.html#a968220cb12cf85bb2a5f29931d8ab46f">expireTick_</a> = tick + nextTick - 1;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    }</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    this-&gt;<a class="code" href="classfolly_1_1AsyncTimeout.html#a2080a127e6087755e7d603883bebfd55">AsyncTimeout::cancelTimeout</a>();</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  }</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;}</div><div class="ttc" id="classfolly_1_1HHWheelTimer_html_a6272688cb667dcd2a5cf17502b54ec5f"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a6272688cb667dcd2a5cf17502b54ec5f">folly::HHWheelTimer::WHEEL_MASK</a></div><div class="ttdeci">static constexpr unsigned int WHEEL_MASK</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00287">HHWheelTimer.h:287</a></div></div>
<div class="ttc" id="classfolly_1_1AsyncTimeout_html_a2080a127e6087755e7d603883bebfd55"><div class="ttname"><a href="classfolly_1_1AsyncTimeout.html#a2080a127e6087755e7d603883bebfd55">folly::AsyncTimeout::cancelTimeout</a></div><div class="ttdeci">void cancelTimeout()</div><div class="ttdef"><b>Definition:</b> <a href="AsyncTimeout_8cpp_source.html#l00084">AsyncTimeout.cpp:84</a></div></div>
<div class="ttc" id="namespacefolly_html_a6a313a54ea43a9e72504be2479e16ef5"><div class="ttname"><a href="namespacefolly.html#a6a313a54ea43a9e72504be2479e16ef5">folly::findFirstSet</a></div><div class="ttdeci">BitIterator&lt; BaseIter &gt; findFirstSet(BitIterator&lt; BaseIter &gt;, BitIterator&lt; BaseIter &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="BitIterator_8h_source.html#l00170">BitIterator.h:170</a></div></div>
<div class="ttc" id="namespacefolly_html_a4e908a43ecd7e617880d7ec28118f4ea"><div class="ttname"><a href="namespacefolly.html#a4e908a43ecd7e617880d7ec28118f4ea">folly::makeBitIterator</a></div><div class="ttdeci">BitIterator&lt; BaseIter &gt; makeBitIterator(const BaseIter &amp;iter)</div><div class="ttdef"><b>Definition:</b> <a href="BitIterator_8h_source.html#l00161">BitIterator.h:161</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_abf9eaf31de7e1f47033faea8cba75ec2"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#abf9eaf31de7e1f47033faea8cba75ec2">folly::HHWheelTimer::bitmap_</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; bitmap_</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00292">HHWheelTimer.h:292</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_aff1ad74461266cd29f238463f1c6e342"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#aff1ad74461266cd29f238463f1c6e342">folly::HHWheelTimer::calcNextTick</a></div><div class="ttdeci">int64_t calcNextTick()</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8cpp_source.html#l00307">HHWheelTimer.cpp:307</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_a968220cb12cf85bb2a5f29931d8ab46f"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a968220cb12cf85bb2a5f29931d8ab46f">folly::HHWheelTimer::expireTick_</a></div><div class="ttdeci">int64_t expireTick_</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00300">HHWheelTimer.h:300</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_a58af6ea8fc5b5765cbc263cbbdb5ee5e"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a58af6ea8fc5b5765cbc263cbbdb5ee5e">folly::HHWheelTimer::WHEEL_SIZE</a></div><div class="ttdeci">static constexpr unsigned int WHEEL_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00286">HHWheelTimer.h:286</a></div></div>
<div class="ttc" id="classfolly_1_1AsyncTimeout_html_acb0b7716adfa30f6b0fd5261094d2228"><div class="ttname"><a href="classfolly_1_1AsyncTimeout.html#acb0b7716adfa30f6b0fd5261094d2228">folly::AsyncTimeout::scheduleTimeout</a></div><div class="ttdeci">bool scheduleTimeout(uint32_t milliseconds)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncTimeout_8cpp_source.html#l00080">AsyncTimeout.cpp:80</a></div></div>
<div class="ttc" id="classfolly_1_1AsyncTimeout_html_a47ceef409a75b2aa128fdc3dedcd9071"><div class="ttname"><a href="classfolly_1_1AsyncTimeout.html#a47ceef409a75b2aa128fdc3dedcd9071">folly::AsyncTimeout::isScheduled</a></div><div class="ttdeci">bool isScheduled() const </div><div class="ttdef"><b>Definition:</b> <a href="AsyncTimeout_8cpp_source.html#l00091">AsyncTimeout.cpp:91</a></div></div>
<div class="ttc" id="ConstexprMathBenchmark_8cpp_html_a21214d6ef664ff09b89c1fd75fe0a042"><div class="ttname"><a href="ConstexprMathBenchmark_8cpp.html#a21214d6ef664ff09b89c1fd75fe0a042">int64_t</a></div><div class="ttdeci">int64_t</div><div class="ttdef"><b>Definition:</b> <a href="ConstexprMathBenchmark_8cpp_source.html#l00188">ConstexprMathBenchmark.cpp:188</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_ac49c055f3e414a6903855e8adde9db52"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#ac49c055f3e414a6903855e8adde9db52">folly::HHWheelTimer::count_</a></div><div class="ttdeci">std::size_t count_</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00301">HHWheelTimer.h:301</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_a9410c672e8db417e02d2bac4cd64dee3"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a9410c672e8db417e02d2bac4cd64dee3">folly::HHWheelTimer::interval_</a></div><div class="ttdeci">std::chrono::milliseconds interval_</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00281">HHWheelTimer.h:281</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab4fead46bb46f5a4de978097f864c519"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void folly::HHWheelTimer::scheduleTimeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1HHWheelTimer_1_1Callback.html">Callback</a> *&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::chrono::milliseconds&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Schedule the specified <a class="el" href="classfolly_1_1HHWheelTimer_1_1Callback.html">Callback</a> to be invoked after the specified timeout interval.</p>
<p>If the callback is already scheduled, this cancels the existing timeout before scheduling the new timeout. </p>

<p>Definition at line <a class="el" href="HHWheelTimer_8cpp_source.html#l00144">144</a> of file <a class="el" href="HHWheelTimer_8cpp_source.html">HHWheelTimer.cpp</a>.</p>

<p>References <a class="el" href="HHWheelTimer_8h_source.html#l00092">folly::HHWheelTimer::Callback::cancelTimeout()</a>, <a class="el" href="HHWheelTimer_8h_source.html#l00301">count_</a>, <a class="el" href="HHWheelTimer_8h_source.html#l00308">processingCallbacksGuard_</a>, <a class="el" href="HHWheelTimer_8h_source.html#l00147">folly::HHWheelTimer::Callback::requestContext_</a>, <a class="el" href="Request_8h_source.html#l00196">folly::RequestContext::saveContext()</a>, <a class="el" href="HHWheelTimer_8cpp_source.html#l00281">scheduleNextTimeout()</a>, <a class="el" href="HHWheelTimer_8cpp_source.html#l00111">scheduleTimeoutImpl()</a>, and <a class="el" href="HHWheelTimer_8cpp_source.html#l00052">folly::HHWheelTimer::Callback::setScheduled()</a>.</p>

<p>Referenced by <a class="el" href="HTTPTransaction_8cpp_source.html#l00888">proxygen::HTTPTransaction::maybeDelayForRateLimit()</a>, <a class="el" href="WheelTimerInstance_8cpp_source.html#l00059">proxygen::WheelTimerInstance::scheduleTimeout()</a>, <a class="el" href="HHWheelTimer_8cpp_source.html#l00165">scheduleTimeout()</a>, <a class="el" href="HHWheelTimer_8h_source.html#l00229">scheduleTimeoutFn()</a>, <a class="el" href="HHWheelTimer_8h_source.html#l00200">setDefaultTimeout()</a>, <a class="el" href="HHWheelTimerSlowTests_8cpp_source.html#l00069">TEST_F()</a>, and <a class="el" href="HHWheelTimerSlowTests_8cpp_source.html#l00034">TestTimeout::TestTimeout()</a>.</p>
<div class="fragment"><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                                   {</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="comment">// Cancel the callback if it happens to be scheduled already.</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  callback-&gt;cancelTimeout();</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  callback-&gt;requestContext_ = <a class="code" href="classfolly_1_1RequestContext.html#a400dbde2d305cda780eaf9fbcfe3087c">RequestContext::saveContext</a>();</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <a class="code" href="classfolly_1_1HHWheelTimer.html#ac49c055f3e414a6903855e8adde9db52">count_</a>++;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  callback-&gt;setScheduled(<span class="keyword">this</span>, timeout);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <a class="code" href="classfolly_1_1HHWheelTimer.html#a610da1d2277d237f9d59da762aa6c0b2">scheduleTimeoutImpl</a>(callback, timeout);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="comment">/* If we&#39;re calling callbacks, timer will be reset after all</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">   * callbacks are called.</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classfolly_1_1HHWheelTimer.html#a14f637f10cbac05b248ecacb6c364abc">processingCallbacksGuard_</a>) {</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <a class="code" href="classfolly_1_1HHWheelTimer.html#abef4ebd7213c8264b2ac1d4c8bd4cc5e">scheduleNextTimeout</a>();</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  }</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;}</div><div class="ttc" id="classfolly_1_1RequestContext_html_a400dbde2d305cda780eaf9fbcfe3087c"><div class="ttname"><a href="classfolly_1_1RequestContext.html#a400dbde2d305cda780eaf9fbcfe3087c">folly::RequestContext::saveContext</a></div><div class="ttdeci">static std::shared_ptr&lt; RequestContext &gt; saveContext()</div><div class="ttdef"><b>Definition:</b> <a href="Request_8h_source.html#l00196">Request.h:196</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_a610da1d2277d237f9d59da762aa6c0b2"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a610da1d2277d237f9d59da762aa6c0b2">folly::HHWheelTimer::scheduleTimeoutImpl</a></div><div class="ttdeci">void scheduleTimeoutImpl(Callback *callback, std::chrono::milliseconds timeout)</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8cpp_source.html#l00111">HHWheelTimer.cpp:111</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_a14f637f10cbac05b248ecacb6c364abc"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a14f637f10cbac05b248ecacb6c364abc">folly::HHWheelTimer::processingCallbacksGuard_</a></div><div class="ttdeci">bool * processingCallbacksGuard_</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00308">HHWheelTimer.h:308</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_abef4ebd7213c8264b2ac1d4c8bd4cc5e"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#abef4ebd7213c8264b2ac1d4c8bd4cc5e">folly::HHWheelTimer::scheduleNextTimeout</a></div><div class="ttdeci">void scheduleNextTimeout()</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8cpp_source.html#l00281">HHWheelTimer.cpp:281</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_ac49c055f3e414a6903855e8adde9db52"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#ac49c055f3e414a6903855e8adde9db52">folly::HHWheelTimer::count_</a></div><div class="ttdeci">std::size_t count_</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00301">HHWheelTimer.h:301</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa9701e92a5f82e2e3220958c431d8587"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void folly::HHWheelTimer::scheduleTimeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1HHWheelTimer_1_1Callback.html">Callback</a> *&#160;</td>
          <td class="paramname"><em>callback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Schedule the specified <a class="el" href="classfolly_1_1HHWheelTimer_1_1Callback.html">Callback</a> to be invoked after the default timeout interval.</p>
<p>If the callback is already scheduled, this cancels the existing timeout before scheduling the new timeout.</p>
<p>This method uses CHECK() to make sure that the default timeout was specified on the object initialization. </p>

<p>Definition at line <a class="el" href="HHWheelTimer_8cpp_source.html#l00165">165</a> of file <a class="el" href="HHWheelTimer_8cpp_source.html">HHWheelTimer.cpp</a>.</p>

<p>References <a class="el" href="HHWheelTimer_8h_source.html#l00282">defaultTimeout_</a>, and <a class="el" href="HHWheelTimer_8cpp_source.html#l00144">scheduleTimeout()</a>.</p>
<div class="fragment"><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                                                     {</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  CHECK(std::chrono::milliseconds(-1) != <a class="code" href="classfolly_1_1HHWheelTimer.html#aa64c38e5d2d370512c16de8562b3aae6">defaultTimeout_</a>)</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;Default timeout was not initialized&quot;</span>;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <a class="code" href="classfolly_1_1HHWheelTimer.html#ab4fead46bb46f5a4de978097f864c519">scheduleTimeout</a>(callback, <a class="code" href="classfolly_1_1HHWheelTimer.html#aa64c38e5d2d370512c16de8562b3aae6">defaultTimeout_</a>);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;}</div><div class="ttc" id="classfolly_1_1HHWheelTimer_html_ab4fead46bb46f5a4de978097f864c519"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#ab4fead46bb46f5a4de978097f864c519">folly::HHWheelTimer::scheduleTimeout</a></div><div class="ttdeci">void scheduleTimeout(Callback *callback, std::chrono::milliseconds timeout)</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8cpp_source.html#l00144">HHWheelTimer.cpp:144</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_aa64c38e5d2d370512c16de8562b3aae6"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#aa64c38e5d2d370512c16de8562b3aae6">folly::HHWheelTimer::defaultTimeout_</a></div><div class="ttdeci">std::chrono::milliseconds defaultTimeout_</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00282">HHWheelTimer.h:282</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a829c3e169599218ca09dc955c18a1b82"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::HHWheelTimer::scheduleTimeoutFn </td>
          <td>(</td>
          <td class="paramtype">F&#160;</td>
          <td class="paramname"><em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::chrono::milliseconds&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="HHWheelTimer_8h_source.html#l00229">229</a> of file <a class="el" href="HHWheelTimer_8h_source.html">HHWheelTimer.h</a>.</p>

<p>References <a class="el" href="PushmiBenchmarks_8cpp_source.html#l00515">f</a>, <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>, <a class="el" href="extension__points_8h_source.html#l00040">folly::pushmi::__adl::noexcept()</a>, <a class="el" href="HHWheelTimer_8cpp_source.html#l00144">scheduleTimeout()</a>, and <a class="el" href="classfolly_1_1HHWheelTimer_1_1Callback.html#a317b826a2e1bc19c049d780ae418f3fe">folly::HHWheelTimer::Callback::timeoutExpired()</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00754">folly::EventBase::scheduleAt()</a>, and <a class="el" href="AsyncUDPSocketTest_8cpp_source.html#l00556">TEST_F()</a>.</p>
<div class="fragment"><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                                                              {</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keyword">struct </span><a class="code" href="structWrapper.html">Wrapper</a> : Callback {</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      <a class="code" href="structWrapper.html">Wrapper</a>(F <a class="code" href="PushmiBenchmarks_8cpp.html#ad94c2c2f9fd35a12cc099962b7540071">f</a>) : fn_(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">move</a>(f)) {}</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1HHWheelTimer.html#a7a3ffa6fd6934fa0a3e20ad93431354f">timeoutExpired</a>() <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a><span class="keyword"> override </span>{</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <span class="keywordflow">try</span> {</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;          fn_();</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        } <span class="keywordflow">catch</span> (std::exception <span class="keyword">const</span>&amp; e) {</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;          LOG(ERROR) &lt;&lt; <span class="stringliteral">&quot;HHWheelTimer timeout callback threw an exception: &quot;</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                     &lt;&lt; e.what();</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        } <span class="keywordflow">catch</span> (...) {</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;          LOG(ERROR) &lt;&lt; <span class="stringliteral">&quot;HHWheelTimer timeout callback threw a non-exception.&quot;</span>;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        }</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keyword">delete</span> <span class="keyword">this</span>;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      }</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      F fn_;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    };</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <a class="code" href="structWrapper.html">Wrapper</a>* w = <span class="keyword">new</span> <a class="code" href="structWrapper.html">Wrapper</a>(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(fn));</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <a class="code" href="classfolly_1_1HHWheelTimer.html#ab4fead46bb46f5a4de978097f864c519">scheduleTimeout</a>(w, timeout);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  }</div><div class="ttc" id="PushmiBenchmarks_8cpp_html_ad94c2c2f9fd35a12cc099962b7540071"><div class="ttname"><a href="PushmiBenchmarks_8cpp.html#ad94c2c2f9fd35a12cc099962b7540071">f</a></div><div class="ttdeci">auto f</div><div class="ttdef"><b>Definition:</b> <a href="PushmiBenchmarks_8cpp_source.html#l00515">PushmiBenchmarks.cpp:515</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_a7a3ffa6fd6934fa0a3e20ad93431354f"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a7a3ffa6fd6934fa0a3e20ad93431354f">folly::HHWheelTimer::timeoutExpired</a></div><div class="ttdeci">void timeoutExpired() noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8cpp_source.html#l00184">HHWheelTimer.cpp:184</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="namespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdoc">STL namespace. </div></div>
<div class="ttc" id="namespacefolly_1_1pushmi_1_1____adl_html_af474005039e5722873e3ac4d0f93ae6b"><div class="ttname"><a href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">folly::pushmi::__adl::noexcept</a></div><div class="ttdeci">requires E e noexcept(noexcept(s.error(std::move(e))))</div><div class="ttdef"><b>Definition:</b> <a href="extension__points_8h_source.html#l00040">extension_points.h:40</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_ab4fead46bb46f5a4de978097f864c519"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#ab4fead46bb46f5a4de978097f864c519">folly::HHWheelTimer::scheduleTimeout</a></div><div class="ttdeci">void scheduleTimeout(Callback *callback, std::chrono::milliseconds timeout)</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8cpp_source.html#l00144">HHWheelTimer.cpp:144</a></div></div>
<div class="ttc" id="structWrapper_html"><div class="ttname"><a href="structWrapper.html">Wrapper</a></div><div class="ttdef"><b>Definition:</b> <a href="ConcurrentHashMapTest_8cpp_source.html#l00597">ConcurrentHashMapTest.cpp:597</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a610da1d2277d237f9d59da762aa6c0b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void folly::HHWheelTimer::scheduleTimeoutImpl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1HHWheelTimer_1_1Callback.html">Callback</a> *&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::chrono::milliseconds&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="HHWheelTimer_8cpp_source.html#l00111">111</a> of file <a class="el" href="HHWheelTimer_8cpp_source.html">HHWheelTimer.cpp</a>.</p>

<p>References <a class="el" href="HHWheelTimer_8h_source.html#l00292">bitmap_</a>, <a class="el" href="HHWheelTimer_8h_source.html#l00141">folly::HHWheelTimer::Callback::bucket_</a>, <a class="el" href="HHWheelTimer_8h_source.html#l00291">buckets_</a>, <a class="el" href="HHWheelTimer_8cpp_source.html#l00307">calcNextTick()</a>, <a class="el" href="FutexTest_8cpp_source.html#l00135">diff()</a>, <a class="el" href="ConstexprMathBenchmark_8cpp_source.html#l00188">int64_t</a>, <a class="el" href="HHWheelTimer_8h_source.html#l00288">LARGEST_SLOT</a>, <a class="el" href="BitVectorCodingTest_8cpp_source.html#l00078">bm::list</a>, <a class="el" href="BitIterator_8h_source.html#l00161">folly::makeBitIterator()</a>, <a class="el" href="HHWheelTimer_8h_source.html#l00294">timeToWheelTicks()</a>, <a class="el" href="HHWheelTimer_8h_source.html#l00285">WHEEL_BITS</a>, <a class="el" href="HHWheelTimer_8h_source.html#l00287">WHEEL_MASK</a>, and <a class="el" href="HHWheelTimer_8h_source.html#l00286">WHEEL_SIZE</a>.</p>

<p>Referenced by <a class="el" href="HHWheelTimer_8cpp_source.html#l00171">cascadeTimers()</a>, <a class="el" href="HHWheelTimer_8cpp_source.html#l00144">scheduleTimeout()</a>, and <a class="el" href="HHWheelTimer_8h_source.html#l00200">setDefaultTimeout()</a>.</p>
<div class="fragment"><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                                   {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keyword">auto</span> nextTick = <a class="code" href="classfolly_1_1HHWheelTimer.html#aff1ad74461266cd29f238463f1c6e342">calcNextTick</a>();</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <a class="code" href="ConstexprMathBenchmark_8cpp.html#a21214d6ef664ff09b89c1fd75fe0a042">int64_t</a> due = <a class="code" href="classfolly_1_1HHWheelTimer.html#a83d1fc3d125fca5ff1c29cda981537b7">timeToWheelTicks</a>(timeout) + nextTick;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <a class="code" href="ConstexprMathBenchmark_8cpp.html#a21214d6ef664ff09b89c1fd75fe0a042">int64_t</a> <a class="code" href="FutexTest_8cpp.html#a20a35239944e6c8935103e8d109ead23">diff</a> = due - nextTick;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <a class="code" href="classfolly_1_1HHWheelTimer.html#a4c630b24062c903ecff8e36bc4fb133f">CallbackList</a>* <a class="code" href="namespacebm.html#a0b32ecce1c39d4e5297ed8c85397d51c">list</a>;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="keyword">auto</span> bi = <a class="code" href="namespacefolly.html#a4e908a43ecd7e617880d7ec28118f4ea">makeBitIterator</a>(<a class="code" href="classfolly_1_1HHWheelTimer.html#abf9eaf31de7e1f47033faea8cba75ec2">bitmap_</a>.begin());</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="keywordflow">if</span> (diff &lt; 0) {</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    list = &amp;<a class="code" href="classfolly_1_1HHWheelTimer.html#a885604aafe7f40c4e689ff12badd56b2">buckets_</a>[0][nextTick &amp; <a class="code" href="classfolly_1_1HHWheelTimer.html#a6272688cb667dcd2a5cf17502b54ec5f">WHEEL_MASK</a>];</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    *(bi + (nextTick &amp; <a class="code" href="classfolly_1_1HHWheelTimer.html#a6272688cb667dcd2a5cf17502b54ec5f">WHEEL_MASK</a>)) = <span class="keyword">true</span>;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    callback-&gt;bucket_ = nextTick &amp; <a class="code" href="classfolly_1_1HHWheelTimer.html#a6272688cb667dcd2a5cf17502b54ec5f">WHEEL_MASK</a>;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (diff &lt; <a class="code" href="classfolly_1_1HHWheelTimer.html#a58af6ea8fc5b5765cbc263cbbdb5ee5e">WHEEL_SIZE</a>) {</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    list = &amp;<a class="code" href="classfolly_1_1HHWheelTimer.html#a885604aafe7f40c4e689ff12badd56b2">buckets_</a>[0][due &amp; <a class="code" href="classfolly_1_1HHWheelTimer.html#a6272688cb667dcd2a5cf17502b54ec5f">WHEEL_MASK</a>];</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    *(bi + (due &amp; <a class="code" href="classfolly_1_1HHWheelTimer.html#a6272688cb667dcd2a5cf17502b54ec5f">WHEEL_MASK</a>)) = <span class="keyword">true</span>;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    callback-&gt;bucket_ = due &amp; <a class="code" href="classfolly_1_1HHWheelTimer.html#a6272688cb667dcd2a5cf17502b54ec5f">WHEEL_MASK</a>;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (diff &lt; 1 &lt;&lt; (2 * <a class="code" href="classfolly_1_1HHWheelTimer.html#a3869d970568daa01e71f2f848052f8e8">WHEEL_BITS</a>)) {</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    list = &amp;<a class="code" href="classfolly_1_1HHWheelTimer.html#a885604aafe7f40c4e689ff12badd56b2">buckets_</a>[1][(due &gt;&gt; <a class="code" href="classfolly_1_1HHWheelTimer.html#a3869d970568daa01e71f2f848052f8e8">WHEEL_BITS</a>) &amp; <a class="code" href="classfolly_1_1HHWheelTimer.html#a6272688cb667dcd2a5cf17502b54ec5f">WHEEL_MASK</a>];</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (diff &lt; 1 &lt;&lt; (3 * <a class="code" href="classfolly_1_1HHWheelTimer.html#a3869d970568daa01e71f2f848052f8e8">WHEEL_BITS</a>)) {</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    list = &amp;<a class="code" href="classfolly_1_1HHWheelTimer.html#a885604aafe7f40c4e689ff12badd56b2">buckets_</a>[2][(due &gt;&gt; 2 * <a class="code" href="classfolly_1_1HHWheelTimer.html#a3869d970568daa01e71f2f848052f8e8">WHEEL_BITS</a>) &amp; <a class="code" href="classfolly_1_1HHWheelTimer.html#a6272688cb667dcd2a5cf17502b54ec5f">WHEEL_MASK</a>];</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="comment">/* in largest slot */</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordflow">if</span> (diff &gt; <a class="code" href="classfolly_1_1HHWheelTimer.html#a83a41fea54299fef6c20779b118e1e02">LARGEST_SLOT</a>) {</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      diff = <a class="code" href="classfolly_1_1HHWheelTimer.html#a83a41fea54299fef6c20779b118e1e02">LARGEST_SLOT</a>;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;      due = diff + nextTick;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    }</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    list = &amp;<a class="code" href="classfolly_1_1HHWheelTimer.html#a885604aafe7f40c4e689ff12badd56b2">buckets_</a>[3][(due &gt;&gt; 3 * <a class="code" href="classfolly_1_1HHWheelTimer.html#a3869d970568daa01e71f2f848052f8e8">WHEEL_BITS</a>) &amp; <a class="code" href="classfolly_1_1HHWheelTimer.html#a6272688cb667dcd2a5cf17502b54ec5f">WHEEL_MASK</a>];</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  }</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  list-&gt;push_back(*callback);</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;}</div><div class="ttc" id="classfolly_1_1HHWheelTimer_html_a6272688cb667dcd2a5cf17502b54ec5f"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a6272688cb667dcd2a5cf17502b54ec5f">folly::HHWheelTimer::WHEEL_MASK</a></div><div class="ttdeci">static constexpr unsigned int WHEEL_MASK</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00287">HHWheelTimer.h:287</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_a3869d970568daa01e71f2f848052f8e8"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a3869d970568daa01e71f2f848052f8e8">folly::HHWheelTimer::WHEEL_BITS</a></div><div class="ttdeci">static constexpr int WHEEL_BITS</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00285">HHWheelTimer.h:285</a></div></div>
<div class="ttc" id="namespacefolly_html_a4e908a43ecd7e617880d7ec28118f4ea"><div class="ttname"><a href="namespacefolly.html#a4e908a43ecd7e617880d7ec28118f4ea">folly::makeBitIterator</a></div><div class="ttdeci">BitIterator&lt; BaseIter &gt; makeBitIterator(const BaseIter &amp;iter)</div><div class="ttdef"><b>Definition:</b> <a href="BitIterator_8h_source.html#l00161">BitIterator.h:161</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_a83a41fea54299fef6c20779b118e1e02"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a83a41fea54299fef6c20779b118e1e02">folly::HHWheelTimer::LARGEST_SLOT</a></div><div class="ttdeci">static constexpr uint32_t LARGEST_SLOT</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00288">HHWheelTimer.h:288</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_abf9eaf31de7e1f47033faea8cba75ec2"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#abf9eaf31de7e1f47033faea8cba75ec2">folly::HHWheelTimer::bitmap_</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; bitmap_</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00292">HHWheelTimer.h:292</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_a885604aafe7f40c4e689ff12badd56b2"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a885604aafe7f40c4e689ff12badd56b2">folly::HHWheelTimer::buckets_</a></div><div class="ttdeci">CallbackList buckets_[WHEEL_BUCKETS][WHEEL_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00291">HHWheelTimer.h:291</a></div></div>
<div class="ttc" id="namespacebm_html_a0b32ecce1c39d4e5297ed8c85397d51c"><div class="ttname"><a href="namespacebm.html#a0b32ecce1c39d4e5297ed8c85397d51c">bm::list</a></div><div class="ttdeci">Encoder::MutableCompressedList list</div><div class="ttdef"><b>Definition:</b> <a href="BitVectorCodingTest_8cpp_source.html#l00078">BitVectorCodingTest.cpp:78</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_aff1ad74461266cd29f238463f1c6e342"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#aff1ad74461266cd29f238463f1c6e342">folly::HHWheelTimer::calcNextTick</a></div><div class="ttdeci">int64_t calcNextTick()</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8cpp_source.html#l00307">HHWheelTimer.cpp:307</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_a58af6ea8fc5b5765cbc263cbbdb5ee5e"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a58af6ea8fc5b5765cbc263cbbdb5ee5e">folly::HHWheelTimer::WHEEL_SIZE</a></div><div class="ttdeci">static constexpr unsigned int WHEEL_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00286">HHWheelTimer.h:286</a></div></div>
<div class="ttc" id="FutexTest_8cpp_html_a20a35239944e6c8935103e8d109ead23"><div class="ttname"><a href="FutexTest_8cpp.html#a20a35239944e6c8935103e8d109ead23">diff</a></div><div class="ttdeci">uint64_t diff(uint64_t a, uint64_t b)</div><div class="ttdef"><b>Definition:</b> <a href="FutexTest_8cpp_source.html#l00135">FutexTest.cpp:135</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_a83d1fc3d125fca5ff1c29cda981537b7"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a83d1fc3d125fca5ff1c29cda981537b7">folly::HHWheelTimer::timeToWheelTicks</a></div><div class="ttdeci">int64_t timeToWheelTicks(std::chrono::milliseconds t)</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00294">HHWheelTimer.h:294</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_a4c630b24062c903ecff8e36bc4fb133f"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a4c630b24062c903ecff8e36bc4fb133f">folly::HHWheelTimer::CallbackList</a></div><div class="ttdeci">Callback::List CallbackList</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00290">HHWheelTimer.h:290</a></div></div>
<div class="ttc" id="ConstexprMathBenchmark_8cpp_html_a21214d6ef664ff09b89c1fd75fe0a042"><div class="ttname"><a href="ConstexprMathBenchmark_8cpp.html#a21214d6ef664ff09b89c1fd75fe0a042">int64_t</a></div><div class="ttdeci">int64_t</div><div class="ttdef"><b>Definition:</b> <a href="ConstexprMathBenchmark_8cpp_source.html#l00188">ConstexprMathBenchmark.cpp:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a50b05b8a39cf365f8653cff355c269f5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::HHWheelTimer::setDefaultTimeout </td>
          <td>(</td>
          <td class="paramtype">std::chrono::milliseconds&#160;</td>
          <td class="paramname"><em>timeout</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set the default timeout interval for this <a class="el" href="classfolly_1_1HHWheelTimer.html">HHWheelTimer</a>. </p>

<p>Definition at line <a class="el" href="HHWheelTimer_8h_source.html#l00200">200</a> of file <a class="el" href="HHWheelTimer_8h_source.html">HHWheelTimer.h</a>.</p>

<p>References <a class="el" href="HHWheelTimer_8h_source.html#l00282">defaultTimeout_</a>, <a class="el" href="HHWheelTimer_8cpp_source.html#l00144">scheduleTimeout()</a>, <a class="el" href="HHWheelTimer_8cpp_source.html#l00111">scheduleTimeoutImpl()</a>, and <a class="el" href="namespacefolly_1_1detail.html#a87c55c2d12ad5b5dc9b7416bbed13720a90272dda245ae1fb3cf197e91a8689dc">folly::detail::timeout</a>.</p>

<p>Referenced by <a class="el" href="HHWheelTimerTest_8cpp_source.html#l00129">TEST_F()</a>.</p>
<div class="fragment"><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                                                        {</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="code" href="classfolly_1_1HHWheelTimer.html#aa64c38e5d2d370512c16de8562b3aae6">defaultTimeout_</a> = <a class="code" href="namespacefolly_1_1detail.html#a87c55c2d12ad5b5dc9b7416bbed13720a90272dda245ae1fb3cf197e91a8689dc">timeout</a>;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  }</div><div class="ttc" id="namespacefolly_1_1detail_html_a87c55c2d12ad5b5dc9b7416bbed13720a90272dda245ae1fb3cf197e91a8689dc"><div class="ttname"><a href="namespacefolly_1_1detail.html#a87c55c2d12ad5b5dc9b7416bbed13720a90272dda245ae1fb3cf197e91a8689dc">folly::detail::spin_result::timeout</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_aa64c38e5d2d370512c16de8562b3aae6"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#aa64c38e5d2d370512c16de8562b3aae6">folly::HHWheelTimer::defaultTimeout_</a></div><div class="ttdeci">std::chrono::milliseconds defaultTimeout_</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00282">HHWheelTimer.h:282</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7a3ffa6fd6934fa0a3e20ad93431354f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::HHWheelTimer::timeoutExpired </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="classfolly_1_1HHWheelTimer.html#a7a3ffa6fd6934fa0a3e20ad93431354f">timeoutExpired()</a> is invoked when the timeout period has expired. </p>

<p>Implements <a class="el" href="classfolly_1_1AsyncTimeout.html#a82ca371c3f705f71d2ef40d80399a217">folly::AsyncTimeout</a>.</p>

<p>Definition at line <a class="el" href="HHWheelTimer_8cpp_source.html#l00184">184</a> of file <a class="el" href="HHWheelTimer_8cpp_source.html">HHWheelTimer.cpp</a>.</p>

<p>References <a class="el" href="HHWheelTimer_8h_source.html#l00292">bitmap_</a>, <a class="el" href="HHWheelTimer_8h_source.html#l00291">buckets_</a>, <a class="el" href="HHWheelTimer_8cpp_source.html#l00307">calcNextTick()</a>, <a class="el" href="HHWheelTimer_8cpp_source.html#l00171">cascadeTimers()</a>, <a class="el" href="HHWheelTimer_8h_source.html#l00301">count_</a>, <a class="el" href="HHWheelTimer_8h_source.html#l00300">expireTick_</a>, <a class="el" href="HHWheelTimer_8h_source.html#l00299">lastTick_</a>, <a class="el" href="BitIterator_8h_source.html#l00161">folly::makeBitIterator()</a>, <a class="el" href="ScopeGuard_8h_source.html#l00184">folly::makeGuard()</a>, <a class="el" href="HHWheelTimer_8h_source.html#l00308">processingCallbacksGuard_</a>, <a class="el" href="HHWheelTimer_8cpp_source.html#l00281">scheduleNextTimeout()</a>, <a class="el" href="HHWheelTimer_8h_source.html#l00309">timeouts</a>, <a class="el" href="HHWheelTimer_8h_source.html#l00285">WHEEL_BITS</a>, and <a class="el" href="HHWheelTimer_8h_source.html#l00287">WHEEL_MASK</a>.</p>
<div class="fragment"><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                                           {</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="keyword">auto</span> nextTick = <a class="code" href="classfolly_1_1HHWheelTimer.html#aff1ad74461266cd29f238463f1c6e342">calcNextTick</a>();</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="comment">// If the last smart pointer for &quot;this&quot; is reset inside the callback&#39;s</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="comment">// timeoutExpired(), then the guard will detect that it is time to bail from</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="comment">// this method.</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="keyword">auto</span> isDestroyed = <span class="keyword">false</span>;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="comment">// If scheduleTimeout is called from a callback in this function, it may</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="comment">// cause inconsistencies in the state of this object. As such, we need</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="comment">// to treat these calls slightly differently.</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  CHECK(!<a class="code" href="classfolly_1_1HHWheelTimer.html#a14f637f10cbac05b248ecacb6c364abc">processingCallbacksGuard_</a>);</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <a class="code" href="classfolly_1_1HHWheelTimer.html#a14f637f10cbac05b248ecacb6c364abc">processingCallbacksGuard_</a> = &amp;isDestroyed;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="keyword">auto</span> reEntryGuard = <a class="code" href="namespacefolly.html#a507704cb8cb20963bc6ef5a2f871ab2a">folly::makeGuard</a>([&amp;] {</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">if</span> (!isDestroyed) {</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      <a class="code" href="classfolly_1_1HHWheelTimer.html#a14f637f10cbac05b248ecacb6c364abc">processingCallbacksGuard_</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    }</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  });</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="comment">// timeoutExpired() can only be invoked directly from the event base loop.</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <span class="comment">// It should never be invoked recursively.</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <a class="code" href="classfolly_1_1HHWheelTimer.html#a51112dd4c75ed913866c3b0c096d5a8a">lastTick_</a> = <a class="code" href="classfolly_1_1HHWheelTimer.html#a968220cb12cf85bb2a5f29931d8ab46f">expireTick_</a>;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="keywordflow">while</span> (lastTick_ &lt; nextTick) {</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordtype">int</span> idx = lastTick_ &amp; <a class="code" href="classfolly_1_1HHWheelTimer.html#a6272688cb667dcd2a5cf17502b54ec5f">WHEEL_MASK</a>;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keyword">auto</span> bi = <a class="code" href="namespacefolly.html#a4e908a43ecd7e617880d7ec28118f4ea">makeBitIterator</a>(<a class="code" href="classfolly_1_1HHWheelTimer.html#abf9eaf31de7e1f47033faea8cba75ec2">bitmap_</a>.begin());</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    *(bi + idx) = <span class="keyword">false</span>;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    lastTick_++;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <a class="code" href="classfolly_1_1HHWheelTimer.html#a4c630b24062c903ecff8e36bc4fb133f">CallbackList</a>* cbs = &amp;<a class="code" href="classfolly_1_1HHWheelTimer.html#a885604aafe7f40c4e689ff12badd56b2">buckets_</a>[0][idx];</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordflow">while</span> (!cbs-&gt;empty()) {</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      <span class="keyword">auto</span>* cb = &amp;cbs-&gt;front();</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      cbs-&gt;pop_front();</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      <a class="code" href="classfolly_1_1HHWheelTimer.html#a986b9341685d4dca9b3ab74bea3dea5f">timeouts</a>.push_back(*cb);</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    }</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordflow">if</span> (idx == 0) {</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      <span class="comment">// Cascade timers</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1HHWheelTimer.html#a0939329c9940246376143c9242561b97">cascadeTimers</a>(1, (lastTick_ &gt;&gt; <a class="code" href="classfolly_1_1HHWheelTimer.html#a3869d970568daa01e71f2f848052f8e8">WHEEL_BITS</a>) &amp; WHEEL_MASK) &amp;&amp;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;          <a class="code" href="classfolly_1_1HHWheelTimer.html#a0939329c9940246376143c9242561b97">cascadeTimers</a>(2, (lastTick_ &gt;&gt; (2 * <a class="code" href="classfolly_1_1HHWheelTimer.html#a3869d970568daa01e71f2f848052f8e8">WHEEL_BITS</a>)) &amp; WHEEL_MASK)) {</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <a class="code" href="classfolly_1_1HHWheelTimer.html#a0939329c9940246376143c9242561b97">cascadeTimers</a>(3, (lastTick_ &gt;&gt; (3 * <a class="code" href="classfolly_1_1HHWheelTimer.html#a3869d970568daa01e71f2f848052f8e8">WHEEL_BITS</a>)) &amp; WHEEL_MASK);</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      }</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    }</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  }</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="keywordflow">while</span> (!<a class="code" href="classfolly_1_1HHWheelTimer.html#a986b9341685d4dca9b3ab74bea3dea5f">timeouts</a>.empty()) {</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keyword">auto</span>* cb = &amp;<a class="code" href="classfolly_1_1HHWheelTimer.html#a986b9341685d4dca9b3ab74bea3dea5f">timeouts</a>.front();</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <a class="code" href="classfolly_1_1HHWheelTimer.html#a986b9341685d4dca9b3ab74bea3dea5f">timeouts</a>.pop_front();</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <a class="code" href="classfolly_1_1HHWheelTimer.html#ac49c055f3e414a6903855e8adde9db52">count_</a>--;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    cb-&gt;wheel_ = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    cb-&gt;expiration_ = {};</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    RequestContextScopeGuard rctx(cb-&gt;requestContext_);</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    cb-&gt;timeoutExpired();</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordflow">if</span> (isDestroyed) {</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      <span class="comment">// The HHWheelTimer itself has been destroyed. The other callbacks</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      <span class="comment">// will have been cancelled from the destructor. Bail before causing</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      <span class="comment">// damage.</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    }</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  }</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <a class="code" href="classfolly_1_1HHWheelTimer.html#abef4ebd7213c8264b2ac1d4c8bd4cc5e">scheduleNextTimeout</a>();</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;}</div><div class="ttc" id="classfolly_1_1HHWheelTimer_html_a6272688cb667dcd2a5cf17502b54ec5f"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a6272688cb667dcd2a5cf17502b54ec5f">folly::HHWheelTimer::WHEEL_MASK</a></div><div class="ttdeci">static constexpr unsigned int WHEEL_MASK</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00287">HHWheelTimer.h:287</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_a3869d970568daa01e71f2f848052f8e8"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a3869d970568daa01e71f2f848052f8e8">folly::HHWheelTimer::WHEEL_BITS</a></div><div class="ttdeci">static constexpr int WHEEL_BITS</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00285">HHWheelTimer.h:285</a></div></div>
<div class="ttc" id="namespacefolly_html_a4e908a43ecd7e617880d7ec28118f4ea"><div class="ttname"><a href="namespacefolly.html#a4e908a43ecd7e617880d7ec28118f4ea">folly::makeBitIterator</a></div><div class="ttdeci">BitIterator&lt; BaseIter &gt; makeBitIterator(const BaseIter &amp;iter)</div><div class="ttdef"><b>Definition:</b> <a href="BitIterator_8h_source.html#l00161">BitIterator.h:161</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_abf9eaf31de7e1f47033faea8cba75ec2"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#abf9eaf31de7e1f47033faea8cba75ec2">folly::HHWheelTimer::bitmap_</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; bitmap_</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00292">HHWheelTimer.h:292</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_a885604aafe7f40c4e689ff12badd56b2"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a885604aafe7f40c4e689ff12badd56b2">folly::HHWheelTimer::buckets_</a></div><div class="ttdeci">CallbackList buckets_[WHEEL_BUCKETS][WHEEL_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00291">HHWheelTimer.h:291</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_a51112dd4c75ed913866c3b0c096d5a8a"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a51112dd4c75ed913866c3b0c096d5a8a">folly::HHWheelTimer::lastTick_</a></div><div class="ttdeci">int64_t lastTick_</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00299">HHWheelTimer.h:299</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_aff1ad74461266cd29f238463f1c6e342"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#aff1ad74461266cd29f238463f1c6e342">folly::HHWheelTimer::calcNextTick</a></div><div class="ttdeci">int64_t calcNextTick()</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8cpp_source.html#l00307">HHWheelTimer.cpp:307</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_a968220cb12cf85bb2a5f29931d8ab46f"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a968220cb12cf85bb2a5f29931d8ab46f">folly::HHWheelTimer::expireTick_</a></div><div class="ttdeci">int64_t expireTick_</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00300">HHWheelTimer.h:300</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_a14f637f10cbac05b248ecacb6c364abc"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a14f637f10cbac05b248ecacb6c364abc">folly::HHWheelTimer::processingCallbacksGuard_</a></div><div class="ttdeci">bool * processingCallbacksGuard_</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00308">HHWheelTimer.h:308</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_a986b9341685d4dca9b3ab74bea3dea5f"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a986b9341685d4dca9b3ab74bea3dea5f">folly::HHWheelTimer::timeouts</a></div><div class="ttdeci">CallbackList timeouts</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00309">HHWheelTimer.h:309</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_abef4ebd7213c8264b2ac1d4c8bd4cc5e"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#abef4ebd7213c8264b2ac1d4c8bd4cc5e">folly::HHWheelTimer::scheduleNextTimeout</a></div><div class="ttdeci">void scheduleNextTimeout()</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8cpp_source.html#l00281">HHWheelTimer.cpp:281</a></div></div>
<div class="ttc" id="namespacefolly_html_a507704cb8cb20963bc6ef5a2f871ab2a"><div class="ttname"><a href="namespacefolly.html#a507704cb8cb20963bc6ef5a2f871ab2a">folly::makeGuard</a></div><div class="ttdeci">FOLLY_NODISCARD detail::ScopeGuardImplDecay&lt; F, true &gt; makeGuard(F &amp;&amp;f) noexcept(noexcept(detail::ScopeGuardImplDecay&lt; F, true &gt;(static_cast&lt; F &amp;&amp; &gt;(f))))</div><div class="ttdef"><b>Definition:</b> <a href="ScopeGuard_8h_source.html#l00184">ScopeGuard.h:184</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_a4c630b24062c903ecff8e36bc4fb133f"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a4c630b24062c903ecff8e36bc4fb133f">folly::HHWheelTimer::CallbackList</a></div><div class="ttdeci">Callback::List CallbackList</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00290">HHWheelTimer.h:290</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_a0939329c9940246376143c9242561b97"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a0939329c9940246376143c9242561b97">folly::HHWheelTimer::cascadeTimers</a></div><div class="ttdeci">bool cascadeTimers(int bucket, int tick)</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8cpp_source.html#l00171">HHWheelTimer.cpp:171</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_ac49c055f3e414a6903855e8adde9db52"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#ac49c055f3e414a6903855e8adde9db52">folly::HHWheelTimer::count_</a></div><div class="ttdeci">std::size_t count_</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00301">HHWheelTimer.h:301</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a83d1fc3d125fca5ff1c29cda981537b7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a21214d6ef664ff09b89c1fd75fe0a042">int64_t</a> folly::HHWheelTimer::timeToWheelTicks </td>
          <td>(</td>
          <td class="paramtype">std::chrono::milliseconds&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="HHWheelTimer_8h_source.html#l00294">294</a> of file <a class="el" href="HHWheelTimer_8h_source.html">HHWheelTimer.h</a>.</p>

<p>References <a class="el" href="HHWheelTimer_8cpp_source.html#l00171">cascadeTimers()</a>.</p>

<p>Referenced by <a class="el" href="HHWheelTimer_8cpp_source.html#l00111">scheduleTimeoutImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                                                    {</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacefolly_1_1pushmi_1_1detail.html#a83db2e678e3a0679ce63d24026fcf5ff">t</a>.count() / <a class="code" href="classfolly_1_1HHWheelTimer.html#a9410c672e8db417e02d2bac4cd64dee3">interval_</a>.count();</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  }</div><div class="ttc" id="namespacefolly_1_1pushmi_1_1detail_html_a83db2e678e3a0679ce63d24026fcf5ff"><div class="ttname"><a href="namespacefolly_1_1pushmi_1_1detail.html#a83db2e678e3a0679ce63d24026fcf5ff">folly::pushmi::detail::t</a></div><div class="ttdeci">requires Tuple &amp;&amp; t</div><div class="ttdef"><b>Definition:</b> <a href="extension__operators_8h_source.html#l00048">extension_operators.h:48</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_a9410c672e8db417e02d2bac4cd64dee3"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a9410c672e8db417e02d2bac4cd64dee3">folly::HHWheelTimer::interval_</a></div><div class="ttdeci">std::chrono::milliseconds interval_</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00281">HHWheelTimer.h:281</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="abf9eaf31de7e1f47033faea8cba75ec2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::size_t&gt; folly::HHWheelTimer::bitmap_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="HHWheelTimer_8h_source.html#l00292">292</a> of file <a class="el" href="HHWheelTimer_8h_source.html">HHWheelTimer.h</a>.</p>

<p>Referenced by <a class="el" href="HHWheelTimer_8cpp_source.html#l00063">folly::HHWheelTimer::Callback::cancelTimeoutImpl()</a>, <a class="el" href="HHWheelTimer_8cpp_source.html#l00078">HHWheelTimer()</a>, <a class="el" href="HHWheelTimer_8cpp_source.html#l00281">scheduleNextTimeout()</a>, <a class="el" href="HHWheelTimer_8cpp_source.html#l00111">scheduleTimeoutImpl()</a>, and <a class="el" href="HHWheelTimer_8cpp_source.html#l00184">timeoutExpired()</a>.</p>

</div>
</div>
<a class="anchor" id="a885604aafe7f40c4e689ff12badd56b2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1HHWheelTimer.html#a4c630b24062c903ecff8e36bc4fb133f">CallbackList</a> folly::HHWheelTimer::buckets_[<a class="el" href="classfolly_1_1HHWheelTimer.html#a6c08cead3263519196896be0a99849c6">WHEEL_BUCKETS</a>][<a class="el" href="classfolly_1_1HHWheelTimer.html#a58af6ea8fc5b5765cbc263cbbdb5ee5e">WHEEL_SIZE</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="HHWheelTimer_8h_source.html#l00291">291</a> of file <a class="el" href="HHWheelTimer_8h_source.html">HHWheelTimer.h</a>.</p>

<p>Referenced by <a class="el" href="HHWheelTimer_8cpp_source.html#l00247">cancelAll()</a>, <a class="el" href="HHWheelTimer_8cpp_source.html#l00063">folly::HHWheelTimer::Callback::cancelTimeoutImpl()</a>, <a class="el" href="HHWheelTimer_8cpp_source.html#l00171">cascadeTimers()</a>, <a class="el" href="HHWheelTimer_8cpp_source.html#l00111">scheduleTimeoutImpl()</a>, and <a class="el" href="HHWheelTimer_8cpp_source.html#l00184">timeoutExpired()</a>.</p>

</div>
</div>
<a class="anchor" id="ac49c055f3e414a6903855e8adde9db52"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t folly::HHWheelTimer::count_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="HHWheelTimer_8h_source.html#l00301">301</a> of file <a class="el" href="HHWheelTimer_8h_source.html">HHWheelTimer.h</a>.</p>

<p>Referenced by <a class="el" href="HHWheelTimer_8cpp_source.html#l00247">cancelAll()</a>, <a class="el" href="HHWheelTimer_8cpp_source.html#l00063">folly::HHWheelTimer::Callback::cancelTimeoutImpl()</a>, <a class="el" href="HHWheelTimer_8h_source.html#l00252">count()</a>, <a class="el" href="HHWheelTimer_8cpp_source.html#l00281">scheduleNextTimeout()</a>, <a class="el" href="HHWheelTimer_8cpp_source.html#l00144">scheduleTimeout()</a>, and <a class="el" href="HHWheelTimer_8cpp_source.html#l00184">timeoutExpired()</a>.</p>

</div>
</div>
<a class="anchor" id="ada61080053afe71f1b257cb249fb2f35"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int folly::HHWheelTimer::DEFAULT_TICK_INTERVAL = 10</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a new <a class="el" href="classfolly_1_1HHWheelTimer.html">HHWheelTimer</a> with the specified interval and the default timeout value set.</p>
<p>Objects created using this version of constructor can be used to schedule both variable interval timeouts using scheduleTimeout(callback, timeout) method, and default interval timeouts using scheduleTimeout(callback) method.</p>
<p>We want to select the default interval carefully. An interval of 10ms will give us 10ms * WHEEL_SIZE^WHEEL_BUCKETS for the largest timeout possible, or about 497 days.</p>
<p>For a lower bound, we want a reasonable limit on local IO, 10ms seems short enough</p>
<p><a class="el" href="structA.html">A</a> shorter interval also has CPU implications, less than 1ms might start showing up in cpu perf. Also, it might not be possible to set tick interval less than 10ms on older kernels. </p>

<p>Definition at line <a class="el" href="HHWheelTimer_8h_source.html#l00163">163</a> of file <a class="el" href="HHWheelTimer_8h_source.html">HHWheelTimer.h</a>.</p>

<p>Referenced by <a class="el" href="HTTPUpstreamSessionTest_8cpp_source.html#l00139">HTTPUpstreamTest&lt; SPDY3CodecPair &gt;::HTTPUpstreamTest()</a>, <a class="el" href="session_2test_2TestUtils_8cpp_source.html#l00022">proxygen::makeInternalTimeoutSet()</a>, <a class="el" href="session_2test_2TestUtils_8cpp_source.html#l00031">proxygen::makeTimeoutSet()</a>, <a class="el" href="HTTPServerTest_8cpp_source.html#l00586">ScopedServerTest::SetUp()</a>, <a class="el" href="HTTPServerTest_8cpp_source.html#l00269">TEST()</a>, <a class="el" href="HTTPUpstreamSessionTest_8cpp_source.html#l02645">TEST_F()</a>, and <a class="el" href="HTTPUpstreamSessionTest_8cpp_source.html#l00392">TimeoutableHTTPUpstreamTest&lt; C &gt;::TimeoutableHTTPUpstreamTest()</a>.</p>

</div>
</div>
<a class="anchor" id="aa64c38e5d2d370512c16de8562b3aae6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::chrono::milliseconds folly::HHWheelTimer::defaultTimeout_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="HHWheelTimer_8h_source.html#l00282">282</a> of file <a class="el" href="HHWheelTimer_8h_source.html">HHWheelTimer.h</a>.</p>

<p>Referenced by <a class="el" href="HHWheelTimer_8h_source.html#l00193">getDefaultTimeout()</a>, <a class="el" href="HHWheelTimer_8cpp_source.html#l00165">scheduleTimeout()</a>, and <a class="el" href="HHWheelTimer_8h_source.html#l00200">setDefaultTimeout()</a>.</p>

</div>
</div>
<a class="anchor" id="a968220cb12cf85bb2a5f29931d8ab46f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a21214d6ef664ff09b89c1fd75fe0a042">int64_t</a> folly::HHWheelTimer::expireTick_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="HHWheelTimer_8h_source.html#l00300">300</a> of file <a class="el" href="HHWheelTimer_8h_source.html">HHWheelTimer.h</a>.</p>

<p>Referenced by <a class="el" href="HHWheelTimer_8cpp_source.html#l00281">scheduleNextTimeout()</a>, and <a class="el" href="HHWheelTimer_8cpp_source.html#l00184">timeoutExpired()</a>.</p>

</div>
</div>
<a class="anchor" id="a9410c672e8db417e02d2bac4cd64dee3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::chrono::milliseconds folly::HHWheelTimer::interval_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="HHWheelTimer_8h_source.html#l00281">281</a> of file <a class="el" href="HHWheelTimer_8h_source.html">HHWheelTimer.h</a>.</p>

<p>Referenced by <a class="el" href="HHWheelTimer_8cpp_source.html#l00307">calcNextTick()</a>, <a class="el" href="HHWheelTimer_8h_source.html#l00184">getTickInterval()</a>, and <a class="el" href="HHWheelTimer_8cpp_source.html#l00281">scheduleNextTimeout()</a>.</p>

</div>
</div>
<a class="anchor" id="a83a41fea54299fef6c20779b118e1e02"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr <a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> folly::HHWheelTimer::LARGEST_SLOT = 0xffffffffUL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="HHWheelTimer_8h_source.html#l00288">288</a> of file <a class="el" href="HHWheelTimer_8h_source.html">HHWheelTimer.h</a>.</p>

<p>Referenced by <a class="el" href="HHWheelTimer_8cpp_source.html#l00111">scheduleTimeoutImpl()</a>.</p>

</div>
</div>
<a class="anchor" id="a51112dd4c75ed913866c3b0c096d5a8a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a21214d6ef664ff09b89c1fd75fe0a042">int64_t</a> folly::HHWheelTimer::lastTick_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="HHWheelTimer_8h_source.html#l00299">299</a> of file <a class="el" href="HHWheelTimer_8h_source.html">HHWheelTimer.h</a>.</p>

<p>Referenced by <a class="el" href="HHWheelTimer_8cpp_source.html#l00307">calcNextTick()</a>, and <a class="el" href="HHWheelTimer_8cpp_source.html#l00184">timeoutExpired()</a>.</p>

</div>
</div>
<a class="anchor" id="a14f637f10cbac05b248ecacb6c364abc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool* folly::HHWheelTimer::processingCallbacksGuard_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="HHWheelTimer_8h_source.html#l00308">308</a> of file <a class="el" href="HHWheelTimer_8h_source.html">HHWheelTimer.h</a>.</p>

<p>Referenced by <a class="el" href="HHWheelTimer_8cpp_source.html#l00307">calcNextTick()</a>, <a class="el" href="HHWheelTimer_8cpp_source.html#l00144">scheduleTimeout()</a>, <a class="el" href="HHWheelTimer_8cpp_source.html#l00184">timeoutExpired()</a>, and <a class="el" href="HHWheelTimer_8cpp_source.html#l00094">~HHWheelTimer()</a>.</p>

</div>
</div>
<a class="anchor" id="ad0fbcb63efb36b4a7c00f72072787b87"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::chrono::steady_clock::time_point folly::HHWheelTimer::startTime_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="HHWheelTimer_8h_source.html#l00302">302</a> of file <a class="el" href="HHWheelTimer_8h_source.html">HHWheelTimer.h</a>.</p>

<p>Referenced by <a class="el" href="HHWheelTimer_8cpp_source.html#l00307">calcNextTick()</a>.</p>

</div>
</div>
<a class="anchor" id="a986b9341685d4dca9b3ab74bea3dea5f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1HHWheelTimer.html#a4c630b24062c903ecff8e36bc4fb133f">CallbackList</a> folly::HHWheelTimer::timeouts</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="HHWheelTimer_8h_source.html#l00309">309</a> of file <a class="el" href="HHWheelTimer_8h_source.html">HHWheelTimer.h</a>.</p>

<p>Referenced by <a class="el" href="HHWheelTimer_8cpp_source.html#l00184">timeoutExpired()</a>, and <a class="el" href="HHWheelTimer_8cpp_source.html#l00094">~HHWheelTimer()</a>.</p>

</div>
</div>
<a class="anchor" id="a3869d970568daa01e71f2f848052f8e8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr int folly::HHWheelTimer::WHEEL_BITS = 8</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="HHWheelTimer_8h_source.html#l00285">285</a> of file <a class="el" href="HHWheelTimer_8h_source.html">HHWheelTimer.h</a>.</p>

<p>Referenced by <a class="el" href="HHWheelTimer_8cpp_source.html#l00111">scheduleTimeoutImpl()</a>, and <a class="el" href="HHWheelTimer_8cpp_source.html#l00184">timeoutExpired()</a>.</p>

</div>
</div>
<a class="anchor" id="a6c08cead3263519196896be0a99849c6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr int folly::HHWheelTimer::WHEEL_BUCKETS = 4</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="HHWheelTimer_8h_source.html#l00284">284</a> of file <a class="el" href="HHWheelTimer_8h_source.html">HHWheelTimer.h</a>.</p>

<p>Referenced by <a class="el" href="HHWheelTimer_8cpp_source.html#l00247">cancelAll()</a>.</p>

</div>
</div>
<a class="anchor" id="a6272688cb667dcd2a5cf17502b54ec5f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr unsigned int folly::HHWheelTimer::WHEEL_MASK = (<a class="el" href="classfolly_1_1HHWheelTimer.html#a58af6ea8fc5b5765cbc263cbbdb5ee5e">WHEEL_SIZE</a> - 1)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="HHWheelTimer_8h_source.html#l00287">287</a> of file <a class="el" href="HHWheelTimer_8h_source.html">HHWheelTimer.h</a>.</p>

<p>Referenced by <a class="el" href="HHWheelTimer_8cpp_source.html#l00281">scheduleNextTimeout()</a>, <a class="el" href="HHWheelTimer_8cpp_source.html#l00111">scheduleTimeoutImpl()</a>, and <a class="el" href="HHWheelTimer_8cpp_source.html#l00184">timeoutExpired()</a>.</p>

</div>
</div>
<a class="anchor" id="a58af6ea8fc5b5765cbc263cbbdb5ee5e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr unsigned int folly::HHWheelTimer::WHEEL_SIZE = (1 &lt;&lt; <a class="el" href="classfolly_1_1HHWheelTimer.html#a3869d970568daa01e71f2f848052f8e8">WHEEL_BITS</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="HHWheelTimer_8h_source.html#l00286">286</a> of file <a class="el" href="HHWheelTimer_8h_source.html">HHWheelTimer.h</a>.</p>

<p>Referenced by <a class="el" href="HHWheelTimer_8cpp_source.html#l00247">cancelAll()</a>, <a class="el" href="HHWheelTimer_8cpp_source.html#l00078">HHWheelTimer()</a>, <a class="el" href="HHWheelTimer_8cpp_source.html#l00281">scheduleNextTimeout()</a>, and <a class="el" href="HHWheelTimer_8cpp_source.html#l00111">scheduleTimeoutImpl()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>proxygen/folly/folly/io/async/<a class="el" href="HHWheelTimer_8h_source.html">HHWheelTimer.h</a></li>
<li>proxygen/folly/folly/io/async/<a class="el" href="HHWheelTimer_8cpp_source.html">HHWheelTimer.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefolly.html">folly</a></li><li class="navelem"><a class="el" href="classfolly_1_1HHWheelTimer.html">HHWheelTimer</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
