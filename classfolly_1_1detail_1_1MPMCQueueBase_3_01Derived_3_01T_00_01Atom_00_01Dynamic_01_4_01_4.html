<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>proxygen: folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">proxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-types">Protected Types</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>CRTP specialization of <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html" title="MPMCQueue base CRTP template. ">MPMCQueueBase</a>.  
 <a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.png" usemap="#folly::detail::MPMCQueueBase_3C_20Derived_3C_20T_2C_20Atom_2C_20Dynamic_20_3E_20_3E_map" alt=""/>
  <map id="folly::detail::MPMCQueueBase_3C_20Derived_3C_20T_2C_20Atom_2C_20Dynamic_20_3E_20_3E_map" name="folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a1f357d174c94387a480c396e4b39783d"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a1f357d174c94387a480c396e4b39783d">value_type</a></td></tr>
<tr class="separator:a1f357d174c94387a480c396e4b39783d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23738dd989b848ac0bf07186e51fb707"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a23738dd989b848ac0bf07186e51fb707">Slot</a> = <a class="el" href="structfolly_1_1detail_1_1SingleElementQueue.html">detail::SingleElementQueue</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a> &gt;</td></tr>
<tr class="separator:a23738dd989b848ac0bf07186e51fb707"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af85d2129ebed7031a7de3baa7465fad4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#af85d2129ebed7031a7de3baa7465fad4">MPMCQueueBase</a> (size_t queueCapacity)</td></tr>
<tr class="separator:af85d2129ebed7031a7de3baa7465fad4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecc2ed39f496687ee03d16d90c2e22b9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#aecc2ed39f496687ee03d16d90c2e22b9">MPMCQueueBase</a> () noexcept</td></tr>
<tr class="separator:aecc2ed39f496687ee03d16d90c2e22b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3852449f74a6802de30b7ef3fe3860f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ac3852449f74a6802de30b7ef3fe3860f">MPMCQueueBase</a> (<a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt;&gt; &amp;&amp;<a class="el" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>) noexcept</td></tr>
<tr class="separator:ac3852449f74a6802de30b7ef3fe3860f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9befda2f49f0daad66d0b294f869971"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt; const &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#aa9befda2f49f0daad66d0b294f869971">operator=</a> (<a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt;&gt; &amp;&amp;<a class="el" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>)</td></tr>
<tr class="separator:aa9befda2f49f0daad66d0b294f869971"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46f58dd45f45e9d156e4d4433984d2d3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a46f58dd45f45e9d156e4d4433984d2d3">~MPMCQueueBase</a> ()</td></tr>
<tr class="separator:a46f58dd45f45e9d156e4d4433984d2d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc0b2b30c23384bfddecfa74108e53c5"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#acc0b2b30c23384bfddecfa74108e53c5">size</a> () const noexcept</td></tr>
<tr class="separator:acc0b2b30c23384bfddecfa74108e53c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fee7abe4fef6d6522bc9d72b212aaae"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a1fee7abe4fef6d6522bc9d72b212aaae">isEmpty</a> () const noexcept</td></tr>
<tr class="memdesc:a1fee7abe4fef6d6522bc9d72b212aaae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if there are no items available for dequeue.  <a href="#a1fee7abe4fef6d6522bc9d72b212aaae">More...</a><br /></td></tr>
<tr class="separator:a1fee7abe4fef6d6522bc9d72b212aaae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5282c34f3df500f4af38b6f77ed7bd01"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a5282c34f3df500f4af38b6f77ed7bd01">isFull</a> () const noexcept</td></tr>
<tr class="memdesc:a5282c34f3df500f4af38b6f77ed7bd01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if there is currently no empty space to enqueue.  <a href="#a5282c34f3df500f4af38b6f77ed7bd01">More...</a><br /></td></tr>
<tr class="separator:a5282c34f3df500f4af38b6f77ed7bd01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb4dcb10fc386dcf8d30696dab4a99e9"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#abb4dcb10fc386dcf8d30696dab4a99e9">sizeGuess</a> () const noexcept</td></tr>
<tr class="separator:abb4dcb10fc386dcf8d30696dab4a99e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c96749f7db5c40aa1997b028f377cae"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a1c96749f7db5c40aa1997b028f377cae">capacity</a> () const noexcept</td></tr>
<tr class="memdesc:a1c96749f7db5c40aa1997b028f377cae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Doesn't change.  <a href="#a1c96749f7db5c40aa1997b028f377cae">More...</a><br /></td></tr>
<tr class="separator:a1c96749f7db5c40aa1997b028f377cae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bf8c3ce46c548805f3eb1a7be16b7e3"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a7bf8c3ce46c548805f3eb1a7be16b7e3">allocatedCapacity</a> () const noexcept</td></tr>
<tr class="memdesc:a7bf8c3ce46c548805f3eb1a7be16b7e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Doesn't change for non-dynamic.  <a href="#a7bf8c3ce46c548805f3eb1a7be16b7e3">More...</a><br /></td></tr>
<tr class="separator:a7bf8c3ce46c548805f3eb1a7be16b7e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dbae0e972cbb42d486705dcff203b9f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a9dbae0e972cbb42d486705dcff203b9f">writeCount</a> () const noexcept</td></tr>
<tr class="separator:a9dbae0e972cbb42d486705dcff203b9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a145e84481e35d0c0ba29b0663c8212c8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a145e84481e35d0c0ba29b0663c8212c8">readCount</a> () const noexcept</td></tr>
<tr class="separator:a145e84481e35d0c0ba29b0663c8212c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f1cbf6e37471c03ca3d5df87bdfaa20"><td class="memTemplParams" colspan="2">template&lt;typename... Args&gt; </td></tr>
<tr class="memitem:a3f1cbf6e37471c03ca3d5df87bdfaa20"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a3f1cbf6e37471c03ca3d5df87bdfaa20">blockingWrite</a> (Args &amp;&amp;...args) noexcept</td></tr>
<tr class="separator:a3f1cbf6e37471c03ca3d5df87bdfaa20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4c64c2a80b2c04f7ef3039f222777cd"><td class="memTemplParams" colspan="2">template&lt;typename... Args&gt; </td></tr>
<tr class="memitem:ad4c64c2a80b2c04f7ef3039f222777cd"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ad4c64c2a80b2c04f7ef3039f222777cd">write</a> (Args &amp;&amp;...args) noexcept</td></tr>
<tr class="separator:ad4c64c2a80b2c04f7ef3039f222777cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ca6f293deee1fda9c7d289efda43041"><td class="memTemplParams" colspan="2">template&lt;class Clock , typename... Args&gt; </td></tr>
<tr class="memitem:a4ca6f293deee1fda9c7d289efda43041"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a4ca6f293deee1fda9c7d289efda43041">tryWriteUntil</a> (const std::chrono::time_point&lt; Clock &gt; &amp;<a class="el" href="namespacefolly.html#a7ab90ae4183e3dc37f224c4f494824f9">when</a>, Args &amp;&amp;...args) noexcept</td></tr>
<tr class="separator:a4ca6f293deee1fda9c7d289efda43041"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae81e5a7314cb67ad277408ec18745759"><td class="memTemplParams" colspan="2">template&lt;typename... Args&gt; </td></tr>
<tr class="memitem:ae81e5a7314cb67ad277408ec18745759"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ae81e5a7314cb67ad277408ec18745759">writeIfNotFull</a> (Args &amp;&amp;...args) noexcept</td></tr>
<tr class="separator:ae81e5a7314cb67ad277408ec18745759"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29d0db7ed558a4bc6b0eade2f68e4e27"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a29d0db7ed558a4bc6b0eade2f68e4e27">blockingRead</a> (<a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &amp;elem) noexcept</td></tr>
<tr class="separator:a29d0db7ed558a4bc6b0eade2f68e4e27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a077115119063a2f5c8fb3fccfa058c38"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a077115119063a2f5c8fb3fccfa058c38">blockingReadWithTicket</a> (<a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> &amp;<a class="el" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>, <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &amp;elem) noexcept</td></tr>
<tr class="memdesc:a077115119063a2f5c8fb3fccfa058c38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Same as <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a29d0db7ed558a4bc6b0eade2f68e4e27">blockingRead()</a> but also records the ticket nunmer.  <a href="#a077115119063a2f5c8fb3fccfa058c38">More...</a><br /></td></tr>
<tr class="separator:a077115119063a2f5c8fb3fccfa058c38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a43b5a0058ac4251513bcf4ee8feecc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a8a43b5a0058ac4251513bcf4ee8feecc">read</a> (<a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &amp;elem) noexcept</td></tr>
<tr class="separator:a8a43b5a0058ac4251513bcf4ee8feecc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a649a82666da70ab4562b17ffad716732"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a649a82666da70ab4562b17ffad716732">readAndGetTicket</a> (<a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> &amp;<a class="el" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>, <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &amp;elem) noexcept</td></tr>
<tr class="memdesc:a649a82666da70ab4562b17ffad716732"><td class="mdescLeft">&#160;</td><td class="mdescRight">Same as <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a8a43b5a0058ac4251513bcf4ee8feecc">read()</a> but also records the ticket nunmer.  <a href="#a649a82666da70ab4562b17ffad716732">More...</a><br /></td></tr>
<tr class="separator:a649a82666da70ab4562b17ffad716732"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47d3ba24b0abd6f18608a61e0b7a5d11"><td class="memTemplParams" colspan="2">template&lt;class Clock , typename... Args&gt; </td></tr>
<tr class="memitem:a47d3ba24b0abd6f18608a61e0b7a5d11"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a47d3ba24b0abd6f18608a61e0b7a5d11">tryReadUntil</a> (const std::chrono::time_point&lt; Clock &gt; &amp;<a class="el" href="namespacefolly.html#a7ab90ae4183e3dc37f224c4f494824f9">when</a>, <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &amp;elem) noexcept</td></tr>
<tr class="separator:a47d3ba24b0abd6f18608a61e0b7a5d11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9e16e7dd4bc119ba7a9ba1baac74178"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ad9e16e7dd4bc119ba7a9ba1baac74178">readIfNotEmpty</a> (<a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &amp;elem) noexcept</td></tr>
<tr class="separator:ad9e16e7dd4bc119ba7a9ba1baac74178"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-types"></a>
Protected Types</h2></td></tr>
<tr class="memitem:ad17ed778a64abc6e0d40627832d0e198"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ad17ed778a64abc6e0d40627832d0e198a9e0c5f8f33f5f5f18d102c6227833ccd">kAdaptationFreq</a> = 128, 
<a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ad17ed778a64abc6e0d40627832d0e198ae522111d8bba83f1f7ae7e8c585e1bb1">kSlotPadding</a>
 }</td></tr>
<tr class="separator:ad17ed778a64abc6e0d40627832d0e198"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:afec5711ca52e7035ffd423476f378c5d"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#afec5711ca52e7035ffd423476f378c5d">idx</a> (<a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> <a class="el" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>, size_t cap, int stride) noexcept</td></tr>
<tr class="separator:afec5711ca52e7035ffd423476f378c5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83a63a034e5f80b7d2700475b099c953"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a83a63a034e5f80b7d2700475b099c953">turn</a> (<a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> <a class="el" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>, size_t cap) noexcept</td></tr>
<tr class="separator:a83a63a034e5f80b7d2700475b099c953"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1653180cbca9b6696c0589824de6a241"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a1653180cbca9b6696c0589824de6a241">tryObtainReadyPushTicket</a> (<a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> &amp;<a class="el" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>, <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a23738dd989b848ac0bf07186e51fb707">Slot</a> *&amp;slots, size_t &amp;cap, int &amp;stride) noexcept</td></tr>
<tr class="separator:a1653180cbca9b6696c0589824de6a241"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95bb4a0b904cbb650f0b11f99fdae694"><td class="memTemplParams" colspan="2">template&lt;class Clock &gt; </td></tr>
<tr class="memitem:a95bb4a0b904cbb650f0b11f99fdae694"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a95bb4a0b904cbb650f0b11f99fdae694">tryObtainPromisedPushTicketUntil</a> (<a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> &amp;<a class="el" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>, <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a23738dd989b848ac0bf07186e51fb707">Slot</a> *&amp;slots, size_t &amp;cap, int &amp;stride, const std::chrono::time_point&lt; Clock &gt; &amp;<a class="el" href="namespacefolly.html#a7ab90ae4183e3dc37f224c4f494824f9">when</a>) noexcept</td></tr>
<tr class="separator:a95bb4a0b904cbb650f0b11f99fdae694"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a981bee984586592588e2e4538d0ddc07"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a981bee984586592588e2e4538d0ddc07">tryObtainPromisedPushTicket</a> (<a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> &amp;<a class="el" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>, <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a23738dd989b848ac0bf07186e51fb707">Slot</a> *&amp;slots, size_t &amp;cap, int &amp;stride) noexcept</td></tr>
<tr class="separator:a981bee984586592588e2e4538d0ddc07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36b321b929ac656c6aa105cf3885f746"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a36b321b929ac656c6aa105cf3885f746">tryObtainReadyPopTicket</a> (<a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> &amp;<a class="el" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>, <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a23738dd989b848ac0bf07186e51fb707">Slot</a> *&amp;slots, size_t &amp;cap, int &amp;stride) noexcept</td></tr>
<tr class="separator:a36b321b929ac656c6aa105cf3885f746"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d9caea821c453f985fad16929099b66"><td class="memTemplParams" colspan="2">template&lt;class Clock &gt; </td></tr>
<tr class="memitem:a8d9caea821c453f985fad16929099b66"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a8d9caea821c453f985fad16929099b66">tryObtainPromisedPopTicketUntil</a> (<a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> &amp;<a class="el" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>, <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a23738dd989b848ac0bf07186e51fb707">Slot</a> *&amp;slots, size_t &amp;cap, int &amp;stride, const std::chrono::time_point&lt; Clock &gt; &amp;<a class="el" href="namespacefolly.html#a7ab90ae4183e3dc37f224c4f494824f9">when</a>) noexcept</td></tr>
<tr class="separator:a8d9caea821c453f985fad16929099b66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca8ac200c6d2213d18a047a93f8a1cc7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#aca8ac200c6d2213d18a047a93f8a1cc7">tryObtainPromisedPopTicket</a> (<a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> &amp;<a class="el" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>, <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a23738dd989b848ac0bf07186e51fb707">Slot</a> *&amp;slots, size_t &amp;cap, int &amp;stride) noexcept</td></tr>
<tr class="separator:aca8ac200c6d2213d18a047a93f8a1cc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a253b38c5ae647081d91d8564d8f1b423"><td class="memTemplParams" colspan="2">template&lt;typename... Args&gt; </td></tr>
<tr class="memitem:a253b38c5ae647081d91d8564d8f1b423"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a253b38c5ae647081d91d8564d8f1b423">enqueueWithTicketBase</a> (<a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> <a class="el" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>, <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a23738dd989b848ac0bf07186e51fb707">Slot</a> *slots, size_t cap, int stride, Args &amp;&amp;...args) noexcept</td></tr>
<tr class="separator:a253b38c5ae647081d91d8564d8f1b423"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa27ff97d82a0c5c362ab94ee9522f56f"><td class="memTemplParams" colspan="2">template&lt;typename... Args&gt; </td></tr>
<tr class="memitem:aa27ff97d82a0c5c362ab94ee9522f56f"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#aa27ff97d82a0c5c362ab94ee9522f56f">enqueueWithTicket</a> (<a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> <a class="el" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>, Args &amp;&amp;...args) noexcept</td></tr>
<tr class="separator:aa27ff97d82a0c5c362ab94ee9522f56f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a693a23b9b934af1e802d02f8420fd226"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a693a23b9b934af1e802d02f8420fd226">dequeueWithTicketBase</a> (<a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> <a class="el" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>, <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a23738dd989b848ac0bf07186e51fb707">Slot</a> *slots, size_t cap, int stride, <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &amp;elem) noexcept</td></tr>
<tr class="separator:a693a23b9b934af1e802d02f8420fd226"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:a3fe2ba945a2becfc334ce0766e176dc8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a3fe2ba945a2becfc334ce0766e176dc8">computeStride</a> (size_t <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a1c96749f7db5c40aa1997b028f377cae">capacity</a>) noexcept</td></tr>
<tr class="separator:a3fe2ba945a2becfc334ce0766e176dc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a3cacede25651073c09512553f8b6f4c6"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a3cacede25651073c09512553f8b6f4c6">capacity_</a></td></tr>
<tr class="memdesc:a3cacede25651073c09512553f8b6f4c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum number of items in the queue at once.  <a href="#a3cacede25651073c09512553f8b6f4c6">More...</a><br /></td></tr>
<tr class="separator:a3cacede25651073c09512553f8b6f4c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7525d6468844fe8bfed908a6d67af20"><td class="memItemLeft" align="right" valign="top">union <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;:: { ... } &#160;</td><td class="memItemRight" valign="bottom"></td></tr>
<tr class="memdesc:af7525d6468844fe8bfed908a6d67af20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Anonymous union for use when Dynamic = false and true, respectively.  <a href="#af7525d6468844fe8bfed908a6d67af20">More...</a><br /></td></tr>
<tr class="separator:af7525d6468844fe8bfed908a6d67af20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8d91a6add2cc192b329444e33936ccb"><td class="memItemLeft" align="right" valign="top">union <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;:: { ... } &#160;</td><td class="memItemRight" valign="bottom"></td></tr>
<tr class="memdesc:ac8d91a6add2cc192b329444e33936ccb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Anonymous union for use when Dynamic = false and true, respectively.  <a href="#ac8d91a6add2cc192b329444e33936ccb">More...</a><br /></td></tr>
<tr class="separator:ac8d91a6add2cc192b329444e33936ccb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a571a1c2794b26ea20cbd853d3767b4c2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>&lt; <a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a571a1c2794b26ea20cbd853d3767b4c2">dstate_</a></td></tr>
<tr class="separator:a571a1c2794b26ea20cbd853d3767b4c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10ad3362ca4fd968424b04fe7443ce91"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>&lt; size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a10ad3362ca4fd968424b04fe7443ce91">dcapacity_</a></td></tr>
<tr class="memdesc:a10ad3362ca4fd968424b04fe7443ce91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dynamic capacity.  <a href="#a10ad3362ca4fd968424b04fe7443ce91">More...</a><br /></td></tr>
<tr class="separator:a10ad3362ca4fd968424b04fe7443ce91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45ac0d9ef00c0950873ced51b6c03b65"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>&lt; <a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a45ac0d9ef00c0950873ced51b6c03b65">pushTicket_</a></td></tr>
<tr class="memdesc:a45ac0d9ef00c0950873ced51b6c03b65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enqueuers get tickets from here.  <a href="#a45ac0d9ef00c0950873ced51b6c03b65">More...</a><br /></td></tr>
<tr class="separator:a45ac0d9ef00c0950873ced51b6c03b65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cb89aa21af94067d2275b9162453f65"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>&lt; <a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a1cb89aa21af94067d2275b9162453f65">popTicket_</a></td></tr>
<tr class="memdesc:a1cb89aa21af94067d2275b9162453f65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dequeuers get tickets from here.  <a href="#a1cb89aa21af94067d2275b9162453f65">More...</a><br /></td></tr>
<tr class="separator:a1cb89aa21af94067d2275b9162453f65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb7131b82a20603509baa4b8f8253be9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>&lt; <a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#abb7131b82a20603509baa4b8f8253be9">pushSpinCutoff_</a></td></tr>
<tr class="separator:abb7131b82a20603509baa4b8f8253be9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4928c8411b61c5050b5a669c62c90b0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>&lt; <a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ab4928c8411b61c5050b5a669c62c90b0">popSpinCutoff_</a></td></tr>
<tr class="memdesc:ab4928c8411b61c5050b5a669c62c90b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">The adaptive spin cutoff when the queue is empty on dequeue.  <a href="#ab4928c8411b61c5050b5a669c62c90b0">More...</a><br /></td></tr>
<tr class="separator:ab4928c8411b61c5050b5a669c62c90b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9222dda8e312d561f087714d39f7fa6c"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a9222dda8e312d561f087714d39f7fa6c">pad_</a> [<a class="el" href="namespacefolly.html#ad7785b3b18d42e038fcae97678622da4">hardware_destructive_interference_size</a>-<a class="el" href="namespacefolly_1_1detail.html#a47282ba6480fc910c4bf7dbcf33ace49">sizeof</a>(<a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>&lt; <a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> &gt;)]</td></tr>
<tr class="separator:a9222dda8e312d561f087714d39f7fa6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T, template&lt; typename &gt; class Atom, bool Dynamic&gt;<br />
class folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;</h3>

<p>CRTP specialization of <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html" title="MPMCQueue base CRTP template. ">MPMCQueueBase</a>. </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l00643">643</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a23738dd989b848ac0bf07186e51fb707"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::<a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a23738dd989b848ac0bf07186e51fb707">Slot</a> =  <a class="el" href="structfolly_1_1detail_1_1SingleElementQueue.html">detail::SingleElementQueue</a>&lt;<a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l00657">657</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1f357d174c94387a480c396e4b39783d"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::<a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a1f357d174c94387a480c396e4b39783d">value_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l00652">652</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="ad17ed778a64abc6e0d40627832d0e198"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="ad17ed778a64abc6e0d40627832d0e198a9e0c5f8f33f5f5f18d102c6227833ccd"></a>kAdaptationFreq&#160;</td><td class="fielddoc">
<p>Once every kAdaptationFreq we will spin longer, to try to estimate the proper spin backoff </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ad17ed778a64abc6e0d40627832d0e198ae522111d8bba83f1f7ae7e8c585e1bb1"></a>kSlotPadding&#160;</td><td class="fielddoc">
<p>To avoid false sharing in slots_ with neighboring memory allocations, we pad it with this many SingleElementQueue-s at each end </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l00991">991</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;       {</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ad17ed778a64abc6e0d40627832d0e198a9e0c5f8f33f5f5f18d102c6227833ccd">kAdaptationFreq</a> = 128,</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ad17ed778a64abc6e0d40627832d0e198ae522111d8bba83f1f7ae7e8c585e1bb1">kSlotPadding</a> =</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        (<a class="code" href="namespacefolly.html#ad7785b3b18d42e038fcae97678622da4">hardware_destructive_interference_size</a> - 1) / <span class="keyword">sizeof</span>(<a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a23738dd989b848ac0bf07186e51fb707">Slot</a>) + 1</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  };</div><div class="ttc" id="namespacefolly_html_ad7785b3b18d42e038fcae97678622da4"><div class="ttname"><a href="namespacefolly.html#ad7785b3b18d42e038fcae97678622da4">folly::hardware_destructive_interference_size</a></div><div class="ttdeci">constexpr std::size_t hardware_destructive_interference_size</div><div class="ttdef"><b>Definition:</b> <a href="Align_8h_source.html#l00107">Align.h:107</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_ad17ed778a64abc6e0d40627832d0e198ae522111d8bba83f1f7ae7e8c585e1bb1"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ad17ed778a64abc6e0d40627832d0e198ae522111d8bba83f1f7ae7e8c585e1bb1">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::kSlotPadding</a></div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l00999">MPMCQueue.h:999</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_ad17ed778a64abc6e0d40627832d0e198a9e0c5f8f33f5f5f18d102c6227833ccd"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ad17ed778a64abc6e0d40627832d0e198a9e0c5f8f33f5f5f18d102c6227833ccd">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::kAdaptationFreq</a></div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l00994">MPMCQueue.h:994</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a23738dd989b848ac0bf07186e51fb707"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a23738dd989b848ac0bf07186e51fb707">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::Slot</a></div><div class="ttdeci">detail::SingleElementQueue&lt; T, Atom &gt; Slot</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l00657">MPMCQueue.h:657</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="af85d2129ebed7031a7de3baa7465fad4"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::<a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">MPMCQueueBase</a> </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>queueCapacity</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l00659">659</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

<p>References <a class="el" href="Align_8h_source.html#l00107">folly::hardware_destructive_interference_size</a>.</p>
<div class="fragment"><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;      : <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a3cacede25651073c09512553f8b6f4c6">capacity_</a>(queueCapacity),</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a571a1c2794b26ea20cbd853d3767b4c2">dstate_</a>(0),</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a10ad3362ca4fd968424b04fe7443ce91">dcapacity_</a>(0),</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a45ac0d9ef00c0950873ced51b6c03b65">pushTicket_</a>(0),</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a1cb89aa21af94067d2275b9162453f65">popTicket_</a>(0),</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#abb7131b82a20603509baa4b8f8253be9">pushSpinCutoff_</a>(0),</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ab4928c8411b61c5050b5a669c62c90b0">popSpinCutoff_</a>(0) {</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="keywordflow">if</span> (queueCapacity == 0) {</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;      <span class="keywordflow">throw</span> std::invalid_argument(</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;          <span class="stringliteral">&quot;MPMCQueue with explicit capacity 0 is impossible&quot;</span></div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;          <span class="comment">// Stride computation in derived classes would sigfpe if capacity is 0</span></div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;      );</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    }</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="comment">// ideally this would be a static assert, but g++ doesn&#39;t allow it</span></div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    assert(</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        <span class="keyword">alignof</span>(MPMCQueue&lt;T, Atom&gt;) &gt;= <a class="code" href="namespacefolly.html#ad7785b3b18d42e038fcae97678622da4">hardware_destructive_interference_size</a>);</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    assert(</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        static_cast&lt;uint8_t*&gt;(static_cast&lt;void*&gt;(&amp;<a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a1cb89aa21af94067d2275b9162453f65">popTicket_</a>)) -</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;            static_cast&lt;uint8_t*&gt;(static_cast&lt;void*&gt;(&amp;<a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a45ac0d9ef00c0950873ced51b6c03b65">pushTicket_</a>)) &gt;=</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        static_cast&lt;ptrdiff_t&gt;(<a class="code" href="namespacefolly.html#ad7785b3b18d42e038fcae97678622da4">hardware_destructive_interference_size</a>));</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  }</div><div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a10ad3362ca4fd968424b04fe7443ce91"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a10ad3362ca4fd968424b04fe7443ce91">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::dcapacity_</a></div><div class="ttdeci">Atom&lt; size_t &gt; dcapacity_</div><div class="ttdoc">Dynamic capacity. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01034">MPMCQueue.h:1034</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_abb7131b82a20603509baa4b8f8253be9"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#abb7131b82a20603509baa4b8f8253be9">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::pushSpinCutoff_</a></div><div class="ttdeci">Atom&lt; uint32_t &gt; pushSpinCutoff_</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01046">MPMCQueue.h:1046</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a3cacede25651073c09512553f8b6f4c6"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a3cacede25651073c09512553f8b6f4c6">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::capacity_</a></div><div class="ttdeci">size_t capacity_</div><div class="ttdoc">The maximum number of items in the queue at once. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01004">MPMCQueue.h:1004</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a1cb89aa21af94067d2275b9162453f65"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a1cb89aa21af94067d2275b9162453f65">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::popTicket_</a></div><div class="ttdeci">Atom&lt; uint64_t &gt; popTicket_</div><div class="ttdoc">Dequeuers get tickets from here. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01040">MPMCQueue.h:1040</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a571a1c2794b26ea20cbd853d3767b4c2"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a571a1c2794b26ea20cbd853d3767b4c2">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::dstate_</a></div><div class="ttdeci">Atom&lt; uint64_t &gt; dstate_</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01032">MPMCQueue.h:1032</a></div></div>
<div class="ttc" id="namespacefolly_html_ad7785b3b18d42e038fcae97678622da4"><div class="ttname"><a href="namespacefolly.html#ad7785b3b18d42e038fcae97678622da4">folly::hardware_destructive_interference_size</a></div><div class="ttdeci">constexpr std::size_t hardware_destructive_interference_size</div><div class="ttdef"><b>Definition:</b> <a href="Align_8h_source.html#l00107">Align.h:107</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a45ac0d9ef00c0950873ced51b6c03b65"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a45ac0d9ef00c0950873ced51b6c03b65">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::pushTicket_</a></div><div class="ttdeci">Atom&lt; uint64_t &gt; pushTicket_</div><div class="ttdoc">Enqueuers get tickets from here. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01037">MPMCQueue.h:1037</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_ab4928c8411b61c5050b5a669c62c90b0"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ab4928c8411b61c5050b5a669c62c90b0">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::popSpinCutoff_</a></div><div class="ttdeci">Atom&lt; uint32_t &gt; popSpinCutoff_</div><div class="ttdoc">The adaptive spin cutoff when the queue is empty on dequeue. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01049">MPMCQueue.h:1049</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aecc2ed39f496687ee03d16d90c2e22b9"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::<a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">MPMCQueueBase</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="structA.html">A</a> default-constructed queue is useful because a usable (non-zero capacity) queue can be moved onto it or swapped with it </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l00685">685</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;      : <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a3cacede25651073c09512553f8b6f4c6">capacity_</a>(0),</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ac3f3bcc38d5d5f8a5b3b8f7468effdcb">slots_</a>(<span class="keyword">nullptr</span>),</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a98ec88b404a1c1940ccc9252806fb953">stride_</a>(0),</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a571a1c2794b26ea20cbd853d3767b4c2">dstate_</a>(0),</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a10ad3362ca4fd968424b04fe7443ce91">dcapacity_</a>(0),</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a45ac0d9ef00c0950873ced51b6c03b65">pushTicket_</a>(0),</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a1cb89aa21af94067d2275b9162453f65">popTicket_</a>(0),</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#abb7131b82a20603509baa4b8f8253be9">pushSpinCutoff_</a>(0),</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ab4928c8411b61c5050b5a669c62c90b0">popSpinCutoff_</a>(0) {}</div><div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a10ad3362ca4fd968424b04fe7443ce91"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a10ad3362ca4fd968424b04fe7443ce91">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::dcapacity_</a></div><div class="ttdeci">Atom&lt; size_t &gt; dcapacity_</div><div class="ttdoc">Dynamic capacity. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01034">MPMCQueue.h:1034</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_abb7131b82a20603509baa4b8f8253be9"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#abb7131b82a20603509baa4b8f8253be9">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::pushSpinCutoff_</a></div><div class="ttdeci">Atom&lt; uint32_t &gt; pushSpinCutoff_</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01046">MPMCQueue.h:1046</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a3cacede25651073c09512553f8b6f4c6"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a3cacede25651073c09512553f8b6f4c6">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::capacity_</a></div><div class="ttdeci">size_t capacity_</div><div class="ttdoc">The maximum number of items in the queue at once. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01004">MPMCQueue.h:1004</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a1cb89aa21af94067d2275b9162453f65"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a1cb89aa21af94067d2275b9162453f65">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::popTicket_</a></div><div class="ttdeci">Atom&lt; uint64_t &gt; popTicket_</div><div class="ttdoc">Dequeuers get tickets from here. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01040">MPMCQueue.h:1040</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a571a1c2794b26ea20cbd853d3767b4c2"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a571a1c2794b26ea20cbd853d3767b4c2">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::dstate_</a></div><div class="ttdeci">Atom&lt; uint64_t &gt; dstate_</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01032">MPMCQueue.h:1032</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a45ac0d9ef00c0950873ced51b6c03b65"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a45ac0d9ef00c0950873ced51b6c03b65">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::pushTicket_</a></div><div class="ttdeci">Atom&lt; uint64_t &gt; pushTicket_</div><div class="ttdoc">Enqueuers get tickets from here. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01037">MPMCQueue.h:1037</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_ac3f3bcc38d5d5f8a5b3b8f7468effdcb"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ac3f3bcc38d5d5f8a5b3b8f7468effdcb">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::slots_</a></div><div class="ttdeci">Slot * slots_</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01011">MPMCQueue.h:1011</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_ab4928c8411b61c5050b5a669c62c90b0"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ab4928c8411b61c5050b5a669c62c90b0">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::popSpinCutoff_</a></div><div class="ttdeci">Atom&lt; uint32_t &gt; popSpinCutoff_</div><div class="ttdoc">The adaptive spin cutoff when the queue is empty on dequeue. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01049">MPMCQueue.h:1049</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a98ec88b404a1c1940ccc9252806fb953"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a98ec88b404a1c1940ccc9252806fb953">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::stride_</a></div><div class="ttdeci">int stride_</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01021">MPMCQueue.h:1021</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac3852449f74a6802de30b7ef3fe3860f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::<a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">MPMCQueueBase</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt;&gt; &amp;&amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>IMPORTANT: The move constructor is here to make it easier to perform the initialization phase, it is not safe to use when there are any concurrent accesses (this is not checked). </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l00699">699</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

<p>References <a class="el" href="Traits_8h_source.html#l00649">folly::detail::rhs</a>.</p>
<div class="fragment"><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;      : <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a3cacede25651073c09512553f8b6f4c6">capacity_</a>(<a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>.capacity_),</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ac3f3bcc38d5d5f8a5b3b8f7468effdcb">slots_</a>(<a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>.slots_),</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a98ec88b404a1c1940ccc9252806fb953">stride_</a>(<a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>.stride_),</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a571a1c2794b26ea20cbd853d3767b4c2">dstate_</a>(<a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>.dstate_.load(std::memory_order_relaxed)),</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a10ad3362ca4fd968424b04fe7443ce91">dcapacity_</a>(<a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>.dcapacity_.load(std::memory_order_relaxed)),</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a45ac0d9ef00c0950873ced51b6c03b65">pushTicket_</a>(<a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>.pushTicket_.load(std::memory_order_relaxed)),</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a1cb89aa21af94067d2275b9162453f65">popTicket_</a>(<a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>.popTicket_.load(std::memory_order_relaxed)),</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#abb7131b82a20603509baa4b8f8253be9">pushSpinCutoff_</a>(<a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>.pushSpinCutoff_.load(std::memory_order_relaxed)),</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ab4928c8411b61c5050b5a669c62c90b0">popSpinCutoff_</a>(<a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>.popSpinCutoff_.load(std::memory_order_relaxed)) {</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <span class="comment">// relaxed ops are okay for the previous reads, since rhs queue can&#39;t</span></div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <span class="comment">// be in concurrent use</span></div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="comment">// zero out rhs</span></div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>.capacity_ = 0;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>.slots_ = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>.stride_ = 0;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>.dstate_.store(0, std::memory_order_relaxed);</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>.dcapacity_.store(0, std::memory_order_relaxed);</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>.pushTicket_.store(0, std::memory_order_relaxed);</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>.popTicket_.store(0, std::memory_order_relaxed);</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>.pushSpinCutoff_.store(0, std::memory_order_relaxed);</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>.popSpinCutoff_.store(0, std::memory_order_relaxed);</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  }</div><div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a10ad3362ca4fd968424b04fe7443ce91"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a10ad3362ca4fd968424b04fe7443ce91">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::dcapacity_</a></div><div class="ttdeci">Atom&lt; size_t &gt; dcapacity_</div><div class="ttdoc">Dynamic capacity. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01034">MPMCQueue.h:1034</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_abb7131b82a20603509baa4b8f8253be9"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#abb7131b82a20603509baa4b8f8253be9">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::pushSpinCutoff_</a></div><div class="ttdeci">Atom&lt; uint32_t &gt; pushSpinCutoff_</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01046">MPMCQueue.h:1046</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a3cacede25651073c09512553f8b6f4c6"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a3cacede25651073c09512553f8b6f4c6">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::capacity_</a></div><div class="ttdeci">size_t capacity_</div><div class="ttdoc">The maximum number of items in the queue at once. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01004">MPMCQueue.h:1004</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a1cb89aa21af94067d2275b9162453f65"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a1cb89aa21af94067d2275b9162453f65">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::popTicket_</a></div><div class="ttdeci">Atom&lt; uint64_t &gt; popTicket_</div><div class="ttdoc">Dequeuers get tickets from here. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01040">MPMCQueue.h:1040</a></div></div>
<div class="ttc" id="namespacefolly_1_1detail_html_a2dccd19efd4e58589c88f81f62bbf32e"><div class="ttname"><a href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">folly::detail::rhs</a></div><div class="ttdeci">FOLLY_PUSH_WARNING RHS rhs</div><div class="ttdef"><b>Definition:</b> <a href="Traits_8h_source.html#l00649">Traits.h:649</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a571a1c2794b26ea20cbd853d3767b4c2"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a571a1c2794b26ea20cbd853d3767b4c2">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::dstate_</a></div><div class="ttdeci">Atom&lt; uint64_t &gt; dstate_</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01032">MPMCQueue.h:1032</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a45ac0d9ef00c0950873ced51b6c03b65"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a45ac0d9ef00c0950873ced51b6c03b65">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::pushTicket_</a></div><div class="ttdeci">Atom&lt; uint64_t &gt; pushTicket_</div><div class="ttdoc">Enqueuers get tickets from here. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01037">MPMCQueue.h:1037</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_ac3f3bcc38d5d5f8a5b3b8f7468effdcb"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ac3f3bcc38d5d5f8a5b3b8f7468effdcb">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::slots_</a></div><div class="ttdeci">Slot * slots_</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01011">MPMCQueue.h:1011</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_ab4928c8411b61c5050b5a669c62c90b0"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ab4928c8411b61c5050b5a669c62c90b0">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::popSpinCutoff_</a></div><div class="ttdeci">Atom&lt; uint32_t &gt; popSpinCutoff_</div><div class="ttdoc">The adaptive spin cutoff when the queue is empty on dequeue. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01049">MPMCQueue.h:1049</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a98ec88b404a1c1940ccc9252806fb953"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a98ec88b404a1c1940ccc9252806fb953">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::stride_</a></div><div class="ttdeci">int stride_</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01021">MPMCQueue.h:1021</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a46f58dd45f45e9d156e4d4433984d2d3"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::~<a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">MPMCQueueBase</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="classfolly_1_1MPMCQueue.html">MPMCQueue</a> can only be safely destroyed when there are no pending enqueuers or dequeuers (this is not checked). </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l00738">738</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                   {</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <span class="keyword">delete</span>[] <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ac3f3bcc38d5d5f8a5b3b8f7468effdcb">slots_</a>;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  }</div><div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_ac3f3bcc38d5d5f8a5b3b8f7468effdcb"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ac3f3bcc38d5d5f8a5b3b8f7468effdcb">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::slots_</a></div><div class="ttdeci">Slot * slots_</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01011">MPMCQueue.h:1011</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a7bf8c3ce46c548805f3eb1a7be16b7e3"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::allocatedCapacity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Doesn't change for non-dynamic. </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l00804">804</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                                            {</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a3cacede25651073c09512553f8b6f4c6">capacity_</a>;</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  }</div><div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a3cacede25651073c09512553f8b6f4c6"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a3cacede25651073c09512553f8b6f4c6">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::capacity_</a></div><div class="ttdeci">size_t capacity_</div><div class="ttdoc">The maximum number of items in the queue at once. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01004">MPMCQueue.h:1004</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a29d0db7ed558a4bc6b0eade2f68e4e27"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::blockingRead </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &amp;&#160;</td>
          <td class="paramname"><em>elem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Moves a dequeued element onto elem, blocking until an element is available </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l00916">916</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

<p>References <a class="el" href="TicketCodecTest_8cpp_source.html#l00021">ticket</a>, and <a class="el" href="ConstexprMathBenchmark_8cpp_source.html#l00190">uint64_t</a>.</p>
<div class="fragment"><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;                                      {</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <a class="code" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> <a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>;</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <span class="keyword">static_cast&lt;</span>Derived&lt;T, Atom, Dynamic&gt;*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)-&gt;<a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a077115119063a2f5c8fb3fccfa058c38">blockingReadWithTicket</a>(</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        ticket, elem);</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  }</div><div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a077115119063a2f5c8fb3fccfa058c38"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a077115119063a2f5c8fb3fccfa058c38">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::blockingReadWithTicket</a></div><div class="ttdeci">void blockingReadWithTicket(uint64_t &amp;ticket, T &amp;elem) noexcept</div><div class="ttdoc">Same as blockingRead() but also records the ticket nunmer. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l00923">MPMCQueue.h:923</a></div></div>
<div class="ttc" id="TicketCodecTest_8cpp_html_a7093cc9e41a6fdad6b2f2aa9211604c6"><div class="ttname"><a href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a></div><div class="ttdeci">static constexpr StringPiece ticket</div><div class="ttdef"><b>Definition:</b> <a href="TicketCodecTest_8cpp_source.html#l00021">TicketCodecTest.cpp:21</a></div></div>
<div class="ttc" id="ConstexprMathBenchmark_8cpp_html_a5dc34568a989dd90728a4ed499cd9fab"><div class="ttname"><a href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a></div><div class="ttdeci">uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ConstexprMathBenchmark_8cpp_source.html#l00190">ConstexprMathBenchmark.cpp:190</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a077115119063a2f5c8fb3fccfa058c38"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::blockingReadWithTicket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> &amp;&#160;</td>
          <td class="paramname"><em>ticket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &amp;&#160;</td>
          <td class="paramname"><em>elem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Same as <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a29d0db7ed558a4bc6b0eade2f68e4e27">blockingRead()</a> but also records the ticket nunmer. </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l00923">923</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

<p>References <a class="el" href="TicketCodecTest_8cpp_source.html#l00021">ticket</a>.</p>
<div class="fragment"><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;                                                                  {</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    assert(<a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a3cacede25651073c09512553f8b6f4c6">capacity_</a> != 0);</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a> = <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a1cb89aa21af94067d2275b9162453f65">popTicket_</a>++;</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a693a23b9b934af1e802d02f8420fd226">dequeueWithTicketBase</a>(<a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>, <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ac3f3bcc38d5d5f8a5b3b8f7468effdcb">slots_</a>, <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a3cacede25651073c09512553f8b6f4c6">capacity_</a>, <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a98ec88b404a1c1940ccc9252806fb953">stride_</a>, elem);</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;  }</div><div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a3cacede25651073c09512553f8b6f4c6"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a3cacede25651073c09512553f8b6f4c6">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::capacity_</a></div><div class="ttdeci">size_t capacity_</div><div class="ttdoc">The maximum number of items in the queue at once. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01004">MPMCQueue.h:1004</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a1cb89aa21af94067d2275b9162453f65"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a1cb89aa21af94067d2275b9162453f65">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::popTicket_</a></div><div class="ttdeci">Atom&lt; uint64_t &gt; popTicket_</div><div class="ttdoc">Dequeuers get tickets from here. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01040">MPMCQueue.h:1040</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a693a23b9b934af1e802d02f8420fd226"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a693a23b9b934af1e802d02f8420fd226">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::dequeueWithTicketBase</a></div><div class="ttdeci">void dequeueWithTicketBase(uint64_t ticket, Slot *slots, size_t cap, int stride, T &amp;elem) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01319">MPMCQueue.h:1319</a></div></div>
<div class="ttc" id="TicketCodecTest_8cpp_html_a7093cc9e41a6fdad6b2f2aa9211604c6"><div class="ttname"><a href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a></div><div class="ttdeci">static constexpr StringPiece ticket</div><div class="ttdef"><b>Definition:</b> <a href="TicketCodecTest_8cpp_source.html#l00021">TicketCodecTest.cpp:21</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_ac3f3bcc38d5d5f8a5b3b8f7468effdcb"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ac3f3bcc38d5d5f8a5b3b8f7468effdcb">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::slots_</a></div><div class="ttdeci">Slot * slots_</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01011">MPMCQueue.h:1011</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a98ec88b404a1c1940ccc9252806fb953"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a98ec88b404a1c1940ccc9252806fb953">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::stride_</a></div><div class="ttdeci">int stride_</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01021">MPMCQueue.h:1021</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3f1cbf6e37471c03ca3d5df87bdfaa20"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<div class="memtemplate">
template&lt;typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::blockingWrite </td>
          <td>(</td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Enqueues a T constructed from args, blocking until space is available. Note that this method signature allows enqueue via move, if args is a T rvalue, via copy, if args is a T lvalue, or via emplacement if args is an initializer list that can be passed to a T constructor. </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l00828">828</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

<p>References <a class="el" href="fizz_2build___2gtest_2src_2gtest_2googlemock_2include_2gmock_2gmock-generated-matchers_8h_source.html#l00481">testing::Args()</a>.</p>
<div class="fragment"><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                                              {</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a253b38c5ae647081d91d8564d8f1b423">enqueueWithTicketBase</a>(</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;        <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a45ac0d9ef00c0950873ced51b6c03b65">pushTicket_</a>++, <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ac3f3bcc38d5d5f8a5b3b8f7468effdcb">slots_</a>, <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a3cacede25651073c09512553f8b6f4c6">capacity_</a>, <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a98ec88b404a1c1940ccc9252806fb953">stride_</a>, std::forward&lt;Args&gt;(args)...);</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  }</div><div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a253b38c5ae647081d91d8564d8f1b423"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a253b38c5ae647081d91d8564d8f1b423">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::enqueueWithTicketBase</a></div><div class="ttdeci">void enqueueWithTicketBase(uint64_t ticket, Slot *slots, size_t cap, int stride, Args &amp;&amp;...args) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01298">MPMCQueue.h:1298</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a3cacede25651073c09512553f8b6f4c6"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a3cacede25651073c09512553f8b6f4c6">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::capacity_</a></div><div class="ttdeci">size_t capacity_</div><div class="ttdoc">The maximum number of items in the queue at once. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01004">MPMCQueue.h:1004</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a45ac0d9ef00c0950873ced51b6c03b65"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a45ac0d9ef00c0950873ced51b6c03b65">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::pushTicket_</a></div><div class="ttdeci">Atom&lt; uint64_t &gt; pushTicket_</div><div class="ttdoc">Enqueuers get tickets from here. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01037">MPMCQueue.h:1037</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_ac3f3bcc38d5d5f8a5b3b8f7468effdcb"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ac3f3bcc38d5d5f8a5b3b8f7468effdcb">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::slots_</a></div><div class="ttdeci">Slot * slots_</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01011">MPMCQueue.h:1011</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a98ec88b404a1c1940ccc9252806fb953"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a98ec88b404a1c1940ccc9252806fb953">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::stride_</a></div><div class="ttdeci">int stride_</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01021">MPMCQueue.h:1021</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1c96749f7db5c40aa1997b028f377cae"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::capacity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Doesn't change. </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l00799">799</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                                   {</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a3cacede25651073c09512553f8b6f4c6">capacity_</a>;</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  }</div><div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a3cacede25651073c09512553f8b6f4c6"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a3cacede25651073c09512553f8b6f4c6">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::capacity_</a></div><div class="ttdeci">size_t capacity_</div><div class="ttdoc">The maximum number of items in the queue at once. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01004">MPMCQueue.h:1004</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3fe2ba945a2becfc334ce0766e176dc8"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::computeStride </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>capacity</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">protected</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>We assign tickets in increasing order, but we don't want to access neighboring elements of slots_ because that will lead to false sharing (multiple cores accessing the same cache line even though they aren't accessing the same bytes in that cache line). To avoid this we advance by stride slots per ticket.</p>
<p>We need gcd(capacity, stride) to be 1 so that we will use all of the slots. We ensure this by only considering prime strides, which either have no common divisors with capacity or else have a zero remainder after dividing by capacity. That is sufficient to guarantee correctness, but we also want to actually spread the accesses away from each other to avoid false sharing (consider a stride of 7 with a capacity of 8). To that end we try a few taking care to observe that advancing by -1 is as bad as advancing by 1 when in comes to false sharing.</p>
<p>The simple way to avoid false sharing would be to pad each <a class="el" href="structfolly_1_1detail_1_1SingleElementQueue.html">SingleElementQueue</a>, but since we have capacity_ of them that could waste a lot of space. </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l01074">1074</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

<p>References <a class="el" href="LogLevel_8cpp_source.html#l00030">min</a>, and <a class="el" href="Base-inl_8h_source.html#l02589">folly::gen::stride()</a>.</p>
<div class="fragment"><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;                                                     {</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> smallPrimes[] = {2, 3, 5, 7, 11, 13, 17, 19, 23};</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <span class="keywordtype">int</span> bestStride = 1;</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    <span class="keywordtype">size_t</span> bestSep = 1;</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacefolly_1_1gen.html#aa36a13c6afb34e3e6f9fa5d337ea41de">stride</a> : smallPrimes) {</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;      <span class="keywordflow">if</span> ((<a class="code" href="namespacefolly_1_1gen.html#aa36a13c6afb34e3e6f9fa5d337ea41de">stride</a> % <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a1c96749f7db5c40aa1997b028f377cae">capacity</a>) == 0 || (capacity % <a class="code" href="namespacefolly_1_1gen.html#aa36a13c6afb34e3e6f9fa5d337ea41de">stride</a>) == 0) {</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;      }</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;      <span class="keywordtype">size_t</span> sep = stride % <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a1c96749f7db5c40aa1997b028f377cae">capacity</a>;</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;      sep = <a class="code" href="LogLevel_8cpp.html#a7361901234703a521a82885405734c53">std::min</a>(sep, capacity - sep);</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;      <span class="keywordflow">if</span> (sep &gt; bestSep) {</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;        bestStride = <a class="code" href="namespacefolly_1_1gen.html#aa36a13c6afb34e3e6f9fa5d337ea41de">stride</a>;</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;        bestSep = sep;</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;      }</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    }</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    <span class="keywordflow">return</span> bestStride;</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  }</div><div class="ttc" id="LogLevel_8cpp_html_a7361901234703a521a82885405734c53"><div class="ttname"><a href="LogLevel_8cpp.html#a7361901234703a521a82885405734c53">min</a></div><div class="ttdeci">LogLevel min</div><div class="ttdef"><b>Definition:</b> <a href="LogLevel_8cpp_source.html#l00030">LogLevel.cpp:30</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a1c96749f7db5c40aa1997b028f377cae"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a1c96749f7db5c40aa1997b028f377cae">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::capacity</a></div><div class="ttdeci">size_t capacity() const noexcept</div><div class="ttdoc">Doesn&amp;#39;t change. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l00799">MPMCQueue.h:799</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_aa36a13c6afb34e3e6f9fa5d337ea41de"><div class="ttname"><a href="namespacefolly_1_1gen.html#aa36a13c6afb34e3e6f9fa5d337ea41de">folly::gen::stride</a></div><div class="ttdeci">detail::Stride stride(size_t s)</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02589">Base-inl.h:2589</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a693a23b9b934af1e802d02f8420fd226"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::dequeueWithTicketBase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a>&#160;</td>
          <td class="paramname"><em>ticket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a23738dd989b848ac0bf07186e51fb707">Slot</a> *&#160;</td>
          <td class="paramname"><em>slots</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>cap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stride</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &amp;&#160;</td>
          <td class="paramname"><em>elem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l01319">1319</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

<p>References <a class="el" href="Base-inl_8h_source.html#l02589">folly::gen::stride()</a>, and <a class="el" href="TicketCodecTest_8cpp_source.html#l00021">ticket</a>.</p>
<div class="fragment"><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;                        {</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    assert(cap != 0);</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    slots[<a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#afec5711ca52e7035ffd423476f378c5d">idx</a>(<a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>, cap, <a class="code" href="namespacefolly_1_1gen.html#aa36a13c6afb34e3e6f9fa5d337ea41de">stride</a>)].dequeue(</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;        <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a83a63a034e5f80b7d2700475b099c953">turn</a>(<a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>, cap),</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;        <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ab4928c8411b61c5050b5a669c62c90b0">popSpinCutoff_</a>,</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;        (<a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a> % <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ad17ed778a64abc6e0d40627832d0e198a9e0c5f8f33f5f5f18d102c6227833ccd">kAdaptationFreq</a>) == 0,</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;        elem);</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;  }</div><div class="ttc" id="TicketCodecTest_8cpp_html_a7093cc9e41a6fdad6b2f2aa9211604c6"><div class="ttname"><a href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a></div><div class="ttdeci">static constexpr StringPiece ticket</div><div class="ttdef"><b>Definition:</b> <a href="TicketCodecTest_8cpp_source.html#l00021">TicketCodecTest.cpp:21</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a83a63a034e5f80b7d2700475b099c953"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a83a63a034e5f80b7d2700475b099c953">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::turn</a></div><div class="ttdeci">uint32_t turn(uint64_t ticket, size_t cap) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01101">MPMCQueue.h:1101</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_afec5711ca52e7035ffd423476f378c5d"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#afec5711ca52e7035ffd423476f378c5d">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::idx</a></div><div class="ttdeci">size_t idx(uint64_t ticket, size_t cap, int stride) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01095">MPMCQueue.h:1095</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_ab4928c8411b61c5050b5a669c62c90b0"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ab4928c8411b61c5050b5a669c62c90b0">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::popSpinCutoff_</a></div><div class="ttdeci">Atom&lt; uint32_t &gt; popSpinCutoff_</div><div class="ttdoc">The adaptive spin cutoff when the queue is empty on dequeue. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01049">MPMCQueue.h:1049</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_ad17ed778a64abc6e0d40627832d0e198a9e0c5f8f33f5f5f18d102c6227833ccd"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ad17ed778a64abc6e0d40627832d0e198a9e0c5f8f33f5f5f18d102c6227833ccd">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::kAdaptationFreq</a></div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l00994">MPMCQueue.h:994</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_aa36a13c6afb34e3e6f9fa5d337ea41de"><div class="ttname"><a href="namespacefolly_1_1gen.html#aa36a13c6afb34e3e6f9fa5d337ea41de">folly::gen::stride</a></div><div class="ttdeci">detail::Stride stride(size_t s)</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02589">Base-inl.h:2589</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa27ff97d82a0c5c362ab94ee9522f56f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<div class="memtemplate">
template&lt;typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::enqueueWithTicket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a>&#160;</td>
          <td class="paramname"><em>ticket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l01313">1313</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;                                                                   {</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a253b38c5ae647081d91d8564d8f1b423">enqueueWithTicketBase</a>(</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;        <a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>, <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ac3f3bcc38d5d5f8a5b3b8f7468effdcb">slots_</a>, <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a3cacede25651073c09512553f8b6f4c6">capacity_</a>, <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a98ec88b404a1c1940ccc9252806fb953">stride_</a>, std::forward&lt;Args&gt;(args)...);</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;  }</div><div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a253b38c5ae647081d91d8564d8f1b423"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a253b38c5ae647081d91d8564d8f1b423">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::enqueueWithTicketBase</a></div><div class="ttdeci">void enqueueWithTicketBase(uint64_t ticket, Slot *slots, size_t cap, int stride, Args &amp;&amp;...args) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01298">MPMCQueue.h:1298</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a3cacede25651073c09512553f8b6f4c6"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a3cacede25651073c09512553f8b6f4c6">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::capacity_</a></div><div class="ttdeci">size_t capacity_</div><div class="ttdoc">The maximum number of items in the queue at once. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01004">MPMCQueue.h:1004</a></div></div>
<div class="ttc" id="TicketCodecTest_8cpp_html_a7093cc9e41a6fdad6b2f2aa9211604c6"><div class="ttname"><a href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a></div><div class="ttdeci">static constexpr StringPiece ticket</div><div class="ttdef"><b>Definition:</b> <a href="TicketCodecTest_8cpp_source.html#l00021">TicketCodecTest.cpp:21</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_ac3f3bcc38d5d5f8a5b3b8f7468effdcb"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ac3f3bcc38d5d5f8a5b3b8f7468effdcb">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::slots_</a></div><div class="ttdeci">Slot * slots_</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01011">MPMCQueue.h:1011</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a98ec88b404a1c1940ccc9252806fb953"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a98ec88b404a1c1940ccc9252806fb953">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::stride_</a></div><div class="ttdeci">int stride_</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01021">MPMCQueue.h:1021</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a253b38c5ae647081d91d8564d8f1b423"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<div class="memtemplate">
template&lt;typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::enqueueWithTicketBase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a>&#160;</td>
          <td class="paramname"><em>ticket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a23738dd989b848ac0bf07186e51fb707">Slot</a> *&#160;</td>
          <td class="paramname"><em>slots</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>cap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stride</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l01298">1298</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

<p>References <a class="el" href="fizz_2build___2gtest_2src_2gtest_2googlemock_2include_2gmock_2gmock-generated-matchers_8h_source.html#l00481">testing::Args()</a>, and <a class="el" href="MPMCQueue_8h_source.html#l01352">folly::detail::SingleElementQueue&lt; T, Atom &gt;::enqueue()</a>.</p>
<div class="fragment"><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;                               {</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    slots[<a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#afec5711ca52e7035ffd423476f378c5d">idx</a>(<a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>, cap, <a class="code" href="namespacefolly_1_1gen.html#aa36a13c6afb34e3e6f9fa5d337ea41de">stride</a>)].enqueue(</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;        <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a83a63a034e5f80b7d2700475b099c953">turn</a>(<a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>, cap),</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;        <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#abb7131b82a20603509baa4b8f8253be9">pushSpinCutoff_</a>,</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;        (<a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a> % <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ad17ed778a64abc6e0d40627832d0e198a9e0c5f8f33f5f5f18d102c6227833ccd">kAdaptationFreq</a>) == 0,</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;        std::forward&lt;Args&gt;(args)...);</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;  }</div><div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_abb7131b82a20603509baa4b8f8253be9"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#abb7131b82a20603509baa4b8f8253be9">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::pushSpinCutoff_</a></div><div class="ttdeci">Atom&lt; uint32_t &gt; pushSpinCutoff_</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01046">MPMCQueue.h:1046</a></div></div>
<div class="ttc" id="TicketCodecTest_8cpp_html_a7093cc9e41a6fdad6b2f2aa9211604c6"><div class="ttname"><a href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a></div><div class="ttdeci">static constexpr StringPiece ticket</div><div class="ttdef"><b>Definition:</b> <a href="TicketCodecTest_8cpp_source.html#l00021">TicketCodecTest.cpp:21</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a83a63a034e5f80b7d2700475b099c953"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a83a63a034e5f80b7d2700475b099c953">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::turn</a></div><div class="ttdeci">uint32_t turn(uint64_t ticket, size_t cap) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01101">MPMCQueue.h:1101</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_afec5711ca52e7035ffd423476f378c5d"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#afec5711ca52e7035ffd423476f378c5d">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::idx</a></div><div class="ttdeci">size_t idx(uint64_t ticket, size_t cap, int stride) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01095">MPMCQueue.h:1095</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_ad17ed778a64abc6e0d40627832d0e198a9e0c5f8f33f5f5f18d102c6227833ccd"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ad17ed778a64abc6e0d40627832d0e198a9e0c5f8f33f5f5f18d102c6227833ccd">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::kAdaptationFreq</a></div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l00994">MPMCQueue.h:994</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_aa36a13c6afb34e3e6f9fa5d337ea41de"><div class="ttname"><a href="namespacefolly_1_1gen.html#aa36a13c6afb34e3e6f9fa5d337ea41de">folly::gen::stride</a></div><div class="ttdeci">detail::Stride stride(size_t s)</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02589">Base-inl.h:2589</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afec5711ca52e7035ffd423476f378c5d"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::idx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a>&#160;</td>
          <td class="paramname"><em>ticket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>cap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stride</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the index into slots_ that should be used when enqueuing or dequeuing with the specified ticket </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l01095">1095</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

<p>References <a class="el" href="Base-inl_8h_source.html#l02589">folly::gen::stride()</a>, and <a class="el" href="TicketCodecTest_8cpp_source.html#l00021">ticket</a>.</p>
<div class="fragment"><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;                                                               {</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <span class="keywordflow">return</span> ((<a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a> * <a class="code" href="namespacefolly_1_1gen.html#aa36a13c6afb34e3e6f9fa5d337ea41de">stride</a>) % cap) + <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ad17ed778a64abc6e0d40627832d0e198ae522111d8bba83f1f7ae7e8c585e1bb1">kSlotPadding</a>;</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;  }</div><div class="ttc" id="TicketCodecTest_8cpp_html_a7093cc9e41a6fdad6b2f2aa9211604c6"><div class="ttname"><a href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a></div><div class="ttdeci">static constexpr StringPiece ticket</div><div class="ttdef"><b>Definition:</b> <a href="TicketCodecTest_8cpp_source.html#l00021">TicketCodecTest.cpp:21</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_ad17ed778a64abc6e0d40627832d0e198ae522111d8bba83f1f7ae7e8c585e1bb1"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ad17ed778a64abc6e0d40627832d0e198ae522111d8bba83f1f7ae7e8c585e1bb1">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::kSlotPadding</a></div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l00999">MPMCQueue.h:999</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_aa36a13c6afb34e3e6f9fa5d337ea41de"><div class="ttname"><a href="namespacefolly_1_1gen.html#aa36a13c6afb34e3e6f9fa5d337ea41de">folly::gen::stride</a></div><div class="ttdeci">detail::Stride stride(size_t s)</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02589">Base-inl.h:2589</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1fee7abe4fef6d6522bc9d72b212aaae"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::isEmpty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if there are no items available for dequeue. </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l00778">778</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

<p>References <a class="el" href="Access_8h_source.html#l00045">folly::size()</a>.</p>
<div class="fragment"><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                                {</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#acc0b2b30c23384bfddecfa74108e53c5">size</a>() &lt;= 0;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  }</div><div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_acc0b2b30c23384bfddecfa74108e53c5"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#acc0b2b30c23384bfddecfa74108e53c5">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::size</a></div><div class="ttdeci">ssize_t size() const noexcept</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l00751">MPMCQueue.h:751</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5282c34f3df500f4af38b6f77ed7bd01"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::isFull </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if there is currently no empty space to enqueue. </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l00783">783</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

<p>References <a class="el" href="Access_8h_source.html#l00045">folly::size()</a>.</p>
<div class="fragment"><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;                               {</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <span class="comment">// careful with signed -&gt; unsigned promotion, since size can be negative</span></div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#acc0b2b30c23384bfddecfa74108e53c5">size</a>() &gt;= <span class="keyword">static_cast&lt;</span>ssize_t<span class="keyword">&gt;</span>(<a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a3cacede25651073c09512553f8b6f4c6">capacity_</a>);</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  }</div><div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a3cacede25651073c09512553f8b6f4c6"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a3cacede25651073c09512553f8b6f4c6">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::capacity_</a></div><div class="ttdeci">size_t capacity_</div><div class="ttdoc">The maximum number of items in the queue at once. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01004">MPMCQueue.h:1004</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_acc0b2b30c23384bfddecfa74108e53c5"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#acc0b2b30c23384bfddecfa74108e53c5">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::size</a></div><div class="ttdeci">ssize_t size() const noexcept</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l00751">MPMCQueue.h:751</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa9befda2f49f0daad66d0b294f869971"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">MPMCQueueBase</a>&lt;<a class="el" href="classDerived.html">Derived</a>&lt;<a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic&gt; &gt; const&amp; <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt;&gt; &amp;&amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>IMPORTANT: The move operator is here to make it easier to perform the initialization phase, it is not safe to use when there are any concurrent accesses (this is not checked). </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l00727">727</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

<p>References <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>, and <a class="el" href="Traits_8h_source.html#l00649">folly::detail::rhs</a>.</p>
<div class="fragment"><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;                                                      {</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">this</span> != &amp;<a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>) {</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;      this-&gt;<a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a46f58dd45f45e9d156e4d4433984d2d3">~MPMCQueueBase</a>();</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;      <span class="keyword">new</span> (<span class="keyword">this</span>) <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#aecc2ed39f496687ee03d16d90c2e22b9">MPMCQueueBase</a>(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(<a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>));</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    }</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  }</div><div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="namespacefolly_1_1detail_html_a2dccd19efd4e58589c88f81f62bbf32e"><div class="ttname"><a href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">folly::detail::rhs</a></div><div class="ttdeci">FOLLY_PUSH_WARNING RHS rhs</div><div class="ttdef"><b>Definition:</b> <a href="Traits_8h_source.html#l00649">Traits.h:649</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a46f58dd45f45e9d156e4d4433984d2d3"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a46f58dd45f45e9d156e4d4433984d2d3">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::~MPMCQueueBase</a></div><div class="ttdeci">~MPMCQueueBase()</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l00738">MPMCQueue.h:738</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_aecc2ed39f496687ee03d16d90c2e22b9"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#aecc2ed39f496687ee03d16d90c2e22b9">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::MPMCQueueBase</a></div><div class="ttdeci">MPMCQueueBase() noexcept</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l00685">MPMCQueue.h:685</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8a43b5a0058ac4251513bcf4ee8feecc"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &amp;&#160;</td>
          <td class="paramname"><em>elem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>If an item can be dequeued with no blocking, does so and returns true, otherwise returns false. </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l00931">931</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

<p>References <a class="el" href="TicketCodecTest_8cpp_source.html#l00021">ticket</a>, and <a class="el" href="ConstexprMathBenchmark_8cpp_source.html#l00190">uint64_t</a>.</p>
<div class="fragment"><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                              {</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <a class="code" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> <a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>;</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a649a82666da70ab4562b17ffad716732">readAndGetTicket</a>(ticket, elem);</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;  }</div><div class="ttc" id="TicketCodecTest_8cpp_html_a7093cc9e41a6fdad6b2f2aa9211604c6"><div class="ttname"><a href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a></div><div class="ttdeci">static constexpr StringPiece ticket</div><div class="ttdef"><b>Definition:</b> <a href="TicketCodecTest_8cpp_source.html#l00021">TicketCodecTest.cpp:21</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a649a82666da70ab4562b17ffad716732"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a649a82666da70ab4562b17ffad716732">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::readAndGetTicket</a></div><div class="ttdeci">bool readAndGetTicket(uint64_t &amp;ticket, T &amp;elem) noexcept</div><div class="ttdoc">Same as read() but also records the ticket nunmer. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l00937">MPMCQueue.h:937</a></div></div>
<div class="ttc" id="ConstexprMathBenchmark_8cpp_html_a5dc34568a989dd90728a4ed499cd9fab"><div class="ttname"><a href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a></div><div class="ttdeci">uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ConstexprMathBenchmark_8cpp_source.html#l00190">ConstexprMathBenchmark.cpp:190</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a649a82666da70ab4562b17ffad716732"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::readAndGetTicket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> &amp;&#160;</td>
          <td class="paramname"><em>ticket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &amp;&#160;</td>
          <td class="paramname"><em>elem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Same as <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a8a43b5a0058ac4251513bcf4ee8feecc">read()</a> but also records the ticket nunmer. </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l00937">937</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

<p>References <a class="el" href="fizz_2build___2gtest_2src_2gtest_2googlemock_2include_2gmock_2gmock-generated-matchers_8h_source.html#l00481">testing::Args()</a>, <a class="el" href="Base-inl_8h_source.html#l02589">folly::gen::stride()</a>, and <a class="el" href="TicketCodecTest_8cpp_source.html#l00021">ticket</a>.</p>
<div class="fragment"><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;                                                            {</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a23738dd989b848ac0bf07186e51fb707">Slot</a>* slots;</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <span class="keywordtype">size_t</span> cap;</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="namespacefolly_1_1gen.html#aa36a13c6afb34e3e6f9fa5d337ea41de">stride</a>;</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">static_cast&lt;</span>Derived&lt;T, Atom, Dynamic&gt;*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)-&gt;<a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a36b321b929ac656c6aa105cf3885f746">tryObtainReadyPopTicket</a>(</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;            <a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>, slots, cap, stride)) {</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;      <span class="comment">// the ticket has been pre-validated to not block</span></div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;      <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a693a23b9b934af1e802d02f8420fd226">dequeueWithTicketBase</a>(<a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>, slots, cap, stride, elem);</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    }</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  }</div><div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a693a23b9b934af1e802d02f8420fd226"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a693a23b9b934af1e802d02f8420fd226">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::dequeueWithTicketBase</a></div><div class="ttdeci">void dequeueWithTicketBase(uint64_t ticket, Slot *slots, size_t cap, int stride, T &amp;elem) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01319">MPMCQueue.h:1319</a></div></div>
<div class="ttc" id="TicketCodecTest_8cpp_html_a7093cc9e41a6fdad6b2f2aa9211604c6"><div class="ttname"><a href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a></div><div class="ttdeci">static constexpr StringPiece ticket</div><div class="ttdef"><b>Definition:</b> <a href="TicketCodecTest_8cpp_source.html#l00021">TicketCodecTest.cpp:21</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a36b321b929ac656c6aa105cf3885f746"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a36b321b929ac656c6aa105cf3885f746">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::tryObtainReadyPopTicket</a></div><div class="ttdeci">bool tryObtainReadyPopTicket(uint64_t &amp;ticket, Slot *&amp;slots, size_t &amp;cap, int &amp;stride) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01207">MPMCQueue.h:1207</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_aa36a13c6afb34e3e6f9fa5d337ea41de"><div class="ttname"><a href="namespacefolly_1_1gen.html#aa36a13c6afb34e3e6f9fa5d337ea41de">folly::gen::stride</a></div><div class="ttdeci">detail::Stride stride(size_t s)</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02589">Base-inl.h:2589</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a23738dd989b848ac0bf07186e51fb707"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a23738dd989b848ac0bf07186e51fb707">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::Slot</a></div><div class="ttdeci">detail::SingleElementQueue&lt; T, Atom &gt; Slot</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l00657">MPMCQueue.h:657</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a145e84481e35d0c0ba29b0663c8212c8"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::readCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the total number of calls to blockingRead or successful calls to read, including those blockingRead calls that are currently blocking </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l00818">818</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

<p>References <a class="el" href="fizz_2build___2gtest_2src_2gtest_2googlemock_2include_2gmock_2gmock-generated-matchers_8h_source.html#l00481">testing::Args()</a>.</p>
<div class="fragment"><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                                      {</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a1cb89aa21af94067d2275b9162453f65">popTicket_</a>.load(std::memory_order_acquire);</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  }</div><div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a1cb89aa21af94067d2275b9162453f65"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a1cb89aa21af94067d2275b9162453f65">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::popTicket_</a></div><div class="ttdeci">Atom&lt; uint64_t &gt; popTicket_</div><div class="ttdoc">Dequeuers get tickets from here. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01040">MPMCQueue.h:1040</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad9e16e7dd4bc119ba7a9ba1baac74178"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::readIfNotEmpty </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &amp;&#160;</td>
          <td class="paramname"><em>elem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>If the queue is not empty, dequeues and returns true, otherwise returns false. If the matching write is still in progress then this method may block waiting for it. If you don't rely on being able to dequeue (such as by counting completed write) then you should prefer read. </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l00975">975</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

<p>References <a class="el" href="Base-inl_8h_source.html#l02589">folly::gen::stride()</a>, <a class="el" href="TicketCodecTest_8cpp_source.html#l00021">ticket</a>, and <a class="el" href="ConstexprMathBenchmark_8cpp_source.html#l00190">uint64_t</a>.</p>
<div class="fragment"><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;                                        {</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    <a class="code" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> <a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>;</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a23738dd989b848ac0bf07186e51fb707">Slot</a>* slots;</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    <span class="keywordtype">size_t</span> cap;</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="namespacefolly_1_1gen.html#aa36a13c6afb34e3e6f9fa5d337ea41de">stride</a>;</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">static_cast&lt;</span>Derived&lt;T, Atom, Dynamic&gt;*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;            -&gt;<a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#aca8ac200c6d2213d18a047a93f8a1cc7">tryObtainPromisedPopTicket</a>(ticket, slots, cap, stride)) {</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;      <span class="comment">// the matching enqueue already has a ticket, but might not be done</span></div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;      <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a693a23b9b934af1e802d02f8420fd226">dequeueWithTicketBase</a>(ticket, slots, cap, stride, elem);</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    }</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  }</div><div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a693a23b9b934af1e802d02f8420fd226"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a693a23b9b934af1e802d02f8420fd226">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::dequeueWithTicketBase</a></div><div class="ttdeci">void dequeueWithTicketBase(uint64_t ticket, Slot *slots, size_t cap, int stride, T &amp;elem) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01319">MPMCQueue.h:1319</a></div></div>
<div class="ttc" id="TicketCodecTest_8cpp_html_a7093cc9e41a6fdad6b2f2aa9211604c6"><div class="ttname"><a href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a></div><div class="ttdeci">static constexpr StringPiece ticket</div><div class="ttdef"><b>Definition:</b> <a href="TicketCodecTest_8cpp_source.html#l00021">TicketCodecTest.cpp:21</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_aca8ac200c6d2213d18a047a93f8a1cc7"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#aca8ac200c6d2213d18a047a93f8a1cc7">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::tryObtainPromisedPopTicket</a></div><div class="ttdeci">bool tryObtainPromisedPopTicket(uint64_t &amp;ticket, Slot *&amp;slots, size_t &amp;cap, int &amp;stride) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01272">MPMCQueue.h:1272</a></div></div>
<div class="ttc" id="ConstexprMathBenchmark_8cpp_html_a5dc34568a989dd90728a4ed499cd9fab"><div class="ttname"><a href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a></div><div class="ttdeci">uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ConstexprMathBenchmark_8cpp_source.html#l00190">ConstexprMathBenchmark.cpp:190</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_aa36a13c6afb34e3e6f9fa5d337ea41de"><div class="ttname"><a href="namespacefolly_1_1gen.html#aa36a13c6afb34e3e6f9fa5d337ea41de">folly::gen::stride</a></div><div class="ttdeci">detail::Stride stride(size_t s)</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02589">Base-inl.h:2589</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a23738dd989b848ac0bf07186e51fb707"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a23738dd989b848ac0bf07186e51fb707">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::Slot</a></div><div class="ttdeci">detail::SingleElementQueue&lt; T, Atom &gt; Slot</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l00657">MPMCQueue.h:657</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acc0b2b30c23384bfddecfa74108e53c5"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the number of writes (including threads that are blocked waiting to write) minus the number of reads (including threads that are blocked waiting to read). So effectively, it becomes: elements in queue + pending(calls to write) - pending(calls to read). If nothing is pending, then the method returns the actual number of elements in the queue. The returned value can be negative if there are no writers and the queue is empty, but there is one reader that is blocked waiting to read (in which case, the returned size will be -1). </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l00751">751</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

<p>References <a class="el" href="ConstexprMathBenchmark_8cpp_source.html#l00190">uint64_t</a>.</p>
<div class="fragment"><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                                {</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="comment">// since both pushes and pops increase monotonically, we can get a</span></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <span class="comment">// consistent snapshot either by bracketing a read of popTicket_ with</span></div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="comment">// two reads of pushTicket_ that return the same value, or the other</span></div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="comment">// way around.  We maximize our chances by alternately attempting</span></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <span class="comment">// both bracketings.</span></div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <a class="code" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> pushes = <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a45ac0d9ef00c0950873ced51b6c03b65">pushTicket_</a>.load(std::memory_order_acquire); <span class="comment">// A</span></div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <a class="code" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> pops = <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a1cb89aa21af94067d2275b9162453f65">popTicket_</a>.load(std::memory_order_acquire); <span class="comment">// B</span></div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;      <a class="code" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> nextPushes = <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a45ac0d9ef00c0950873ced51b6c03b65">pushTicket_</a>.load(std::memory_order_acquire); <span class="comment">// C</span></div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;      <span class="keywordflow">if</span> (pushes == nextPushes) {</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        <span class="comment">// pushTicket_ didn&#39;t change from A (or the previous C) to C,</span></div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        <span class="comment">// so we can linearize at B (or D)</span></div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        <span class="keywordflow">return</span> ssize_t(pushes - pops);</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;      }</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;      pushes = nextPushes;</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;      <a class="code" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> nextPops = <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a1cb89aa21af94067d2275b9162453f65">popTicket_</a>.load(std::memory_order_acquire); <span class="comment">// D</span></div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;      <span class="keywordflow">if</span> (pops == nextPops) {</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;        <span class="comment">// popTicket_ didn&#39;t chance from B (or the previous D), so we</span></div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        <span class="comment">// can linearize at C</span></div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        <span class="keywordflow">return</span> ssize_t(pushes - pops);</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;      }</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;      pops = nextPops;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    }</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  }</div><div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a1cb89aa21af94067d2275b9162453f65"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a1cb89aa21af94067d2275b9162453f65">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::popTicket_</a></div><div class="ttdeci">Atom&lt; uint64_t &gt; popTicket_</div><div class="ttdoc">Dequeuers get tickets from here. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01040">MPMCQueue.h:1040</a></div></div>
<div class="ttc" id="ConstexprMathBenchmark_8cpp_html_a5dc34568a989dd90728a4ed499cd9fab"><div class="ttname"><a href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a></div><div class="ttdeci">uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ConstexprMathBenchmark_8cpp_source.html#l00190">ConstexprMathBenchmark.cpp:190</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a45ac0d9ef00c0950873ced51b6c03b65"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a45ac0d9ef00c0950873ced51b6c03b65">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::pushTicket_</a></div><div class="ttdeci">Atom&lt; uint64_t &gt; pushTicket_</div><div class="ttdoc">Enqueuers get tickets from here. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01037">MPMCQueue.h:1037</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abb4dcb10fc386dcf8d30696dab4a99e9"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::sizeGuess </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns is a guess at <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#acc0b2b30c23384bfddecfa74108e53c5">size()</a> for contexts that don't need a precise value, such as stats. More specifically, it returns the number of writes minus the number of reads, but after reading the number of writes, more writers could have came before the number of reads was sampled, and this method doesn't protect against such case. The returned value can be negative. </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l00794">794</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                                     {</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a9dbae0e972cbb42d486705dcff203b9f">writeCount</a>() - <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a145e84481e35d0c0ba29b0663c8212c8">readCount</a>();</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  }</div><div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a145e84481e35d0c0ba29b0663c8212c8"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a145e84481e35d0c0ba29b0663c8212c8">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::readCount</a></div><div class="ttdeci">uint64_t readCount() const noexcept</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l00818">MPMCQueue.h:818</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a9dbae0e972cbb42d486705dcff203b9f"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a9dbae0e972cbb42d486705dcff203b9f">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::writeCount</a></div><div class="ttdeci">uint64_t writeCount() const noexcept</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l00811">MPMCQueue.h:811</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aca8ac200c6d2213d18a047a93f8a1cc7"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::tryObtainPromisedPopTicket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> &amp;&#160;</td>
          <td class="paramname"><em>ticket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a23738dd989b848ac0bf07186e51fb707">Slot</a> *&amp;&#160;</td>
          <td class="paramname"><em>slots</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>cap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>stride</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Similar to tryObtainReadyPopTicket, but returns a pop ticket whose corresponding push ticket has already been handed out, rather than returning one whose corresponding push ticket has already been completed. This means that there is a possibility that the caller will block when using the ticket, but it allows the user to rely on the fact that if enqueue has succeeded, tryObtainPromisedPopTicket will return true. The "try" part of this is that we won't have to block waiting for someone to call enqueue, although we might have to block waiting for them to finish executing code inside the <a class="el" href="classfolly_1_1MPMCQueue.html">MPMCQueue</a> itself. </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l01272">1272</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

<p>References <a class="el" href="fizz_2build___2gtest_2src_2gtest_2googlemock_2include_2gmock_2gmock-generated-matchers_8h_source.html#l00481">testing::Args()</a>, <a class="el" href="Base-inl_8h_source.html#l02589">folly::gen::stride()</a>, and <a class="el" href="TicketCodecTest_8cpp_source.html#l00021">ticket</a>.</p>
<div class="fragment"><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;                            {</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    <span class="keyword">auto</span> numPops = <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a1cb89aa21af94067d2275b9162453f65">popTicket_</a>.load(std::memory_order_acquire); <span class="comment">// A</span></div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    slots = <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ac3f3bcc38d5d5f8a5b3b8f7468effdcb">slots_</a>;</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    cap = <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a3cacede25651073c09512553f8b6f4c6">capacity_</a>;</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    <a class="code" href="namespacefolly_1_1gen.html#aa36a13c6afb34e3e6f9fa5d337ea41de">stride</a> = <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a98ec88b404a1c1940ccc9252806fb953">stride_</a>;</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;      <a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a> = numPops;</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> numPushes = <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a45ac0d9ef00c0950873ced51b6c03b65">pushTicket_</a>.load(std::memory_order_acquire); <span class="comment">// B</span></div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;      <span class="keywordflow">if</span> (numPops &gt;= numPushes) {</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;        <span class="comment">// Empty, or empty with pending pops.  Linearize at B.  We don&#39;t</span></div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;        <span class="comment">// need to recheck the read we performed at A, because if numPops</span></div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;        <span class="comment">// is stale then the fresh value is larger and the &gt;= is still true</span></div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;      }</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a1cb89aa21af94067d2275b9162453f65">popTicket_</a>.compare_exchange_strong(numPops, numPops + 1)) {</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;      }</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    }</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;  }</div><div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a3cacede25651073c09512553f8b6f4c6"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a3cacede25651073c09512553f8b6f4c6">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::capacity_</a></div><div class="ttdeci">size_t capacity_</div><div class="ttdoc">The maximum number of items in the queue at once. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01004">MPMCQueue.h:1004</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a1cb89aa21af94067d2275b9162453f65"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a1cb89aa21af94067d2275b9162453f65">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::popTicket_</a></div><div class="ttdeci">Atom&lt; uint64_t &gt; popTicket_</div><div class="ttdoc">Dequeuers get tickets from here. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01040">MPMCQueue.h:1040</a></div></div>
<div class="ttc" id="TicketCodecTest_8cpp_html_a7093cc9e41a6fdad6b2f2aa9211604c6"><div class="ttname"><a href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a></div><div class="ttdeci">static constexpr StringPiece ticket</div><div class="ttdef"><b>Definition:</b> <a href="TicketCodecTest_8cpp_source.html#l00021">TicketCodecTest.cpp:21</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a45ac0d9ef00c0950873ced51b6c03b65"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a45ac0d9ef00c0950873ced51b6c03b65">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::pushTicket_</a></div><div class="ttdeci">Atom&lt; uint64_t &gt; pushTicket_</div><div class="ttdoc">Enqueuers get tickets from here. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01037">MPMCQueue.h:1037</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_ac3f3bcc38d5d5f8a5b3b8f7468effdcb"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ac3f3bcc38d5d5f8a5b3b8f7468effdcb">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::slots_</a></div><div class="ttdeci">Slot * slots_</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01011">MPMCQueue.h:1011</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a98ec88b404a1c1940ccc9252806fb953"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a98ec88b404a1c1940ccc9252806fb953">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::stride_</a></div><div class="ttdeci">int stride_</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01021">MPMCQueue.h:1021</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_aa36a13c6afb34e3e6f9fa5d337ea41de"><div class="ttname"><a href="namespacefolly_1_1gen.html#aa36a13c6afb34e3e6f9fa5d337ea41de">folly::gen::stride</a></div><div class="ttdeci">detail::Stride stride(size_t s)</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02589">Base-inl.h:2589</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8d9caea821c453f985fad16929099b66"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<div class="memtemplate">
template&lt;class Clock &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::tryObtainPromisedPopTicketUntil </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> &amp;&#160;</td>
          <td class="paramname"><em>ticket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a23738dd989b848ac0bf07186e51fb707">Slot</a> *&amp;&#160;</td>
          <td class="paramname"><em>slots</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>cap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>stride</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::chrono::time_point&lt; Clock &gt; &amp;&#160;</td>
          <td class="paramname"><em>when</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Tries until when to obtain a pop ticket for which <a class="el" href="structfolly_1_1detail_1_1SingleElementQueue.html#a4c415ed606612b4fb90f7bc33e0767e7">SingleElementQueue::dequeue</a> won't block. Returns true on success, false on failure. ticket is filled on success AND failure. </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l01236">1236</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

<p>References <a class="el" href="Base-inl_8h_source.html#l02589">folly::gen::stride()</a>, <a class="el" href="TicketCodecTest_8cpp_source.html#l00021">ticket</a>, and <a class="el" href="Future-inl_8h_source.html#l02330">folly::when()</a>.</p>
<div class="fragment"><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;                                                       {</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    <span class="keywordtype">bool</span> deadlineReached = <span class="keyword">false</span>;</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    <span class="keywordflow">while</span> (!deadlineReached) {</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">static_cast&lt;</span>Derived&lt;T, Atom, Dynamic&gt;*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;              -&gt;<a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#aca8ac200c6d2213d18a047a93f8a1cc7">tryObtainPromisedPopTicket</a>(<a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>, slots, cap, <a class="code" href="namespacefolly_1_1gen.html#aa36a13c6afb34e3e6f9fa5d337ea41de">stride</a>)) {</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;      }</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;      <span class="comment">// ticket is a blocking ticket until the preceding ticket has been</span></div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;      <span class="comment">// processed: wait until this ticket&#39;s turn arrives. We have not reserved</span></div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;      <span class="comment">// this ticket so we will have to re-attempt to get a non-blocking ticket</span></div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;      <span class="comment">// if we wake up before we time-out.</span></div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;      deadlineReached =</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;          !slots[<a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#afec5711ca52e7035ffd423476f378c5d">idx</a>(<a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>, cap, <a class="code" href="namespacefolly_1_1gen.html#aa36a13c6afb34e3e6f9fa5d337ea41de">stride</a>)].tryWaitForDequeueTurnUntil(</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;              <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a83a63a034e5f80b7d2700475b099c953">turn</a>(<a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>, cap),</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;              <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#abb7131b82a20603509baa4b8f8253be9">pushSpinCutoff_</a>,</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;              (<a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a> % <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ad17ed778a64abc6e0d40627832d0e198a9e0c5f8f33f5f5f18d102c6227833ccd">kAdaptationFreq</a>) == 0,</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;              <a class="code" href="namespacefolly.html#a7ab90ae4183e3dc37f224c4f494824f9">when</a>);</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    }</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;  }</div><div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_abb7131b82a20603509baa4b8f8253be9"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#abb7131b82a20603509baa4b8f8253be9">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::pushSpinCutoff_</a></div><div class="ttdeci">Atom&lt; uint32_t &gt; pushSpinCutoff_</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01046">MPMCQueue.h:1046</a></div></div>
<div class="ttc" id="TicketCodecTest_8cpp_html_a7093cc9e41a6fdad6b2f2aa9211604c6"><div class="ttname"><a href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a></div><div class="ttdeci">static constexpr StringPiece ticket</div><div class="ttdef"><b>Definition:</b> <a href="TicketCodecTest_8cpp_source.html#l00021">TicketCodecTest.cpp:21</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_aca8ac200c6d2213d18a047a93f8a1cc7"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#aca8ac200c6d2213d18a047a93f8a1cc7">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::tryObtainPromisedPopTicket</a></div><div class="ttdeci">bool tryObtainPromisedPopTicket(uint64_t &amp;ticket, Slot *&amp;slots, size_t &amp;cap, int &amp;stride) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01272">MPMCQueue.h:1272</a></div></div>
<div class="ttc" id="namespacefolly_html_a7ab90ae4183e3dc37f224c4f494824f9"><div class="ttname"><a href="namespacefolly.html#a7ab90ae4183e3dc37f224c4f494824f9">folly::when</a></div><div class="ttdeci">Future&lt; Unit &gt; when(bool p, F &amp;&amp;thunk)</div><div class="ttdef"><b>Definition:</b> <a href="Future-inl_8h_source.html#l02330">Future-inl.h:2330</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a83a63a034e5f80b7d2700475b099c953"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a83a63a034e5f80b7d2700475b099c953">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::turn</a></div><div class="ttdeci">uint32_t turn(uint64_t ticket, size_t cap) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01101">MPMCQueue.h:1101</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_afec5711ca52e7035ffd423476f378c5d"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#afec5711ca52e7035ffd423476f378c5d">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::idx</a></div><div class="ttdeci">size_t idx(uint64_t ticket, size_t cap, int stride) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01095">MPMCQueue.h:1095</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_ad17ed778a64abc6e0d40627832d0e198a9e0c5f8f33f5f5f18d102c6227833ccd"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ad17ed778a64abc6e0d40627832d0e198a9e0c5f8f33f5f5f18d102c6227833ccd">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::kAdaptationFreq</a></div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l00994">MPMCQueue.h:994</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_aa36a13c6afb34e3e6f9fa5d337ea41de"><div class="ttname"><a href="namespacefolly_1_1gen.html#aa36a13c6afb34e3e6f9fa5d337ea41de">folly::gen::stride</a></div><div class="ttdeci">detail::Stride stride(size_t s)</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02589">Base-inl.h:2589</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a981bee984586592588e2e4538d0ddc07"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::tryObtainPromisedPushTicket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> &amp;&#160;</td>
          <td class="paramname"><em>ticket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a23738dd989b848ac0bf07186e51fb707">Slot</a> *&amp;&#160;</td>
          <td class="paramname"><em>slots</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>cap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>stride</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Tries to obtain a push ticket which can be satisfied if all in-progress pops complete. This function does not block, but blocking may be required when using the returned ticket if some other thread's pop is still in progress (ticket has been granted but pop has not yet completed). </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l01178">1178</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

<p>References <a class="el" href="ConstexprMathBenchmark_8cpp_source.html#l00188">int64_t</a>, <a class="el" href="Base-inl_8h_source.html#l02589">folly::gen::stride()</a>, and <a class="el" href="TicketCodecTest_8cpp_source.html#l00021">ticket</a>.</p>
<div class="fragment"><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;                            {</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    <span class="keyword">auto</span> numPushes = <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a45ac0d9ef00c0950873ced51b6c03b65">pushTicket_</a>.load(std::memory_order_acquire); <span class="comment">// A</span></div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    slots = <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ac3f3bcc38d5d5f8a5b3b8f7468effdcb">slots_</a>;</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    cap = <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a3cacede25651073c09512553f8b6f4c6">capacity_</a>;</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    <a class="code" href="namespacefolly_1_1gen.html#aa36a13c6afb34e3e6f9fa5d337ea41de">stride</a> = <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a98ec88b404a1c1940ccc9252806fb953">stride_</a>;</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;      <a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a> = numPushes;</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> numPops = <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a1cb89aa21af94067d2275b9162453f65">popTicket_</a>.load(std::memory_order_acquire); <span class="comment">// B</span></div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;      <span class="comment">// n will be negative if pops are pending</span></div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;      <span class="keyword">const</span> <a class="code" href="ConstexprMathBenchmark_8cpp.html#a21214d6ef664ff09b89c1fd75fe0a042">int64_t</a> n = <a class="code" href="ConstexprMathBenchmark_8cpp.html#a21214d6ef664ff09b89c1fd75fe0a042">int64_t</a>(numPushes - numPops);</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;      <span class="keywordflow">if</span> (n &gt;= static_cast&lt;ssize_t&gt;(<a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a3cacede25651073c09512553f8b6f4c6">capacity_</a>)) {</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;        <span class="comment">// Full, linearize at B.  We don&#39;t need to recheck the read we</span></div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;        <span class="comment">// performed at A, because if numPushes was stale at B then the</span></div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;        <span class="comment">// real numPushes value is even worse</span></div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;      }</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a45ac0d9ef00c0950873ced51b6c03b65">pushTicket_</a>.compare_exchange_strong(numPushes, numPushes + 1)) {</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;      }</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    }</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;  }</div><div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a3cacede25651073c09512553f8b6f4c6"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a3cacede25651073c09512553f8b6f4c6">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::capacity_</a></div><div class="ttdeci">size_t capacity_</div><div class="ttdoc">The maximum number of items in the queue at once. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01004">MPMCQueue.h:1004</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a1cb89aa21af94067d2275b9162453f65"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a1cb89aa21af94067d2275b9162453f65">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::popTicket_</a></div><div class="ttdeci">Atom&lt; uint64_t &gt; popTicket_</div><div class="ttdoc">Dequeuers get tickets from here. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01040">MPMCQueue.h:1040</a></div></div>
<div class="ttc" id="TicketCodecTest_8cpp_html_a7093cc9e41a6fdad6b2f2aa9211604c6"><div class="ttname"><a href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a></div><div class="ttdeci">static constexpr StringPiece ticket</div><div class="ttdef"><b>Definition:</b> <a href="TicketCodecTest_8cpp_source.html#l00021">TicketCodecTest.cpp:21</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a45ac0d9ef00c0950873ced51b6c03b65"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a45ac0d9ef00c0950873ced51b6c03b65">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::pushTicket_</a></div><div class="ttdeci">Atom&lt; uint64_t &gt; pushTicket_</div><div class="ttdoc">Enqueuers get tickets from here. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01037">MPMCQueue.h:1037</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_ac3f3bcc38d5d5f8a5b3b8f7468effdcb"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ac3f3bcc38d5d5f8a5b3b8f7468effdcb">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::slots_</a></div><div class="ttdeci">Slot * slots_</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01011">MPMCQueue.h:1011</a></div></div>
<div class="ttc" id="ConstexprMathBenchmark_8cpp_html_a21214d6ef664ff09b89c1fd75fe0a042"><div class="ttname"><a href="ConstexprMathBenchmark_8cpp.html#a21214d6ef664ff09b89c1fd75fe0a042">int64_t</a></div><div class="ttdeci">int64_t</div><div class="ttdef"><b>Definition:</b> <a href="ConstexprMathBenchmark_8cpp_source.html#l00188">ConstexprMathBenchmark.cpp:188</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a98ec88b404a1c1940ccc9252806fb953"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a98ec88b404a1c1940ccc9252806fb953">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::stride_</a></div><div class="ttdeci">int stride_</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01021">MPMCQueue.h:1021</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_aa36a13c6afb34e3e6f9fa5d337ea41de"><div class="ttname"><a href="namespacefolly_1_1gen.html#aa36a13c6afb34e3e6f9fa5d337ea41de">folly::gen::stride</a></div><div class="ttdeci">detail::Stride stride(size_t s)</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02589">Base-inl.h:2589</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a95bb4a0b904cbb650f0b11f99fdae694"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<div class="memtemplate">
template&lt;class Clock &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::tryObtainPromisedPushTicketUntil </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> &amp;&#160;</td>
          <td class="paramname"><em>ticket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a23738dd989b848ac0bf07186e51fb707">Slot</a> *&amp;&#160;</td>
          <td class="paramname"><em>slots</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>cap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>stride</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::chrono::time_point&lt; Clock &gt; &amp;&#160;</td>
          <td class="paramname"><em>when</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Tries until when to obtain a push ticket for which <a class="el" href="structfolly_1_1detail_1_1SingleElementQueue.html#a928c6e469c2973aba17313769b32530d" title="enqueue using in-place noexcept construction ">SingleElementQueue::enqueue</a> won't block. Returns true on success, false on failure. ticket is filled on success AND failure. </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l01147">1147</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

<p>References <a class="el" href="Base-inl_8h_source.html#l02589">folly::gen::stride()</a>, <a class="el" href="TicketCodecTest_8cpp_source.html#l00021">ticket</a>, and <a class="el" href="Future-inl_8h_source.html#l02330">folly::when()</a>.</p>
<div class="fragment"><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;                                                       {</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    <span class="keywordtype">bool</span> deadlineReached = <span class="keyword">false</span>;</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    <span class="keywordflow">while</span> (!deadlineReached) {</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">static_cast&lt;</span>Derived&lt;T, Atom, Dynamic&gt;*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;              -&gt;<a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a981bee984586592588e2e4538d0ddc07">tryObtainPromisedPushTicket</a>(<a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>, slots, cap, <a class="code" href="namespacefolly_1_1gen.html#aa36a13c6afb34e3e6f9fa5d337ea41de">stride</a>)) {</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;      }</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;      <span class="comment">// ticket is a blocking ticket until the preceding ticket has been</span></div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;      <span class="comment">// processed: wait until this ticket&#39;s turn arrives. We have not reserved</span></div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;      <span class="comment">// this ticket so we will have to re-attempt to get a non-blocking ticket</span></div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;      <span class="comment">// if we wake up before we time-out.</span></div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;      deadlineReached =</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;          !slots[<a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#afec5711ca52e7035ffd423476f378c5d">idx</a>(<a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>, cap, <a class="code" href="namespacefolly_1_1gen.html#aa36a13c6afb34e3e6f9fa5d337ea41de">stride</a>)].tryWaitForEnqueueTurnUntil(</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;              <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a83a63a034e5f80b7d2700475b099c953">turn</a>(<a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>, cap),</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;              <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#abb7131b82a20603509baa4b8f8253be9">pushSpinCutoff_</a>,</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;              (<a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a> % <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ad17ed778a64abc6e0d40627832d0e198a9e0c5f8f33f5f5f18d102c6227833ccd">kAdaptationFreq</a>) == 0,</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;              <a class="code" href="namespacefolly.html#a7ab90ae4183e3dc37f224c4f494824f9">when</a>);</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    }</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;  }</div><div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a981bee984586592588e2e4538d0ddc07"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a981bee984586592588e2e4538d0ddc07">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::tryObtainPromisedPushTicket</a></div><div class="ttdeci">bool tryObtainPromisedPushTicket(uint64_t &amp;ticket, Slot *&amp;slots, size_t &amp;cap, int &amp;stride) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01178">MPMCQueue.h:1178</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_abb7131b82a20603509baa4b8f8253be9"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#abb7131b82a20603509baa4b8f8253be9">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::pushSpinCutoff_</a></div><div class="ttdeci">Atom&lt; uint32_t &gt; pushSpinCutoff_</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01046">MPMCQueue.h:1046</a></div></div>
<div class="ttc" id="TicketCodecTest_8cpp_html_a7093cc9e41a6fdad6b2f2aa9211604c6"><div class="ttname"><a href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a></div><div class="ttdeci">static constexpr StringPiece ticket</div><div class="ttdef"><b>Definition:</b> <a href="TicketCodecTest_8cpp_source.html#l00021">TicketCodecTest.cpp:21</a></div></div>
<div class="ttc" id="namespacefolly_html_a7ab90ae4183e3dc37f224c4f494824f9"><div class="ttname"><a href="namespacefolly.html#a7ab90ae4183e3dc37f224c4f494824f9">folly::when</a></div><div class="ttdeci">Future&lt; Unit &gt; when(bool p, F &amp;&amp;thunk)</div><div class="ttdef"><b>Definition:</b> <a href="Future-inl_8h_source.html#l02330">Future-inl.h:2330</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a83a63a034e5f80b7d2700475b099c953"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a83a63a034e5f80b7d2700475b099c953">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::turn</a></div><div class="ttdeci">uint32_t turn(uint64_t ticket, size_t cap) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01101">MPMCQueue.h:1101</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_afec5711ca52e7035ffd423476f378c5d"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#afec5711ca52e7035ffd423476f378c5d">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::idx</a></div><div class="ttdeci">size_t idx(uint64_t ticket, size_t cap, int stride) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01095">MPMCQueue.h:1095</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_ad17ed778a64abc6e0d40627832d0e198a9e0c5f8f33f5f5f18d102c6227833ccd"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ad17ed778a64abc6e0d40627832d0e198a9e0c5f8f33f5f5f18d102c6227833ccd">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::kAdaptationFreq</a></div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l00994">MPMCQueue.h:994</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_aa36a13c6afb34e3e6f9fa5d337ea41de"><div class="ttname"><a href="namespacefolly_1_1gen.html#aa36a13c6afb34e3e6f9fa5d337ea41de">folly::gen::stride</a></div><div class="ttdeci">detail::Stride stride(size_t s)</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02589">Base-inl.h:2589</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a36b321b929ac656c6aa105cf3885f746"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::tryObtainReadyPopTicket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> &amp;&#160;</td>
          <td class="paramname"><em>ticket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a23738dd989b848ac0bf07186e51fb707">Slot</a> *&amp;&#160;</td>
          <td class="paramname"><em>slots</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>cap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>stride</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Tries to obtain a pop ticket for which <a class="el" href="structfolly_1_1detail_1_1SingleElementQueue.html#a4c415ed606612b4fb90f7bc33e0767e7">SingleElementQueue::dequeue</a> won't block. Returns true on immediate success, false on immediate failure. </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l01207">1207</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

<p>References <a class="el" href="Base-inl_8h_source.html#l02589">folly::gen::stride()</a>, and <a class="el" href="TicketCodecTest_8cpp_source.html#l00021">ticket</a>.</p>
<div class="fragment"><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;                            {</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a> = <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a1cb89aa21af94067d2275b9162453f65">popTicket_</a>.load(std::memory_order_acquire);</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    slots = <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ac3f3bcc38d5d5f8a5b3b8f7468effdcb">slots_</a>;</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    cap = <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a3cacede25651073c09512553f8b6f4c6">capacity_</a>;</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    <a class="code" href="namespacefolly_1_1gen.html#aa36a13c6afb34e3e6f9fa5d337ea41de">stride</a> = <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a98ec88b404a1c1940ccc9252806fb953">stride_</a>;</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;      <span class="keywordflow">if</span> (!slots[<a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#afec5711ca52e7035ffd423476f378c5d">idx</a>(<a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>, cap, <a class="code" href="namespacefolly_1_1gen.html#aa36a13c6afb34e3e6f9fa5d337ea41de">stride</a>)].mayDequeue(<a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a83a63a034e5f80b7d2700475b099c953">turn</a>(<a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>, cap))) {</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;        <span class="keyword">auto</span> prev = <a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>;</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;        <a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a> = <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a1cb89aa21af94067d2275b9162453f65">popTicket_</a>.load(std::memory_order_acquire);</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;        <span class="keywordflow">if</span> (prev == <a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>) {</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;        }</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a1cb89aa21af94067d2275b9162453f65">popTicket_</a>.compare_exchange_strong(<a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>, <a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a> + 1)) {</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;        }</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;      }</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    }</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;  }</div><div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a3cacede25651073c09512553f8b6f4c6"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a3cacede25651073c09512553f8b6f4c6">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::capacity_</a></div><div class="ttdeci">size_t capacity_</div><div class="ttdoc">The maximum number of items in the queue at once. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01004">MPMCQueue.h:1004</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a1cb89aa21af94067d2275b9162453f65"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a1cb89aa21af94067d2275b9162453f65">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::popTicket_</a></div><div class="ttdeci">Atom&lt; uint64_t &gt; popTicket_</div><div class="ttdoc">Dequeuers get tickets from here. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01040">MPMCQueue.h:1040</a></div></div>
<div class="ttc" id="TicketCodecTest_8cpp_html_a7093cc9e41a6fdad6b2f2aa9211604c6"><div class="ttname"><a href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a></div><div class="ttdeci">static constexpr StringPiece ticket</div><div class="ttdef"><b>Definition:</b> <a href="TicketCodecTest_8cpp_source.html#l00021">TicketCodecTest.cpp:21</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a83a63a034e5f80b7d2700475b099c953"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a83a63a034e5f80b7d2700475b099c953">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::turn</a></div><div class="ttdeci">uint32_t turn(uint64_t ticket, size_t cap) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01101">MPMCQueue.h:1101</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_afec5711ca52e7035ffd423476f378c5d"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#afec5711ca52e7035ffd423476f378c5d">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::idx</a></div><div class="ttdeci">size_t idx(uint64_t ticket, size_t cap, int stride) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01095">MPMCQueue.h:1095</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_ac3f3bcc38d5d5f8a5b3b8f7468effdcb"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ac3f3bcc38d5d5f8a5b3b8f7468effdcb">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::slots_</a></div><div class="ttdeci">Slot * slots_</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01011">MPMCQueue.h:1011</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a98ec88b404a1c1940ccc9252806fb953"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a98ec88b404a1c1940ccc9252806fb953">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::stride_</a></div><div class="ttdeci">int stride_</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01021">MPMCQueue.h:1021</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_aa36a13c6afb34e3e6f9fa5d337ea41de"><div class="ttname"><a href="namespacefolly_1_1gen.html#aa36a13c6afb34e3e6f9fa5d337ea41de">folly::gen::stride</a></div><div class="ttdeci">detail::Stride stride(size_t s)</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02589">Base-inl.h:2589</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1653180cbca9b6696c0589824de6a241"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::tryObtainReadyPushTicket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> &amp;&#160;</td>
          <td class="paramname"><em>ticket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a23738dd989b848ac0bf07186e51fb707">Slot</a> *&amp;&#160;</td>
          <td class="paramname"><em>slots</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>cap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>stride</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Tries to obtain a push ticket for which <a class="el" href="structfolly_1_1detail_1_1SingleElementQueue.html#a928c6e469c2973aba17313769b32530d" title="enqueue using in-place noexcept construction ">SingleElementQueue::enqueue</a> won't block. Returns true on immediate success, false on immediate failure. </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l01109">1109</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

<p>References <a class="el" href="Base-inl_8h_source.html#l02589">folly::gen::stride()</a>, and <a class="el" href="TicketCodecTest_8cpp_source.html#l00021">ticket</a>.</p>
<div class="fragment"><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;                            {</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a> = <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a45ac0d9ef00c0950873ced51b6c03b65">pushTicket_</a>.load(std::memory_order_acquire); <span class="comment">// A</span></div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    slots = <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ac3f3bcc38d5d5f8a5b3b8f7468effdcb">slots_</a>;</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    cap = <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a3cacede25651073c09512553f8b6f4c6">capacity_</a>;</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    <a class="code" href="namespacefolly_1_1gen.html#aa36a13c6afb34e3e6f9fa5d337ea41de">stride</a> = <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a98ec88b404a1c1940ccc9252806fb953">stride_</a>;</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;      <span class="keywordflow">if</span> (!slots[<a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#afec5711ca52e7035ffd423476f378c5d">idx</a>(<a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>, cap, <a class="code" href="namespacefolly_1_1gen.html#aa36a13c6afb34e3e6f9fa5d337ea41de">stride</a>)].mayEnqueue(<a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a83a63a034e5f80b7d2700475b099c953">turn</a>(<a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>, cap))) {</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;        <span class="comment">// if we call enqueue(ticket, ...) on the SingleElementQueue</span></div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;        <span class="comment">// right now it would block, but this might no longer be the next</span></div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;        <span class="comment">// ticket.  We can increase the chance of tryEnqueue success under</span></div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;        <span class="comment">// contention (without blocking) by rechecking the ticket dispenser</span></div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;        <span class="keyword">auto</span> prev = <a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>;</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;        <a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a> = <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a45ac0d9ef00c0950873ced51b6c03b65">pushTicket_</a>.load(std::memory_order_acquire); <span class="comment">// B</span></div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;        <span class="keywordflow">if</span> (prev == <a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>) {</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;          <span class="comment">// mayEnqueue was bracketed by two reads (A or prev B or prev</span></div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;          <span class="comment">// failing CAS to B), so we are definitely unable to enqueue</span></div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;        }</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;        <span class="comment">// we will bracket the mayEnqueue check with a read (A or prev B</span></div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;        <span class="comment">// or prev failing CAS) and the following CAS.  If the CAS fails</span></div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        <span class="comment">// it will effect a load of pushTicket_</span></div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a45ac0d9ef00c0950873ced51b6c03b65">pushTicket_</a>.compare_exchange_strong(<a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>, <a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a> + 1)) {</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;        }</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;      }</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    }</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;  }</div><div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a3cacede25651073c09512553f8b6f4c6"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a3cacede25651073c09512553f8b6f4c6">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::capacity_</a></div><div class="ttdeci">size_t capacity_</div><div class="ttdoc">The maximum number of items in the queue at once. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01004">MPMCQueue.h:1004</a></div></div>
<div class="ttc" id="TicketCodecTest_8cpp_html_a7093cc9e41a6fdad6b2f2aa9211604c6"><div class="ttname"><a href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a></div><div class="ttdeci">static constexpr StringPiece ticket</div><div class="ttdef"><b>Definition:</b> <a href="TicketCodecTest_8cpp_source.html#l00021">TicketCodecTest.cpp:21</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a83a63a034e5f80b7d2700475b099c953"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a83a63a034e5f80b7d2700475b099c953">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::turn</a></div><div class="ttdeci">uint32_t turn(uint64_t ticket, size_t cap) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01101">MPMCQueue.h:1101</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_afec5711ca52e7035ffd423476f378c5d"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#afec5711ca52e7035ffd423476f378c5d">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::idx</a></div><div class="ttdeci">size_t idx(uint64_t ticket, size_t cap, int stride) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01095">MPMCQueue.h:1095</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a45ac0d9ef00c0950873ced51b6c03b65"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a45ac0d9ef00c0950873ced51b6c03b65">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::pushTicket_</a></div><div class="ttdeci">Atom&lt; uint64_t &gt; pushTicket_</div><div class="ttdoc">Enqueuers get tickets from here. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01037">MPMCQueue.h:1037</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_ac3f3bcc38d5d5f8a5b3b8f7468effdcb"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#ac3f3bcc38d5d5f8a5b3b8f7468effdcb">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::slots_</a></div><div class="ttdeci">Slot * slots_</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01011">MPMCQueue.h:1011</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a98ec88b404a1c1940ccc9252806fb953"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a98ec88b404a1c1940ccc9252806fb953">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::stride_</a></div><div class="ttdeci">int stride_</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01021">MPMCQueue.h:1021</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_aa36a13c6afb34e3e6f9fa5d337ea41de"><div class="ttname"><a href="namespacefolly_1_1gen.html#aa36a13c6afb34e3e6f9fa5d337ea41de">folly::gen::stride</a></div><div class="ttdeci">detail::Stride stride(size_t s)</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02589">Base-inl.h:2589</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a47d3ba24b0abd6f18608a61e0b7a5d11"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<div class="memtemplate">
template&lt;class Clock , typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::tryReadUntil </td>
          <td>(</td>
          <td class="paramtype">const std::chrono::time_point&lt; Clock &gt; &amp;&#160;</td>
          <td class="paramname"><em>when</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &amp;&#160;</td>
          <td class="paramname"><em>elem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l00952">952</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

<p>References <a class="el" href="Base-inl_8h_source.html#l02589">folly::gen::stride()</a>, <a class="el" href="TicketCodecTest_8cpp_source.html#l00021">ticket</a>, <a class="el" href="ConstexprMathBenchmark_8cpp_source.html#l00190">uint64_t</a>, and <a class="el" href="Future-inl_8h_source.html#l02330">folly::when()</a>.</p>
<div class="fragment"><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;                        {</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    <a class="code" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> <a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>;</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a23738dd989b848ac0bf07186e51fb707">Slot</a>* slots;</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <span class="keywordtype">size_t</span> cap;</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="namespacefolly_1_1gen.html#aa36a13c6afb34e3e6f9fa5d337ea41de">stride</a>;</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a8d9caea821c453f985fad16929099b66">tryObtainPromisedPopTicketUntil</a>(ticket, slots, cap, stride, <a class="code" href="namespacefolly.html#a7ab90ae4183e3dc37f224c4f494824f9">when</a>)) {</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;      <span class="comment">// we have pre-validated that the ticket won&#39;t block, or rather that</span></div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;      <span class="comment">// it won&#39;t block longer than it takes another thread to enqueue an</span></div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;      <span class="comment">// element on the slot it identifies.</span></div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;      <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a693a23b9b934af1e802d02f8420fd226">dequeueWithTicketBase</a>(ticket, slots, cap, stride, elem);</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    }</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  }</div><div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a693a23b9b934af1e802d02f8420fd226"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a693a23b9b934af1e802d02f8420fd226">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::dequeueWithTicketBase</a></div><div class="ttdeci">void dequeueWithTicketBase(uint64_t ticket, Slot *slots, size_t cap, int stride, T &amp;elem) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01319">MPMCQueue.h:1319</a></div></div>
<div class="ttc" id="TicketCodecTest_8cpp_html_a7093cc9e41a6fdad6b2f2aa9211604c6"><div class="ttname"><a href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a></div><div class="ttdeci">static constexpr StringPiece ticket</div><div class="ttdef"><b>Definition:</b> <a href="TicketCodecTest_8cpp_source.html#l00021">TicketCodecTest.cpp:21</a></div></div>
<div class="ttc" id="namespacefolly_html_a7ab90ae4183e3dc37f224c4f494824f9"><div class="ttname"><a href="namespacefolly.html#a7ab90ae4183e3dc37f224c4f494824f9">folly::when</a></div><div class="ttdeci">Future&lt; Unit &gt; when(bool p, F &amp;&amp;thunk)</div><div class="ttdef"><b>Definition:</b> <a href="Future-inl_8h_source.html#l02330">Future-inl.h:2330</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a8d9caea821c453f985fad16929099b66"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a8d9caea821c453f985fad16929099b66">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::tryObtainPromisedPopTicketUntil</a></div><div class="ttdeci">bool tryObtainPromisedPopTicketUntil(uint64_t &amp;ticket, Slot *&amp;slots, size_t &amp;cap, int &amp;stride, const std::chrono::time_point&lt; Clock &gt; &amp;when) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01236">MPMCQueue.h:1236</a></div></div>
<div class="ttc" id="ConstexprMathBenchmark_8cpp_html_a5dc34568a989dd90728a4ed499cd9fab"><div class="ttname"><a href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a></div><div class="ttdeci">uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ConstexprMathBenchmark_8cpp_source.html#l00190">ConstexprMathBenchmark.cpp:190</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_aa36a13c6afb34e3e6f9fa5d337ea41de"><div class="ttname"><a href="namespacefolly_1_1gen.html#aa36a13c6afb34e3e6f9fa5d337ea41de">folly::gen::stride</a></div><div class="ttdeci">detail::Stride stride(size_t s)</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02589">Base-inl.h:2589</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a23738dd989b848ac0bf07186e51fb707"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a23738dd989b848ac0bf07186e51fb707">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::Slot</a></div><div class="ttdeci">detail::SingleElementQueue&lt; T, Atom &gt; Slot</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l00657">MPMCQueue.h:657</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4ca6f293deee1fda9c7d289efda43041"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<div class="memtemplate">
template&lt;class Clock , typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::tryWriteUntil </td>
          <td>(</td>
          <td class="paramtype">const std::chrono::time_point&lt; Clock &gt; &amp;&#160;</td>
          <td class="paramname"><em>when</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l00864">864</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

<p>References <a class="el" href="fizz_2build___2gtest_2src_2gtest_2googlemock_2include_2gmock_2gmock-generated-matchers_8h_source.html#l00481">testing::Args()</a>, <a class="el" href="Base-inl_8h_source.html#l02589">folly::gen::stride()</a>, <a class="el" href="TicketCodecTest_8cpp_source.html#l00021">ticket</a>, and <a class="el" href="ConstexprMathBenchmark_8cpp_source.html#l00190">uint64_t</a>.</p>
<div class="fragment"><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;                               {</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <a class="code" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> <a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a23738dd989b848ac0bf07186e51fb707">Slot</a>* slots;</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <span class="keywordtype">size_t</span> cap;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="namespacefolly_1_1gen.html#aa36a13c6afb34e3e6f9fa5d337ea41de">stride</a>;</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a95bb4a0b904cbb650f0b11f99fdae694">tryObtainPromisedPushTicketUntil</a>(ticket, slots, cap, stride, <a class="code" href="namespacefolly.html#a7ab90ae4183e3dc37f224c4f494824f9">when</a>)) {</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;      <span class="comment">// we have pre-validated that the ticket won&#39;t block, or rather that</span></div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;      <span class="comment">// it won&#39;t block longer than it takes another thread to dequeue an</span></div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;      <span class="comment">// element from the slot it identifies.</span></div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;      <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a253b38c5ae647081d91d8564d8f1b423">enqueueWithTicketBase</a>(</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;          ticket, slots, cap, stride, std::forward&lt;Args&gt;(args)...);</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    }</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;  }</div><div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a253b38c5ae647081d91d8564d8f1b423"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a253b38c5ae647081d91d8564d8f1b423">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::enqueueWithTicketBase</a></div><div class="ttdeci">void enqueueWithTicketBase(uint64_t ticket, Slot *slots, size_t cap, int stride, Args &amp;&amp;...args) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01298">MPMCQueue.h:1298</a></div></div>
<div class="ttc" id="TicketCodecTest_8cpp_html_a7093cc9e41a6fdad6b2f2aa9211604c6"><div class="ttname"><a href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a></div><div class="ttdeci">static constexpr StringPiece ticket</div><div class="ttdef"><b>Definition:</b> <a href="TicketCodecTest_8cpp_source.html#l00021">TicketCodecTest.cpp:21</a></div></div>
<div class="ttc" id="namespacefolly_html_a7ab90ae4183e3dc37f224c4f494824f9"><div class="ttname"><a href="namespacefolly.html#a7ab90ae4183e3dc37f224c4f494824f9">folly::when</a></div><div class="ttdeci">Future&lt; Unit &gt; when(bool p, F &amp;&amp;thunk)</div><div class="ttdef"><b>Definition:</b> <a href="Future-inl_8h_source.html#l02330">Future-inl.h:2330</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a95bb4a0b904cbb650f0b11f99fdae694"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a95bb4a0b904cbb650f0b11f99fdae694">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::tryObtainPromisedPushTicketUntil</a></div><div class="ttdeci">bool tryObtainPromisedPushTicketUntil(uint64_t &amp;ticket, Slot *&amp;slots, size_t &amp;cap, int &amp;stride, const std::chrono::time_point&lt; Clock &gt; &amp;when) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01147">MPMCQueue.h:1147</a></div></div>
<div class="ttc" id="ConstexprMathBenchmark_8cpp_html_a5dc34568a989dd90728a4ed499cd9fab"><div class="ttname"><a href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a></div><div class="ttdeci">uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ConstexprMathBenchmark_8cpp_source.html#l00190">ConstexprMathBenchmark.cpp:190</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_aa36a13c6afb34e3e6f9fa5d337ea41de"><div class="ttname"><a href="namespacefolly_1_1gen.html#aa36a13c6afb34e3e6f9fa5d337ea41de">folly::gen::stride</a></div><div class="ttdeci">detail::Stride stride(size_t s)</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02589">Base-inl.h:2589</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a23738dd989b848ac0bf07186e51fb707"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a23738dd989b848ac0bf07186e51fb707">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::Slot</a></div><div class="ttdeci">detail::SingleElementQueue&lt; T, Atom &gt; Slot</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l00657">MPMCQueue.h:657</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a83a63a034e5f80b7d2700475b099c953"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::turn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a>&#160;</td>
          <td class="paramname"><em>ticket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>cap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Maps an enqueue or dequeue ticket to the turn should be used at the corresponding <a class="el" href="structfolly_1_1detail_1_1SingleElementQueue.html">SingleElementQueue</a> </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l01101">1101</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

<p>References <a class="el" href="TicketCodecTest_8cpp_source.html#l00021">ticket</a>, and <a class="el" href="ConstexprMathBenchmark_8cpp_source.html#l00186">uint32_t</a>.</p>
<div class="fragment"><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;                                                      {</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    assert(cap != 0);</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a>(<a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a> / cap);</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;  }</div><div class="ttc" id="TicketCodecTest_8cpp_html_a7093cc9e41a6fdad6b2f2aa9211604c6"><div class="ttname"><a href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a></div><div class="ttdeci">static constexpr StringPiece ticket</div><div class="ttdef"><b>Definition:</b> <a href="TicketCodecTest_8cpp_source.html#l00021">TicketCodecTest.cpp:21</a></div></div>
<div class="ttc" id="ConstexprMathBenchmark_8cpp_html_a09a1e304d66d35dd47daffee9731edaa"><div class="ttname"><a href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a></div><div class="ttdeci">uint32_t</div><div class="ttdef"><b>Definition:</b> <a href="ConstexprMathBenchmark_8cpp_source.html#l00186">ConstexprMathBenchmark.cpp:186</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad4c64c2a80b2c04f7ef3039f222777cd"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<div class="memtemplate">
template&lt;typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::write </td>
          <td>(</td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>If an item can be enqueued with no blocking, does so and returns true, otherwise returns false. This method is similar to writeIfNotFull, but if you don't have a specific need for that method you should use this one.</p>
<p>One of the common usages of this method is to enqueue via the move constructor, something like q.write(std::move(x)). If write returns false because the queue is full then x has not actually been consumed, which looks strange. To understand why it is actually okay to use x afterward, remember that std::move is just a typecast that provides an rvalue reference that enables use of a move constructor or operator. std::move doesn't actually move anything. It could more accurately be called std::rvalue_cast or std::move_permission. </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l00847">847</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

<p>References <a class="el" href="fizz_2build___2gtest_2src_2gtest_2googlemock_2include_2gmock_2gmock-generated-matchers_8h_source.html#l00481">testing::Args()</a>, <a class="el" href="Base-inl_8h_source.html#l02589">folly::gen::stride()</a>, <a class="el" href="TicketCodecTest_8cpp_source.html#l00021">ticket</a>, and <a class="el" href="ConstexprMathBenchmark_8cpp_source.html#l00190">uint64_t</a>.</p>
<div class="fragment"><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;                                      {</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <a class="code" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> <a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a23738dd989b848ac0bf07186e51fb707">Slot</a>* slots;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="keywordtype">size_t</span> cap;</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="namespacefolly_1_1gen.html#aa36a13c6afb34e3e6f9fa5d337ea41de">stride</a>;</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">static_cast&lt;</span>Derived&lt;T, Atom, Dynamic&gt;*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)-&gt;<a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a1653180cbca9b6696c0589824de6a241">tryObtainReadyPushTicket</a>(</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;            ticket, slots, cap, stride)) {</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;      <span class="comment">// we have pre-validated that the ticket won&#39;t block</span></div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;      <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a253b38c5ae647081d91d8564d8f1b423">enqueueWithTicketBase</a>(</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;          ticket, slots, cap, stride, std::forward&lt;Args&gt;(args)...);</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    }</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  }</div><div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a1653180cbca9b6696c0589824de6a241"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a1653180cbca9b6696c0589824de6a241">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::tryObtainReadyPushTicket</a></div><div class="ttdeci">bool tryObtainReadyPushTicket(uint64_t &amp;ticket, Slot *&amp;slots, size_t &amp;cap, int &amp;stride) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01109">MPMCQueue.h:1109</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a253b38c5ae647081d91d8564d8f1b423"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a253b38c5ae647081d91d8564d8f1b423">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::enqueueWithTicketBase</a></div><div class="ttdeci">void enqueueWithTicketBase(uint64_t ticket, Slot *slots, size_t cap, int stride, Args &amp;&amp;...args) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01298">MPMCQueue.h:1298</a></div></div>
<div class="ttc" id="TicketCodecTest_8cpp_html_a7093cc9e41a6fdad6b2f2aa9211604c6"><div class="ttname"><a href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a></div><div class="ttdeci">static constexpr StringPiece ticket</div><div class="ttdef"><b>Definition:</b> <a href="TicketCodecTest_8cpp_source.html#l00021">TicketCodecTest.cpp:21</a></div></div>
<div class="ttc" id="ConstexprMathBenchmark_8cpp_html_a5dc34568a989dd90728a4ed499cd9fab"><div class="ttname"><a href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a></div><div class="ttdeci">uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ConstexprMathBenchmark_8cpp_source.html#l00190">ConstexprMathBenchmark.cpp:190</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_aa36a13c6afb34e3e6f9fa5d337ea41de"><div class="ttname"><a href="namespacefolly_1_1gen.html#aa36a13c6afb34e3e6f9fa5d337ea41de">folly::gen::stride</a></div><div class="ttdeci">detail::Stride stride(size_t s)</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02589">Base-inl.h:2589</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a23738dd989b848ac0bf07186e51fb707"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a23738dd989b848ac0bf07186e51fb707">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::Slot</a></div><div class="ttdeci">detail::SingleElementQueue&lt; T, Atom &gt; Slot</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l00657">MPMCQueue.h:657</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9dbae0e972cbb42d486705dcff203b9f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::writeCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the total number of calls to blockingWrite or successful calls to write, including those blockingWrite calls that are currently blocking </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l00811">811</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                                       {</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a45ac0d9ef00c0950873ced51b6c03b65">pushTicket_</a>.load(std::memory_order_acquire);</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  }</div><div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a45ac0d9ef00c0950873ced51b6c03b65"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a45ac0d9ef00c0950873ced51b6c03b65">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::pushTicket_</a></div><div class="ttdeci">Atom&lt; uint64_t &gt; pushTicket_</div><div class="ttdoc">Enqueuers get tickets from here. </div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01037">MPMCQueue.h:1037</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae81e5a7314cb67ad277408ec18745759"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<div class="memtemplate">
template&lt;typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::writeIfNotFull </td>
          <td>(</td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>If the queue is not full, enqueues and returns true, otherwise returns false. Unlike write this method can be blocked by another thread, specifically a read that has linearized (been assigned a ticket) but not yet completed. If you don't really need this function you should probably use write.</p>
<p><a class="el" href="classfolly_1_1MPMCQueue.html">MPMCQueue</a> isn't lock-free, so just because a read operation has linearized (and isFull is false) doesn't mean that space has been made available for another write. In this situation write will return false, but writeIfNotFull will wait for the dequeue to finish. This method is required if you are composing queues and managing your own wakeup, because it guarantees that after every successful write a readIfNotEmpty will succeed. </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l00897">897</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

<p>References <a class="el" href="Base-inl_8h_source.html#l02589">folly::gen::stride()</a>, <a class="el" href="TicketCodecTest_8cpp_source.html#l00021">ticket</a>, and <a class="el" href="ConstexprMathBenchmark_8cpp_source.html#l00190">uint64_t</a>.</p>
<div class="fragment"><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;                                               {</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <a class="code" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> <a class="code" href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a>;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a23738dd989b848ac0bf07186e51fb707">Slot</a>* slots;</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <span class="keywordtype">size_t</span> cap;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="namespacefolly_1_1gen.html#aa36a13c6afb34e3e6f9fa5d337ea41de">stride</a>;</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">static_cast&lt;</span>Derived&lt;T, Atom, Dynamic&gt;*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;            -&gt;<a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a981bee984586592588e2e4538d0ddc07">tryObtainPromisedPushTicket</a>(ticket, slots, cap, stride)) {</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;      <span class="comment">// some other thread is already dequeuing the slot into which we</span></div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;      <span class="comment">// are going to enqueue, but we might have to wait for them to finish</span></div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;      <a class="code" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a253b38c5ae647081d91d8564d8f1b423">enqueueWithTicketBase</a>(</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;          ticket, slots, cap, stride, std::forward&lt;Args&gt;(args)...);</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    }</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  }</div><div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a981bee984586592588e2e4538d0ddc07"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a981bee984586592588e2e4538d0ddc07">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::tryObtainPromisedPushTicket</a></div><div class="ttdeci">bool tryObtainPromisedPushTicket(uint64_t &amp;ticket, Slot *&amp;slots, size_t &amp;cap, int &amp;stride) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01178">MPMCQueue.h:1178</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a253b38c5ae647081d91d8564d8f1b423"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a253b38c5ae647081d91d8564d8f1b423">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::enqueueWithTicketBase</a></div><div class="ttdeci">void enqueueWithTicketBase(uint64_t ticket, Slot *slots, size_t cap, int stride, Args &amp;&amp;...args) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l01298">MPMCQueue.h:1298</a></div></div>
<div class="ttc" id="TicketCodecTest_8cpp_html_a7093cc9e41a6fdad6b2f2aa9211604c6"><div class="ttname"><a href="TicketCodecTest_8cpp.html#a7093cc9e41a6fdad6b2f2aa9211604c6">ticket</a></div><div class="ttdeci">static constexpr StringPiece ticket</div><div class="ttdef"><b>Definition:</b> <a href="TicketCodecTest_8cpp_source.html#l00021">TicketCodecTest.cpp:21</a></div></div>
<div class="ttc" id="ConstexprMathBenchmark_8cpp_html_a5dc34568a989dd90728a4ed499cd9fab"><div class="ttname"><a href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a></div><div class="ttdeci">uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ConstexprMathBenchmark_8cpp_source.html#l00190">ConstexprMathBenchmark.cpp:190</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_aa36a13c6afb34e3e6f9fa5d337ea41de"><div class="ttname"><a href="namespacefolly_1_1gen.html#aa36a13c6afb34e3e6f9fa5d337ea41de">folly::gen::stride</a></div><div class="ttdeci">detail::Stride stride(size_t s)</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02589">Base-inl.h:2589</a></div></div>
<div class="ttc" id="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4_html_a23738dd989b848ac0bf07186e51fb707"><div class="ttname"><a href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a23738dd989b848ac0bf07186e51fb707">folly::detail::MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;::Slot</a></div><div class="ttdeci">detail::SingleElementQueue&lt; T, Atom &gt; Slot</div><div class="ttdef"><b>Definition:</b> <a href="MPMCQueue_8h_source.html#l00657">MPMCQueue.h:657</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="af7525d6468844fe8bfed908a6d67af20"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">union { ... } </td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Anonymous union for use when Dynamic = false and true, respectively. </p>

</div>
</div>
<a class="anchor" id="ac8d91a6add2cc192b329444e33936ccb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">union { ... } </td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Anonymous union for use when Dynamic = false and true, respectively. </p>

</div>
</div>
<a class="anchor" id="a3cacede25651073c09512553f8b6f4c6"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::capacity_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The maximum number of items in the queue at once. </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l01004">1004</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

</div>
</div>
<a class="anchor" id="a10ad3362ca4fd968424b04fe7443ce91"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>&lt;size_t&gt; <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::dcapacity_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Dynamic capacity. </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l01034">1034</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

</div>
</div>
<a class="anchor" id="adad044e7b7c4bea2f1a3a73da451e3b1"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>&lt;<a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a23738dd989b848ac0bf07186e51fb707">Slot</a>*&gt; <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::dslots_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Current dynamic slots array of dcapacity_ SingleElementQueue-s. </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l01013">1013</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

</div>
</div>
<a class="anchor" id="a571a1c2794b26ea20cbd853d3767b4c2"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>&lt;<a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a>&gt; <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::dstate_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The following two memebers are used by dynamic <a class="el" href="classfolly_1_1MPMCQueue.html">MPMCQueue</a>. Ideally they should be in <a class="el" href="classfolly_1_1MPMCQueue_3_01T_00_01Atom_00_01true_01_4.html">MPMCQueue&lt;T,Atom,true&gt;</a>, but we get better cache locality if they are in the same cache line as dslots_ and dstride_.</p>
<p>Dynamic state. <a class="el" href="structA.html">A</a> packed seqlock and ticket offset </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l01032">1032</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab2f98515b2dec6a87a58ff27640899bc"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>&lt;int&gt; <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::dstride_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Current stride. </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l01023">1023</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9222dda8e312d561f087714d39f7fa6c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::pad_[<a class="el" href="namespacefolly.html#ad7785b3b18d42e038fcae97678622da4">hardware_destructive_interference_size</a>-<a class="el" href="namespacefolly_1_1detail.html#a47282ba6480fc910c4bf7dbcf33ace49">sizeof</a>(<a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>&lt; <a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> &gt;)]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Alignment doesn't prevent false sharing at the end of the struct, so fill out the last cache line </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l01053">1053</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab4928c8411b61c5050b5a669c62c90b0"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>&lt;<a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a>&gt; <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::popSpinCutoff_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The adaptive spin cutoff when the queue is empty on dequeue. </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l01049">1049</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1cb89aa21af94067d2275b9162453f65"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>&lt;<a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a>&gt; <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::popTicket_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Dequeuers get tickets from here. </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l01040">1040</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

</div>
</div>
<a class="anchor" id="abb7131b82a20603509baa4b8f8253be9"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>&lt;<a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a>&gt; <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::pushSpinCutoff_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This is how many times we will spin before using FUTEX_WAIT when the queue is full on enqueue, adaptively computed by occasionally spinning for longer and smoothing with an exponential moving average </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l01046">1046</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

</div>
</div>
<a class="anchor" id="a45ac0d9ef00c0950873ced51b6c03b65"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>&lt;<a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a>&gt; <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::pushTicket_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enqueuers get tickets from here. </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l01037">1037</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac3f3bcc38d5d5f8a5b3b8f7468effdcb"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html#a23738dd989b848ac0bf07186e51fb707">Slot</a>* <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::slots_</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>An array of capacity_ SingleElementQueue-s, each of which holds either 0 or 1 item. We over-allocate by 2 * kSlotPadding and don't touch the slots at either end, to avoid false sharing </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l01011">1011</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

</div>
</div>
<a class="anchor" id="a98ec88b404a1c1940ccc9252806fb953"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename T, template&lt; typename &gt; class Atom, bool Dynamic &gt; class Derived, typename T , template&lt; typename &gt; class Atom, bool Dynamic&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase.html">folly::detail::MPMCQueueBase</a>&lt; <a class="el" href="classDerived.html">Derived</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="ConcurrentHashMapTest_8cpp.html#a98ac53dd3c18b4046e7c5cb0bcb64b75">Atom</a>, Dynamic &gt; &gt;::stride_</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The number of slots_ indices that we advance for each ticket, to avoid false sharing. Ideally slots_[i] and slots_[i + stride_] aren't on the same cache line </p>

<p>Definition at line <a class="el" href="MPMCQueue_8h_source.html#l01021">1021</a> of file <a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>proxygen/folly/folly/<a class="el" href="MPMCQueue_8h_source.html">MPMCQueue.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefolly.html">folly</a></li><li class="navelem"><a class="el" href="namespacefolly_1_1detail.html">detail</a></li><li class="navelem"><a class="el" href="classfolly_1_1detail_1_1MPMCQueueBase_3_01Derived_3_01T_00_01Atom_00_01Dynamic_01_4_01_4.html">MPMCQueueBase&lt; Derived&lt; T, Atom, Dynamic &gt; &gt;</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
