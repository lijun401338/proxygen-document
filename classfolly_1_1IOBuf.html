<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>proxygen: folly::IOBuf Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">proxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classfolly_1_1IOBuf.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classfolly_1_1IOBuf-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">folly::IOBuf Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1IOBuf_1_1DeleterBase.html">DeleterBase</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1IOBuf_1_1HeapFullStorage.html">HeapFullStorage</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1IOBuf_1_1HeapPrefix.html">HeapPrefix</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1IOBuf_1_1HeapStorage.html">HeapStorage</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1IOBuf_1_1InternalConstructor.html">InternalConstructor</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf_1_1Iterator.html">Iterator</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1IOBuf_1_1SharedInfo.html">SharedInfo</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1IOBuf_1_1UniquePtrDeleter.html">UniquePtrDeleter</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a693fa6c7a5a1ecc72fa0bcd834507a56"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a693fa6c7a5a1ecc72fa0bcd834507a56">CreateOp</a> { <a class="el" href="classfolly_1_1IOBuf.html#a693fa6c7a5a1ecc72fa0bcd834507a56a06f59281b6961a3238097b4dd6badba6">CREATE</a>
 }</td></tr>
<tr class="separator:a693fa6c7a5a1ecc72fa0bcd834507a56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60c3b02321c68dcc061dcc7fbfa412a3"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a60c3b02321c68dcc061dcc7fbfa412a3">WrapBufferOp</a> { <a class="el" href="classfolly_1_1IOBuf.html#a60c3b02321c68dcc061dcc7fbfa412a3a174a9607f56f9e1751bf7dd642f728fb">WRAP_BUFFER</a>
 }</td></tr>
<tr class="separator:a60c3b02321c68dcc061dcc7fbfa412a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1307cfccbbae75a2b8ca147e825f5bf"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#ac1307cfccbbae75a2b8ca147e825f5bf">TakeOwnershipOp</a> { <a class="el" href="classfolly_1_1IOBuf.html#ac1307cfccbbae75a2b8ca147e825f5bfa1fb95262364b0bd03599e7a4af859165">TAKE_OWNERSHIP</a>
 }</td></tr>
<tr class="separator:ac1307cfccbbae75a2b8ca147e825f5bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4c6c9ea66b0e79e914b6de174538217"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#af4c6c9ea66b0e79e914b6de174538217">CopyBufferOp</a> { <a class="el" href="classfolly_1_1IOBuf.html#af4c6c9ea66b0e79e914b6de174538217a9d8435d3eec3f503961fa6f28c1e5735">COPY_BUFFER</a>
 }</td></tr>
<tr class="separator:af4c6c9ea66b0e79e914b6de174538217"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d871ed998e93a6d093a83c8e75b198d"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="namespacefolly.html#a7f61a634c75bc3bb46447ec2b17ff0fe">ByteRange</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a4d871ed998e93a6d093a83c8e75b198d">value_type</a></td></tr>
<tr class="separator:a4d871ed998e93a6d093a83c8e75b198d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff36bc10f67096e1e262c01e562a7956"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classfolly_1_1IOBuf_1_1Iterator.html">Iterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#aff36bc10f67096e1e262c01e562a7956">iterator</a></td></tr>
<tr class="separator:aff36bc10f67096e1e262c01e562a7956"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17cc7e278ff97218f3ab32158bbfcc8a"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classfolly_1_1IOBuf_1_1Iterator.html">Iterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a17cc7e278ff97218f3ab32158bbfcc8a">const_iterator</a></td></tr>
<tr class="separator:a17cc7e278ff97218f3ab32158bbfcc8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a772cf57f0a617c6fd4d518fa541e5b8d"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a772cf57f0a617c6fd4d518fa541e5b8d">FreeFunction</a>) (void *buf, void *userData)</td></tr>
<tr class="separator:a772cf57f0a617c6fd4d518fa541e5b8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a51c0a32f9292369b58e92eae1ff9e676"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a51c0a32f9292369b58e92eae1ff9e676">IOBuf</a> (<a class="el" href="classfolly_1_1IOBuf.html#a693fa6c7a5a1ecc72fa0bcd834507a56">CreateOp</a>, std::size_t <a class="el" href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">capacity</a>)</td></tr>
<tr class="separator:a51c0a32f9292369b58e92eae1ff9e676"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ab42f326c2d7781e83c4757f9c51832"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a1ab42f326c2d7781e83c4757f9c51832">IOBuf</a> (<a class="el" href="classfolly_1_1IOBuf.html#ac1307cfccbbae75a2b8ca147e825f5bf">TakeOwnershipOp</a> op, void *buf, std::size_t <a class="el" href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">capacity</a>, <a class="el" href="classfolly_1_1IOBuf.html#a772cf57f0a617c6fd4d518fa541e5b8d">FreeFunction</a> freeFn=<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>, void *userData=<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>, bool freeOnError=true)</td></tr>
<tr class="separator:a1ab42f326c2d7781e83c4757f9c51832"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b0ea14109cb92d866007c737b2b4dec"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a1b0ea14109cb92d866007c737b2b4dec">IOBuf</a> (<a class="el" href="classfolly_1_1IOBuf.html#ac1307cfccbbae75a2b8ca147e825f5bf">TakeOwnershipOp</a>, void *buf, std::size_t <a class="el" href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">capacity</a>, std::size_t <a class="el" href="classfolly_1_1IOBuf.html#a7772f21059d7cde7f30341dfbb162e4a">length</a>, <a class="el" href="classfolly_1_1IOBuf.html#a772cf57f0a617c6fd4d518fa541e5b8d">FreeFunction</a> freeFn=<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>, void *userData=<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>, bool freeOnError=true)</td></tr>
<tr class="separator:a1b0ea14109cb92d866007c737b2b4dec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae48e30d36bfac255c58c1339092dfa4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#aae48e30d36bfac255c58c1339092dfa4">IOBuf</a> (<a class="el" href="classfolly_1_1IOBuf.html#a60c3b02321c68dcc061dcc7fbfa412a3">WrapBufferOp</a> op, const void *buf, std::size_t <a class="el" href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">capacity</a>) noexcept</td></tr>
<tr class="separator:aae48e30d36bfac255c58c1339092dfa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a797df65bbfd7eb9a7d315850e60a08d7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a797df65bbfd7eb9a7d315850e60a08d7">IOBuf</a> (<a class="el" href="classfolly_1_1IOBuf.html#a60c3b02321c68dcc061dcc7fbfa412a3">WrapBufferOp</a> op, <a class="el" href="namespacefolly.html#a7f61a634c75bc3bb46447ec2b17ff0fe">ByteRange</a> br) noexcept</td></tr>
<tr class="separator:a797df65bbfd7eb9a7d315850e60a08d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d57fbc0cd46b221c828557668210039"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a7d57fbc0cd46b221c828557668210039">IOBuf</a> (<a class="el" href="classfolly_1_1IOBuf.html#af4c6c9ea66b0e79e914b6de174538217">CopyBufferOp</a> op, const void *buf, std::size_t <a class="el" href="namespacefolly.html#a0606ba855bcb96a1673880aa3b404993">size</a>, std::size_t <a class="el" href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">headroom</a>=0, std::size_t minTailroom=0)</td></tr>
<tr class="separator:a7d57fbc0cd46b221c828557668210039"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f570897c359fbf351125341f9d2f1a3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a3f570897c359fbf351125341f9d2f1a3">IOBuf</a> (<a class="el" href="classfolly_1_1IOBuf.html#af4c6c9ea66b0e79e914b6de174538217">CopyBufferOp</a> op, <a class="el" href="namespacefolly.html#a7f61a634c75bc3bb46447ec2b17ff0fe">ByteRange</a> br, std::size_t <a class="el" href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">headroom</a>=0, std::size_t minTailroom=0)</td></tr>
<tr class="separator:a3f570897c359fbf351125341f9d2f1a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a613cb6c54f4dd46b7f0e2d7ec4eef826"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a613cb6c54f4dd46b7f0e2d7ec4eef826">IOBuf</a> (<a class="el" href="classfolly_1_1IOBuf.html#af4c6c9ea66b0e79e914b6de174538217">CopyBufferOp</a> op, const <a class="el" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a> &amp;buf, std::size_t <a class="el" href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">headroom</a>=0, std::size_t minTailroom=0)</td></tr>
<tr class="separator:a613cb6c54f4dd46b7f0e2d7ec4eef826"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfadb01d4fc7288b5d00b477ffed55e3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#adfadb01d4fc7288b5d00b477ffed55e3">~IOBuf</a> ()</td></tr>
<tr class="separator:adfadb01d4fc7288b5d00b477ffed55e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addd20c4557b244419407356ca4ee756c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#addd20c4557b244419407356ca4ee756c">empty</a> () const </td></tr>
<tr class="separator:addd20c4557b244419407356ca4ee756c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af71f6f5efabbcddf8ec6dada00f5eebf"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#af71f6f5efabbcddf8ec6dada00f5eebf">data</a> () const </td></tr>
<tr class="separator:af71f6f5efabbcddf8ec6dada00f5eebf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12c5ca1fbbaad2a7ebda5829cd9674ef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a12c5ca1fbbaad2a7ebda5829cd9674ef">writableData</a> ()</td></tr>
<tr class="separator:a12c5ca1fbbaad2a7ebda5829cd9674ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d40f1589d5ca8d12d545ea2fccf1031"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a7d40f1589d5ca8d12d545ea2fccf1031">tail</a> () const </td></tr>
<tr class="separator:a7d40f1589d5ca8d12d545ea2fccf1031"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dcdae94adc6b5f562c74896e928c563"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a1dcdae94adc6b5f562c74896e928c563">writableTail</a> ()</td></tr>
<tr class="separator:a1dcdae94adc6b5f562c74896e928c563"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7772f21059d7cde7f30341dfbb162e4a"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a7772f21059d7cde7f30341dfbb162e4a">length</a> () const </td></tr>
<tr class="separator:a7772f21059d7cde7f30341dfbb162e4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e7ab795221f3359c2d919b3035374c3"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">headroom</a> () const </td></tr>
<tr class="separator:a6e7ab795221f3359c2d919b3035374c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e37facbd98e407388559c4dd572eb6c"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a9e37facbd98e407388559c4dd572eb6c">tailroom</a> () const </td></tr>
<tr class="separator:a9e37facbd98e407388559c4dd572eb6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13594a66788d8fe6ee7913e9d100ca5a"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a13594a66788d8fe6ee7913e9d100ca5a">buffer</a> () const </td></tr>
<tr class="separator:a13594a66788d8fe6ee7913e9d100ca5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa09e3f15a796182adf3d6c4e163491d7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#aa09e3f15a796182adf3d6c4e163491d7">writableBuffer</a> ()</td></tr>
<tr class="separator:aa09e3f15a796182adf3d6c4e163491d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55034cff0b52cd2e3b597cd2c570398c"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a55034cff0b52cd2e3b597cd2c570398c">bufferEnd</a> () const </td></tr>
<tr class="separator:a55034cff0b52cd2e3b597cd2c570398c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc06ea1931398696db8d9a80619e3753"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">capacity</a> () const </td></tr>
<tr class="separator:afc06ea1931398696db8d9a80619e3753"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2120be76b279b5a7405b70497ea471a7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a2120be76b279b5a7405b70497ea471a7">next</a> ()</td></tr>
<tr class="separator:a2120be76b279b5a7405b70497ea471a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a682990dabc02d4e2324c9ecb21f9db40"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a682990dabc02d4e2324c9ecb21f9db40">next</a> () const </td></tr>
<tr class="separator:a682990dabc02d4e2324c9ecb21f9db40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6e1ec3d0ba26ba438b302f45a01e17a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#aa6e1ec3d0ba26ba438b302f45a01e17a">prev</a> ()</td></tr>
<tr class="separator:aa6e1ec3d0ba26ba438b302f45a01e17a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec9a2765b75d14bd157de0549fc9b21e"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#aec9a2765b75d14bd157de0549fc9b21e">prev</a> () const </td></tr>
<tr class="separator:aec9a2765b75d14bd157de0549fc9b21e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9b3bd683d15bbda8fd139311e0f6061"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#ab9b3bd683d15bbda8fd139311e0f6061">advance</a> (std::size_t amount)</td></tr>
<tr class="separator:ab9b3bd683d15bbda8fd139311e0f6061"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94a838c0aa9e189b1912438ae94173fb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a94a838c0aa9e189b1912438ae94173fb">retreat</a> (std::size_t amount)</td></tr>
<tr class="separator:a94a838c0aa9e189b1912438ae94173fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f98e4c39298b5a5f23f8bc08f1901e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a1f98e4c39298b5a5f23f8bc08f1901e3">prepend</a> (std::size_t amount)</td></tr>
<tr class="separator:a1f98e4c39298b5a5f23f8bc08f1901e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac56d35181e96caf9ebcefa1768d8588"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#aac56d35181e96caf9ebcefa1768d8588">append</a> (std::size_t amount)</td></tr>
<tr class="separator:aac56d35181e96caf9ebcefa1768d8588"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88ae3810ecc01b9f130da1156d5ff244"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a88ae3810ecc01b9f130da1156d5ff244">trimStart</a> (std::size_t amount)</td></tr>
<tr class="separator:a88ae3810ecc01b9f130da1156d5ff244"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad12ac938bdd0cb4db5ecf8dd10e47e46"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#ad12ac938bdd0cb4db5ecf8dd10e47e46">trimEnd</a> (std::size_t amount)</td></tr>
<tr class="separator:ad12ac938bdd0cb4db5ecf8dd10e47e46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6925a9f5300fc05e19fc579d43663991"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a6925a9f5300fc05e19fc579d43663991">clear</a> ()</td></tr>
<tr class="separator:a6925a9f5300fc05e19fc579d43663991"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a288e80a81f23fe191e2b49c1679e1a0b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a288e80a81f23fe191e2b49c1679e1a0b">reserve</a> (std::size_t minHeadroom, std::size_t minTailroom)</td></tr>
<tr class="separator:a288e80a81f23fe191e2b49c1679e1a0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b6f1bccec27ec05ad6b6906980589ea"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a5b6f1bccec27ec05ad6b6906980589ea">isChained</a> () const </td></tr>
<tr class="separator:a5b6f1bccec27ec05ad6b6906980589ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad23972657a0dd820d36bd83ebc74ca39"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#ad23972657a0dd820d36bd83ebc74ca39">countChainElements</a> () const </td></tr>
<tr class="separator:ad23972657a0dd820d36bd83ebc74ca39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4c405fd5fa405c8d814b4cc86309a34"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#ac4c405fd5fa405c8d814b4cc86309a34">computeChainDataLength</a> () const </td></tr>
<tr class="separator:ac4c405fd5fa405c8d814b4cc86309a34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa863b989b6576c999599b60e59c48e91"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#aa863b989b6576c999599b60e59c48e91">prependChain</a> (std::unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt; &amp;&amp;iobuf)</td></tr>
<tr class="separator:aa863b989b6576c999599b60e59c48e91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af71c4d0e6e0758cac2163b3134f0d0b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#af71c4d0e6e0758cac2163b3134f0d0b3">appendChain</a> (std::unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt; &amp;&amp;iobuf)</td></tr>
<tr class="separator:af71c4d0e6e0758cac2163b3134f0d0b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0fb688fa5faf404e3f8dc9591b03612"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#ad0fb688fa5faf404e3f8dc9591b03612">unlink</a> ()</td></tr>
<tr class="separator:ad0fb688fa5faf404e3f8dc9591b03612"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02aa5128684998e66a1dffcfce2bbd17"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a02aa5128684998e66a1dffcfce2bbd17">pop</a> ()</td></tr>
<tr class="separator:a02aa5128684998e66a1dffcfce2bbd17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c57cd2cdbac9c41601501fa0572ccb4"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a8c57cd2cdbac9c41601501fa0572ccb4">separateChain</a> (<a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> *head, <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> *<a class="el" href="classfolly_1_1IOBuf.html#a7d40f1589d5ca8d12d545ea2fccf1031">tail</a>)</td></tr>
<tr class="separator:a8c57cd2cdbac9c41601501fa0572ccb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6f285ff625252999cd597faa61b1837"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#ac6f285ff625252999cd597faa61b1837">isShared</a> () const </td></tr>
<tr class="separator:ac6f285ff625252999cd597faa61b1837"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a737232f21fbe531d5685704da9d926d8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a737232f21fbe531d5685704da9d926d8">isManaged</a> () const </td></tr>
<tr class="separator:a737232f21fbe531d5685704da9d926d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bb4ccf5542401665484981b14afbac1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a0bb4ccf5542401665484981b14afbac1">isManagedOne</a> () const </td></tr>
<tr class="separator:a0bb4ccf5542401665484981b14afbac1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc566a1f1aabc7cdb029de084952dffb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#abc566a1f1aabc7cdb029de084952dffb">isSharedOne</a> () const </td></tr>
<tr class="separator:abc566a1f1aabc7cdb029de084952dffb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17a04ba01fdb8bfcf1b8b374eb9aae6b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a17a04ba01fdb8bfcf1b8b374eb9aae6b">unshare</a> ()</td></tr>
<tr class="separator:a17a04ba01fdb8bfcf1b8b374eb9aae6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed34bb3a4cd9ad3cff86d904056d7419"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#aed34bb3a4cd9ad3cff86d904056d7419">unshareOne</a> ()</td></tr>
<tr class="separator:aed34bb3a4cd9ad3cff86d904056d7419"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aead8140c181c41429c6e119c5d28a87e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#aead8140c181c41429c6e119c5d28a87e">markExternallyShared</a> ()</td></tr>
<tr class="separator:aead8140c181c41429c6e119c5d28a87e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa35f1133cf7a46b90110a9fdbfbaad8b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#aa35f1133cf7a46b90110a9fdbfbaad8b">markExternallySharedOne</a> ()</td></tr>
<tr class="separator:aa35f1133cf7a46b90110a9fdbfbaad8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a583ef629e573b10c5cfe2b97951328af"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a583ef629e573b10c5cfe2b97951328af">makeManaged</a> ()</td></tr>
<tr class="separator:a583ef629e573b10c5cfe2b97951328af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20a051e2bbcafc80a01cdc2b5cbffa55"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a20a051e2bbcafc80a01cdc2b5cbffa55">makeManagedOne</a> ()</td></tr>
<tr class="separator:a20a051e2bbcafc80a01cdc2b5cbffa55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14e1b052db29b117a9a91374a5fd1f56"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacefolly.html#a7f61a634c75bc3bb46447ec2b17ff0fe">ByteRange</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a14e1b052db29b117a9a91374a5fd1f56">coalesce</a> ()</td></tr>
<tr class="separator:a14e1b052db29b117a9a91374a5fd1f56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9b4fcbef14954fa7fc7a9cca84fcd10"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacefolly.html#a7f61a634c75bc3bb46447ec2b17ff0fe">ByteRange</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#ae9b4fcbef14954fa7fc7a9cca84fcd10">coalesceWithHeadroomTailroom</a> (std::size_t newHeadroom, std::size_t newTailroom)</td></tr>
<tr class="separator:ae9b4fcbef14954fa7fc7a9cca84fcd10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39c461f26d2626ab9199e2b643fb4811"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a39c461f26d2626ab9199e2b643fb4811">gather</a> (std::size_t maxLength)</td></tr>
<tr class="separator:a39c461f26d2626ab9199e2b643fb4811"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe57aa61436e5d88d3b38c6387ad14fe"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#afe57aa61436e5d88d3b38c6387ad14fe">clone</a> () const </td></tr>
<tr class="separator:afe57aa61436e5d88d3b38c6387ad14fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48623d35d97ba5b30100eff4384b2a0e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a48623d35d97ba5b30100eff4384b2a0e">cloneAsValue</a> () const </td></tr>
<tr class="separator:a48623d35d97ba5b30100eff4384b2a0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6d5b57094e1e6a63a07598b8556bf46"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#ad6d5b57094e1e6a63a07598b8556bf46">cloneOne</a> () const </td></tr>
<tr class="separator:ad6d5b57094e1e6a63a07598b8556bf46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c147c147eea4d9d4ccb81da33e2bbc8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a2c147c147eea4d9d4ccb81da33e2bbc8">cloneOneAsValue</a> () const </td></tr>
<tr class="separator:a2c147c147eea4d9d4ccb81da33e2bbc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9fd70d5b177f1c7c6a5775ce770104c"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#ad9fd70d5b177f1c7c6a5775ce770104c">cloneCoalesced</a> () const </td></tr>
<tr class="separator:ad9fd70d5b177f1c7c6a5775ce770104c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67b5d973e692729435433f8691b0c4dc"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a67b5d973e692729435433f8691b0c4dc">cloneCoalescedWithHeadroomTailroom</a> (std::size_t newHeadroom, std::size_t newTailroom) const </td></tr>
<tr class="separator:a67b5d973e692729435433f8691b0c4dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8195c2434bcccb55816aa0e523a35b67"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a8195c2434bcccb55816aa0e523a35b67">cloneCoalescedAsValue</a> () const </td></tr>
<tr class="separator:a8195c2434bcccb55816aa0e523a35b67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1900ac5a736d5faccc2c19a09ff80b30"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a1900ac5a736d5faccc2c19a09ff80b30">cloneCoalescedAsValueWithHeadroomTailroom</a> (std::size_t newHeadroom, std::size_t newTailroom) const </td></tr>
<tr class="separator:a1900ac5a736d5faccc2c19a09ff80b30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48016329ae7aa016cf1e7aef6cec0880"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a48016329ae7aa016cf1e7aef6cec0880">cloneInto</a> (<a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &amp;other) const </td></tr>
<tr class="separator:a48016329ae7aa016cf1e7aef6cec0880"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b0d1e66d3ecf80426632e0d26ae1508"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a9b0d1e66d3ecf80426632e0d26ae1508">cloneOneInto</a> (<a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &amp;other) const </td></tr>
<tr class="separator:a9b0d1e66d3ecf80426632e0d26ae1508"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23a2a1a0380180a75cff59f046b61767"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1fbvector.html">folly::fbvector</a>&lt; struct iovec &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a23a2a1a0380180a75cff59f046b61767">getIov</a> () const </td></tr>
<tr class="separator:a23a2a1a0380180a75cff59f046b61767"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c2e5a778f3f086bcee869743b1c049d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a8c2e5a778f3f086bcee869743b1c049d">appendToIov</a> (<a class="el" href="classfolly_1_1fbvector.html">folly::fbvector</a>&lt; struct iovec &gt; *iov) const </td></tr>
<tr class="separator:a8c2e5a778f3f086bcee869743b1c049d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b1e73c46f54a34e7ae552f29ebe4cc1"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a9b1e73c46f54a34e7ae552f29ebe4cc1">fillIov</a> (struct iovec *iov, size_t len) const </td></tr>
<tr class="separator:a9b1e73c46f54a34e7ae552f29ebe4cc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ed09ee7ace6da3678a9f4141c14017d"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a1ed09ee7ace6da3678a9f4141c14017d">operator new</a> (size_t <a class="el" href="namespacefolly.html#a0606ba855bcb96a1673880aa3b404993">size</a>)</td></tr>
<tr class="separator:a1ed09ee7ace6da3678a9f4141c14017d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94e332b5b26e9da6aba54093fd83d7c1"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a94e332b5b26e9da6aba54093fd83d7c1">operator new</a> (size_t <a class="el" href="namespacefolly.html#a0606ba855bcb96a1673880aa3b404993">size</a>, void *<a class="el" href="Hazptr_8h.html#a7e740ea149128af625c59cc9461ae0d3">ptr</a>)</td></tr>
<tr class="separator:a94e332b5b26e9da6aba54093fd83d7c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a2e8a0ee606f77b2e1aef3288d254db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a8a2e8a0ee606f77b2e1aef3288d254db">operator delete</a> (void *<a class="el" href="Hazptr_8h.html#a7e740ea149128af625c59cc9461ae0d3">ptr</a>)</td></tr>
<tr class="separator:a8a2e8a0ee606f77b2e1aef3288d254db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5c9d093182977e6ed17aace0ae6728d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#aa5c9d093182977e6ed17aace0ae6728d">operator delete</a> (void *<a class="el" href="Hazptr_8h.html#a7e740ea149128af625c59cc9461ae0d3">ptr</a>, void *placement)</td></tr>
<tr class="separator:aa5c9d093182977e6ed17aace0ae6728d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dca04ea9d538221edd99df8da609f1f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacefolly.html#a4201ff5d4021043b963c128794f417a3">fbstring</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a7dca04ea9d538221edd99df8da609f1f">moveToFbString</a> ()</td></tr>
<tr class="separator:a7dca04ea9d538221edd99df8da609f1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a975a689402a3e22a888f0c94597502c3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1IOBuf_1_1Iterator.html">Iterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a975a689402a3e22a888f0c94597502c3">cbegin</a> () const </td></tr>
<tr class="separator:a975a689402a3e22a888f0c94597502c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6d70c98b72a48fd8687bf2560953740"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1IOBuf_1_1Iterator.html">Iterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#ac6d70c98b72a48fd8687bf2560953740">cend</a> () const </td></tr>
<tr class="separator:ac6d70c98b72a48fd8687bf2560953740"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6aafe1be0283e328d4c0dcd70ce74a3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1IOBuf_1_1Iterator.html">Iterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#ae6aafe1be0283e328d4c0dcd70ce74a3">begin</a> () const </td></tr>
<tr class="separator:ae6aafe1be0283e328d4c0dcd70ce74a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac90007f78b7bbb5105395f439196d1ae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1IOBuf_1_1Iterator.html">Iterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#ac90007f78b7bbb5105395f439196d1ae">end</a> () const </td></tr>
<tr class="separator:ac90007f78b7bbb5105395f439196d1ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad121c314bc97a30206e8b467eb609a27"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">IOBuf</a> () noexcept</td></tr>
<tr class="separator:ad121c314bc97a30206e8b467eb609a27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd400438f3ccebb400d667913fc3e268"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#afd400438f3ccebb400d667913fc3e268">IOBuf</a> (<a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &amp;&amp;other) noexcept</td></tr>
<tr class="separator:afd400438f3ccebb400d667913fc3e268"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a336180e1d88015104a8cef43b72c13c2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a336180e1d88015104a8cef43b72c13c2">operator=</a> (<a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &amp;&amp;other) noexcept</td></tr>
<tr class="separator:a336180e1d88015104a8cef43b72c13c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a0db39c0632ac57a48eb913faffc493"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a8a0db39c0632ac57a48eb913faffc493">IOBuf</a> (const <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &amp;other)</td></tr>
<tr class="separator:a8a0db39c0632ac57a48eb913faffc493"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb3f17e310684f9075af6f7195c9e592"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#adb3f17e310684f9075af6f7195c9e592">operator=</a> (const <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &amp;other)</td></tr>
<tr class="separator:adb3f17e310684f9075af6f7195c9e592"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a744f20ec9d0829fe17cf78fb48b7785e"><td class="memItemLeft" align="right" valign="top">static std::unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a744f20ec9d0829fe17cf78fb48b7785e">create</a> (std::size_t <a class="el" href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">capacity</a>)</td></tr>
<tr class="separator:a744f20ec9d0829fe17cf78fb48b7785e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa674260f8ff353aca7f10df410d2f0f"><td class="memItemLeft" align="right" valign="top">static std::unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#afa674260f8ff353aca7f10df410d2f0f">createCombined</a> (std::size_t <a class="el" href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">capacity</a>)</td></tr>
<tr class="separator:afa674260f8ff353aca7f10df410d2f0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82a81994edf4381dba262f766b88dc83"><td class="memItemLeft" align="right" valign="top">static std::unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a82a81994edf4381dba262f766b88dc83">createSeparate</a> (std::size_t <a class="el" href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">capacity</a>)</td></tr>
<tr class="separator:a82a81994edf4381dba262f766b88dc83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c51a2f2911f1adbe313fe774b50e0b6"><td class="memItemLeft" align="right" valign="top">static std::unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a3c51a2f2911f1adbe313fe774b50e0b6">createChain</a> (size_t totalCapacity, std::size_t maxBufCapacity)</td></tr>
<tr class="separator:a3c51a2f2911f1adbe313fe774b50e0b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a996c07119be03b5eb25497e8d6dbb91a"><td class="memItemLeft" align="right" valign="top">static std::unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a996c07119be03b5eb25497e8d6dbb91a">takeOwnership</a> (void *buf, std::size_t <a class="el" href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">capacity</a>, <a class="el" href="classfolly_1_1IOBuf.html#a772cf57f0a617c6fd4d518fa541e5b8d">FreeFunction</a> freeFn=<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>, void *userData=<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>, bool freeOnError=true)</td></tr>
<tr class="separator:a996c07119be03b5eb25497e8d6dbb91a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdd04773d251dac148a539c2159810a4"><td class="memItemLeft" align="right" valign="top">static std::unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#acdd04773d251dac148a539c2159810a4">takeOwnership</a> (void *buf, std::size_t <a class="el" href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">capacity</a>, std::size_t <a class="el" href="classfolly_1_1IOBuf.html#a7772f21059d7cde7f30341dfbb162e4a">length</a>, <a class="el" href="classfolly_1_1IOBuf.html#a772cf57f0a617c6fd4d518fa541e5b8d">FreeFunction</a> freeFn=<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>, void *userData=<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>, bool freeOnError=true)</td></tr>
<tr class="separator:acdd04773d251dac148a539c2159810a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c1c13211f37de17cb061e44dee11e56"><td class="memTemplParams" colspan="2">template&lt;class UniquePtr &gt; </td></tr>
<tr class="memitem:a6c1c13211f37de17cb061e44dee11e56"><td class="memTemplItemLeft" align="right" valign="top">static std::enable_if&lt; <a class="el" href="structfolly_1_1detail_1_1IsUniquePtrToSL.html">detail::IsUniquePtrToSL</a>&lt; UniquePtr &gt;::<a class="el" href="namespacefolly.html#af765fccfa9242184196b4906286ada49">value</a>, std::unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt; &gt;::<a class="el" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">type</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a6c1c13211f37de17cb061e44dee11e56">takeOwnership</a> (UniquePtr &amp;&amp;buf, size_t <a class="el" href="wangle_2__build_2gtest_2src_2gtest_2googlemock_2test_2gmock__stress__test_8cc.html#afd9db40e3361ae09188795e8cbe19752">count</a>=1)</td></tr>
<tr class="separator:a6c1c13211f37de17cb061e44dee11e56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a354ecb1fb5f80e8d0006cf0e74307b63"><td class="memItemLeft" align="right" valign="top">static std::unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a354ecb1fb5f80e8d0006cf0e74307b63">wrapBuffer</a> (const void *buf, std::size_t <a class="el" href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">capacity</a>)</td></tr>
<tr class="separator:a354ecb1fb5f80e8d0006cf0e74307b63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a671c1ac4b52d33a50ca6de9bea6951eb"><td class="memItemLeft" align="right" valign="top">static std::unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a671c1ac4b52d33a50ca6de9bea6951eb">wrapBuffer</a> (<a class="el" href="namespacefolly.html#a7f61a634c75bc3bb46447ec2b17ff0fe">ByteRange</a> br)</td></tr>
<tr class="separator:a671c1ac4b52d33a50ca6de9bea6951eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e20a7dbdd15bfdedb25822b9c709df3"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a7e20a7dbdd15bfdedb25822b9c709df3">wrapBufferAsValue</a> (const void *buf, std::size_t <a class="el" href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">capacity</a>) noexcept</td></tr>
<tr class="separator:a7e20a7dbdd15bfdedb25822b9c709df3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3295eeee18b0d53a591f2a178b409bd7"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a3295eeee18b0d53a591f2a178b409bd7">wrapBufferAsValue</a> (<a class="el" href="namespacefolly.html#a7f61a634c75bc3bb46447ec2b17ff0fe">ByteRange</a> br) noexcept</td></tr>
<tr class="separator:a3295eeee18b0d53a591f2a178b409bd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1c4b32cfaa7c96d591d8ad5f5f7b959"><td class="memItemLeft" align="right" valign="top">static std::unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#aa1c4b32cfaa7c96d591d8ad5f5f7b959">copyBuffer</a> (const void *buf, std::size_t <a class="el" href="namespacefolly.html#a0606ba855bcb96a1673880aa3b404993">size</a>, std::size_t <a class="el" href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">headroom</a>=0, std::size_t minTailroom=0)</td></tr>
<tr class="separator:aa1c4b32cfaa7c96d591d8ad5f5f7b959"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefc349aea0fd5d8b925b192d0b9ceda9"><td class="memItemLeft" align="right" valign="top">static std::unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#aefc349aea0fd5d8b925b192d0b9ceda9">copyBuffer</a> (<a class="el" href="namespacefolly.html#a7f61a634c75bc3bb46447ec2b17ff0fe">ByteRange</a> br, std::size_t <a class="el" href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">headroom</a>=0, std::size_t minTailroom=0)</td></tr>
<tr class="separator:aefc349aea0fd5d8b925b192d0b9ceda9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfe09dbaf8baf800256faeb2dd4b61cf"><td class="memItemLeft" align="right" valign="top">static std::unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#abfe09dbaf8baf800256faeb2dd4b61cf">copyBuffer</a> (const <a class="el" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a> &amp;buf, std::size_t <a class="el" href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">headroom</a>=0, std::size_t minTailroom=0)</td></tr>
<tr class="separator:abfe09dbaf8baf800256faeb2dd4b61cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a985ead6801b752e590620c1a582ed6cd"><td class="memItemLeft" align="right" valign="top">static std::unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a985ead6801b752e590620c1a582ed6cd">maybeCopyBuffer</a> (const <a class="el" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a> &amp;buf, std::size_t <a class="el" href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">headroom</a>=0, std::size_t minTailroom=0)</td></tr>
<tr class="separator:a985ead6801b752e590620c1a582ed6cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade00358987fa180f29a797ab817b1924"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#ade00358987fa180f29a797ab817b1924">destroy</a> (std::unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt; &amp;&amp;<a class="el" href="classfolly_1_1IOBuf.html#af71f6f5efabbcddf8ec6dada00f5eebf">data</a>)</td></tr>
<tr class="separator:ade00358987fa180f29a797ab817b1924"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29385b37c1c8ae4263b223507b6de176"><td class="memItemLeft" align="right" valign="top">static std::unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a29385b37c1c8ae4263b223507b6de176">wrapIov</a> (const iovec *<a class="el" href="gen_2test_2StringTest_8cpp.html#ac4ba865c2f8f6f90e3c64552279f3d21">vec</a>, size_t <a class="el" href="wangle_2__build_2gtest_2src_2gtest_2googlemock_2test_2gmock__stress__test_8cc.html#afd9db40e3361ae09188795e8cbe19752">count</a>)</td></tr>
<tr class="separator:a29385b37c1c8ae4263b223507b6de176"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a374a283b9996760e988debc565e1f1b5"><td class="memItemLeft" align="right" valign="top">static std::unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a374a283b9996760e988debc565e1f1b5">takeOwnershipIov</a> (const iovec *<a class="el" href="gen_2test_2StringTest_8cpp.html#ac4ba865c2f8f6f90e3c64552279f3d21">vec</a>, size_t <a class="el" href="wangle_2__build_2gtest_2src_2gtest_2googlemock_2test_2gmock__stress__test_8cc.html#afd9db40e3361ae09188795e8cbe19752">count</a>, <a class="el" href="classfolly_1_1IOBuf.html#a772cf57f0a617c6fd4d518fa541e5b8d">FreeFunction</a> freeFn=<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>, void *userData=<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>, bool freeOnError=true)</td></tr>
<tr class="separator:a374a283b9996760e988debc565e1f1b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a291e8582a1769680d882f3e327a37b43"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43">FlagsEnum</a> : uintptr_t { <a class="el" href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43a32d2db880a2042a2345b5181bd852504">kFlagFreeSharedInfo</a> = 0x1, 
<a class="el" href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43a6460c8cd33bfc6cbeead7b4beb752809">kFlagMaybeShared</a> = 0x2, 
<a class="el" href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43a7ec254b74ac4c9db53102f9b5c0b3f9f">kFlagMask</a> = kFlagFreeSharedInfo | kFlagMaybeShared
 }</td></tr>
<tr class="separator:a291e8582a1769680d882f3e327a37b43"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a898a7c8372d181512337253d942f1041"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a898a7c8372d181512337253d942f1041">IOBuf</a> (<a class="el" href="structfolly_1_1IOBuf_1_1InternalConstructor.html">InternalConstructor</a>, uintptr_t flagsAndSharedInfo, <a class="el" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *buf, std::size_t <a class="el" href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">capacity</a>, <a class="el" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="el" href="classfolly_1_1IOBuf.html#af71f6f5efabbcddf8ec6dada00f5eebf">data</a>, std::size_t <a class="el" href="classfolly_1_1IOBuf.html#a7772f21059d7cde7f30341dfbb162e4a">length</a>) noexcept</td></tr>
<tr class="separator:a898a7c8372d181512337253d942f1041"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35436018ffdcb4b99c13c30a822faf43"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a35436018ffdcb4b99c13c30a822faf43">unshareOneSlow</a> ()</td></tr>
<tr class="separator:a35436018ffdcb4b99c13c30a822faf43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b713f8fa143c5e597b4a9cf65969c75"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a1b713f8fa143c5e597b4a9cf65969c75">unshareChained</a> ()</td></tr>
<tr class="separator:a1b713f8fa143c5e597b4a9cf65969c75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ddcace3bdbd17e2b896fd7fbaa9e039"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a0ddcace3bdbd17e2b896fd7fbaa9e039">makeManagedChained</a> ()</td></tr>
<tr class="separator:a0ddcace3bdbd17e2b896fd7fbaa9e039"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc90b078da733a7fc981b9dae10f6d6b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#afc90b078da733a7fc981b9dae10f6d6b">coalesceSlow</a> ()</td></tr>
<tr class="separator:afc90b078da733a7fc981b9dae10f6d6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58655df9bec829b0434ecbe9dcb4c485"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a58655df9bec829b0434ecbe9dcb4c485">coalesceSlow</a> (size_t maxLength)</td></tr>
<tr class="separator:a58655df9bec829b0434ecbe9dcb4c485"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7a5c129101e6b0a527a8ddd31171a82"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#aa7a5c129101e6b0a527a8ddd31171a82">coalesceAndReallocate</a> (size_t newHeadroom, size_t newLength, <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> *<a class="el" href="classfolly_1_1IOBuf.html#ac90007f78b7bbb5105395f439196d1ae">end</a>, size_t newTailroom)</td></tr>
<tr class="separator:aa7a5c129101e6b0a527a8ddd31171a82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4880e0b4c810b22e73fafe2ffe46263"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#ad4880e0b4c810b22e73fafe2ffe46263">coalesceAndReallocate</a> (size_t newLength, <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> *<a class="el" href="classfolly_1_1IOBuf.html#ac90007f78b7bbb5105395f439196d1ae">end</a>)</td></tr>
<tr class="separator:ad4880e0b4c810b22e73fafe2ffe46263"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a46b4df6fe3907e84b44c6235209f5a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a6a46b4df6fe3907e84b44c6235209f5a">decrementRefcount</a> ()</td></tr>
<tr class="separator:a6a46b4df6fe3907e84b44c6235209f5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf2f5d603c1f05e42f12e7ca497df285"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#abf2f5d603c1f05e42f12e7ca497df285">reserveSlow</a> (std::size_t minHeadroom, std::size_t minTailroom)</td></tr>
<tr class="separator:abf2f5d603c1f05e42f12e7ca497df285"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d3b81f0246509c414d5d0a52ea21e10"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a0d3b81f0246509c414d5d0a52ea21e10">freeExtBuffer</a> ()</td></tr>
<tr class="separator:a0d3b81f0246509c414d5d0a52ea21e10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57b13c905b7a558f8372ccd2d824550d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfolly_1_1IOBuf_1_1SharedInfo.html">SharedInfo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a57b13c905b7a558f8372ccd2d824550d">sharedInfo</a> () const </td></tr>
<tr class="separator:a57b13c905b7a558f8372ccd2d824550d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab76fca8088ffe5c75c895dd0071fc053"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#ab76fca8088ffe5c75c895dd0071fc053">setSharedInfo</a> (<a class="el" href="structfolly_1_1IOBuf_1_1SharedInfo.html">SharedInfo</a> *info)</td></tr>
<tr class="separator:ab76fca8088ffe5c75c895dd0071fc053"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe0beb355cddf7ec2d6bd2c5ceccdeab"><td class="memItemLeft" align="right" valign="top">uintptr_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#afe0beb355cddf7ec2d6bd2c5ceccdeab">flags</a> () const </td></tr>
<tr class="separator:afe0beb355cddf7ec2d6bd2c5ceccdeab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d9a97b49b81731b4ffffad4e4949720"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a9d9a97b49b81731b4ffffad4e4949720">setFlags</a> (uintptr_t <a class="el" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a>) const </td></tr>
<tr class="separator:a9d9a97b49b81731b4ffffad4e4949720"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae04abcc03e44c4661d3180c1f8fb3b4a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#ae04abcc03e44c4661d3180c1f8fb3b4a">clearFlags</a> (uintptr_t <a class="el" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a>) const </td></tr>
<tr class="separator:ae04abcc03e44c4661d3180c1f8fb3b4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4000fa74a4b2782c605ef251ccb0cd08"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a4000fa74a4b2782c605ef251ccb0cd08">setFlagsAndSharedInfo</a> (uintptr_t <a class="el" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a>, <a class="el" href="structfolly_1_1IOBuf_1_1SharedInfo.html">SharedInfo</a> *info)</td></tr>
<tr class="separator:a4000fa74a4b2782c605ef251ccb0cd08"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:afcf6bc0bd4608c6946b53b69d075bf3d"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#afcf6bc0bd4608c6946b53b69d075bf3d">goodExtBufferSize</a> (std::size_t minCapacity)</td></tr>
<tr class="separator:afcf6bc0bd4608c6946b53b69d075bf3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81f9eb67397c7c6f768a9ec9d25572c4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a81f9eb67397c7c6f768a9ec9d25572c4">initExtBuffer</a> (<a class="el" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *buf, size_t mallocSize, <a class="el" href="structfolly_1_1IOBuf_1_1SharedInfo.html">SharedInfo</a> **infoReturn, std::size_t *capacityReturn)</td></tr>
<tr class="separator:a81f9eb67397c7c6f768a9ec9d25572c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d4a256b287eea869eafcff2e04dd749"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a9d4a256b287eea869eafcff2e04dd749">allocExtBuffer</a> (std::size_t minCapacity, <a class="el" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> **bufReturn, <a class="el" href="structfolly_1_1IOBuf_1_1SharedInfo.html">SharedInfo</a> **infoReturn, std::size_t *capacityReturn)</td></tr>
<tr class="separator:a9d4a256b287eea869eafcff2e04dd749"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35312a33fbe594e9ba5ac5048e0cf6d3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a35312a33fbe594e9ba5ac5048e0cf6d3">releaseStorage</a> (<a class="el" href="structfolly_1_1IOBuf_1_1HeapStorage.html">HeapStorage</a> *storage, <a class="el" href="ConstexprMathBenchmark_8cpp.html#a5a8b2dc9e45a9ee81a94ef304fb62505">uint16_t</a> freeFlags)</td></tr>
<tr class="separator:a35312a33fbe594e9ba5ac5048e0cf6d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58c2c5bfb3d7be925a9337816455a20c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a58c2c5bfb3d7be925a9337816455a20c">freeInternalBuf</a> (void *buf, void *userData)</td></tr>
<tr class="separator:a58c2c5bfb3d7be925a9337816455a20c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0273b373015ae756a8bc6d7b60864f0"><td class="memItemLeft" align="right" valign="top">static uintptr_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#ab0273b373015ae756a8bc6d7b60864f0">packFlagsAndSharedInfo</a> (uintptr_t <a class="el" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a>, <a class="el" href="structfolly_1_1IOBuf_1_1SharedInfo.html">SharedInfo</a> *info)</td></tr>
<tr class="separator:ab0273b373015ae756a8bc6d7b60864f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26086cd80e51323efdc286f096c39b3c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a26086cd80e51323efdc286f096c39b3c">freeUniquePtrBuffer</a> (void *<a class="el" href="Hazptr_8h.html#a7e740ea149128af625c59cc9461ae0d3">ptr</a>, void *userData)</td></tr>
<tr class="separator:a26086cd80e51323efdc286f096c39b3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a038b1d38b9814d8e2f571bc94d3cf0dc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">next_</a> {this}</td></tr>
<tr class="separator:a038b1d38b9814d8e2f571bc94d3cf0dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93ce4461ec7eba82b74038f887c3f957"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">prev_</a> {this}</td></tr>
<tr class="separator:a93ce4461ec7eba82b74038f887c3f957"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a03b1d1337e3da57675a94b29a84ac9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">data_</a> {<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>}</td></tr>
<tr class="separator:a7a03b1d1337e3da57675a94b29a84ac9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affce6ca9f1b795300095724fe907e50d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#affce6ca9f1b795300095724fe907e50d">buf_</a> {<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>}</td></tr>
<tr class="separator:affce6ca9f1b795300095724fe907e50d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a564daf68834ce4e7523f329e1c6df23f"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">length_</a> {0}</td></tr>
<tr class="separator:a564daf68834ce4e7523f329e1c6df23f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d25a5cf5084ebeb9d156217ec01f718"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a4d25a5cf5084ebeb9d156217ec01f718">capacity_</a> {0}</td></tr>
<tr class="separator:a4d25a5cf5084ebeb9d156217ec01f718"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a305fafb3b8f177828fa7a427f25407a5"><td class="memItemLeft" align="right" valign="top">uintptr_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOBuf.html#a305fafb3b8f177828fa7a427f25407a5">flagsAndSharedInfo_</a> {0}</td></tr>
<tr class="separator:a305fafb3b8f177828fa7a427f25407a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00221">221</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a17cc7e278ff97218f3ab32158bbfcc8a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classfolly_1_1IOBuf_1_1Iterator.html">Iterator</a> <a class="el" href="classfolly_1_1IOBuf.html#a17cc7e278ff97218f3ab32158bbfcc8a">folly::IOBuf::const_iterator</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00232">232</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

</div>
</div>
<a class="anchor" id="a772cf57f0a617c6fd4d518fa541e5b8d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* folly::IOBuf::FreeFunction) (void *buf, void *userData)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00234">234</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

</div>
</div>
<a class="anchor" id="aff36bc10f67096e1e262c01e562a7956"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classfolly_1_1IOBuf_1_1Iterator.html">Iterator</a> <a class="el" href="classfolly_1_1IOBuf.html#aff36bc10f67096e1e262c01e562a7956">folly::IOBuf::iterator</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00231">231</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

</div>
</div>
<a class="anchor" id="a4d871ed998e93a6d093a83c8e75b198d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="namespacefolly.html#a7f61a634c75bc3bb46447ec2b17ff0fe">ByteRange</a> <a class="el" href="classfolly_1_1IOBuf.html#a4d871ed998e93a6d093a83c8e75b198d">folly::IOBuf::value_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00230">230</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="af4c6c9ea66b0e79e914b6de174538217"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classfolly_1_1IOBuf.html#af4c6c9ea66b0e79e914b6de174538217">folly::IOBuf::CopyBufferOp</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="af4c6c9ea66b0e79e914b6de174538217a9d8435d3eec3f503961fa6f28c1e5735"></a>COPY_BUFFER&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00228">228</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;{ <a class="code" href="classfolly_1_1IOBuf.html#af4c6c9ea66b0e79e914b6de174538217a9d8435d3eec3f503961fa6f28c1e5735">COPY_BUFFER</a> };</div><div class="ttc" id="classfolly_1_1IOBuf_html_af4c6c9ea66b0e79e914b6de174538217a9d8435d3eec3f503961fa6f28c1e5735"><div class="ttname"><a href="classfolly_1_1IOBuf.html#af4c6c9ea66b0e79e914b6de174538217a9d8435d3eec3f503961fa6f28c1e5735">folly::IOBuf::COPY_BUFFER</a></div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00228">IOBuf.h:228</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a693fa6c7a5a1ecc72fa0bcd834507a56"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classfolly_1_1IOBuf.html#a693fa6c7a5a1ecc72fa0bcd834507a56">folly::IOBuf::CreateOp</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a693fa6c7a5a1ecc72fa0bcd834507a56a06f59281b6961a3238097b4dd6badba6"></a>CREATE&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00225">225</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;{ <a class="code" href="classfolly_1_1IOBuf.html#a693fa6c7a5a1ecc72fa0bcd834507a56a06f59281b6961a3238097b4dd6badba6">CREATE</a> };</div><div class="ttc" id="classfolly_1_1IOBuf_html_a693fa6c7a5a1ecc72fa0bcd834507a56a06f59281b6961a3238097b4dd6badba6"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a693fa6c7a5a1ecc72fa0bcd834507a56a06f59281b6961a3238097b4dd6badba6">folly::IOBuf::CREATE</a></div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00225">IOBuf.h:225</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a291e8582a1769680d882f3e327a37b43"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43">folly::IOBuf::FlagsEnum</a> : uintptr_t</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a291e8582a1769680d882f3e327a37b43a32d2db880a2042a2345b5181bd852504"></a>kFlagFreeSharedInfo&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a291e8582a1769680d882f3e327a37b43a6460c8cd33bfc6cbeead7b4beb752809"></a>kFlagMaybeShared&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a291e8582a1769680d882f3e327a37b43a7ec254b74ac4c9db53102f9b5c0b3f9f"></a>kFlagMask&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l01338">1338</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;                 : uintptr_t {</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    <span class="comment">// Adding any more flags would not work on 32-bit architectures,</span></div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    <span class="comment">// as these flags are stashed in the least significant 2 bits of a</span></div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    <span class="comment">// max-align-aligned pointer.</span></div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43a32d2db880a2042a2345b5181bd852504">kFlagFreeSharedInfo</a> = 0x1,</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43a6460c8cd33bfc6cbeead7b4beb752809">kFlagMaybeShared</a> = 0x2,</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43a7ec254b74ac4c9db53102f9b5c0b3f9f">kFlagMask</a> = <a class="code" href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43a32d2db880a2042a2345b5181bd852504">kFlagFreeSharedInfo</a> | <a class="code" href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43a6460c8cd33bfc6cbeead7b4beb752809">kFlagMaybeShared</a></div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;  };</div><div class="ttc" id="classfolly_1_1IOBuf_html_a291e8582a1769680d882f3e327a37b43a7ec254b74ac4c9db53102f9b5c0b3f9f"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43a7ec254b74ac4c9db53102f9b5c0b3f9f">folly::IOBuf::kFlagMask</a></div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01344">IOBuf.h:1344</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a291e8582a1769680d882f3e327a37b43a32d2db880a2042a2345b5181bd852504"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43a32d2db880a2042a2345b5181bd852504">folly::IOBuf::kFlagFreeSharedInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01342">IOBuf.h:1342</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a291e8582a1769680d882f3e327a37b43a6460c8cd33bfc6cbeead7b4beb752809"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43a6460c8cd33bfc6cbeead7b4beb752809">folly::IOBuf::kFlagMaybeShared</a></div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01343">IOBuf.h:1343</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac1307cfccbbae75a2b8ca147e825f5bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classfolly_1_1IOBuf.html#ac1307cfccbbae75a2b8ca147e825f5bf">folly::IOBuf::TakeOwnershipOp</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="ac1307cfccbbae75a2b8ca147e825f5bfa1fb95262364b0bd03599e7a4af859165"></a>TAKE_OWNERSHIP&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00227">227</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;{ <a class="code" href="classfolly_1_1IOBuf.html#ac1307cfccbbae75a2b8ca147e825f5bfa1fb95262364b0bd03599e7a4af859165">TAKE_OWNERSHIP</a> };</div><div class="ttc" id="classfolly_1_1IOBuf_html_ac1307cfccbbae75a2b8ca147e825f5bfa1fb95262364b0bd03599e7a4af859165"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ac1307cfccbbae75a2b8ca147e825f5bfa1fb95262364b0bd03599e7a4af859165">folly::IOBuf::TAKE_OWNERSHIP</a></div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00227">IOBuf.h:227</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a60c3b02321c68dcc061dcc7fbfa412a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classfolly_1_1IOBuf.html#a60c3b02321c68dcc061dcc7fbfa412a3">folly::IOBuf::WrapBufferOp</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a60c3b02321c68dcc061dcc7fbfa412a3a174a9607f56f9e1751bf7dd642f728fb"></a>WRAP_BUFFER&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00226">226</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;{ <a class="code" href="classfolly_1_1IOBuf.html#a60c3b02321c68dcc061dcc7fbfa412a3a174a9607f56f9e1751bf7dd642f728fb">WRAP_BUFFER</a> };</div><div class="ttc" id="classfolly_1_1IOBuf_html_a60c3b02321c68dcc061dcc7fbfa412a3a174a9607f56f9e1751bf7dd642f728fb"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a60c3b02321c68dcc061dcc7fbfa412a3a174a9607f56f9e1751bf7dd642f728fb">folly::IOBuf::WRAP_BUFFER</a></div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00226">IOBuf.h:226</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a51c0a32f9292369b58e92eae1ff9e676"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">folly::IOBuf::IOBuf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1IOBuf.html#a693fa6c7a5a1ecc72fa0bcd834507a56">CreateOp</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>capacity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00195">195</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8cpp_source.html#l00927">allocExtBuffer()</a>, <a class="el" href="IOBuf_8h_source.html#l01433">buf_</a>, <a class="el" href="IOBuf_8h_source.html#l01435">capacity_</a>, <a class="el" href="IOBuf_8h_source.html#l01432">data_</a>, <a class="el" href="deadlock_8py_source.html#l00447">deadlock::info()</a>, and <a class="el" href="IOBuf_8h_source.html#l01453">setSharedInfo()</a>.</p>
<div class="fragment"><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    : <a class="code" href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">next_</a>(<span class="keyword">this</span>),</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">prev_</a>(<span class="keyword">this</span>),</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">data_</a>(<span class="keyword">nullptr</span>),</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">length_</a>(0),</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#a305fafb3b8f177828fa7a427f25407a5">flagsAndSharedInfo_</a>(0) {</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  SharedInfo* <a class="code" href="namespacedeadlock.html#a6cba8e3d51735d7ac2ac91a947f4984b">info</a>;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#a9d4a256b287eea869eafcff2e04dd749">allocExtBuffer</a>(<a class="code" href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">capacity</a>, &amp;<a class="code" href="classfolly_1_1IOBuf.html#affce6ca9f1b795300095724fe907e50d">buf_</a>, &amp;info, &amp;<a class="code" href="classfolly_1_1IOBuf.html#a4d25a5cf5084ebeb9d156217ec01f718">capacity_</a>);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#ab76fca8088ffe5c75c895dd0071fc053">setSharedInfo</a>(info);</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">data_</a> = <a class="code" href="classfolly_1_1IOBuf.html#affce6ca9f1b795300095724fe907e50d">buf_</a>;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;}</div><div class="ttc" id="namespacedeadlock_html_a6cba8e3d51735d7ac2ac91a947f4984b"><div class="ttname"><a href="namespacedeadlock.html#a6cba8e3d51735d7ac2ac91a947f4984b">deadlock.info</a></div><div class="ttdeci">def info()</div><div class="ttdef"><b>Definition:</b> <a href="deadlock_8py_source.html#l00447">deadlock.py:447</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a9d4a256b287eea869eafcff2e04dd749"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a9d4a256b287eea869eafcff2e04dd749">folly::IOBuf::allocExtBuffer</a></div><div class="ttdeci">static void allocExtBuffer(std::size_t minCapacity, uint8_t **bufReturn, SharedInfo **infoReturn, std::size_t *capacityReturn)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00927">IOBuf.cpp:927</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a038b1d38b9814d8e2f571bc94d3cf0dc"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">folly::IOBuf::next_</a></div><div class="ttdeci">IOBuf * next_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01423">IOBuf.h:1423</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a93ce4461ec7eba82b74038f887c3f957"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">folly::IOBuf::prev_</a></div><div class="ttdeci">IOBuf * prev_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01424">IOBuf.h:1424</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_afc06ea1931398696db8d9a80619e3753"><div class="ttname"><a href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">folly::IOBuf::capacity</a></div><div class="ttdeci">std::size_t capacity() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00593">IOBuf.h:593</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a7a03b1d1337e3da57675a94b29a84ac9"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">folly::IOBuf::data_</a></div><div class="ttdeci">uint8_t * data_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01432">IOBuf.h:1432</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ab76fca8088ffe5c75c895dd0071fc053"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ab76fca8088ffe5c75c895dd0071fc053">folly::IOBuf::setSharedInfo</a></div><div class="ttdeci">void setSharedInfo(SharedInfo *info)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01453">IOBuf.h:1453</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_affce6ca9f1b795300095724fe907e50d"><div class="ttname"><a href="classfolly_1_1IOBuf.html#affce6ca9f1b795300095724fe907e50d">folly::IOBuf::buf_</a></div><div class="ttdeci">uint8_t * buf_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01433">IOBuf.h:1433</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a564daf68834ce4e7523f329e1c6df23f"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">folly::IOBuf::length_</a></div><div class="ttdeci">std::size_t length_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01434">IOBuf.h:1434</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a4d25a5cf5084ebeb9d156217ec01f718"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a4d25a5cf5084ebeb9d156217ec01f718">folly::IOBuf::capacity_</a></div><div class="ttdeci">std::size_t capacity_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01435">IOBuf.h:1435</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a305fafb3b8f177828fa7a427f25407a5"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a305fafb3b8f177828fa7a427f25407a5">folly::IOBuf::flagsAndSharedInfo_</a></div><div class="ttdeci">uintptr_t flagsAndSharedInfo_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01438">IOBuf.h:1438</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1ab42f326c2d7781e83c4757f9c51832"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">folly::IOBuf::IOBuf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1IOBuf.html#ac1307cfccbbae75a2b8ca147e825f5bf">TakeOwnershipOp</a>&#160;</td>
          <td class="paramname"><em>op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>capacity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfolly_1_1IOBuf.html#a772cf57f0a617c6fd4d518fa541e5b8d">FreeFunction</a>&#160;</td>
          <td class="paramname"><em>freeFn</em> = <code><a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>userData</em> = <code><a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>freeOnError</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00313">313</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>References <a class="el" href="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock__stress__test_8cc_source.html#l00176">count</a>, and <a class="el" href="ClientProtocol_8cpp_source.html#l00777">type</a>.</p>
<div class="fragment"><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      : <a class="code" href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">IOBuf</a>(<a class="code" href="namespacefolly_1_1pushmi_1_1operators.html">op</a>, buf, <a class="code" href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">capacity</a>, <a class="code" href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">capacity</a>, freeFn, userData, freeOnError) {}</div><div class="ttc" id="classfolly_1_1IOBuf_html_afc06ea1931398696db8d9a80619e3753"><div class="ttname"><a href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">folly::IOBuf::capacity</a></div><div class="ttdeci">std::size_t capacity() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00593">IOBuf.h:593</a></div></div>
<div class="ttc" id="namespacefolly_1_1pushmi_1_1operators_html"><div class="ttname"><a href="namespacefolly_1_1pushmi_1_1operators.html">folly::pushmi::operators</a></div><div class="ttdef"><b>Definition:</b> <a href="bulk_8h_source.html#l00023">bulk.h:23</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ad121c314bc97a30206e8b467eb609a27"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">folly::IOBuf::IOBuf</a></div><div class="ttdeci">IOBuf() noexcept</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00361">IOBuf.cpp:361</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1b0ea14109cb92d866007c737b2b4dec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">folly::IOBuf::IOBuf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1IOBuf.html#ac1307cfccbbae75a2b8ca147e825f5bf">TakeOwnershipOp</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>capacity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfolly_1_1IOBuf.html#a772cf57f0a617c6fd4d518fa541e5b8d">FreeFunction</a>&#160;</td>
          <td class="paramname"><em>freeFn</em> = <code><a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>userData</em> = <code><a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>freeOnError</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00289">289</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8h_source.html#l01453">setSharedInfo()</a>.</p>
<div class="fragment"><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    : <a class="code" href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">next_</a>(<span class="keyword">this</span>),</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">prev_</a>(<span class="keyword">this</span>),</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">data_</a>(static_cast&lt;uint8_t*&gt;(buf)),</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#affce6ca9f1b795300095724fe907e50d">buf_</a>(static_cast&lt;uint8_t*&gt;(buf)),</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">length_</a>(<a class="code" href="classfolly_1_1IOBuf.html#a7772f21059d7cde7f30341dfbb162e4a">length</a>),</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#a4d25a5cf5084ebeb9d156217ec01f718">capacity_</a>(<a class="code" href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">capacity</a>),</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#a305fafb3b8f177828fa7a427f25407a5">flagsAndSharedInfo_</a>(</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;          <a class="code" href="classfolly_1_1IOBuf.html#ab0273b373015ae756a8bc6d7b60864f0">packFlagsAndSharedInfo</a>(<a class="code" href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43a32d2db880a2042a2345b5181bd852504">kFlagFreeSharedInfo</a>, <span class="keyword">nullptr</span>)) {</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <span class="keywordflow">try</span> {</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#ab76fca8088ffe5c75c895dd0071fc053">setSharedInfo</a>(<span class="keyword">new</span> SharedInfo(freeFn, userData));</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  } <span class="keywordflow">catch</span> (...) {</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    takeOwnershipError(freeOnError, buf, freeFn, userData);</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordflow">throw</span>;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  }</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOBuf_html_a038b1d38b9814d8e2f571bc94d3cf0dc"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">folly::IOBuf::next_</a></div><div class="ttdeci">IOBuf * next_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01423">IOBuf.h:1423</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a93ce4461ec7eba82b74038f887c3f957"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">folly::IOBuf::prev_</a></div><div class="ttdeci">IOBuf * prev_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01424">IOBuf.h:1424</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_afc06ea1931398696db8d9a80619e3753"><div class="ttname"><a href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">folly::IOBuf::capacity</a></div><div class="ttdeci">std::size_t capacity() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00593">IOBuf.h:593</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a7a03b1d1337e3da57675a94b29a84ac9"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">folly::IOBuf::data_</a></div><div class="ttdeci">uint8_t * data_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01432">IOBuf.h:1432</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ab76fca8088ffe5c75c895dd0071fc053"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ab76fca8088ffe5c75c895dd0071fc053">folly::IOBuf::setSharedInfo</a></div><div class="ttdeci">void setSharedInfo(SharedInfo *info)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01453">IOBuf.h:1453</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_affce6ca9f1b795300095724fe907e50d"><div class="ttname"><a href="classfolly_1_1IOBuf.html#affce6ca9f1b795300095724fe907e50d">folly::IOBuf::buf_</a></div><div class="ttdeci">uint8_t * buf_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01433">IOBuf.h:1433</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a7772f21059d7cde7f30341dfbb162e4a"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a7772f21059d7cde7f30341dfbb162e4a">folly::IOBuf::length</a></div><div class="ttdeci">std::size_t length() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00533">IOBuf.h:533</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a564daf68834ce4e7523f329e1c6df23f"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">folly::IOBuf::length_</a></div><div class="ttdeci">std::size_t length_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01434">IOBuf.h:1434</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ab0273b373015ae756a8bc6d7b60864f0"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ab0273b373015ae756a8bc6d7b60864f0">folly::IOBuf::packFlagsAndSharedInfo</a></div><div class="ttdeci">static uintptr_t packFlagsAndSharedInfo(uintptr_t flags, SharedInfo *info)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01440">IOBuf.h:1440</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a291e8582a1769680d882f3e327a37b43a32d2db880a2042a2345b5181bd852504"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43a32d2db880a2042a2345b5181bd852504">folly::IOBuf::kFlagFreeSharedInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01342">IOBuf.h:1342</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a4d25a5cf5084ebeb9d156217ec01f718"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a4d25a5cf5084ebeb9d156217ec01f718">folly::IOBuf::capacity_</a></div><div class="ttdeci">std::size_t capacity_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01435">IOBuf.h:1435</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a305fafb3b8f177828fa7a427f25407a5"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a305fafb3b8f177828fa7a427f25407a5">folly::IOBuf::flagsAndSharedInfo_</a></div><div class="ttdeci">uintptr_t flagsAndSharedInfo_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01438">IOBuf.h:1438</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aae48e30d36bfac255c58c1339092dfa4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">folly::IOBuf::IOBuf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1IOBuf.html#a60c3b02321c68dcc061dcc7fbfa412a3">WrapBufferOp</a>&#160;</td>
          <td class="paramname"><em>op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>capacity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00338">338</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    : <a class="code" href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">IOBuf</a>(</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;          InternalConstructor(),</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;          0,</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;          <span class="comment">// We cast away the const-ness of the buffer here.</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;          <span class="comment">// This is okay since IOBuf users must use unshare() to create a copy</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;          <span class="comment">// of this buffer before writing to the buffer.</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;          static_cast&lt;uint8_t*&gt;(const_cast&lt;void*&gt;(buf)),</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;          <a class="code" href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">capacity</a>,</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;          static_cast&lt;uint8_t*&gt;(const_cast&lt;void*&gt;(buf)),</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;          <a class="code" href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">capacity</a>) {}</div><div class="ttc" id="classfolly_1_1IOBuf_html_afc06ea1931398696db8d9a80619e3753"><div class="ttname"><a href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">folly::IOBuf::capacity</a></div><div class="ttdeci">std::size_t capacity() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00593">IOBuf.h:593</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ad121c314bc97a30206e8b467eb609a27"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">folly::IOBuf::IOBuf</a></div><div class="ttdeci">IOBuf() noexcept</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00361">IOBuf.cpp:361</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a797df65bbfd7eb9a7d315850e60a08d7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">folly::IOBuf::IOBuf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1IOBuf.html#a60c3b02321c68dcc061dcc7fbfa412a3">WrapBufferOp</a>&#160;</td>
          <td class="paramname"><em>op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacefolly.html#a7f61a634c75bc3bb46447ec2b17ff0fe">ByteRange</a>&#160;</td>
          <td class="paramname"><em>br</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00350">350</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    : <a class="code" href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">IOBuf</a>(<a class="code" href="namespacefolly_1_1pushmi_1_1operators.html">op</a>, br.data(), br.size()) {}</div><div class="ttc" id="namespacefolly_1_1pushmi_1_1operators_html"><div class="ttname"><a href="namespacefolly_1_1pushmi_1_1operators.html">folly::pushmi::operators</a></div><div class="ttdef"><b>Definition:</b> <a href="bulk_8h_source.html#l00023">bulk.h:23</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ad121c314bc97a30206e8b467eb609a27"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">folly::IOBuf::IOBuf</a></div><div class="ttdeci">IOBuf() noexcept</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00361">IOBuf.cpp:361</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7d57fbc0cd46b221c828557668210039"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">folly::IOBuf::IOBuf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1IOBuf.html#af4c6c9ea66b0e79e914b6de174538217">CopyBufferOp</a>&#160;</td>
          <td class="paramname"><em>op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>headroom</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>minTailroom</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00207">207</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8h_source.html#l00632">advance()</a>, <a class="el" href="IOBuf_8h_source.html#l00689">append()</a>, and <a class="el" href="IOBuf_8h_source.html#l00509">writableData()</a>.</p>
<div class="fragment"><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    : <a class="code" href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">IOBuf</a>(<a class="code" href="classfolly_1_1IOBuf.html#a693fa6c7a5a1ecc72fa0bcd834507a56a06f59281b6961a3238097b4dd6badba6">CREATE</a>, <a class="code" href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">headroom</a> + <a class="code" href="namespacefolly.html#a0606ba855bcb96a1673880aa3b404993">size</a> + minTailroom) {</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#ab9b3bd683d15bbda8fd139311e0f6061">advance</a>(<a class="code" href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">headroom</a>);</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacefolly.html#a0606ba855bcb96a1673880aa3b404993">size</a> &gt; 0) {</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    assert(buf != <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    memcpy(<a class="code" href="classfolly_1_1IOBuf.html#a12c5ca1fbbaad2a7ebda5829cd9674ef">writableData</a>(), buf, <a class="code" href="namespacefolly.html#a0606ba855bcb96a1673880aa3b404993">size</a>);</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#aac56d35181e96caf9ebcefa1768d8588">append</a>(<a class="code" href="namespacefolly.html#a0606ba855bcb96a1673880aa3b404993">size</a>);</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  }</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOBuf_html_ab9b3bd683d15bbda8fd139311e0f6061"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ab9b3bd683d15bbda8fd139311e0f6061">folly::IOBuf::advance</a></div><div class="ttdeci">void advance(std::size_t amount)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00632">IOBuf.h:632</a></div></div>
<div class="ttc" id="namespacefolly_html_a0606ba855bcb96a1673880aa3b404993"><div class="ttname"><a href="namespacefolly.html#a0606ba855bcb96a1673880aa3b404993">folly::size</a></div><div class="ttdeci">constexpr auto size(C const &amp;c) -&gt; decltype(c.size())</div><div class="ttdef"><b>Definition:</b> <a href="Access_8h_source.html#l00045">Access.h:45</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a12c5ca1fbbaad2a7ebda5829cd9674ef"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a12c5ca1fbbaad2a7ebda5829cd9674ef">folly::IOBuf::writableData</a></div><div class="ttdeci">uint8_t * writableData()</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00509">IOBuf.h:509</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a6e7ab795221f3359c2d919b3035374c3"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">folly::IOBuf::headroom</a></div><div class="ttdeci">std::size_t headroom() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00542">IOBuf.h:542</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a693fa6c7a5a1ecc72fa0bcd834507a56a06f59281b6961a3238097b4dd6badba6"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a693fa6c7a5a1ecc72fa0bcd834507a56a06f59281b6961a3238097b4dd6badba6">folly::IOBuf::CREATE</a></div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00225">IOBuf.h:225</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_aac56d35181e96caf9ebcefa1768d8588"><div class="ttname"><a href="classfolly_1_1IOBuf.html#aac56d35181e96caf9ebcefa1768d8588">folly::IOBuf::append</a></div><div class="ttdeci">void append(std::size_t amount)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00689">IOBuf.h:689</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ad121c314bc97a30206e8b467eb609a27"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">folly::IOBuf::IOBuf</a></div><div class="ttdeci">IOBuf() noexcept</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00361">IOBuf.cpp:361</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3f570897c359fbf351125341f9d2f1a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">folly::IOBuf::IOBuf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1IOBuf.html#af4c6c9ea66b0e79e914b6de174538217">CopyBufferOp</a>&#160;</td>
          <td class="paramname"><em>op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacefolly.html#a7f61a634c75bc3bb46447ec2b17ff0fe">ByteRange</a>&#160;</td>
          <td class="paramname"><em>br</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>headroom</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>minTailroom</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00222">222</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    : <a class="code" href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">IOBuf</a>(<a class="code" href="namespacefolly_1_1pushmi_1_1operators.html">op</a>, br.data(), br.size(), <a class="code" href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">headroom</a>, minTailroom) {}</div><div class="ttc" id="namespacefolly_1_1pushmi_1_1operators_html"><div class="ttname"><a href="namespacefolly_1_1pushmi_1_1operators.html">folly::pushmi::operators</a></div><div class="ttdef"><b>Definition:</b> <a href="bulk_8h_source.html#l00023">bulk.h:23</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a6e7ab795221f3359c2d919b3035374c3"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">folly::IOBuf::headroom</a></div><div class="ttdeci">std::size_t headroom() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00542">IOBuf.h:542</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ad121c314bc97a30206e8b467eb609a27"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">folly::IOBuf::IOBuf</a></div><div class="ttdeci">IOBuf() noexcept</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00361">IOBuf.cpp:361</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a613cb6c54f4dd46b7f0e2d7ec4eef826"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">folly::IOBuf::IOBuf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1IOBuf.html#af4c6c9ea66b0e79e914b6de174538217">CopyBufferOp</a>&#160;</td>
          <td class="paramname"><em>op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a> &amp;&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>headroom</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>minTailroom</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00448">448</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>References <a class="el" href="Conv_8cpp_source.html#l00212">string</a>.</p>
<div class="fragment"><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      : <a class="code" href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">IOBuf</a>(<a class="code" href="namespacefolly_1_1pushmi_1_1operators.html">op</a>, buf.data(), buf.size(), <a class="code" href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">headroom</a>, minTailroom) {}</div><div class="ttc" id="namespacefolly_1_1pushmi_1_1operators_html"><div class="ttname"><a href="namespacefolly_1_1pushmi_1_1operators.html">folly::pushmi::operators</a></div><div class="ttdef"><b>Definition:</b> <a href="bulk_8h_source.html#l00023">bulk.h:23</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a6e7ab795221f3359c2d919b3035374c3"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">folly::IOBuf::headroom</a></div><div class="ttdeci">std::size_t headroom() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00542">IOBuf.h:542</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ad121c314bc97a30206e8b467eb609a27"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">folly::IOBuf::IOBuf</a></div><div class="ttdeci">IOBuf() noexcept</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00361">IOBuf.cpp:361</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adfadb01d4fc7288b5d00b477ffed55e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">folly::IOBuf::~IOBuf </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroy this <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a>.</p>
<p>Deleting an <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> will automatically destroy all IOBufs in the chain. (See the comments above regarding the ownership model of <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> chains. All subsequent IOBufs in the chain are considered to be owned by the head of the chain. Users should only explicitly delete the head of a chain.)</p>
<p>When each individual <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> is destroyed, it will release its reference count on the underlying buffer. If it was the last user of the buffer, the buffer will be freed. </p>

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00415">415</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8cpp_source.html#l00773">decrementRefcount()</a>, <a class="el" href="IOBuf_8h_source.html#l01423">next_</a>, and <a class="el" href="IOBuf_8h_source.html#l00847">unlink()</a>.</p>
<div class="fragment"><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;              {</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <span class="comment">// Destroying an IOBuf destroys the entire chain.</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <span class="comment">// Users of IOBuf should only explicitly delete the head of any chain.</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <span class="comment">// The other elements in the chain will be automatically destroyed.</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <span class="keywordflow">while</span> (<a class="code" href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">next_</a> != <span class="keyword">this</span>) {</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="comment">// Since unlink() returns unique_ptr() and we don&#39;t store it,</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="comment">// it will automatically delete the unlinked element.</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    (void)<a class="code" href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">next_</a>-&gt;<a class="code" href="classfolly_1_1IOBuf.html#ad0fb688fa5faf404e3f8dc9591b03612">unlink</a>();</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  }</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#a6a46b4df6fe3907e84b44c6235209f5a">decrementRefcount</a>();</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOBuf_html_a038b1d38b9814d8e2f571bc94d3cf0dc"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">folly::IOBuf::next_</a></div><div class="ttdeci">IOBuf * next_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01423">IOBuf.h:1423</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ad0fb688fa5faf404e3f8dc9591b03612"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ad0fb688fa5faf404e3f8dc9591b03612">folly::IOBuf::unlink</a></div><div class="ttdeci">std::unique_ptr&lt; IOBuf &gt; unlink()</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00847">IOBuf.h:847</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a6a46b4df6fe3907e84b44c6235209f5a"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a6a46b4df6fe3907e84b44c6235209f5a">folly::IOBuf::decrementRefcount</a></div><div class="ttdeci">void decrementRefcount()</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00773">IOBuf.cpp:773</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad121c314bc97a30206e8b467eb609a27"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">folly::IOBuf::IOBuf </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Allocate a new null buffer.</p>
<p>This can be used to allocate an empty <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> on the stack. It will have no space allocated for it. This is generally useful only to later use move assignment to fill out the <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a>. </p>

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00361">361</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>Referenced by <a class="el" href="IOBuf_8cpp_source.html#l00556">cloneOneAsValue()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00475">operator=()</a>, and <a class="el" href="IOBuf_8cpp_source.html#l00357">wrapBufferAsValue()</a>.</p>
<div class="fragment"><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;{}</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afd400438f3ccebb400d667913fc3e268"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">folly::IOBuf::IOBuf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Move constructor and assignment operator.</p>
<p>In general, you should only ever move the head of an <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> chain. Internal nodes in an <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> chain are owned by the head of the chain, and should not be moved from. (Technically, nothing prevents you from moving a non-head node, but the moved-to node will replace the moved-from node in the chain. This has implications for ownership, since non-head nodes are owned by the chain head. You are then responsible for relinquishing ownership of the moved-to node, and manually deleting the moved-from node.)</p>
<p>With the move assignment operator, the destination of the move should be the head of an <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> chain or a solitary <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> not part of a chain. If the move destination is part of a chain, all other IOBufs in the chain will be deleted. </p>

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00363">363</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8h_source.html#l01423">next_</a>, and <a class="el" href="IOBuf_8h_source.html#l01424">prev_</a>.</p>
<div class="fragment"><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    : <a class="code" href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">data_</a>(other.data_),</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#affce6ca9f1b795300095724fe907e50d">buf_</a>(other.buf_),</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">length_</a>(other.length_),</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#a4d25a5cf5084ebeb9d156217ec01f718">capacity_</a>(other.capacity_),</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#a305fafb3b8f177828fa7a427f25407a5">flagsAndSharedInfo_</a>(other.flagsAndSharedInfo_) {</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <span class="comment">// Reset other so it is a clean state to be destroyed.</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  other.data_ = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  other.buf_ = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  other.length_ = 0;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  other.capacity_ = 0;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  other.flagsAndSharedInfo_ = 0;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="comment">// If other was part of the chain, assume ownership of the rest of its chain.</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <span class="comment">// (It&#39;s only valid to perform move assignment on the head of a chain.)</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="keywordflow">if</span> (other.next_ != &amp;other) {</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">next_</a> = other.<a class="code" href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">next_</a>;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">next_</a>-&gt;<a class="code" href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">prev_</a> = <span class="keyword">this</span>;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    other.<a class="code" href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">next_</a> = &amp;other;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">prev_</a> = other.<a class="code" href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">prev_</a>;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">prev_</a>-&gt;<a class="code" href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">next_</a> = <span class="keyword">this</span>;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    other.<a class="code" href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">prev_</a> = &amp;other;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  }</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <span class="comment">// Sanity check to make sure that other is in a valid state to be destroyed.</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  DCHECK_EQ(other.prev_, &amp;other);</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  DCHECK_EQ(other.next_, &amp;other);</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOBuf_html_a038b1d38b9814d8e2f571bc94d3cf0dc"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">folly::IOBuf::next_</a></div><div class="ttdeci">IOBuf * next_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01423">IOBuf.h:1423</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a93ce4461ec7eba82b74038f887c3f957"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">folly::IOBuf::prev_</a></div><div class="ttdeci">IOBuf * prev_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01424">IOBuf.h:1424</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a7a03b1d1337e3da57675a94b29a84ac9"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">folly::IOBuf::data_</a></div><div class="ttdeci">uint8_t * data_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01432">IOBuf.h:1432</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_affce6ca9f1b795300095724fe907e50d"><div class="ttname"><a href="classfolly_1_1IOBuf.html#affce6ca9f1b795300095724fe907e50d">folly::IOBuf::buf_</a></div><div class="ttdeci">uint8_t * buf_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01433">IOBuf.h:1433</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a564daf68834ce4e7523f329e1c6df23f"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">folly::IOBuf::length_</a></div><div class="ttdeci">std::size_t length_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01434">IOBuf.h:1434</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a4d25a5cf5084ebeb9d156217ec01f718"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a4d25a5cf5084ebeb9d156217ec01f718">folly::IOBuf::capacity_</a></div><div class="ttdeci">std::size_t capacity_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01435">IOBuf.h:1435</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a305fafb3b8f177828fa7a427f25407a5"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a305fafb3b8f177828fa7a427f25407a5">folly::IOBuf::flagsAndSharedInfo_</a></div><div class="ttdeci">uintptr_t flagsAndSharedInfo_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01438">IOBuf.h:1438</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8a0db39c0632ac57a48eb913faffc493"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">folly::IOBuf::IOBuf </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00393">393</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8cpp_source.html#l00546">cloneAsValue()</a>.</p>
<div class="fragment"><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                               {</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  *<span class="keyword">this</span> = other.cloneAsValue();</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a898a7c8372d181512337253d942f1041"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">folly::IOBuf::IOBuf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfolly_1_1IOBuf_1_1InternalConstructor.html">InternalConstructor</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>flagsAndSharedInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>capacity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00397">397</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8h_source.html#l00593">capacity()</a>, <a class="el" href="IOBuf_8h_source.html#l00499">data()</a>, and <a class="el" href="IOBuf_8h_source.html#l00533">length()</a>.</p>
<div class="fragment"><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    : <a class="code" href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">next_</a>(<span class="keyword">this</span>),</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">prev_</a>(<span class="keyword">this</span>),</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">data_</a>(<a class="code" href="classfolly_1_1IOBuf.html#af71f6f5efabbcddf8ec6dada00f5eebf">data</a>),</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#affce6ca9f1b795300095724fe907e50d">buf_</a>(buf),</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">length_</a>(<a class="code" href="classfolly_1_1IOBuf.html#a7772f21059d7cde7f30341dfbb162e4a">length</a>),</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#a4d25a5cf5084ebeb9d156217ec01f718">capacity_</a>(<a class="code" href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">capacity</a>),</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#a305fafb3b8f177828fa7a427f25407a5">flagsAndSharedInfo_</a>(flagsAndSharedInfo) {</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  assert(<a class="code" href="classfolly_1_1IOBuf.html#af71f6f5efabbcddf8ec6dada00f5eebf">data</a> &gt;= buf);</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  assert(<a class="code" href="classfolly_1_1IOBuf.html#af71f6f5efabbcddf8ec6dada00f5eebf">data</a> + <a class="code" href="classfolly_1_1IOBuf.html#a7772f21059d7cde7f30341dfbb162e4a">length</a> &lt;= buf + <a class="code" href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">capacity</a>);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOBuf_html_a038b1d38b9814d8e2f571bc94d3cf0dc"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">folly::IOBuf::next_</a></div><div class="ttdeci">IOBuf * next_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01423">IOBuf.h:1423</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_af71f6f5efabbcddf8ec6dada00f5eebf"><div class="ttname"><a href="classfolly_1_1IOBuf.html#af71f6f5efabbcddf8ec6dada00f5eebf">folly::IOBuf::data</a></div><div class="ttdeci">const uint8_t * data() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00499">IOBuf.h:499</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a93ce4461ec7eba82b74038f887c3f957"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">folly::IOBuf::prev_</a></div><div class="ttdeci">IOBuf * prev_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01424">IOBuf.h:1424</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_afc06ea1931398696db8d9a80619e3753"><div class="ttname"><a href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">folly::IOBuf::capacity</a></div><div class="ttdeci">std::size_t capacity() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00593">IOBuf.h:593</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a7a03b1d1337e3da57675a94b29a84ac9"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">folly::IOBuf::data_</a></div><div class="ttdeci">uint8_t * data_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01432">IOBuf.h:1432</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_affce6ca9f1b795300095724fe907e50d"><div class="ttname"><a href="classfolly_1_1IOBuf.html#affce6ca9f1b795300095724fe907e50d">folly::IOBuf::buf_</a></div><div class="ttdeci">uint8_t * buf_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01433">IOBuf.h:1433</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a7772f21059d7cde7f30341dfbb162e4a"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a7772f21059d7cde7f30341dfbb162e4a">folly::IOBuf::length</a></div><div class="ttdeci">std::size_t length() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00533">IOBuf.h:533</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a564daf68834ce4e7523f329e1c6df23f"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">folly::IOBuf::length_</a></div><div class="ttdeci">std::size_t length_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01434">IOBuf.h:1434</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a4d25a5cf5084ebeb9d156217ec01f718"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a4d25a5cf5084ebeb9d156217ec01f718">folly::IOBuf::capacity_</a></div><div class="ttdeci">std::size_t capacity_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01435">IOBuf.h:1435</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a305fafb3b8f177828fa7a427f25407a5"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a305fafb3b8f177828fa7a427f25407a5">folly::IOBuf::flagsAndSharedInfo_</a></div><div class="ttdeci">uintptr_t flagsAndSharedInfo_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01438">IOBuf.h:1438</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ab9b3bd683d15bbda8fd139311e0f6061"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::advance </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>amount</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Shift the data forwards in the buffer.</p>
<p>This shifts the data pointer forwards in the buffer to increase the headroom. This is commonly used to increase the headroom in a newly allocated buffer.</p>
<p>The caller is responsible for ensuring that there is sufficient tailroom in the buffer before calling <a class="el" href="classfolly_1_1IOBuf.html#ab9b3bd683d15bbda8fd139311e0f6061">advance()</a>.</p>
<p>If there is a non-zero data length, <a class="el" href="classfolly_1_1IOBuf.html#ab9b3bd683d15bbda8fd139311e0f6061">advance()</a> will use memmove() to shift the data forwards in the buffer. In this case, the caller is responsible for making sure the buffer is unshared, so it will not affect other IOBufs that may be sharing the same underlying buffer. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00632">632</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>References <a class="el" href="FileUtilTest_8cpp_source.html#l00066">data_</a>, and <a class="el" href="JSONSchema_8cpp_source.html#l00233">length_</a>.</p>

<p>Referenced by <a class="el" href="TypedIOBuf_8h_source.html#l00099">folly::TypedIOBuf&lt; T &gt;::advance()</a>, <a class="el" href="GzipHeaderCodec_8cpp_source.html#l00181">proxygen::GzipHeaderCodec::encode()</a>, <a class="el" href="OpenSSLEVPCipher_8cpp_source.html#l00186">fizz::detail::evpEncrypt()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00207">IOBuf()</a>, and <a class="el" href="IOBufTest_8cpp_source.html#l00049">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;                                 {</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="comment">// In debug builds, assert if there is a problem.</span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    assert(amount &lt;= <a class="code" href="classfolly_1_1IOBuf.html#a9e37facbd98e407388559c4dd572eb6c">tailroom</a>());</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">length_</a> &gt; 0) {</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;      memmove(<a class="code" href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">data_</a> + amount, <a class="code" href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">data_</a>, <a class="code" href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">length_</a>);</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    }</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">data_</a> += amount;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_a9e37facbd98e407388559c4dd572eb6c"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a9e37facbd98e407388559c4dd572eb6c">folly::IOBuf::tailroom</a></div><div class="ttdeci">std::size_t tailroom() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00551">IOBuf.h:551</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a7a03b1d1337e3da57675a94b29a84ac9"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">folly::IOBuf::data_</a></div><div class="ttdeci">uint8_t * data_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01432">IOBuf.h:1432</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a564daf68834ce4e7523f329e1c6df23f"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">folly::IOBuf::length_</a></div><div class="ttdeci">std::size_t length_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01434">IOBuf.h:1434</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9d4a256b287eea869eafcff2e04dd749"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::allocExtBuffer </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>minCapacity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> **&#160;</td>
          <td class="paramname"><em>bufReturn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfolly_1_1IOBuf_1_1SharedInfo.html">SharedInfo</a> **&#160;</td>
          <td class="paramname"><em>infoReturn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t *&#160;</td>
          <td class="paramname"><em>capacityReturn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00927">927</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="memory_2Malloc_8h_source.html#l00227">folly::checkedMalloc()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00938">goodExtBufferSize()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00954">initExtBuffer()</a>, and <a class="el" href="ConstexprMathBenchmark_8cpp_source.html#l00178">uint8_t</a>.</p>

<p>Referenced by <a class="el" href="IOBuf_8cpp_source.html#l00722">coalesceAndReallocate()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00195">IOBuf()</a>, and <a class="el" href="IOBuf_8cpp_source.html#l00606">unshareOneSlow()</a>.</p>
<div class="fragment"><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                               {</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;  <span class="keywordtype">size_t</span> mallocSize = <a class="code" href="classfolly_1_1IOBuf.html#afcf6bc0bd4608c6946b53b69d075bf3d">goodExtBufferSize</a>(minCapacity);</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;  <a class="code" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>* buf = <span class="keyword">static_cast&lt;</span><a class="code" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>*<span class="keyword">&gt;</span>(<a class="code" href="namespacefolly.html#ac8ace750150dff84e5a2a8cda65a9973">checkedMalloc</a>(mallocSize));</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#a81f9eb67397c7c6f768a9ec9d25572c4">initExtBuffer</a>(buf, mallocSize, infoReturn, capacityReturn);</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;  *bufReturn = buf;</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;}</div><div class="ttc" id="namespacefolly_html_ac8ace750150dff84e5a2a8cda65a9973"><div class="ttname"><a href="namespacefolly.html#ac8ace750150dff84e5a2a8cda65a9973">folly::checkedMalloc</a></div><div class="ttdeci">void * checkedMalloc(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="memory_2Malloc_8h_source.html#l00227">Malloc.h:227</a></div></div>
<div class="ttc" id="ConstexprMathBenchmark_8cpp_html_ae1affc9ca37cfb624959c866a73f83c2"><div class="ttname"><a href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a></div><div class="ttdeci">uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="ConstexprMathBenchmark_8cpp_source.html#l00178">ConstexprMathBenchmark.cpp:178</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_afcf6bc0bd4608c6946b53b69d075bf3d"><div class="ttname"><a href="classfolly_1_1IOBuf.html#afcf6bc0bd4608c6946b53b69d075bf3d">folly::IOBuf::goodExtBufferSize</a></div><div class="ttdeci">static size_t goodExtBufferSize(std::size_t minCapacity)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00938">IOBuf.cpp:938</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a81f9eb67397c7c6f768a9ec9d25572c4"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a81f9eb67397c7c6f768a9ec9d25572c4">folly::IOBuf::initExtBuffer</a></div><div class="ttdeci">static void initExtBuffer(uint8_t *buf, size_t mallocSize, SharedInfo **infoReturn, std::size_t *capacityReturn)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00954">IOBuf.cpp:954</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aac56d35181e96caf9ebcefa1768d8588"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::append </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>amount</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Adjust the tail pointer to include more valid data at the end.</p>
<p>This moves the tail pointer forwards to include more of the available buffer. The caller is responsible for ensuring that there is sufficient tailroom for the new data. The caller is also responsible for populating this section with valid data.</p>
<p>This does not modify any actual data in the buffer. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00689">689</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>References <a class="el" href="JSONSchema_8cpp_source.html#l00233">length_</a>.</p>

<p>Referenced by <a class="el" href="IOBufTest_8cpp_source.html#l00037">append()</a>, <a class="el" href="TypedIOBuf_8h_source.html#l00108">folly::TypedIOBuf&lt; T &gt;::append()</a>, <a class="el" href="IOBufQueue_8cpp_source.html#l00172">folly::IOBufQueue::append()</a>, <a class="el" href="NetworkBenchmark_8cpp_source.html#l00032">BENCHMARK()</a>, <a class="el" href="gen_2String-inl_8h_source.html#l00113">folly::gen::detail::consumeBufferPlus()</a>, <a class="el" href="Compression_8cpp_source.html#l00494">folly::io::StreamCodec::doUncompress()</a>, <a class="el" href="GzipHeaderCodec_8cpp_source.html#l00181">proxygen::GzipHeaderCodec::encode()</a>, <a class="el" href="OpenSSLEVPCipher_8cpp_source.html#l00264">fizz::detail::evpDecrypt()</a>, <a class="el" href="OpenSSLEVPCipher_8cpp_source.html#l00186">fizz::detail::evpEncrypt()</a>, <a class="el" href="AsyncPipe_8cpp_source.html#l00057">folly::AsyncPipeReader::handlerReady()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00207">IOBuf()</a>, <a class="el" href="IOBufCursorBenchmark_8cpp_source.html#l00166">main()</a>, <a class="el" href="IOBufTest_8cpp_source.html#l00874">MoveToFbStringTest::makeBuf()</a>, <a class="el" href="NetworkBenchmark_8cpp_source.html#l00055">poolGetIOBuf()</a>, <a class="el" href="HTTPArchive_8cpp_source.html#l00122">proxygen::readFileToIOBuf()</a>, <a class="el" href="CurlClient_8cpp_source.html#l00123">CurlService::CurlClient::sendRequest()</a>, <a class="el" href="AsyncSocketTest2_8cpp_source.html#l01230">TEST()</a>, and <a class="el" href="HPACKContextTests_8cpp_source.html#l00194">TEST_F()</a>.</p>
<div class="fragment"><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                                {</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    DCHECK_LE(amount, <a class="code" href="classfolly_1_1IOBuf.html#a9e37facbd98e407388559c4dd572eb6c">tailroom</a>());</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">length_</a> += amount;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_a9e37facbd98e407388559c4dd572eb6c"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a9e37facbd98e407388559c4dd572eb6c">folly::IOBuf::tailroom</a></div><div class="ttdeci">std::size_t tailroom() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00551">IOBuf.h:551</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a564daf68834ce4e7523f329e1c6df23f"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">folly::IOBuf::length_</a></div><div class="ttdeci">std::size_t length_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01434">IOBuf.h:1434</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af71c4d0e6e0758cac2163b3134f0d0b3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::appendChain </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt; &amp;&amp;&#160;</td>
          <td class="paramname"><em>iobuf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Append another <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> chain immediately after this <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a>.</p>
<p>For example, if there are two <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> chains (<a class="el" href="structA.html">A</a>, <a class="el" href="structfolly_1_1B.html">B</a>, C) and (D, E, F), and B-&gt;appendChain(D) is called, the (D, E, F) chain will be subsumed and become part of the chain starting at <a class="el" href="structA.html">A</a>, which will now look like (<a class="el" href="structA.html">A</a>, <a class="el" href="structfolly_1_1B.html">B</a>, D, E, F, C)</p>
<p>The elements in the specified <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> chain will become part of this chain, and will be owned by the head of this chain. When this chain is destroyed, all elements in the supplied chain will also be destroyed.</p>
<p>For this reason, <a class="el" href="classfolly_1_1IOBuf.html#af71c4d0e6e0758cac2163b3134f0d0b3">appendChain()</a> only accepts an rvalue-reference to a unique_ptr(), to make it clear that it is taking ownership of the supplied chain. If you have a raw pointer, you can pass in a new temporary unique_ptr around the raw pointer. If you have an existing, non-temporary unique_ptr, you must call std::move(ptr) to make it clear that you are destroying the original pointer. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00827">827</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>References <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>.</p>

<p>Referenced by <a class="el" href="AsyncSocketTest2_8cpp_source.html#l01230">TEST()</a>, <a class="el" href="HPACKBufferTests_8cpp_source.html#l00447">TEST_F()</a>, and <a class="el" href="HPACKContextTests_8cpp_source.html#l00274">TEST_P()</a>.</p>
<div class="fragment"><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                                                 {</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="comment">// Just use prependChain() on the next element in our chain</span></div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">next_</a>-&gt;<a class="code" href="classfolly_1_1IOBuf.html#aa863b989b6576c999599b60e59c48e91">prependChain</a>(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(iobuf));</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_a038b1d38b9814d8e2f571bc94d3cf0dc"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">folly::IOBuf::next_</a></div><div class="ttdeci">IOBuf * next_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01423">IOBuf.h:1423</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_aa863b989b6576c999599b60e59c48e91"><div class="ttname"><a href="classfolly_1_1IOBuf.html#aa863b989b6576c999599b60e59c48e91">folly::IOBuf::prependChain</a></div><div class="ttdeci">void prependChain(std::unique_ptr&lt; IOBuf &gt; &amp;&amp;iobuf)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00509">IOBuf.cpp:509</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8c2e5a778f3f086bcee869743b1c049d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::appendToIov </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1fbvector.html">folly::fbvector</a>&lt; struct iovec &gt; *&#160;</td>
          <td class="paramname"><em>iov</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update an existing iovec array with the <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> data.</p>
<p>New iovecs will be appended to the existing vector; anything already present in the vector will be left unchanged.</p>
<p>Naturally, the returned iovec data will be invalid if you modify the buffer chain. </p>

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l01016">1016</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8h_source.html#l00499">data()</a>, <a class="el" href="IOBuf_8h_source.html#l00533">length()</a>, <a class="el" href="IOBuf_8h_source.html#l00600">next()</a>, and <a class="el" href="FBVector_8h_source.html#l01156">folly::fbvector&lt; T, Allocator &gt;::push_back()</a>.</p>

<p>Referenced by <a class="el" href="IOBuf_8cpp_source.html#l01009">getIov()</a>.</p>
<div class="fragment"><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;                                                              {</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">IOBuf</a> <span class="keyword">const</span>* p = <span class="keyword">this</span>;</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;  <span class="keywordflow">do</span> {</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    <span class="comment">// some code can get confused by empty iovs, so skip them</span></div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <span class="keywordflow">if</span> (p-&gt;length() &gt; 0) {</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;      iov-&gt;<a class="code" href="classfolly_1_1fbvector.html#a6eb35f5f88730c17983646e4ab7959ec">push_back</a>({(<span class="keywordtype">void</span>*)p-&gt;data(), folly::to&lt;size_t&gt;(p-&gt;length())});</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    }</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    p = p-&gt;next();</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;  } <span class="keywordflow">while</span> (p != <span class="keyword">this</span>);</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;}</div><div class="ttc" id="classfolly_1_1fbvector_html_a6eb35f5f88730c17983646e4ab7959ec"><div class="ttname"><a href="classfolly_1_1fbvector.html#a6eb35f5f88730c17983646e4ab7959ec">folly::fbvector::push_back</a></div><div class="ttdeci">void push_back(const T &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="FBVector_8h_source.html#l01156">FBVector.h:1156</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ad121c314bc97a30206e8b467eb609a27"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">folly::IOBuf::IOBuf</a></div><div class="ttdeci">IOBuf() noexcept</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00361">IOBuf.cpp:361</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae6aafe1be0283e328d4c0dcd70ce74a3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1IOBuf_1_1Iterator.html">IOBuf::Iterator</a> folly::IOBuf::begin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l01684">1684</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>References <a class="el" href="Padded_8h_source.html#l00319">folly::padded::cbegin()</a>.</p>

<p>Referenced by <a class="el" href="Compression_8cpp_source.html#l00494">folly::io::StreamCodec::doUncompress()</a>.</p>
<div class="fragment"><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;                                        {</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1IOBuf.html#a975a689402a3e22a888f0c94597502c3">cbegin</a>();</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOBuf_html_a975a689402a3e22a888f0c94597502c3"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a975a689402a3e22a888f0c94597502c3">folly::IOBuf::cbegin</a></div><div class="ttdeci">Iterator cbegin() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l01001">IOBuf.cpp:1001</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a13594a66788d8fe6ee7913e9d100ca5a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>* folly::IOBuf::buffer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the pointer to the start of the buffer.</p>
<p>Note that this is the pointer to the very beginning of the usable buffer, not the start of valid data within the buffer. Use the <a class="el" href="classfolly_1_1IOBuf.html#af71f6f5efabbcddf8ec6dada00f5eebf">data()</a> method to get a pointer to the start of the data within the buffer. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00562">562</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>Referenced by <a class="el" href="TypedIOBuf_8h_source.html#l00087">folly::TypedIOBuf&lt; T &gt;::buffer()</a>, and <a class="el" href="IOBufTest_8cpp_source.html#l00105">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                                {</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1IOBuf.html#affce6ca9f1b795300095724fe907e50d">buf_</a>;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_affce6ca9f1b795300095724fe907e50d"><div class="ttname"><a href="classfolly_1_1IOBuf.html#affce6ca9f1b795300095724fe907e50d">folly::IOBuf::buf_</a></div><div class="ttdeci">uint8_t * buf_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01433">IOBuf.h:1433</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a55034cff0b52cd2e3b597cd2c570398c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>* folly::IOBuf::bufferEnd </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the pointer to the end of the buffer.</p>
<p>Note that this is the pointer to the very end of the usable buffer, not the end of valid data within the buffer. Use the <a class="el" href="classfolly_1_1IOBuf.html#a7d40f1589d5ca8d12d545ea2fccf1031">tail()</a> method to get a pointer to the end of the data within the buffer. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00583">583</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>Referenced by <a class="el" href="TypedIOBuf_8h_source.html#l00093">folly::TypedIOBuf&lt; T &gt;::bufferEnd()</a>.</p>
<div class="fragment"><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                                   {</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1IOBuf.html#affce6ca9f1b795300095724fe907e50d">buf_</a> + <a class="code" href="classfolly_1_1IOBuf.html#a4d25a5cf5084ebeb9d156217ec01f718">capacity_</a>;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_affce6ca9f1b795300095724fe907e50d"><div class="ttname"><a href="classfolly_1_1IOBuf.html#affce6ca9f1b795300095724fe907e50d">folly::IOBuf::buf_</a></div><div class="ttdeci">uint8_t * buf_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01433">IOBuf.h:1433</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a4d25a5cf5084ebeb9d156217ec01f718"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a4d25a5cf5084ebeb9d156217ec01f718">folly::IOBuf::capacity_</a></div><div class="ttdeci">std::size_t capacity_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01435">IOBuf.h:1435</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afc06ea1931398696db8d9a80619e3753"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t folly::IOBuf::capacity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the total size of the buffer.</p>
<p>This returns the total usable length of the buffer. Use the <a class="el" href="classfolly_1_1IOBuf.html#a7772f21059d7cde7f30341dfbb162e4a">length()</a> method to get the length of the actual valid data in this <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a>. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00593">593</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>Referenced by <a class="el" href="IOBufBenchmark_8cpp_source.html#l00030">BENCHMARK()</a>, <a class="el" href="TypedIOBuf_8h_source.html#l00096">folly::TypedIOBuf&lt; T &gt;::capacity()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00245">createCombined()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00268">createSeparate()</a>, <a class="el" href="AsyncPipe_8cpp_source.html#l00057">folly::AsyncPipeReader::handlerReady()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00397">IOBuf()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00968">moveToFbString()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00808">reserveSlow()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00313">takeOwnership()</a>, <a class="el" href="JemallocNodumpAllocatorTest_8cpp_source.html#l00037">TEST()</a>, <a class="el" href="IOBufTest_8cpp_source.html#l00077">testAllocSize()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00353">wrapBuffer()</a>, and <a class="el" href="IOBuf_8cpp_source.html#l00357">wrapBufferAsValue()</a>.</p>
<div class="fragment"><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                             {</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1IOBuf.html#a4d25a5cf5084ebeb9d156217ec01f718">capacity_</a>;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_a4d25a5cf5084ebeb9d156217ec01f718"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a4d25a5cf5084ebeb9d156217ec01f718">folly::IOBuf::capacity_</a></div><div class="ttdeci">std::size_t capacity_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01435">IOBuf.h:1435</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a975a689402a3e22a888f0c94597502c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1IOBuf_1_1Iterator.html">IOBuf::Iterator</a> folly::IOBuf::cbegin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Iteration support: a chain of IOBufs may be iterated through using STL-style iterators over const ByteRanges. Iterators are only invalidated if the <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> that they currently point to is removed. </p>

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l01001">1001</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;                                  {</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;  <span class="keywordflow">return</span> Iterator(<span class="keyword">this</span>, <span class="keyword">this</span>);</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac6d70c98b72a48fd8687bf2560953740"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1IOBuf_1_1Iterator.html">IOBuf::Iterator</a> folly::IOBuf::cend </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l01005">1005</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;                                {</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;  <span class="keywordflow">return</span> Iterator(<span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6925a9f5300fc05e19fc579d43663991"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Clear the buffer.</p>
<p>Postcondition: <a class="el" href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">headroom()</a> == 0, <a class="el" href="classfolly_1_1IOBuf.html#a7772f21059d7cde7f30341dfbb162e4a">length()</a> == 0, <a class="el" href="classfolly_1_1IOBuf.html#a9e37facbd98e407388559c4dd572eb6c">tailroom()</a> == <a class="el" href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">capacity()</a> </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00728">728</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>References <a class="el" href="FileUtilTest_8cpp_source.html#l00066">data_</a>, and <a class="el" href="JSONSchema_8cpp_source.html#l00233">length_</a>.</p>

<p>Referenced by <a class="el" href="TypedIOBuf_8h_source.html#l00117">folly::TypedIOBuf&lt; T &gt;::clear()</a>, <a class="el" href="IOBufQueue_8cpp_source.html#l00327">folly::IOBufQueue::clear()</a>, <a class="el" href="gen_2String-inl_8h_source.html#l00113">folly::gen::detail::consumeBufferPlus()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00968">moveToFbString()</a>, and <a class="el" href="IOBufTest_8cpp_source.html#l00049">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;               {</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">data_</a> = <a class="code" href="classfolly_1_1IOBuf.html#aa09e3f15a796182adf3d6c4e163491d7">writableBuffer</a>();</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">length_</a> = 0;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_aa09e3f15a796182adf3d6c4e163491d7"><div class="ttname"><a href="classfolly_1_1IOBuf.html#aa09e3f15a796182adf3d6c4e163491d7">folly::IOBuf::writableBuffer</a></div><div class="ttdeci">uint8_t * writableBuffer()</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00572">IOBuf.h:572</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a7a03b1d1337e3da57675a94b29a84ac9"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">folly::IOBuf::data_</a></div><div class="ttdeci">uint8_t * data_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01432">IOBuf.h:1432</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a564daf68834ce4e7523f329e1c6df23f"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">folly::IOBuf::length_</a></div><div class="ttdeci">std::size_t length_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01434">IOBuf.h:1434</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae04abcc03e44c4661d3180c1f8fb3b4a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::clearFlags </td>
          <td>(</td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>flags</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l01469">1469</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;                                                {</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    DCHECK_EQ(<a class="code" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a> &amp; ~<a class="code" href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43a7ec254b74ac4c9db53102f9b5c0b3f9f">kFlagMask</a>, 0u);</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#a305fafb3b8f177828fa7a427f25407a5">flagsAndSharedInfo_</a> &amp;= ~<a class="code" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a>;</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;  }</div><div class="ttc" id="http__parser_8h_html_ab6b306ef981f5e21bb41ea2c2dbe8cd9"><div class="ttname"><a href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a></div><div class="ttdeci">flags</div><div class="ttdef"><b>Definition:</b> <a href="http__parser_8h_source.html#l00127">http_parser.h:127</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a291e8582a1769680d882f3e327a37b43a7ec254b74ac4c9db53102f9b5c0b3f9f"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43a7ec254b74ac4c9db53102f9b5c0b3f9f">folly::IOBuf::kFlagMask</a></div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01344">IOBuf.h:1344</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a305fafb3b8f177828fa7a427f25407a5"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a305fafb3b8f177828fa7a427f25407a5">folly::IOBuf::flagsAndSharedInfo_</a></div><div class="ttdeci">uintptr_t flagsAndSharedInfo_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01438">IOBuf.h:1438</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afe57aa61436e5d88d3b38c6387ad14fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt; folly::IOBuf::clone </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a new <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> chain sharing the same data as this chain.</p>
<p>The new <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> chain will normally point to the same underlying data buffers as the original chain. (The one exception to this is if some of the IOBufs in this chain contain small internal data buffers which cannot be shared.) </p>

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00527">527</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8cpp_source.html#l00546">cloneAsValue()</a>.</p>

<p>Referenced by <a class="el" href="IOBufBenchmark_8cpp_source.html#l00039">BENCHMARK()</a>, <a class="el" href="HTTP2FramerTest_8cpp_source.html#l00060">HTTP2FramerTest::dataFrameTest()</a>, <a class="el" href="DualTicketCipher_8h_source.html#l00035">fizz::server::DualTicketCipher::decrypt()</a>, <a class="el" href="Compression_8cpp_source.html#l00494">folly::io::StreamCodec::doUncompress()</a>, <a class="el" href="ZlibServerFilterTest_8cpp_source.html#l00058">ZlibServerFilterTest::exercise_compression()</a>, <a class="el" href="Hkdf-inl_8h_source.html#l00025">fizz::HkdfImpl&lt; Hash &gt;::expand()</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l01474">proxygen::SPDYCodec::failSession()</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l01444">proxygen::SPDYCodec::failStream()</a>, <a class="el" href="Cursor_8h_source.html#l01175">folly::io::QueueAppender::insert()</a>, <a class="el" href="AsyncUDPSocketGSOTest_8cpp_source.html#l00102">UDPAcceptor::onDataAvailable()</a>, <a class="el" href="HTTP1xCodec_8cpp_source.html#l00177">proxygen::HTTP1xCodec::onIngress()</a>, <a class="el" href="utils_2Logging_8cpp_source.html#l00103">proxygen::IOBufPrinter::printChain()</a>, <a class="el" href="AsyncSocketTest2_8cpp_source.html#l01230">TEST()</a>, and <a class="el" href="SecondaryAuthManager_8cpp_source.html#l00066">proxygen::SecondaryAuthManager::validateAuthenticator()</a>.</p>
<div class="fragment"><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                                     {</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  <span class="keywordflow">return</span> std::make_unique&lt;IOBuf&gt;(<a class="code" href="classfolly_1_1IOBuf.html#a48623d35d97ba5b30100eff4384b2a0e">cloneAsValue</a>());</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOBuf_html_a48623d35d97ba5b30100eff4384b2a0e"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a48623d35d97ba5b30100eff4384b2a0e">folly::IOBuf::cloneAsValue</a></div><div class="ttdeci">IOBuf cloneAsValue() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00546">IOBuf.cpp:546</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a48623d35d97ba5b30100eff4384b2a0e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> folly::IOBuf::cloneAsValue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Similar to <a class="el" href="classfolly_1_1IOBuf.html#afe57aa61436e5d88d3b38c6387ad14fe">clone()</a>. But returns <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> by value rather than heap-allocating it. </p>

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00546">546</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8cpp_source.html#l00556">cloneOneAsValue()</a>, <a class="el" href="SynchronizedTest_8cpp_source.html#l00743">current</a>, and <a class="el" href="IOBuf_8h_source.html#l01423">next_</a>.</p>

<p>Referenced by <a class="el" href="IOBufBenchmark_8cpp_source.html#l00073">BENCHMARK()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00527">clone()</a>, and <a class="el" href="IOBuf_8cpp_source.html#l00393">IOBuf()</a>.</p>
<div class="fragment"><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                                {</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="keyword">auto</span> tmp = <a class="code" href="classfolly_1_1IOBuf.html#a2c147c147eea4d9d4ccb81da33e2bbc8">cloneOneAsValue</a>();</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">IOBuf</a>* <a class="code" href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a> = <a class="code" href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">next_</a>; <a class="code" href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a> != <span class="keyword">this</span>; <a class="code" href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a> = <a class="code" href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a>-&gt;next_) {</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    tmp.prependChain(<a class="code" href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a>-&gt;cloneOne());</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  }</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <span class="keywordflow">return</span> tmp;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOBuf_html_a2c147c147eea4d9d4ccb81da33e2bbc8"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a2c147c147eea4d9d4ccb81da33e2bbc8">folly::IOBuf::cloneOneAsValue</a></div><div class="ttdeci">IOBuf cloneOneAsValue() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00556">IOBuf.cpp:556</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a038b1d38b9814d8e2f571bc94d3cf0dc"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">folly::IOBuf::next_</a></div><div class="ttdeci">IOBuf * next_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01423">IOBuf.h:1423</a></div></div>
<div class="ttc" id="SynchronizedTest_8cpp_html_ab04e2d55ea4a544f3575812582af7b51"><div class="ttname"><a href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a></div><div class="ttdeci">int current</div><div class="ttdef"><b>Definition:</b> <a href="SynchronizedTest_8cpp_source.html#l00743">SynchronizedTest.cpp:743</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ad121c314bc97a30206e8b467eb609a27"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">folly::IOBuf::IOBuf</a></div><div class="ttdeci">IOBuf() noexcept</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00361">IOBuf.cpp:361</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad9fd70d5b177f1c7c6a5775ce770104c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt; folly::IOBuf::cloneCoalesced </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a new unchained <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> that may share the same data as this chain.</p>
<p>If the <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> chain is not chained then the new <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> will point to the same underlying data buffer as the original chain. Otherwise, it will clone and coalesce the <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> chain.</p>
<p>The new <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> will have at least as much headroom as the first <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> in the chain, and at least as much tailroom as the last <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> in the chain.</p>
<p>Throws std::bad_alloc on error. </p>

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00535">535</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8cpp_source.html#l00570">cloneCoalescedAsValue()</a>.</p>
<div class="fragment"><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                                              {</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <span class="keywordflow">return</span> std::make_unique&lt;IOBuf&gt;(<a class="code" href="classfolly_1_1IOBuf.html#a8195c2434bcccb55816aa0e523a35b67">cloneCoalescedAsValue</a>());</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOBuf_html_a8195c2434bcccb55816aa0e523a35b67"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a8195c2434bcccb55816aa0e523a35b67">folly::IOBuf::cloneCoalescedAsValue</a></div><div class="ttdeci">IOBuf cloneCoalescedAsValue() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00570">IOBuf.cpp:570</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8195c2434bcccb55816aa0e523a35b67"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> folly::IOBuf::cloneCoalescedAsValue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Similar to <a class="el" href="classfolly_1_1IOBuf.html#ad9fd70d5b177f1c7c6a5775ce770104c">cloneCoalesced()</a>. But returns <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> by value rather than heap-allocating it. </p>

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00570">570</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8cpp_source.html#l00576">cloneCoalescedAsValueWithHeadroomTailroom()</a>, <a class="el" href="IOBuf_8h_source.html#l00542">headroom()</a>, <a class="el" href="IOBuf_8h_source.html#l00610">prev()</a>, and <a class="el" href="IOBuf_8h_source.html#l00551">tailroom()</a>.</p>

<p>Referenced by <a class="el" href="IOBufBenchmark_8cpp_source.html#l00082">BENCHMARK_RELATIVE()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00535">cloneCoalesced()</a>, <a class="el" href="Compression_8cpp_source.html#l00494">folly::io::StreamCodec::doUncompress()</a>, and <a class="el" href="CompressionTest_8cpp_source.html#l01096">folly::io::test::TEST_P()</a>.</p>
<div class="fragment"><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                                         {</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <span class="keyword">const</span> std::size_t newHeadroom = <a class="code" href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">headroom</a>();</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  <span class="keyword">const</span> std::size_t newTailroom = <a class="code" href="classfolly_1_1IOBuf.html#aa6e1ec3d0ba26ba438b302f45a01e17a">prev</a>()-&gt;<a class="code" href="classfolly_1_1IOBuf.html#a9e37facbd98e407388559c4dd572eb6c">tailroom</a>();</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1IOBuf.html#a1900ac5a736d5faccc2c19a09ff80b30">cloneCoalescedAsValueWithHeadroomTailroom</a>(newHeadroom, newTailroom);</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOBuf_html_a9e37facbd98e407388559c4dd572eb6c"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a9e37facbd98e407388559c4dd572eb6c">folly::IOBuf::tailroom</a></div><div class="ttdeci">std::size_t tailroom() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00551">IOBuf.h:551</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a6e7ab795221f3359c2d919b3035374c3"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">folly::IOBuf::headroom</a></div><div class="ttdeci">std::size_t headroom() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00542">IOBuf.h:542</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_aa6e1ec3d0ba26ba438b302f45a01e17a"><div class="ttname"><a href="classfolly_1_1IOBuf.html#aa6e1ec3d0ba26ba438b302f45a01e17a">folly::IOBuf::prev</a></div><div class="ttdeci">IOBuf * prev()</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00610">IOBuf.h:610</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a1900ac5a736d5faccc2c19a09ff80b30"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a1900ac5a736d5faccc2c19a09ff80b30">folly::IOBuf::cloneCoalescedAsValueWithHeadroomTailroom</a></div><div class="ttdeci">IOBuf cloneCoalescedAsValueWithHeadroomTailroom(std::size_t newHeadroom, std::size_t newTailroom) const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00576">IOBuf.cpp:576</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1900ac5a736d5faccc2c19a09ff80b30"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> folly::IOBuf::cloneCoalescedAsValueWithHeadroomTailroom </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>newHeadroom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>newTailroom</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is similar to the <a class="el" href="classfolly_1_1IOBuf.html#a8195c2434bcccb55816aa0e523a35b67">cloneCoalescedAsValue()</a> method, except this allows to set a headroom and tailroom for the new <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a>. </p>

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00576">576</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8cpp_source.html#l00556">cloneOneAsValue()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00501">computeChainDataLength()</a>, <a class="el" href="IOBuf_8h_source.html#l00225">CREATE</a>, <a class="el" href="SynchronizedTest_8cpp_source.html#l00743">current</a>, and <a class="el" href="IOBuf_8h_source.html#l00760">isChained()</a>.</p>

<p>Referenced by <a class="el" href="IOBuf_8cpp_source.html#l00570">cloneCoalescedAsValue()</a>, and <a class="el" href="IOBuf_8cpp_source.html#l00539">cloneCoalescedWithHeadroomTailroom()</a>.</p>
<div class="fragment"><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                                 {</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classfolly_1_1IOBuf.html#a5b6f1bccec27ec05ad6b6906980589ea">isChained</a>()) {</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1IOBuf.html#a2c147c147eea4d9d4ccb81da33e2bbc8">cloneOneAsValue</a>();</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  }</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <span class="comment">// Coalesce into newBuf</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  <span class="keyword">const</span> std::size_t newLength = <a class="code" href="classfolly_1_1IOBuf.html#ac4c405fd5fa405c8d814b4cc86309a34">computeChainDataLength</a>();</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  <span class="keyword">const</span> std::size_t newCapacity = newLength + newHeadroom + newTailroom;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">IOBuf</a> newBuf{<a class="code" href="classfolly_1_1IOBuf.html#a693fa6c7a5a1ecc72fa0bcd834507a56a06f59281b6961a3238097b4dd6badba6">CREATE</a>, newCapacity};</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  newBuf.advance(newHeadroom);</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  <span class="keyword">auto</span> <a class="code" href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a> = <span class="keyword">this</span>;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  <span class="keywordflow">do</span> {</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a>-&gt;length() &gt; 0) {</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;      DCHECK_NOTNULL(<a class="code" href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a>-&gt;data());</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;      DCHECK_LE(<a class="code" href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a>-&gt;length(), newBuf.tailroom());</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;      memcpy(newBuf.writableTail(), <a class="code" href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a>-&gt;data(), <a class="code" href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a>-&gt;length());</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      newBuf.append(<a class="code" href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a>-&gt;length());</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    }</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <a class="code" href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a> = <a class="code" href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a>-&gt;next();</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  } <span class="keywordflow">while</span> (<a class="code" href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a> != <span class="keyword">this</span>);</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  DCHECK_EQ(newLength, newBuf.length());</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  DCHECK_EQ(newHeadroom, newBuf.headroom());</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  DCHECK_LE(newTailroom, newBuf.tailroom());</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  <span class="keywordflow">return</span> newBuf;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOBuf_html_a2c147c147eea4d9d4ccb81da33e2bbc8"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a2c147c147eea4d9d4ccb81da33e2bbc8">folly::IOBuf::cloneOneAsValue</a></div><div class="ttdeci">IOBuf cloneOneAsValue() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00556">IOBuf.cpp:556</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a5b6f1bccec27ec05ad6b6906980589ea"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a5b6f1bccec27ec05ad6b6906980589ea">folly::IOBuf::isChained</a></div><div class="ttdeci">bool isChained() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00760">IOBuf.h:760</a></div></div>
<div class="ttc" id="SynchronizedTest_8cpp_html_ab04e2d55ea4a544f3575812582af7b51"><div class="ttname"><a href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a></div><div class="ttdeci">int current</div><div class="ttdef"><b>Definition:</b> <a href="SynchronizedTest_8cpp_source.html#l00743">SynchronizedTest.cpp:743</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a693fa6c7a5a1ecc72fa0bcd834507a56a06f59281b6961a3238097b4dd6badba6"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a693fa6c7a5a1ecc72fa0bcd834507a56a06f59281b6961a3238097b4dd6badba6">folly::IOBuf::CREATE</a></div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00225">IOBuf.h:225</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ac4c405fd5fa405c8d814b4cc86309a34"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ac4c405fd5fa405c8d814b4cc86309a34">folly::IOBuf::computeChainDataLength</a></div><div class="ttdeci">std::size_t computeChainDataLength() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00501">IOBuf.cpp:501</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ad121c314bc97a30206e8b467eb609a27"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">folly::IOBuf::IOBuf</a></div><div class="ttdeci">IOBuf() noexcept</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00361">IOBuf.cpp:361</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a67b5d973e692729435433f8691b0c4dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt; folly::IOBuf::cloneCoalescedWithHeadroomTailroom </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>newHeadroom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>newTailroom</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is similar to the <a class="el" href="classfolly_1_1IOBuf.html#ad9fd70d5b177f1c7c6a5775ce770104c">cloneCoalesced()</a> method, except this allows to set a headroom and tailroom for the new <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a>. </p>

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00539">539</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8cpp_source.html#l00576">cloneCoalescedAsValueWithHeadroomTailroom()</a>.</p>
<div class="fragment"><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                                 {</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <span class="keywordflow">return</span> std::make_unique&lt;IOBuf&gt;(</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#a1900ac5a736d5faccc2c19a09ff80b30">cloneCoalescedAsValueWithHeadroomTailroom</a>(newHeadroom, newTailroom));</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOBuf_html_a1900ac5a736d5faccc2c19a09ff80b30"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a1900ac5a736d5faccc2c19a09ff80b30">folly::IOBuf::cloneCoalescedAsValueWithHeadroomTailroom</a></div><div class="ttdeci">IOBuf cloneCoalescedAsValueWithHeadroomTailroom(std::size_t newHeadroom, std::size_t newTailroom) const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00576">IOBuf.cpp:576</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a48016329ae7aa016cf1e7aef6cec0880"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::cloneInto </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Similar to Clone(). But use other as the head node. Other nodes in the chain (if any) will be allocted on heap. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l01213">1213</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>Referenced by <a class="el" href="IOBufBenchmark_8cpp_source.html#l00047">BENCHMARK()</a>.</p>
<div class="fragment"><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;                                     {</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    other = <a class="code" href="classfolly_1_1IOBuf.html#a48623d35d97ba5b30100eff4384b2a0e">cloneAsValue</a>();</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_a48623d35d97ba5b30100eff4384b2a0e"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a48623d35d97ba5b30100eff4384b2a0e">folly::IOBuf::cloneAsValue</a></div><div class="ttdeci">IOBuf cloneAsValue() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00546">IOBuf.cpp:546</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad6d5b57094e1e6a63a07598b8556bf46"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt; folly::IOBuf::cloneOne </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a new <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> with the same data as this <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a>.</p>
<p>The new <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> returned will not be part of a chain (even if this <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> is part of a larger chain). </p>

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00531">531</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8cpp_source.html#l00556">cloneOneAsValue()</a>.</p>

<p>Referenced by <a class="el" href="IOBufBenchmark_8cpp_source.html#l00022">BENCHMARK()</a>, <a class="el" href="ZlibServerFilterTest_8cpp_source.html#l00058">ZlibServerFilterTest::exercise_compression()</a>, <a class="el" href="HTTP1xCodec_8cpp_source.html#l01144">proxygen::HTTP1xCodec::onBody()</a>, <a class="el" href="HTTP1xCodec_8cpp_source.html#l00257">proxygen::HTTP1xCodec::onParserError()</a>, and <a class="el" href="IOBufTest_8cpp_source.html#l00315">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                                        {</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <span class="keywordflow">return</span> std::make_unique&lt;IOBuf&gt;(<a class="code" href="classfolly_1_1IOBuf.html#a2c147c147eea4d9d4ccb81da33e2bbc8">cloneOneAsValue</a>());</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOBuf_html_a2c147c147eea4d9d4ccb81da33e2bbc8"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a2c147c147eea4d9d4ccb81da33e2bbc8">folly::IOBuf::cloneOneAsValue</a></div><div class="ttdeci">IOBuf cloneOneAsValue() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00556">IOBuf.cpp:556</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2c147c147eea4d9d4ccb81da33e2bbc8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> folly::IOBuf::cloneOneAsValue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Similar to <a class="el" href="classfolly_1_1IOBuf.html#ad6d5b57094e1e6a63a07598b8556bf46">cloneOne()</a>. But returns <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> by value rather than heap-allocating it. </p>

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00556">556</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8h_source.html#l01433">buf_</a>, <a class="el" href="IOBuf_8h_source.html#l01435">capacity_</a>, <a class="el" href="IOBuf_8h_source.html#l01432">data_</a>, <a class="el" href="IOBuf_8h_source.html#l01438">flagsAndSharedInfo_</a>, <a class="el" href="deadlock_8py_source.html#l00447">deadlock::info()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00361">IOBuf()</a>, <a class="el" href="IOBuf_8h_source.html#l01343">kFlagMaybeShared</a>, <a class="el" href="IOBuf_8h_source.html#l01434">length_</a>, <a class="el" href="IOBuf_8h_source.html#l01464">setFlags()</a>, and <a class="el" href="IOBuf_8h_source.html#l01449">sharedInfo()</a>.</p>

<p>Referenced by <a class="el" href="IOBuf_8cpp_source.html#l00546">cloneAsValue()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00576">cloneCoalescedAsValueWithHeadroomTailroom()</a>, and <a class="el" href="IOBuf_8cpp_source.html#l00531">cloneOne()</a>.</p>
<div class="fragment"><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                                   {</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <span class="keywordflow">if</span> (SharedInfo* <a class="code" href="namespacedeadlock.html#a6cba8e3d51735d7ac2ac91a947f4984b">info</a> = <a class="code" href="classfolly_1_1IOBuf.html#a57b13c905b7a558f8372ccd2d824550d">sharedInfo</a>()) {</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#a9d9a97b49b81731b4ffffad4e4949720">setFlags</a>(<a class="code" href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43a6460c8cd33bfc6cbeead7b4beb752809">kFlagMaybeShared</a>);</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <a class="code" href="namespacedeadlock.html#a6cba8e3d51735d7ac2ac91a947f4984b">info</a>-&gt;refcount.fetch_add(1, std::memory_order_acq_rel);</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  }</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">IOBuf</a>(</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      InternalConstructor(),</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#a305fafb3b8f177828fa7a427f25407a5">flagsAndSharedInfo_</a>,</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#affce6ca9f1b795300095724fe907e50d">buf_</a>,</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#a4d25a5cf5084ebeb9d156217ec01f718">capacity_</a>,</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">data_</a>,</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">length_</a>);</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;}</div><div class="ttc" id="namespacedeadlock_html_a6cba8e3d51735d7ac2ac91a947f4984b"><div class="ttname"><a href="namespacedeadlock.html#a6cba8e3d51735d7ac2ac91a947f4984b">deadlock.info</a></div><div class="ttdeci">def info()</div><div class="ttdef"><b>Definition:</b> <a href="deadlock_8py_source.html#l00447">deadlock.py:447</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a7a03b1d1337e3da57675a94b29a84ac9"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">folly::IOBuf::data_</a></div><div class="ttdeci">uint8_t * data_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01432">IOBuf.h:1432</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_affce6ca9f1b795300095724fe907e50d"><div class="ttname"><a href="classfolly_1_1IOBuf.html#affce6ca9f1b795300095724fe907e50d">folly::IOBuf::buf_</a></div><div class="ttdeci">uint8_t * buf_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01433">IOBuf.h:1433</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a564daf68834ce4e7523f329e1c6df23f"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">folly::IOBuf::length_</a></div><div class="ttdeci">std::size_t length_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01434">IOBuf.h:1434</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a57b13c905b7a558f8372ccd2d824550d"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a57b13c905b7a558f8372ccd2d824550d">folly::IOBuf::sharedInfo</a></div><div class="ttdeci">SharedInfo * sharedInfo() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01449">IOBuf.h:1449</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a4d25a5cf5084ebeb9d156217ec01f718"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a4d25a5cf5084ebeb9d156217ec01f718">folly::IOBuf::capacity_</a></div><div class="ttdeci">std::size_t capacity_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01435">IOBuf.h:1435</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a305fafb3b8f177828fa7a427f25407a5"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a305fafb3b8f177828fa7a427f25407a5">folly::IOBuf::flagsAndSharedInfo_</a></div><div class="ttdeci">uintptr_t flagsAndSharedInfo_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01438">IOBuf.h:1438</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a9d9a97b49b81731b4ffffad4e4949720"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a9d9a97b49b81731b4ffffad4e4949720">folly::IOBuf::setFlags</a></div><div class="ttdeci">void setFlags(uintptr_t flags) const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01464">IOBuf.h:1464</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a291e8582a1769680d882f3e327a37b43a6460c8cd33bfc6cbeead7b4beb752809"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43a6460c8cd33bfc6cbeead7b4beb752809">folly::IOBuf::kFlagMaybeShared</a></div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01343">IOBuf.h:1343</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ad121c314bc97a30206e8b467eb609a27"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">folly::IOBuf::IOBuf</a></div><div class="ttdeci">IOBuf() noexcept</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00361">IOBuf.cpp:361</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9b0d1e66d3ecf80426632e0d26ae1508"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::cloneOneInto </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Similar to CloneOne(). But to fill an existing <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> instead of a new <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a>. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l01221">1221</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>References <a class="el" href="ForeachTest_8cpp_source.html#l00056">folly::test::begin()</a>, <a class="el" href="Padded_8h_source.html#l00319">folly::padded::cbegin()</a>, <a class="el" href="Padded_8h_source.html#l00324">folly::padded::cend()</a>, <a class="el" href="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock__stress__test_8cc_source.html#l00176">count</a>, <a class="el" href="ForeachTest_8cpp_source.html#l00062">folly::test::end()</a>, <a class="el" href="extension__points_8h_source.html#l00040">folly::pushmi::__adl::noexcept()</a>, <a class="el" href="StaticSingletonManager_8cpp_source.html#l00038">ptr</a>, and <a class="el" href="Access_8h_source.html#l00045">folly::size()</a>.</p>

<p>Referenced by <a class="el" href="IOBufBenchmark_8cpp_source.html#l00030">BENCHMARK()</a>.</p>
<div class="fragment"><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;                                        {</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    other = <a class="code" href="classfolly_1_1IOBuf.html#a2c147c147eea4d9d4ccb81da33e2bbc8">cloneOneAsValue</a>();</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_a2c147c147eea4d9d4ccb81da33e2bbc8"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a2c147c147eea4d9d4ccb81da33e2bbc8">folly::IOBuf::cloneOneAsValue</a></div><div class="ttdeci">IOBuf cloneOneAsValue() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00556">IOBuf.cpp:556</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a14e1b052db29b117a9a91374a5fd1f56"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacefolly.html#a7f61a634c75bc3bb46447ec2b17ff0fe">ByteRange</a> folly::IOBuf::coalesce </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Coalesce this <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> chain into a single buffer.</p>
<p>This method moves all of the data in this <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> chain into a single contiguous buffer, if it is not already in one buffer. After <a class="el" href="classfolly_1_1IOBuf.html#a14e1b052db29b117a9a91374a5fd1f56">coalesce()</a> returns, this <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> will be a chain of length one. Other IOBufs in the chain will be automatically deleted.</p>
<p>After coalescing, the <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> will have at least as much headroom as the first <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> in the chain, and at least as much tailroom as the last <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> in the chain.</p>
<p>Throws std::bad_alloc on error. On error the <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> chain will be unmodified.</p>
<p>Returns ByteRange that points to the data <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> stores. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l01095">1095</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>Referenced by <a class="el" href="IOBufBenchmark_8cpp_source.html#l00073">BENCHMARK()</a>, <a class="el" href="Compression_8cpp_source.html#l00494">folly::io::StreamCodec::doUncompress()</a>, <a class="el" href="EncryptedRecordLayer_8cpp_source.html#l00025">fizz::EncryptedReadRecordLayer::getDecryptedBuf()</a>, <a class="el" href="SSLSessionCacheManager_8cpp_source.html#l00440">wangle::SSLSessionCacheManager::onGetSuccess()</a>, <a class="el" href="utils_2Logging_8cpp_source.html#l00103">proxygen::IOBufPrinter::printChain()</a>, <a class="el" href="StringCodec_8h_source.html#l00033">wangle::StringCodec::read()</a>, <a class="el" href="HTTPUpstreamSessionTest_8cpp_source.html#l00270">HTTPUpstreamTest&lt; SPDY3CodecPair &gt;::readAndLoop()</a>, <a class="el" href="HTTPUpstreamSessionTest_8cpp_source.html#l00407">TEST_F()</a>, <a class="el" href="AsyncUDPSocket_8cpp_source.html#l00234">folly::AsyncUDPSocket::writeGSO()</a>, and <a class="el" href="AsyncUDPSocketTest_8cpp_source.html#l00295">ConnectedWriteUDPClient::writePing()</a>.</p>
<div class="fragment"><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;                       {</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <span class="keyword">const</span> std::size_t newHeadroom = <a class="code" href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">headroom</a>();</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <span class="keyword">const</span> std::size_t newTailroom = <a class="code" href="classfolly_1_1IOBuf.html#aa6e1ec3d0ba26ba438b302f45a01e17a">prev</a>()-&gt;<a class="code" href="classfolly_1_1IOBuf.html#a9e37facbd98e407388559c4dd572eb6c">tailroom</a>();</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1IOBuf.html#ae9b4fcbef14954fa7fc7a9cca84fcd10">coalesceWithHeadroomTailroom</a>(newHeadroom, newTailroom);</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_a9e37facbd98e407388559c4dd572eb6c"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a9e37facbd98e407388559c4dd572eb6c">folly::IOBuf::tailroom</a></div><div class="ttdeci">std::size_t tailroom() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00551">IOBuf.h:551</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a6e7ab795221f3359c2d919b3035374c3"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">folly::IOBuf::headroom</a></div><div class="ttdeci">std::size_t headroom() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00542">IOBuf.h:542</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_aa6e1ec3d0ba26ba438b302f45a01e17a"><div class="ttname"><a href="classfolly_1_1IOBuf.html#aa6e1ec3d0ba26ba438b302f45a01e17a">folly::IOBuf::prev</a></div><div class="ttdeci">IOBuf * prev()</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00610">IOBuf.h:610</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ae9b4fcbef14954fa7fc7a9cca84fcd10"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ae9b4fcbef14954fa7fc7a9cca84fcd10">folly::IOBuf::coalesceWithHeadroomTailroom</a></div><div class="ttdeci">ByteRange coalesceWithHeadroomTailroom(std::size_t newHeadroom, std::size_t newTailroom)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01107">IOBuf.h:1107</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa7a5c129101e6b0a527a8ddd31171a82"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::coalesceAndReallocate </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>newHeadroom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>newLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> *&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>newTailroom</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00722">722</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8cpp_source.html#l00927">allocExtBuffer()</a>, <a class="el" href="IOBuf_8h_source.html#l01433">buf_</a>, <a class="el" href="IOBuf_8h_source.html#l01435">capacity_</a>, <a class="el" href="SynchronizedTest_8cpp_source.html#l00743">current</a>, <a class="el" href="IOBuf_8h_source.html#l01432">data_</a>, <a class="el" href="IOBuf_8cpp_source.html#l00773">decrementRefcount()</a>, <a class="el" href="IOBuf_8h_source.html#l00760">isChained()</a>, <a class="el" href="IOBuf_8h_source.html#l01434">length_</a>, <a class="el" href="IOBuf_8h_source.html#l01423">next_</a>, <a class="el" href="IOBuf_8h_source.html#l01424">prev_</a>, <a class="el" href="IOBuf_8h_source.html#l00883">separateChain()</a>, <a class="el" href="IOBuf_8h_source.html#l01474">setFlagsAndSharedInfo()</a>, and <a class="el" href="ConstexprMathBenchmark_8cpp_source.html#l00178">uint8_t</a>.</p>

<p>Referenced by <a class="el" href="IOBuf_8cpp_source.html#l00677">coalesceSlow()</a>, and <a class="el" href="IOBuf_8cpp_source.html#l00968">moveToFbString()</a>.</p>
<div class="fragment"><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                        {</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  std::size_t newCapacity = newLength + newHeadroom + newTailroom;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  <span class="comment">// Allocate space for the coalesced buffer.</span></div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  <span class="comment">// We always convert to an external buffer, even if we happened to be an</span></div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  <span class="comment">// internal buffer before.</span></div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  <a class="code" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>* newBuf;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;  SharedInfo* newInfo;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  std::size_t actualCapacity;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#a9d4a256b287eea869eafcff2e04dd749">allocExtBuffer</a>(newCapacity, &amp;newBuf, &amp;newInfo, &amp;actualCapacity);</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  <span class="comment">// Copy the data into the new buffer</span></div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;  <a class="code" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>* newData = newBuf + newHeadroom;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  <a class="code" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>* p = newData;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">IOBuf</a>* <a class="code" href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a> = <span class="keyword">this</span>;</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  <span class="keywordtype">size_t</span> remaining = newLength;</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  <span class="keywordflow">do</span> {</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <span class="keywordflow">if</span> (current-&gt;length_ &gt; 0) {</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;      assert(current-&gt;length_ &lt;= remaining);</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;      assert(current-&gt;data_ != <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;      remaining -= current-&gt;length_;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;      memcpy(p, current-&gt;data_, current-&gt;length_);</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;      p += current-&gt;length_;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    }</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    current = current-&gt;next_;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  } <span class="keywordflow">while</span> (current != <a class="code" href="classfolly_1_1IOBuf.html#ac90007f78b7bbb5105395f439196d1ae">end</a>);</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  assert(remaining == 0);</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  <span class="comment">// Point at the new buffer</span></div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#a6a46b4df6fe3907e84b44c6235209f5a">decrementRefcount</a>();</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  <span class="comment">// Make sure kFlagMaybeShared and kFlagFreeSharedInfo are all cleared.</span></div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#a4000fa74a4b2782c605ef251ccb0cd08">setFlagsAndSharedInfo</a>(0, newInfo);</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#a4d25a5cf5084ebeb9d156217ec01f718">capacity_</a> = actualCapacity;</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#affce6ca9f1b795300095724fe907e50d">buf_</a> = newBuf;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">data_</a> = newData;</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">length_</a> = newLength;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  <span class="comment">// Separate from the rest of our chain.</span></div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  <span class="comment">// Since we don&#39;t store the unique_ptr returned by separateChain(),</span></div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  <span class="comment">// this will immediately delete the returned subchain.</span></div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1IOBuf.html#a5b6f1bccec27ec05ad6b6906980589ea">isChained</a>()) {</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    (void)<a class="code" href="classfolly_1_1IOBuf.html#a8c57cd2cdbac9c41601501fa0572ccb4">separateChain</a>(<a class="code" href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">next_</a>, current-&gt;<a class="code" href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">prev_</a>);</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  }</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOBuf_html_a9d4a256b287eea869eafcff2e04dd749"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a9d4a256b287eea869eafcff2e04dd749">folly::IOBuf::allocExtBuffer</a></div><div class="ttdeci">static void allocExtBuffer(std::size_t minCapacity, uint8_t **bufReturn, SharedInfo **infoReturn, std::size_t *capacityReturn)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00927">IOBuf.cpp:927</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ac90007f78b7bbb5105395f439196d1ae"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ac90007f78b7bbb5105395f439196d1ae">folly::IOBuf::end</a></div><div class="ttdeci">Iterator end() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01687">IOBuf.h:1687</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a038b1d38b9814d8e2f571bc94d3cf0dc"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">folly::IOBuf::next_</a></div><div class="ttdeci">IOBuf * next_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01423">IOBuf.h:1423</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a5b6f1bccec27ec05ad6b6906980589ea"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a5b6f1bccec27ec05ad6b6906980589ea">folly::IOBuf::isChained</a></div><div class="ttdeci">bool isChained() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00760">IOBuf.h:760</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a93ce4461ec7eba82b74038f887c3f957"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">folly::IOBuf::prev_</a></div><div class="ttdeci">IOBuf * prev_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01424">IOBuf.h:1424</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a8c57cd2cdbac9c41601501fa0572ccb4"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a8c57cd2cdbac9c41601501fa0572ccb4">folly::IOBuf::separateChain</a></div><div class="ttdeci">std::unique_ptr&lt; IOBuf &gt; separateChain(IOBuf *head, IOBuf *tail)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00883">IOBuf.h:883</a></div></div>
<div class="ttc" id="SynchronizedTest_8cpp_html_ab04e2d55ea4a544f3575812582af7b51"><div class="ttname"><a href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a></div><div class="ttdeci">int current</div><div class="ttdef"><b>Definition:</b> <a href="SynchronizedTest_8cpp_source.html#l00743">SynchronizedTest.cpp:743</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a7a03b1d1337e3da57675a94b29a84ac9"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">folly::IOBuf::data_</a></div><div class="ttdeci">uint8_t * data_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01432">IOBuf.h:1432</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_affce6ca9f1b795300095724fe907e50d"><div class="ttname"><a href="classfolly_1_1IOBuf.html#affce6ca9f1b795300095724fe907e50d">folly::IOBuf::buf_</a></div><div class="ttdeci">uint8_t * buf_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01433">IOBuf.h:1433</a></div></div>
<div class="ttc" id="ConstexprMathBenchmark_8cpp_html_ae1affc9ca37cfb624959c866a73f83c2"><div class="ttname"><a href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a></div><div class="ttdeci">uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="ConstexprMathBenchmark_8cpp_source.html#l00178">ConstexprMathBenchmark.cpp:178</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a564daf68834ce4e7523f329e1c6df23f"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">folly::IOBuf::length_</a></div><div class="ttdeci">std::size_t length_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01434">IOBuf.h:1434</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a4d25a5cf5084ebeb9d156217ec01f718"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a4d25a5cf5084ebeb9d156217ec01f718">folly::IOBuf::capacity_</a></div><div class="ttdeci">std::size_t capacity_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01435">IOBuf.h:1435</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a4000fa74a4b2782c605ef251ccb0cd08"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a4000fa74a4b2782c605ef251ccb0cd08">folly::IOBuf::setFlagsAndSharedInfo</a></div><div class="ttdeci">void setFlagsAndSharedInfo(uintptr_t flags, SharedInfo *info)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01474">IOBuf.h:1474</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a6a46b4df6fe3907e84b44c6235209f5a"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a6a46b4df6fe3907e84b44c6235209f5a">folly::IOBuf::decrementRefcount</a></div><div class="ttdeci">void decrementRefcount()</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00773">IOBuf.cpp:773</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ad121c314bc97a30206e8b467eb609a27"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">folly::IOBuf::IOBuf</a></div><div class="ttdeci">IOBuf() noexcept</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00361">IOBuf.cpp:361</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad4880e0b4c810b22e73fafe2ffe46263"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::coalesceAndReallocate </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>newLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> *&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l01391">1391</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>References <a class="el" href="IOBuf_8h_source.html#l01424">prev_</a>, <a class="el" href="IOBuf_8h_source.html#l00551">tailroom()</a>, <a class="el" href="ConstexprMathBenchmark_8cpp_source.html#l00182">uint16_t</a>, and <a class="el" href="ConstexprMathBenchmark_8cpp_source.html#l00178">uint8_t</a>.</p>
<div class="fragment"><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;                                                           {</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#aa7a5c129101e6b0a527a8ddd31171a82">coalesceAndReallocate</a>(<a class="code" href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">headroom</a>(), newLength, <a class="code" href="classfolly_1_1IOBuf.html#ac90007f78b7bbb5105395f439196d1ae">end</a>, <a class="code" href="classfolly_1_1IOBuf.html#ac90007f78b7bbb5105395f439196d1ae">end</a>-&gt;prev_-&gt;tailroom());</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_ac90007f78b7bbb5105395f439196d1ae"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ac90007f78b7bbb5105395f439196d1ae">folly::IOBuf::end</a></div><div class="ttdeci">Iterator end() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01687">IOBuf.h:1687</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_aa7a5c129101e6b0a527a8ddd31171a82"><div class="ttname"><a href="classfolly_1_1IOBuf.html#aa7a5c129101e6b0a527a8ddd31171a82">folly::IOBuf::coalesceAndReallocate</a></div><div class="ttdeci">void coalesceAndReallocate(size_t newHeadroom, size_t newLength, IOBuf *end, size_t newTailroom)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00722">IOBuf.cpp:722</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a6e7ab795221f3359c2d919b3035374c3"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">folly::IOBuf::headroom</a></div><div class="ttdeci">std::size_t headroom() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00542">IOBuf.h:542</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afc90b078da733a7fc981b9dae10f6d6b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::coalesceSlow </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00677">677</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8cpp_source.html#l00722">coalesceAndReallocate()</a>, <a class="el" href="IOBuf_8h_source.html#l01687">end()</a>, <a class="el" href="IOBuf_8h_source.html#l00760">isChained()</a>, <a class="el" href="IOBuf_8h_source.html#l01434">length_</a>, and <a class="el" href="IOBuf_8h_source.html#l01423">next_</a>.</p>

<p>Referenced by <a class="el" href="IOBuf_8cpp_source.html#l00632">unshareChained()</a>.</p>
<div class="fragment"><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                         {</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  <span class="comment">// coalesceSlow() should only be called if we are part of a chain of multiple</span></div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  <span class="comment">// IOBufs.  The caller should have already verified this.</span></div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  DCHECK(<a class="code" href="classfolly_1_1IOBuf.html#a5b6f1bccec27ec05ad6b6906980589ea">isChained</a>());</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  <span class="comment">// Compute the length of the entire chain</span></div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  std::size_t newLength = 0;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">IOBuf</a>* <a class="code" href="classfolly_1_1IOBuf.html#ac90007f78b7bbb5105395f439196d1ae">end</a> = <span class="keyword">this</span>;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  <span class="keywordflow">do</span> {</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    newLength += end-&gt;length_;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    end = end-&gt;next_;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  } <span class="keywordflow">while</span> (end != <span class="keyword">this</span>);</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#aa7a5c129101e6b0a527a8ddd31171a82">coalesceAndReallocate</a>(newLength, end);</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  <span class="comment">// We should be only element left in the chain now</span></div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  DCHECK(!<a class="code" href="classfolly_1_1IOBuf.html#a5b6f1bccec27ec05ad6b6906980589ea">isChained</a>());</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOBuf_html_ac90007f78b7bbb5105395f439196d1ae"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ac90007f78b7bbb5105395f439196d1ae">folly::IOBuf::end</a></div><div class="ttdeci">Iterator end() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01687">IOBuf.h:1687</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a5b6f1bccec27ec05ad6b6906980589ea"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a5b6f1bccec27ec05ad6b6906980589ea">folly::IOBuf::isChained</a></div><div class="ttdeci">bool isChained() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00760">IOBuf.h:760</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_aa7a5c129101e6b0a527a8ddd31171a82"><div class="ttname"><a href="classfolly_1_1IOBuf.html#aa7a5c129101e6b0a527a8ddd31171a82">folly::IOBuf::coalesceAndReallocate</a></div><div class="ttdeci">void coalesceAndReallocate(size_t newHeadroom, size_t newLength, IOBuf *end, size_t newTailroom)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00722">IOBuf.cpp:722</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ad121c314bc97a30206e8b467eb609a27"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">folly::IOBuf::IOBuf</a></div><div class="ttdeci">IOBuf() noexcept</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00361">IOBuf.cpp:361</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a58655df9bec829b0434ecbe9dcb4c485"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::coalesceSlow </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>maxLength</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00695">695</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8cpp_source.html#l00722">coalesceAndReallocate()</a>, <a class="el" href="IOBuf_8h_source.html#l01687">end()</a>, <a class="el" href="IOBuf_8h_source.html#l00760">isChained()</a>, <a class="el" href="IOBuf_8h_source.html#l01434">length_</a>, and <a class="el" href="IOBuf_8h_source.html#l01423">next_</a>.</p>
<div class="fragment"><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                                         {</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  <span class="comment">// coalesceSlow() should only be called if we are part of a chain of multiple</span></div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  <span class="comment">// IOBufs.  The caller should have already verified this.</span></div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  DCHECK(<a class="code" href="classfolly_1_1IOBuf.html#a5b6f1bccec27ec05ad6b6906980589ea">isChained</a>());</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  DCHECK_LT(<a class="code" href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">length_</a>, maxLength);</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  <span class="comment">// Compute the length of the entire chain</span></div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  std::size_t newLength = 0;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">IOBuf</a>* <a class="code" href="classfolly_1_1IOBuf.html#ac90007f78b7bbb5105395f439196d1ae">end</a> = <span class="keyword">this</span>;</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    newLength += end-&gt;length_;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    end = end-&gt;next_;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <span class="keywordflow">if</span> (newLength &gt;= maxLength) {</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    }</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <span class="keywordflow">if</span> (end == <span class="keyword">this</span>) {</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;      <span class="keywordflow">throw</span> std::overflow_error(</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;          <span class="stringliteral">&quot;attempted to coalesce more data than &quot;</span></div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;          <span class="stringliteral">&quot;available&quot;</span>);</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    }</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  }</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#aa7a5c129101e6b0a527a8ddd31171a82">coalesceAndReallocate</a>(newLength, end);</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <span class="comment">// We should have the requested length now</span></div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  DCHECK_GE(<a class="code" href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">length_</a>, maxLength);</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOBuf_html_ac90007f78b7bbb5105395f439196d1ae"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ac90007f78b7bbb5105395f439196d1ae">folly::IOBuf::end</a></div><div class="ttdeci">Iterator end() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01687">IOBuf.h:1687</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a5b6f1bccec27ec05ad6b6906980589ea"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a5b6f1bccec27ec05ad6b6906980589ea">folly::IOBuf::isChained</a></div><div class="ttdeci">bool isChained() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00760">IOBuf.h:760</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_aa7a5c129101e6b0a527a8ddd31171a82"><div class="ttname"><a href="classfolly_1_1IOBuf.html#aa7a5c129101e6b0a527a8ddd31171a82">folly::IOBuf::coalesceAndReallocate</a></div><div class="ttdeci">void coalesceAndReallocate(size_t newHeadroom, size_t newLength, IOBuf *end, size_t newTailroom)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00722">IOBuf.cpp:722</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a564daf68834ce4e7523f329e1c6df23f"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">folly::IOBuf::length_</a></div><div class="ttdeci">std::size_t length_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01434">IOBuf.h:1434</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ad121c314bc97a30206e8b467eb609a27"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">folly::IOBuf::IOBuf</a></div><div class="ttdeci">IOBuf() noexcept</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00361">IOBuf.cpp:361</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae9b4fcbef14954fa7fc7a9cca84fcd10"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacefolly.html#a7f61a634c75bc3bb46447ec2b17ff0fe">ByteRange</a> folly::IOBuf::coalesceWithHeadroomTailroom </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>newHeadroom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>newTailroom</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This is similar to the <a class="el" href="classfolly_1_1IOBuf.html#a14e1b052db29b117a9a91374a5fd1f56">coalesce()</a> method, except this allows to set a headroom and tailroom after coalescing.</p>
<p>Returns ByteRange that points to the data <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> stores. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l01107">1107</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>References <a class="el" href="FileUtilTest_8cpp_source.html#l00066">data_</a>, and <a class="el" href="JSONSchema_8cpp_source.html#l00233">length_</a>.</p>
<div class="fragment"><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;                             {</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1IOBuf.html#a5b6f1bccec27ec05ad6b6906980589ea">isChained</a>()) {</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#aa7a5c129101e6b0a527a8ddd31171a82">coalesceAndReallocate</a>(</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;          newHeadroom, <a class="code" href="classfolly_1_1IOBuf.html#ac4c405fd5fa405c8d814b4cc86309a34">computeChainDataLength</a>(), <span class="keyword">this</span>, newTailroom);</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    }</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacefolly.html#a7f61a634c75bc3bb46447ec2b17ff0fe">ByteRange</a>(<a class="code" href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">data_</a>, <a class="code" href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">length_</a>);</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_a5b6f1bccec27ec05ad6b6906980589ea"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a5b6f1bccec27ec05ad6b6906980589ea">folly::IOBuf::isChained</a></div><div class="ttdeci">bool isChained() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00760">IOBuf.h:760</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_aa7a5c129101e6b0a527a8ddd31171a82"><div class="ttname"><a href="classfolly_1_1IOBuf.html#aa7a5c129101e6b0a527a8ddd31171a82">folly::IOBuf::coalesceAndReallocate</a></div><div class="ttdeci">void coalesceAndReallocate(size_t newHeadroom, size_t newLength, IOBuf *end, size_t newTailroom)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00722">IOBuf.cpp:722</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a7a03b1d1337e3da57675a94b29a84ac9"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">folly::IOBuf::data_</a></div><div class="ttdeci">uint8_t * data_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01432">IOBuf.h:1432</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a564daf68834ce4e7523f329e1c6df23f"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">folly::IOBuf::length_</a></div><div class="ttdeci">std::size_t length_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01434">IOBuf.h:1434</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ac4c405fd5fa405c8d814b4cc86309a34"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ac4c405fd5fa405c8d814b4cc86309a34">folly::IOBuf::computeChainDataLength</a></div><div class="ttdeci">std::size_t computeChainDataLength() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00501">IOBuf.cpp:501</a></div></div>
<div class="ttc" id="namespacefolly_html_a7f61a634c75bc3bb46447ec2b17ff0fe"><div class="ttname"><a href="namespacefolly.html#a7f61a634c75bc3bb46447ec2b17ff0fe">folly::ByteRange</a></div><div class="ttdeci">Range&lt; const unsigned char * &gt; ByteRange</div><div class="ttdef"><b>Definition:</b> <a href="Range_8h_source.html#l01163">Range.h:1163</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac4c405fd5fa405c8d814b4cc86309a34"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t folly::IOBuf::computeChainDataLength </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the length of all the data in this <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> chain.</p>
<p>Beware that this method has to walk the entire chain. </p>

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00501">501</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="SynchronizedTest_8cpp_source.html#l00743">current</a>, <a class="el" href="IOBuf_8h_source.html#l01434">length_</a>, and <a class="el" href="IOBuf_8h_source.html#l01423">next_</a>.</p>

<p>Referenced by <a class="el" href="IOBufTest_8cpp_source.html#l00907">MoveToFbStringTest::check()</a>, <a class="el" href="QPACKContextTests_8cpp_source.html#l00417">checkQError()</a>, <a class="el" href="fizz_2fizz_2crypto_2aead_2test_2TestUtil_8cpp_source.html#l00031">fizz::test::chunkIOBuf()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00576">cloneCoalescedAsValueWithHeadroomTailroom()</a>, <a class="el" href="Compression_8cpp_source.html#l00143">folly::io::Codec::compress()</a>, <a class="el" href="SecondaryAuthManager_8cpp_source.html#l00027">proxygen::SecondaryAuthManager::createAuthRequest()</a>, <a class="el" href="QMINScheme_8h_source.html#l00338">proxygen::compress::QMINScheme::decode()</a>, <a class="el" href="AsyncFizzBase_8cpp_source.html#l00100">fizz::AsyncFizzBase::deliverAppData()</a>, <a class="el" href="HTTPUpstreamSessionTest_8cpp_source.html#l02172">TestAbortPost&lt; stage &gt;::doAbortTest()</a>, <a class="el" href="Compression_8cpp_source.html#l00444">folly::io::StreamCodec::doCompress()</a>, <a class="el" href="Compression_8cpp_source.html#l00494">folly::io::StreamCodec::doUncompress()</a>, <a class="el" href="HTTP1xCodec_8cpp_source.html#l00657">proxygen::HTTP1xCodec::generateBody()</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l00765">proxygen::SPDYCodec::generateBody()</a>, <a class="el" href="FlowControlFilter_8cpp_source.html#l00145">proxygen::FlowControlFilter::generateBody()</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l00724">proxygen::SPDYCodec::generateSynReply()</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l00665">proxygen::SPDYCodec::generateSynStream()</a>, <a class="el" href="HTTPSession_8cpp_source.html#l00185">proxygen::HTTPSession::getCertAuthSettingVal()</a>, <a class="el" href="Compression_8cpp_source.html#l00295">folly::io::Codec::getUncompressedLength()</a>, <a class="el" href="Cursor_8h_source.html#l00895">folly::io::RWCursor&lt; access &gt;::insert()</a>, <a class="el" href="HPACKCodecTests_8cpp_source.html#l00031">isLowercase()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00968">moveToFbString()</a>, <a class="el" href="HTTP1xCodecTest_8cpp_source.html#l00037">HTTP1xCodecCallback::onBody()</a>, <a class="el" href="FlowControlFilter_8cpp_source.html#l00096">proxygen::FlowControlFilter::onBody()</a>, <a class="el" href="lib_2http_2codec_2test_2TestUtils_8h_source.html#l00134">proxygen::FakeHTTPCodecCallback::onBody()</a>, <a class="el" href="HTTPSession_8cpp_source.html#l00970">proxygen::HTTPSession::onBody()</a>, <a class="el" href="HTTPDirectResponseHandler_8cpp_source.html#l00046">proxygen::HTTPDirectResponseHandler::onHeadersComplete()</a>, <a class="el" href="HTTP1xCodec_8cpp_source.html#l00177">proxygen::HTTP1xCodec::onIngress()</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l00234">proxygen::SPDYCodec::onIngress()</a>, <a class="el" href="HTTPTransaction_8cpp_source.html#l00217">proxygen::HTTPTransaction::onIngressBody()</a>, <a class="el" href="MockCodecDownstreamTest_8cpp_source.html#l00167">MockCodecDownstreamTest::onIngressImpl()</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l00246">proxygen::SPDYCodec::parseIngress()</a>, <a class="el" href="LocalTransport_8h_source.html#l00036">fizz::test::LocalTransport::receiveData()</a>, <a class="el" href="HPACKCodec_8cpp_source.html#l00056">proxygen::HPACKCodec::recordCompressedSize()</a>, <a class="el" href="HTTPTransaction_8cpp_source.html#l01084">proxygen::HTTPTransaction::resumeIngress()</a>, <a class="el" href="HTTPSession_8cpp_source.html#l02137">proxygen::HTTPSession::runLoopCallback()</a>, <a class="el" href="HTTPTransaction_8cpp_source.html#l00784">proxygen::HTTPTransaction::sendBody()</a>, <a class="el" href="IOBufCursorTest_8cpp_source.html#l00194">TEST()</a>, <a class="el" href="OpenSSLHashTest_8cpp_source.html#l00031">TEST_F()</a>, <a class="el" href="EncryptedRecordTest_8cpp_source.html#l00379">fizz::test::TEST_F()</a>, <a class="el" href="CompressionTest_8cpp_source.html#l01096">folly::io::test::TEST_P()</a>, <a class="el" href="Compression_8cpp_source.html#l00180">folly::io::Codec::uncompress()</a>, <a class="el" href="HTTPSession_8cpp_source.html#l00211">proxygen::HTTPSession::verifyCertAuthSetting()</a>, <a class="el" href="LengthFieldPrepender_8cpp_source.html#l00040">wangle::LengthFieldPrepender::write()</a>, <a class="el" href="HTTP2Framer_8cpp_source.html#l00936">proxygen::http2::writeCertificate()</a>, and <a class="el" href="HTTP2Framer_8cpp_source.html#l00915">proxygen::http2::writeCertificateRequest()</a>.</p>
<div class="fragment"><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                                              {</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  std::size_t fullLength = <a class="code" href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">length_</a>;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">IOBuf</a>* <a class="code" href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a> = <a class="code" href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">next_</a>; <a class="code" href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a> != <span class="keyword">this</span>; <a class="code" href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a> = <a class="code" href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a>-&gt;next_) {</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    fullLength += <a class="code" href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a>-&gt;length_;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  }</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <span class="keywordflow">return</span> fullLength;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOBuf_html_a038b1d38b9814d8e2f571bc94d3cf0dc"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">folly::IOBuf::next_</a></div><div class="ttdeci">IOBuf * next_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01423">IOBuf.h:1423</a></div></div>
<div class="ttc" id="SynchronizedTest_8cpp_html_ab04e2d55ea4a544f3575812582af7b51"><div class="ttname"><a href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a></div><div class="ttdeci">int current</div><div class="ttdef"><b>Definition:</b> <a href="SynchronizedTest_8cpp_source.html#l00743">SynchronizedTest.cpp:743</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a564daf68834ce4e7523f329e1c6df23f"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">folly::IOBuf::length_</a></div><div class="ttdeci">std::size_t length_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01434">IOBuf.h:1434</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ad121c314bc97a30206e8b467eb609a27"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">folly::IOBuf::IOBuf</a></div><div class="ttdeci">IOBuf() noexcept</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00361">IOBuf.cpp:361</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa1c4b32cfaa7c96d591d8ad5f5f7b959"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt; folly::IOBuf::copyBuffer </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>headroom</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>minTailroom</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Convenience function to create a new <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> object that copies data from a user-supplied buffer, optionally allocating a given amount of headroom and tailroom. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l01587">1587</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>References <a class="el" href="Fingerprint_8cpp_source.html#l00043">data</a>, and <a class="el" href="Access_8h_source.html#l00045">folly::size()</a>.</p>

<p>Referenced by <a class="el" href="TestMessages_8h_source.html#l00070">fizz::test::TestMessages::addPsk()</a>, <a class="el" href="TestMessages_8h_source.html#l00212">fizz::test::TestMessages::appData()</a>, <a class="el" href="TicketCodec_8cpp_source.html#l00026">fizz::server::appendClientCertificate()</a>, <a class="el" href="FizzBaseTest_8cpp_source.html#l00030">fizz::test::appWrite()</a>, <a class="el" href="TestMessages_8h_source.html#l00217">fizz::test::TestMessages::appWrite()</a>, <a class="el" href="TestMessages_8h_source.html#l00158">fizz::test::TestMessages::certificate()</a>, <a class="el" href="TestMessages_8h_source.html#l00183">fizz::test::TestMessages::certificateRequest()</a>, <a class="el" href="TestMessages_8h_source.html#l00175">fizz::test::TestMessages::certificateVerify()</a>, <a class="el" href="TestMessages_8h_source.html#l00026">fizz::test::TestMessages::clientHello()</a>, <a class="el" href="AsyncSSLSocket_8cpp_source.html#l01807">folly::AsyncSSLSocket::clientHelloParsingCallback()</a>, <a class="el" href="HandshakeTest_8cpp_source.html#l00253">fizz::test::HandshakeTest::clientWrite()</a>, <a class="el" href="AsyncFizzClientTest_8cpp_source.html#l00145">fizz::client::test::AsyncFizzClientTest::completeEarlyHandshake()</a>, <a class="el" href="TestMessages_8h_source.html#l00165">fizz::test::TestMessages::compressedCertificate()</a>, <a class="el" href="OpenSSLEVPCipherTest_8cpp_source.html#l00069">fizz::test::copyBuffer()</a>, <a class="el" href="ZlibServerFilterTest_8cpp_source.html#l00193">ZlibServerFilterTest::createResponseChain()</a>, <a class="el" href="ExportedAuthenticator_8cpp_source.html#l00238">fizz::detail::decodeAuthRequest()</a>, <a class="el" href="HandshakeTypesTest_8cpp_source.html#l00092">fizz::test::HandshakeTypesTest::decodeHex()</a>, <a class="el" href="ZlibCertificateCompressorTest_8cpp_source.html#l00198">fizz::test::ZlibCertificateCompressorTest::decodeHex()</a>, <a class="el" href="KeyDerivation-inl_8h_source.html#l00036">fizz::KeyDerivationImpl&lt; Hash &gt;::deriveSecret()</a>, <a class="el" href="ClientProtocolTest_8cpp_source.html#l02591">fizz::client::test::ClientProtocolTest::doFinishedFlow()</a>, <a class="el" href="TestMessages_8h_source.html#l00223">fizz::test::TestMessages::earlyAppWrite()</a>, <a class="el" href="ObservingHandlerTest_8cpp_source.html#l00028">ObservingHandlerTest::MockIntToByteEncoder::encode()</a>, <a class="el" href="TicketCodec-inl_8h_source.html#l00016">fizz::server::TicketCodec&lt; Storage &gt;::encode()</a>, <a class="el" href="BroadcastProxy_8cpp_source.html#l00091">StringToByteEncoder::encode()</a>, <a class="el" href="QMINScheme_8h_source.html#l00243">proxygen::compress::QMINScheme::encode()</a>, <a class="el" href="Types-inl_8h_source.html#l00488">fizz::encodeHkdfLabel()</a>, <a class="el" href="TestMessages_8h_source.html#l00141">fizz::test::TestMessages::encryptedExt()</a>, <a class="el" href="TestMessages_8h_source.html#l00135">fizz::test::TestMessages::endOfEarlyData()</a>, <a class="el" href="ZlibServerFilterTest_8cpp_source.html#l00058">ZlibServerFilterTest::exercise_compression()</a>, <a class="el" href="AsyncFizzServerTest_8cpp_source.html#l00062">fizz::server::test::AsyncFizzServerTest::expectAppClose()</a>, <a class="el" href="AsyncFizzClientTest_8cpp_source.html#l00074">fizz::client::test::AsyncFizzClientTest::expectAppClose()</a>, <a class="el" href="ServerProtocolTest_8cpp_source.html#l00163">fizz::server::test::ServerProtocolTest::expectCookie()</a>, <a class="el" href="AeadTicketCipherTest_8cpp_source.html#l00102">fizz::server::test::AeadTicketCipherTest::expectDecode()</a>, <a class="el" href="ProtocolTest_8h_source.html#l00087">fizz::test::ProtocolTest&lt; ClientTypes, Actions &gt;::expectError()</a>, <a class="el" href="TestMessages_8h_source.html#l00196">fizz::test::TestMessages::finished()</a>, <a class="el" href="AsyncFizzServerTest_8cpp_source.html#l00085">fizz::server::test::AsyncFizzServerTest::fullHandshakeSuccess()</a>, <a class="el" href="AsyncFizzClientTest_8cpp_source.html#l00097">fizz::client::test::AsyncFizzClientTest::fullHandshakeSuccess()</a>, <a class="el" href="ServerProtocol_8cpp_source.html#l01641">fizz::sm::generateTicket()</a>, <a class="el" href="ExtensionTestsBase_8h_source.html#l00022">fizz::test::ExtensionsTest::getBuf()</a>, <a class="el" href="PlaintextRecordTest_8cpp_source.html#l00034">fizz::test::PlaintextRecordTest::getBuf()</a>, <a class="el" href="TokenBindingConstructorTest_8cpp_source.html#l00044">fizz::extensions::test::TokenBindingConstructorTest::getBuf()</a>, <a class="el" href="EncryptedRecordTest_8cpp_source.html#l00047">fizz::test::EncryptedRecordTest::getBuf()</a>, <a class="el" href="RecordTest_8cpp_source.html#l00048">fizz::test::RecordTest::getBuf()</a>, <a class="el" href="ValidatorTest_8cpp_source.html#l00059">fizz::extensions::test::ValidatorTest::getBuf()</a>, <a class="el" href="ServerProtocol_8cpp_source.html#l00953">fizz::sm::getCertificateRequest()</a>, <a class="el" href="HTTP1xCodecTest_8cpp_source.html#l00214">getChunkedRequest1st()</a>, <a class="el" href="HTTP1xCodecTest_8cpp_source.html#l00219">getChunkedRequest2nd()</a>, <a class="el" href="ClientProtocol_8cpp_source.html#l00333">fizz::sm::getClientHello()</a>, <a class="el" href="ClientProtocolTest_8cpp_source.html#l00096">fizz::client::test::ClientProtocolTest::getEarlyDataParams()</a>, <a class="el" href="ClientProtocol_8cpp_source.html#l00498">fizz::sm::getEarlyDataParams()</a>, <a class="el" href="ServerProtocol_8cpp_source.html#l00864">fizz::sm::getEncryptedExt()</a>, <a class="el" href="AsyncUDPSocketGSOTest_8cpp_source.html#l00068">TestData::getInBuf()</a>, <a class="el" href="X25519_8cpp_source.html#l00032">fizz::X25519KeyExchange::getKeyShare()</a>, <a class="el" href="ClientProtocol_8cpp_source.html#l00427">fizz::sm::getPskExtension()</a>, <a class="el" href="HTTP1xCodecTest_8cpp_source.html#l00066">getSimpleRequestData()</a>, <a class="el" href="TicketCodecTest_8cpp_source.html#l00038">fizz::server::test::getTestResumptionState()</a>, <a class="el" href="FizzServerTest_8cpp_source.html#l00077">fizz::server::test::getV2ClientHello()</a>, <a class="el" href="SPDYCodecTest_8cpp_source.html#l00389">getVersionedSpdyFrame()</a>, <a class="el" href="AsyncUDPSocketGSOTest_8cpp_source.html#l00414">GSOBuf::GSOBuf()</a>, <a class="el" href="ClientProtocol_8cpp_source.html#l01353">fizz::sm::handleCertMsg()</a>, <a class="el" href="TestMessages_8h_source.html#l00095">fizz::test::TestMessages::helloRetryRequest()</a>, <a class="el" href="EncryptedRecordBench_8cpp_source.html#l00016">makeRandom()</a>, <a class="el" href="FizzBaseTest_8cpp_source.html#l00036">fizz::test::MATCHER_P()</a>, <a class="el" href="SocketPeekerTest_8cpp_source.html#l00068">MATCHER_P2()</a>, <a class="el" href="ClientProtocol_8cpp_source.html#l00794">fizz::sm::negotiatePsk()</a>, <a class="el" href="TestMessages_8h_source.html#l00203">fizz::test::TestMessages::newSessionTicket()</a>, <a class="el" href="HTTPServerTest_8cpp_source.html#l00213">TestHandlerFactory::TestHandler::onEOM()</a>, <a class="el" href="HTTPSession_8cpp_source.html#l02726">proxygen::HTTPSession::onSessionParseError()</a>, <a class="el" href="lib_2http_2codec_2test_2TestUtils_8h_source.html#l00028">proxygen::parse()</a>, <a class="el" href="HTTPDownstreamSessionTest_8cpp_source.html#l00368">HTTPDownstreamTest&lt; SPDY3_1CodecPair &gt;::parseOutput()</a>, <a class="el" href="lib_2http_2codec_2test_2TestUtils_8h_source.html#l00067">proxygen::parseUnidirectional()</a>, <a class="el" href="SocketPeeker_8h_source.html#l00082">wangle::SocketPeeker::readDataAvailable()</a>, <a class="el" href="HandshakeTest_8cpp_source.html#l00142">fizz::test::HandshakeTest::resetTransportsAndStartCookieHandshake()</a>, <a class="el" href="CompressionTest_8cpp_source.html#l00332">folly::io::test::CompressionVarintTest::runSimpleTest()</a>, <a class="el" href="HTTPSessionMocks_8h_source.html#l00073">proxygen::HTTPHandlerBase::sendBody()</a>, <a class="el" href="HTTPSessionMocks_8h_source.html#l00109">proxygen::HTTPHandlerBase::sendChunkedReplyWithBody()</a>, <a class="el" href="ZlibServerFilter_8h_source.html#l00122">proxygen::ZlibServerFilter::sendEOM()</a>, <a class="el" href="AsyncUDPSocketTest_8cpp_source.html#l00212">UDPClient::sendPing()</a>, <a class="el" href="AsyncUDPSocketTest_8cpp_source.html#l00065">UDPAcceptor::sendPong()</a>, <a class="el" href="TestMessages_8h_source.html#l00109">fizz::test::TestMessages::serverHello()</a>, <a class="el" href="HandshakeTest_8cpp_source.html#l00257">fizz::test::HandshakeTest::serverWrite()</a>, <a class="el" href="fizz_2fizz_2crypto_2exchange_2test_2Mocks_8h_source.html#l00026">fizz::MockKeyExchange::setDefaults()</a>, <a class="el" href="fizz_2fizz_2protocol_2test_2Mocks_8h_source.html#l00064">fizz::test::MockKeyScheduler::setDefaults()</a>, <a class="el" href="fizz_2fizz_2crypto_2aead_2test_2Mocks_8h_source.html#l00071">fizz::test::MockAead::setDefaults()</a>, <a class="el" href="fizz_2fizz_2record_2test_2Mocks_8h_source.html#l00079">fizz::MockPlaintextWriteRecordLayer::setDefaults()</a>, <a class="el" href="fizz_2fizz_2protocol_2test_2Mocks_8h_source.html#l00083">fizz::test::MockHandshakeContext::setDefaults()</a>, <a class="el" href="fizz_2fizz_2server_2test_2Mocks_8h_source.html#l00108">fizz::server::test::MockTicketCipher::setDefaults()</a>, <a class="el" href="ExportedAuthenticatorTest_8cpp_source.html#l00067">fizz::test::AuthenticatorTest::SetUp()</a>, <a class="el" href="ClientProtocolTest_8cpp_source.html#l00225">fizz::client::test::ClientProtocolTest::setupAcceptingData()</a>, <a class="el" href="ServerProtocolTest_8cpp_source.html#l00221">fizz::server::test::ServerProtocolTest::setUpExpectingCertificate()</a>, <a class="el" href="ServerProtocolTest_8cpp_source.html#l00238">fizz::server::test::ServerProtocolTest::setUpExpectingCertificateVerify()</a>, <a class="el" href="ServerProtocolTest_8cpp_source.html#l00205">fizz::server::test::ServerProtocolTest::setUpExpectingFinished()</a>, <a class="el" href="ClientProtocolTest_8cpp_source.html#l00211">fizz::client::test::ClientProtocolTest::setupExpectingFinished()</a>, <a class="el" href="ClientProtocolTest_8cpp_source.html#l00107">fizz::client::test::ClientProtocolTest::setupExpectingServerHello()</a>, <a class="el" href="fizz_2fizz_2record_2test_2Mocks_8h_source.html#l00021">fizz::setWriteDefaults()</a>, <a class="el" href="CompressionTest_8cpp_source.html#l00261">folly::io::test::CompressionTest::split()</a>, <a class="el" href="IOBufUtilTest_8cpp_source.html#l00019">fizz::test::TEST()</a>, <a class="el" href="CookieCipherTest_8cpp_source.html#l00031">fizz::server::test::TEST()</a>, <a class="el" href="WriteChainAsyncTransportWrapperTest_8cpp_source.html#l00059">folly::test::TEST()</a>, <a class="el" href="AsyncSSLSocketTest_8cpp_source.html#l01040">folly::TEST()</a>, <a class="el" href="AsyncSocketTest2_8cpp_source.html#l02355">TEST()</a>, <a class="el" href="AeadCookieCipherTest_8cpp_source.html#l00072">fizz::server::test::TEST_F()</a>, <a class="el" href="ExportedAuthenticatorTest_8cpp_source.html#l00094">fizz::test::TEST_F()</a>, <a class="el" href="AsyncFizzClientTest_8cpp_source.html#l00188">fizz::client::test::TEST_F()</a>, <a class="el" href="AsyncUDPSocketTest_8cpp_source.html#l00531">TEST_F()</a>, <a class="el" href="ECSignatureTest_8cpp_source.html#l00082">fizz::testing::TEST_P()</a>, <a class="el" href="OpenSSLEVPCipherTest_8cpp_source.html#l00230">fizz::test::TEST_P()</a>, <a class="el" href="AsyncSocketTest2_8cpp_source.html#l00431">TEST_P()</a>, <a class="el" href="CompressionTest_8cpp_source.html#l00525">folly::io::test::TEST_P()</a>, <a class="el" href="fizz_2fizz_2crypto_2aead_2test_2TestUtil_8cpp_source.html#l00024">fizz::test::toIOBuf()</a>, <a class="el" href="EncryptedRecordBench_8cpp_source.html#l00030">toIOBuf()</a>, <a class="el" href="accept__steering__server_8cpp_source.html#l00069">ThreadPrintingHandler::transportActive()</a>, <a class="el" href="CertTest_8cpp_source.html#l00248">fizz::test::TYPED_TEST()</a>, <a class="el" href="ClientSerializeHandler_8h_source.html#l00036">ClientSerializeHandler::write()</a>, <a class="el" href="ServerSerializeHandler_8h_source.html#l00036">ServerSerializeHandler::write()</a>, <a class="el" href="StringCodec_8h_source.html#l00041">wangle::StringCodec::write()</a>, <a class="el" href="EncryptedRecordLayer_8cpp_source.html#l00147">fizz::EncryptedWriteRecordLayer::write()</a>, and <a class="el" href="FizzBaseTest_8cpp_source.html#l00024">fizz::test::writeNewSessionTicket()</a>.</p>
<div class="fragment"><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;                           {</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;  std::size_t <a class="code" href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">capacity</a> = <a class="code" href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">headroom</a> + <a class="code" href="namespacefolly.html#a0606ba855bcb96a1673880aa3b404993">size</a> + minTailroom;</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;  std::unique_ptr&lt;IOBuf&gt; buf = <a class="code" href="classfolly_1_1IOBuf.html#a744f20ec9d0829fe17cf78fb48b7785e">create</a>(capacity);</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;  buf-&gt;advance(<a class="code" href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">headroom</a>);</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacefolly.html#a0606ba855bcb96a1673880aa3b404993">size</a> != 0) {</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    memcpy(buf-&gt;writableData(), <a class="code" href="classfolly_1_1IOBuf.html#af71f6f5efabbcddf8ec6dada00f5eebf">data</a>, <a class="code" href="namespacefolly.html#a0606ba855bcb96a1673880aa3b404993">size</a>);</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;  }</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;  buf-&gt;append(<a class="code" href="namespacefolly.html#a0606ba855bcb96a1673880aa3b404993">size</a>);</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;  <span class="keywordflow">return</span> buf;</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOBuf_html_a744f20ec9d0829fe17cf78fb48b7785e"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a744f20ec9d0829fe17cf78fb48b7785e">folly::IOBuf::create</a></div><div class="ttdeci">static std::unique_ptr&lt; IOBuf &gt; create(std::size_t capacity)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00229">IOBuf.cpp:229</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_af71f6f5efabbcddf8ec6dada00f5eebf"><div class="ttname"><a href="classfolly_1_1IOBuf.html#af71f6f5efabbcddf8ec6dada00f5eebf">folly::IOBuf::data</a></div><div class="ttdeci">const uint8_t * data() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00499">IOBuf.h:499</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_afc06ea1931398696db8d9a80619e3753"><div class="ttname"><a href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">folly::IOBuf::capacity</a></div><div class="ttdeci">std::size_t capacity() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00593">IOBuf.h:593</a></div></div>
<div class="ttc" id="namespacefolly_html_a0606ba855bcb96a1673880aa3b404993"><div class="ttname"><a href="namespacefolly.html#a0606ba855bcb96a1673880aa3b404993">folly::size</a></div><div class="ttdeci">constexpr auto size(C const &amp;c) -&gt; decltype(c.size())</div><div class="ttdef"><b>Definition:</b> <a href="Access_8h_source.html#l00045">Access.h:45</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a6e7ab795221f3359c2d919b3035374c3"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">folly::IOBuf::headroom</a></div><div class="ttdeci">std::size_t headroom() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00542">IOBuf.h:542</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aefc349aea0fd5d8b925b192d0b9ceda9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::unique_ptr&lt;<a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a>&gt; folly::IOBuf::copyBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacefolly.html#a7f61a634c75bc3bb46447ec2b17ff0fe">ByteRange</a>&#160;</td>
          <td class="paramname"><em>br</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>headroom</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>minTailroom</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00415">415</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>References <a class="el" href="OpenSSLEVPCipherTest_8cpp_source.html#l00069">fizz::test::copyBuffer()</a>, <a class="el" href="Range_8h_source.html#l00446">folly::Range&lt; Iter &gt;::data()</a>, <a class="el" href="Range_8h_source.html#l00431">folly::Range&lt; Iter &gt;::size()</a>, and <a class="el" href="Conv_8cpp_source.html#l00212">string</a>.</p>
<div class="fragment"><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                                 {</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1IOBuf.html#aa1c4b32cfaa7c96d591d8ad5f5f7b959">copyBuffer</a>(br.data(), br.size(), <a class="code" href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">headroom</a>, minTailroom);</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_a6e7ab795221f3359c2d919b3035374c3"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">folly::IOBuf::headroom</a></div><div class="ttdeci">std::size_t headroom() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00542">IOBuf.h:542</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_aa1c4b32cfaa7c96d591d8ad5f5f7b959"><div class="ttname"><a href="classfolly_1_1IOBuf.html#aa1c4b32cfaa7c96d591d8ad5f5f7b959">folly::IOBuf::copyBuffer</a></div><div class="ttdeci">static std::unique_ptr&lt; IOBuf &gt; copyBuffer(const void *buf, std::size_t size, std::size_t headroom=0, std::size_t minTailroom=0)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01587">IOBuf.h:1587</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abfe09dbaf8baf800256faeb2dd4b61cf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt; folly::IOBuf::copyBuffer </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a> &amp;&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>headroom</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>minTailroom</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Convenience function to create a new <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> object that copies data from a user-supplied string, optionally allocating a given amount of headroom and tailroom.</p>
<p>Beware when attempting to invoke this function with a constant string literal and a headroom argument: you will likely end up invoking the version of <a class="el" href="classfolly_1_1IOBuf.html#aa1c4b32cfaa7c96d591d8ad5f5f7b959">copyBuffer()</a> above. <a class="el" href="classfolly_1_1IOBuf.html#aa1c4b32cfaa7c96d591d8ad5f5f7b959">IOBuf::copyBuffer</a>("hello", 3) will treat the first argument as a const void*, and will invoke the version of <a class="el" href="classfolly_1_1IOBuf.html#aa1c4b32cfaa7c96d591d8ad5f5f7b959">copyBuffer()</a> above, with the size argument of 3. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l01602">1602</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>References <a class="el" href="OpenSSLEVPCipherTest_8cpp_source.html#l00069">fizz::test::copyBuffer()</a>.</p>
<div class="fragment"><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;                           {</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1IOBuf.html#aa1c4b32cfaa7c96d591d8ad5f5f7b959">copyBuffer</a>(buf.data(), buf.size(), <a class="code" href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">headroom</a>, minTailroom);</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOBuf_html_a6e7ab795221f3359c2d919b3035374c3"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">folly::IOBuf::headroom</a></div><div class="ttdeci">std::size_t headroom() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00542">IOBuf.h:542</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_aa1c4b32cfaa7c96d591d8ad5f5f7b959"><div class="ttname"><a href="classfolly_1_1IOBuf.html#aa1c4b32cfaa7c96d591d8ad5f5f7b959">folly::IOBuf::copyBuffer</a></div><div class="ttdeci">static std::unique_ptr&lt; IOBuf &gt; copyBuffer(const void *buf, std::size_t size, std::size_t headroom=0, std::size_t minTailroom=0)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01587">IOBuf.h:1587</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad23972657a0dd820d36bd83ebc74ca39"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t folly::IOBuf::countChainElements </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the number of IOBufs in this chain.</p>
<p>Beware that this method has to walk the entire chain. Use <a class="el" href="classfolly_1_1IOBuf.html#a5b6f1bccec27ec05ad6b6906980589ea">isChained()</a> if you just want to check if this <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> is part of a chain or not. </p>

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00493">493</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="SynchronizedTest_8cpp_source.html#l00743">current</a>, and <a class="el" href="IOBuf_8h_source.html#l01423">next_</a>.</p>

<p>Referenced by <a class="el" href="IOBufTest_8cpp_source.html#l00907">MoveToFbStringTest::check()</a>, <a class="el" href="fizz_2fizz_2crypto_2aead_2test_2TestUtil_8cpp_source.html#l00031">fizz::test::chunkIOBuf()</a>, <a class="el" href="ZlibServerFilterTest_8cpp_source.html#l00058">ZlibServerFilterTest::exercise_compression()</a>, <a class="el" href="IOBuf_8cpp_source.html#l01009">getIov()</a>, <a class="el" href="IOBufCursorTest_8cpp_source.html#l00194">TEST()</a>, <a class="el" href="OpenSSLHashTest_8cpp_source.html#l00031">TEST_F()</a>, and <a class="el" href="IOBufUtil_8cpp_source.html#l00015">fizz::trimBytes()</a>.</p>
<div class="fragment"><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                                       {</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <span class="keywordtype">size_t</span> numElements = 1;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">IOBuf</a>* <a class="code" href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a> = <a class="code" href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">next_</a>; <a class="code" href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a> != <span class="keyword">this</span>; <a class="code" href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a> = <a class="code" href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a>-&gt;next_) {</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    ++numElements;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  }</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <span class="keywordflow">return</span> numElements;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOBuf_html_a038b1d38b9814d8e2f571bc94d3cf0dc"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">folly::IOBuf::next_</a></div><div class="ttdeci">IOBuf * next_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01423">IOBuf.h:1423</a></div></div>
<div class="ttc" id="SynchronizedTest_8cpp_html_ab04e2d55ea4a544f3575812582af7b51"><div class="ttname"><a href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a></div><div class="ttdeci">int current</div><div class="ttdef"><b>Definition:</b> <a href="SynchronizedTest_8cpp_source.html#l00743">SynchronizedTest.cpp:743</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ad121c314bc97a30206e8b467eb609a27"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">folly::IOBuf::IOBuf</a></div><div class="ttdeci">IOBuf() noexcept</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00361">IOBuf.cpp:361</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a744f20ec9d0829fe17cf78fb48b7785e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt; folly::IOBuf::create </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>capacity</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Allocate a new <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> object with the requested capacity.</p>
<p>Returns a new <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> object that must be (eventually) deleted by the caller. The returned <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> may actually have slightly more capacity than requested.</p>
<p>The data pointer will initially point to the start of the newly allocated buffer, and will have a data length of 0.</p>
<p>Throws std::bad_alloc on error. </p>

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00229">229</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8cpp_source.html#l00245">createCombined()</a>, and <a class="el" href="IOBuf_8cpp_source.html#l00268">createSeparate()</a>.</p>

<p>Referenced by <a class="el" href="Compression_8cpp_source.html#l00434">folly::io::addOutputBuffer()</a>, <a class="el" href="IOBufQueue_8cpp_source.html#l00172">folly::IOBufQueue::append()</a>, <a class="el" href="TicketCodec_8cpp_source.html#l00026">fizz::server::appendClientCertificate()</a>, <a class="el" href="NetworkBenchmark_8cpp_source.html#l00032">BENCHMARK()</a>, <a class="el" href="ExtensionTestsBase_8h_source.html#l00039">fizz::test::ExtensionsTest::checkEncode()</a>, <a class="el" href="AcceptRoutingHandlerTest_8cpp_source.html#l00092">AcceptRoutingHandlerTest::clientConnectAndWrite()</a>, <a class="el" href="TestMessages_8h_source.html#l00026">fizz::test::TestMessages::clientHello()</a>, <a class="el" href="KeyScheduler_8cpp_source.html#l00090">fizz::KeyScheduler::clientKeyUpdate()</a>, <a class="el" href="CompressionTest_8cpp_source.html#l00819">folly::io::test::compressSome()</a>, <a class="el" href="ExportedAuthenticator_8cpp_source.html#l00290">fizz::detail::computeFinishedTranscript()</a>, <a class="el" href="ExportedAuthenticator_8cpp_source.html#l00277">fizz::detail::computeTranscript()</a>, <a class="el" href="ExportedAuthenticator_8cpp_source.html#l00254">fizz::detail::computeTranscriptHash()</a>, <a class="el" href="Validator_8cpp_source.html#l00079">fizz::extensions::Validator::constructECDSASig()</a>, <a class="el" href="Validator_8cpp_source.html#l00108">fizz::extensions::Validator::constructEcKeyFromBuf()</a>, <a class="el" href="fizz_2fizz_2extensions_2tokenbinding_2Utils_8h_source.html#l00020">fizz::extensions::TokenBindingUtils::constructMessage()</a>, <a class="el" href="JavaCryptoCertificateVerifier_8cpp_source.html#l00089">fizz::JavaCryptoCertificateVerifier::createAuthorities()</a>, <a class="el" href="DefaultCertificateVerifier_8cpp_source.html#l00093">fizz::DefaultCertificateVerifier::createAuthorities()</a>, <a class="el" href="IOBufUtilTest_8cpp_source.html#l00059">fizz::test::createBuf()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00272">createChain()</a>, <a class="el" href="TokenBindingConstructor_8cpp_source.html#l00024">fizz::extensions::TokenBindingConstructor::createTokenBinding()</a>, <a class="el" href="ZlibCertificateDecompressor_8cpp_source.html#l00020">fizz::ZlibCertificateDecompressor::decompress()</a>, <a class="el" href="ZstdStreamDecompressor_8cpp_source.html#l00047">proxygen::ZstdStreamDecompressor::decompress()</a>, <a class="el" href="fizz_2fizz_2crypto_2aead_2test_2TestUtil_8cpp_source.html#l00018">fizz::test::defaultCreator()</a>, <a class="el" href="OpenSSLCertUtils_8cpp_source.html#l00194">folly::ssl::OpenSSLCertUtils::derEncode()</a>, <a class="el" href="Compression_8cpp_source.html#l00494">folly::io::StreamCodec::doUncompress()</a>, <a class="el" href="Signature_8cpp_source.html#l00030">fizz::detail::ecSign()</a>, <a class="el" href="TicketCodec-inl_8h_source.html#l00016">fizz::server::TicketCodec&lt; Storage &gt;::encode()</a>, <a class="el" href="extensions_2tokenbinding_2Types_8cpp_source.html#l00124">fizz::encode()</a>, <a class="el" href="Types-inl_8h_source.html#l00436">fizz::encode&lt; Alert &gt;()</a>, <a class="el" href="Types-inl_8h_source.html#l00384">fizz::encode&lt; CertificateRequest &gt;()</a>, <a class="el" href="Types-inl_8h_source.html#l00427">fizz::encode&lt; CertificateVerify &gt;()</a>, <a class="el" href="Types-inl_8h_source.html#l00412">fizz::encode&lt; CompressedCertificate &amp; &gt;()</a>, <a class="el" href="Types-inl_8h_source.html#l00393">fizz::encode&lt; const CertificateMsg &amp; &gt;()</a>, <a class="el" href="Types-inl_8h_source.html#l00445">fizz::encode&lt; const ClientHello &amp; &gt;()</a>, <a class="el" href="Types-inl_8h_source.html#l00376">fizz::encode&lt; EncryptedExtensions &gt;()</a>, <a class="el" href="Types-inl_8h_source.html#l00371">fizz::encode&lt; EndOfEarlyData &gt;()</a>, <a class="el" href="Types-inl_8h_source.html#l00357">fizz::encode&lt; HelloRetryRequest &gt;()</a>, <a class="el" href="Types-inl_8h_source.html#l00502">fizz::encode&lt; KeyUpdate &gt;()</a>, <a class="el" href="Types-inl_8h_source.html#l00475">fizz::encode&lt; NewSessionTicket &gt;()</a>, <a class="el" href="Types-inl_8h_source.html#l00339">fizz::encode&lt; ServerHello &gt;()</a>, <a class="el" href="AeadCookieCipher-inl_8h_source.html#l00020">fizz::server::detail::encodeCookie()</a>, <a class="el" href="TokenBindingConstructor_8cpp_source.html#l00071">fizz::extensions::TokenBindingConstructor::encodeEcdsaSignature()</a>, <a class="el" href="OpenSSLKeyUtils_8cpp_source.html#l00123">fizz::detail::encodeECPublicKey()</a>, <a class="el" href="extensions_2tokenbinding_2Types_8cpp_source.html#l00113">fizz::encodeExtension()</a>, <a class="el" href="Types-inl_8h_source.html#l00515">fizz::encodeHandshake()</a>, <a class="el" href="Types-inl_8h_source.html#l00488">fizz::encodeHkdfLabel()</a>, <a class="el" href="AeadTokenCipher-inl_8h_source.html#l00062">fizz::server::AeadTokenCipher&lt; AeadType, HkdfType &gt;::encrypt()</a>, <a class="el" href="Cursor_8h_source.html#l00994">folly::io::Appender::ensure()</a>, <a class="el" href="OpenSSLEVPCipher_8cpp_source.html#l00264">fizz::detail::evpDecrypt()</a>, <a class="el" href="OpenSSLEVPCipher_8cpp_source.html#l00186">fizz::detail::evpEncrypt()</a>, <a class="el" href="Hkdf-inl_8h_source.html#l00025">fizz::HkdfImpl&lt; Hash &gt;::expand()</a>, <a class="el" href="ServerProtocolTest_8cpp_source.html#l00163">fizz::server::test::ServerProtocolTest::expectCookie()</a>, <a class="el" href="gen_2File_8h_source.html#l00038">folly::gen::fromFile()</a>, <a class="el" href="OpenSSLKeyUtils_8cpp_source.html#l00034">fizz::detail::generateEvpSharedSecret()</a>, <a class="el" href="X25519_8cpp_source.html#l00039">fizz::X25519KeyExchange::generateSharedSecret()</a>, <a class="el" href="ServerProtocol_8cpp_source.html#l01641">fizz::sm::generateTicket()</a>, <a class="el" href="Certificate_8cpp_source.html#l00059">fizz::CertUtils::getCertMessage()</a>, <a class="el" href="ClientProtocol_8cpp_source.html#l00498">fizz::sm::getEarlyDataParams()</a>, <a class="el" href="Exporter_8cpp_source.html#l00013">fizz::Exporter::getEkm()</a>, <a class="el" href="HandshakeContext-inl_8h_source.html#l00037">fizz::HandshakeContextImpl&lt; Hash &gt;::getFinishedData()</a>, <a class="el" href="ExportedAuthenticator_8cpp_source.html#l00299">fizz::detail::getFinishedData()</a>, <a class="el" href="HandshakeContext-inl_8h_source.html#l00027">fizz::HandshakeContextImpl&lt; Hash &gt;::getHandshakeContext()</a>, <a class="el" href="ClientProtocol_8cpp_source.html#l00427">fizz::sm::getPskExtension()</a>, <a class="el" href="CookieCipher_8cpp_source.html#l00018">fizz::server::getStatelessHelloRetryRequest()</a>, <a class="el" href="KeyScheduler_8cpp_source.html#l00192">fizz::KeyScheduler::getTrafficKey()</a>, <a class="el" href="AsyncPipe_8cpp_source.html#l00057">folly::AsyncPipeReader::handlerReady()</a>, <a class="el" href="IOBufCursorBenchmark_8cpp_source.html#l00166">main()</a>, <a class="el" href="ZlibTests_8cpp_source.html#l00026">makeBuf()</a>, <a class="el" href="codec_2test_2TestUtils_8cpp_source.html#l00036">proxygen::makeBuf()</a>, <a class="el" href="TestMessages_8h_source.html#l00203">fizz::test::TestMessages::newSessionTicket()</a>, <a class="el" href="NetworkBenchmark_8cpp_source.html#l00055">poolGetIOBuf()</a>, <a class="el" href="IOBufQueue_8cpp_source.html#l00207">folly::IOBufQueue::preallocateSlow()</a>, <a class="el" href="Certificate_8cpp_source.html#l00023">fizz::CertUtils::prepareSignData()</a>, <a class="el" href="RecordIO_8cpp_source.html#l00139">folly::recordio_helpers::prependHeader()</a>, <a class="el" href="EncryptedRecordLayer_8cpp_source.html#l00098">fizz::EncryptedReadRecordLayer::read()</a>, <a class="el" href="Signature_8cpp_source.html#l00085">fizz::detail::rsaPssSign()</a>, <a class="el" href="TestMessages_8h_source.html#l00109">fizz::test::TestMessages::serverHello()</a>, <a class="el" href="KeyScheduler_8cpp_source.html#l00102">fizz::KeyScheduler::serverKeyUpdate()</a>, <a class="el" href="KeySchedulerTest_8cpp_source.html#l00023">fizz::test::KeySchedulerTest::SetUp()</a>, <a class="el" href="ClientProtocolTest_8cpp_source.html#l00107">fizz::client::test::ClientProtocolTest::setupExpectingServerHello()</a>, <a class="el" href="ValidatorTest_8cpp_source.html#l00041">fizz::extensions::test::ValidatorTest::setUpWithKeyParameters()</a>, <a class="el" href="IOBufQueue_8cpp_source.html#l00223">folly::IOBufQueue::split()</a>, <a class="el" href="IOBuf_8cpp_source.html#l01047">takeOwnershipIov()</a>, <a class="el" href="IOBufUtilTest_8cpp_source.html#l00019">fizz::test::TEST()</a>, <a class="el" href="CompressionTest_8cpp_source.html#l00369">folly::io::test::TEST()</a>, <a class="el" href="AsyncSocketTest2_8cpp_source.html#l01230">TEST()</a>, <a class="el" href="TokenBindingTest_8cpp_source.html#l00068">fizz::test::TEST_F()</a>, <a class="el" href="HPACKBufferTests_8cpp_source.html#l00142">TEST_F()</a>, <a class="el" href="AsyncFizzClientTest_8cpp_source.html#l00550">fizz::client::test::TEST_F()</a>, <a class="el" href="ServerProtocolTest_8cpp_source.html#l03378">fizz::server::test::TEST_F()</a>, <a class="el" href="OpenSSLEVPCipherTest_8cpp_source.html#l00156">fizz::test::TEST_P()</a>, <a class="el" href="HPACKContextTests_8cpp_source.html#l00274">TEST_P()</a>, <a class="el" href="CompressionTest_8cpp_source.html#l00505">folly::io::test::TEST_P()</a>, <a class="el" href="Dump_8cpp_source.html#l00191">folly::bser::toBserIOBuf()</a>, <a class="el" href="gen_2File_8h_source.html#l00055">folly::gen::toFile()</a>, <a class="el" href="Cursor_8h_source.html#l01085">folly::io::Appender::tryGrowChain()</a>, <a class="el" href="Compression_8cpp_source.html#l00180">folly::io::Codec::uncompress()</a>, <a class="el" href="CompressionTest_8cpp_source.html#l00840">folly::io::test::uncompressSome()</a>, <a class="el" href="ExportedAuthenticator_8cpp_source.html#l00155">fizz::ExportedAuthenticator::validate()</a>, <a class="el" href="IOBuf_8cpp_source.html#l01027">wrapIov()</a>, <a class="el" href="LengthFieldPrepender_8cpp_source.html#l00040">wangle::LengthFieldPrepender::write()</a>, <a class="el" href="PlaintextRecordLayer_8cpp_source.html#l00112">fizz::PlaintextWriteRecordLayer::write()</a>, and <a class="el" href="EncryptedRecordLayer_8cpp_source.html#l00147">fizz::EncryptedWriteRecordLayer::write()</a>.</p>
<div class="fragment"><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                                                  {</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="comment">// For smaller-sized buffers, allocate the IOBuf, SharedInfo, and the buffer</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="comment">// all with a single allocation.</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="comment">// We don&#39;t do this for larger buffers since it can be wasteful if the user</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="comment">// needs to reallocate the buffer but keeps using the same IOBuf object.</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <span class="comment">// In this case we can&#39;t free the data space until the IOBuf is also</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="comment">// destroyed.  Callers can explicitly call createCombined() or</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="comment">// createSeparate() if they know their use case better, and know if they are</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="comment">// likely to reallocate the buffer later.</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">capacity</a> &lt;= kDefaultCombinedBufSize) {</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1IOBuf.html#afa674260f8ff353aca7f10df410d2f0f">createCombined</a>(<a class="code" href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">capacity</a>);</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  }</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1IOBuf.html#a82a81994edf4381dba262f766b88dc83">createSeparate</a>(<a class="code" href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">capacity</a>);</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOBuf_html_afa674260f8ff353aca7f10df410d2f0f"><div class="ttname"><a href="classfolly_1_1IOBuf.html#afa674260f8ff353aca7f10df410d2f0f">folly::IOBuf::createCombined</a></div><div class="ttdeci">static std::unique_ptr&lt; IOBuf &gt; createCombined(std::size_t capacity)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00245">IOBuf.cpp:245</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_afc06ea1931398696db8d9a80619e3753"><div class="ttname"><a href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">folly::IOBuf::capacity</a></div><div class="ttdeci">std::size_t capacity() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00593">IOBuf.h:593</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a82a81994edf4381dba262f766b88dc83"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a82a81994edf4381dba262f766b88dc83">folly::IOBuf::createSeparate</a></div><div class="ttdeci">static std::unique_ptr&lt; IOBuf &gt; createSeparate(std::size_t capacity)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00268">IOBuf.cpp:268</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3c51a2f2911f1adbe313fe774b50e0b6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt; folly::IOBuf::createChain </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>totalCapacity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>maxBufCapacity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Allocate a new <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> chain with the requested total capacity, allocating no more than maxBufCapacity to each buffer. </p>

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00272">272</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8cpp_source.html#l00229">create()</a>, <a class="el" href="LogLevel_8cpp_source.html#l00030">min</a>, and <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>.</p>
<div class="fragment"><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                              {</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  unique_ptr&lt;IOBuf&gt; out =</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#a744f20ec9d0829fe17cf78fb48b7785e">create</a>(<a class="code" href="LogLevel_8cpp.html#a7361901234703a521a82885405734c53">std::min</a>(totalCapacity, <span class="keywordtype">size_t</span>(maxBufCapacity)));</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="keywordtype">size_t</span> allocatedCapacity = out-&gt;capacity();</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <span class="keywordflow">while</span> (allocatedCapacity &lt; totalCapacity) {</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    unique_ptr&lt;IOBuf&gt; newBuf = <a class="code" href="classfolly_1_1IOBuf.html#a744f20ec9d0829fe17cf78fb48b7785e">create</a>(</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <a class="code" href="LogLevel_8cpp.html#a7361901234703a521a82885405734c53">std::min</a>(totalCapacity - allocatedCapacity, <span class="keywordtype">size_t</span>(maxBufCapacity)));</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    allocatedCapacity += newBuf-&gt;capacity();</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    out-&gt;prependChain(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(newBuf));</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  }</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="keywordflow">return</span> out;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOBuf_html_a744f20ec9d0829fe17cf78fb48b7785e"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a744f20ec9d0829fe17cf78fb48b7785e">folly::IOBuf::create</a></div><div class="ttdeci">static std::unique_ptr&lt; IOBuf &gt; create(std::size_t capacity)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00229">IOBuf.cpp:229</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="LogLevel_8cpp_html_a7361901234703a521a82885405734c53"><div class="ttname"><a href="LogLevel_8cpp.html#a7361901234703a521a82885405734c53">min</a></div><div class="ttdeci">LogLevel min</div><div class="ttdef"><b>Definition:</b> <a href="LogLevel_8cpp_source.html#l00030">LogLevel.cpp:30</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afa674260f8ff353aca7f10df410d2f0f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt; folly::IOBuf::createCombined </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>capacity</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a new <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a>, using a single memory allocation to allocate space for both the <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> object and the data storage space.</p>
<p>This saves one memory allocation. However, it can be wasteful if you later need to grow the buffer using <a class="el" href="classfolly_1_1IOBuf.html#a288e80a81f23fe191e2b49c1679e1a0b">reserve()</a>. If the buffer needs to be reallocated, the space originally allocated will not be <a class="el" href="StringKeyedTest_8cpp.html#af85f57d3ff01338437ce6245ebdb3965">freed()</a> until the <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> object itself is also freed. (It can also be slightly wasteful in some cases where you clone this <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> and then free the original <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a>.) </p>

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00245">245</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8h_source.html#l00593">capacity()</a>, <a class="el" href="memory_2Malloc_8h_source.html#l00227">folly::checkedMalloc()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00190">freeInternalBuf()</a>, <a class="el" href="memory_2Malloc_8h_source.html#l00201">folly::goodMallocSize()</a>, <a class="el" href="IOBuf_8h_source.html#l01440">packFlagsAndSharedInfo()</a>, and <a class="el" href="ConstexprMathBenchmark_8cpp_source.html#l00178">uint8_t</a>.</p>

<p>Referenced by <a class="el" href="IOBuf_8cpp_source.html#l00229">create()</a>.</p>
<div class="fragment"><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                                                          {</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="comment">// To save a memory allocation, allocate space for the IOBuf object, the</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="comment">// SharedInfo struct, and the data itself all with a single call to malloc().</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="keywordtype">size_t</span> requiredStorage = offsetof(HeapFullStorage, align) + <a class="code" href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">capacity</a>;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="keywordtype">size_t</span> mallocSize = <a class="code" href="namespacefolly.html#ae17bba935a07151ca130bd72f2733719">goodMallocSize</a>(requiredStorage);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="keyword">auto</span>* storage = <span class="keyword">static_cast&lt;</span>HeapFullStorage*<span class="keyword">&gt;</span>(<a class="code" href="namespacefolly.html#ac8ace750150dff84e5a2a8cda65a9973">checkedMalloc</a>(mallocSize));</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="keyword">new</span> (&amp;storage-&gt;hs.prefix) HeapPrefix(kIOBufInUse | kDataInUse);</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="keyword">new</span> (&amp;storage-&gt;shared) SharedInfo(<a class="code" href="classfolly_1_1IOBuf.html#a58c2c5bfb3d7be925a9337816455a20c">freeInternalBuf</a>, storage);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <a class="code" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>* bufAddr = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>*<span class="keyword">&gt;</span>(&amp;storage-&gt;align);</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <a class="code" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>* storageEnd = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>*<span class="keyword">&gt;</span>(storage) + mallocSize;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="keywordtype">size_t</span> actualCapacity = size_t(storageEnd - bufAddr);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  unique_ptr&lt;IOBuf&gt; ret(<span class="keyword">new</span> (&amp;storage-&gt;hs.buf) <a class="code" href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">IOBuf</a>(</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      InternalConstructor(),</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#ab0273b373015ae756a8bc6d7b60864f0">packFlagsAndSharedInfo</a>(0, &amp;storage-&gt;shared),</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      bufAddr,</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      actualCapacity,</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      bufAddr,</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      0));</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;}</div><div class="ttc" id="namespacefolly_html_ac8ace750150dff84e5a2a8cda65a9973"><div class="ttname"><a href="namespacefolly.html#ac8ace750150dff84e5a2a8cda65a9973">folly::checkedMalloc</a></div><div class="ttdeci">void * checkedMalloc(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="memory_2Malloc_8h_source.html#l00227">Malloc.h:227</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_afc06ea1931398696db8d9a80619e3753"><div class="ttname"><a href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">folly::IOBuf::capacity</a></div><div class="ttdeci">std::size_t capacity() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00593">IOBuf.h:593</a></div></div>
<div class="ttc" id="ConstexprMathBenchmark_8cpp_html_ae1affc9ca37cfb624959c866a73f83c2"><div class="ttname"><a href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a></div><div class="ttdeci">uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="ConstexprMathBenchmark_8cpp_source.html#l00178">ConstexprMathBenchmark.cpp:178</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ab0273b373015ae756a8bc6d7b60864f0"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ab0273b373015ae756a8bc6d7b60864f0">folly::IOBuf::packFlagsAndSharedInfo</a></div><div class="ttdeci">static uintptr_t packFlagsAndSharedInfo(uintptr_t flags, SharedInfo *info)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01440">IOBuf.h:1440</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a58c2c5bfb3d7be925a9337816455a20c"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a58c2c5bfb3d7be925a9337816455a20c">folly::IOBuf::freeInternalBuf</a></div><div class="ttdeci">static void freeInternalBuf(void *buf, void *userData)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00190">IOBuf.cpp:190</a></div></div>
<div class="ttc" id="namespacefolly_html_ae17bba935a07151ca130bd72f2733719"><div class="ttname"><a href="namespacefolly.html#ae17bba935a07151ca130bd72f2733719">folly::goodMallocSize</a></div><div class="ttdeci">size_t goodMallocSize(size_t minSize) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="memory_2Malloc_8h_source.html#l00201">Malloc.h:201</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ad121c314bc97a30206e8b467eb609a27"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">folly::IOBuf::IOBuf</a></div><div class="ttdeci">IOBuf() noexcept</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00361">IOBuf.cpp:361</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a82a81994edf4381dba262f766b88dc83"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt; folly::IOBuf::createSeparate </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>capacity</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a new <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a>, using separate memory allocations for the <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> object for the <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> and the data storage space.</p>
<p>This requires two memory allocations, but saves space in the long run if you know that you will need to reallocate the data buffer later. </p>

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00268">268</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8h_source.html#l00593">capacity()</a>, and <a class="el" href="IOBuf_8h_source.html#l00225">CREATE</a>.</p>

<p>Referenced by <a class="el" href="IOBuf_8cpp_source.html#l00229">create()</a>.</p>
<div class="fragment"><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                                                          {</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="keywordflow">return</span> std::make_unique&lt;IOBuf&gt;(<a class="code" href="classfolly_1_1IOBuf.html#a693fa6c7a5a1ecc72fa0bcd834507a56a06f59281b6961a3238097b4dd6badba6">CREATE</a>, <a class="code" href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">capacity</a>);</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOBuf_html_afc06ea1931398696db8d9a80619e3753"><div class="ttname"><a href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">folly::IOBuf::capacity</a></div><div class="ttdeci">std::size_t capacity() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00593">IOBuf.h:593</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a693fa6c7a5a1ecc72fa0bcd834507a56a06f59281b6961a3238097b4dd6badba6"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a693fa6c7a5a1ecc72fa0bcd834507a56a06f59281b6961a3238097b4dd6badba6">folly::IOBuf::CREATE</a></div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00225">IOBuf.h:225</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af71f6f5efabbcddf8ec6dada00f5eebf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>* folly::IOBuf::data </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the pointer to the start of the data. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00499">499</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>References <a class="el" href="FileUtilTest_8cpp_source.html#l00066">data_</a>.</p>

<p>Referenced by <a class="el" href="TestAsyncTransport_8cpp_source.html#l00426">TestAsyncTransport::addReadEvent()</a>, <a class="el" href="IOBuf_8cpp_source.html#l01016">appendToIov()</a>, <a class="el" href="IOBufTest_8cpp_source.html#l00299">checkBuf()</a>, <a class="el" href="IOBufTest_8cpp_source.html#l00307">checkChain()</a>, <a class="el" href="gen_2String-inl_8h_source.html#l00113">folly::gen::detail::consumeBufferPlus()</a>, <a class="el" href="TypedIOBuf_8h_source.html#l00062">folly::TypedIOBuf&lt; T &gt;::data()</a>, <a class="el" href="HPACKDecodeBuffer_8cpp_source.html#l00048">proxygen::HPACKDecodeBuffer::decodeLiteral()</a>, <a class="el" href="Compression_8cpp_source.html#l00444">folly::io::StreamCodec::doCompress()</a>, <a class="el" href="Compression_8cpp_source.html#l00494">folly::io::StreamCodec::doUncompress()</a>, <a class="el" href="utils_2Logging_8cpp_source.html#l00132">proxygen::dumpBinToFile()</a>, <a class="el" href="lib_2http_2codec_2compress_2test_2TestUtil_8cpp_source.html#l00027">proxygen::hpack::dumpToFile()</a>, <a class="el" href="IOBuf_8cpp_source.html#l01072">fillIov()</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l00856">proxygen::SPDYCodec::generateGoaway()</a>, <a class="el" href="EncryptedRecordLayer_8cpp_source.html#l00025">fizz::EncryptedReadRecordLayer::getDecryptedBuf()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00397">IOBuf()</a>, <a class="el" href="CurlClient_8cpp_source.html#l00201">CurlService::CurlClient::onBody()</a>, <a class="el" href="HTTP1xCodec_8cpp_source.html#l01144">proxygen::HTTP1xCodec::onBody()</a>, <a class="el" href="SSLSessionCacheManager_8cpp_source.html#l00440">wangle::SSLSessionCacheManager::onGetSuccess()</a>, <a class="el" href="HTTPCodecPrinter_8cpp_source.html#l00100">proxygen::HTTPCodecPrinter::onGoaway()</a>, <a class="el" href="HTTPSession_8cpp_source.html#l01199">proxygen::HTTPSession::onGoaway()</a>, <a class="el" href="HTTP1xCodec_8cpp_source.html#l00177">proxygen::HTTP1xCodec::onIngress()</a>, <a class="el" href="Cursor_8h_source.html#l00233">folly::io::detail::CursorBase&lt; Cursor, const IOBuf &gt;::operator==()</a>, <a class="el" href="HTTP2Codec_8cpp_source.html#l00869">proxygen::HTTP2Codec::parseGoaway()</a>, <a class="el" href="utils_2Logging_8cpp_source.html#l00059">proxygen::Hex16Printer::print()</a>, <a class="el" href="utils_2Logging_8cpp_source.html#l00055">proxygen::HexFollyPrinter::print()</a>, <a class="el" href="utils_2Logging_8cpp_source.html#l00083">proxygen::BinPrinter::print()</a>, <a class="el" href="StringCodec_8h_source.html#l00033">wangle::StringCodec::read()</a>, <a class="el" href="HTTPUpstreamSessionTest_8cpp_source.html#l00270">HTTPUpstreamTest&lt; SPDY3CodecPair &gt;::readAndLoop()</a>, <a class="el" href="RFC1867_8cpp_source.html#l00225">proxygen::RFC1867Codec::readToBoundary()</a>, <a class="el" href="IOBuf_8cpp_source.html#l01047">takeOwnershipIov()</a>, <a class="el" href="JemallocNodumpAllocatorTest_8cpp_source.html#l00037">TEST()</a>, <a class="el" href="HuffmanTests_8cpp_source.html#l00056">TEST_F()</a>, <a class="el" href="IOBufUtil_8cpp_source.html#l00015">fizz::trimBytes()</a>, <a class="el" href="IOBuf_8cpp_source.html#l01027">wrapIov()</a>, <a class="el" href="TestAsyncTransport_8cpp_source.html#l00268">TestAsyncTransport::writeChain()</a>, <a class="el" href="AsyncUDPSocket_8cpp_source.html#l00234">folly::AsyncUDPSocket::writeGSO()</a>, and <a class="el" href="AsyncUDPSocketTest_8cpp_source.html#l00295">ConnectedWriteUDPClient::writePing()</a>.</p>
<div class="fragment"><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                              {</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">data_</a>;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_a7a03b1d1337e3da57675a94b29a84ac9"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">folly::IOBuf::data_</a></div><div class="ttdeci">uint8_t * data_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01432">IOBuf.h:1432</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6a46b4df6fe3907e84b44c6235209f5a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::decrementRefcount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00773">773</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8h_source.html#l01459">flags()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00909">freeExtBuffer()</a>, <a class="el" href="deadlock_8py_source.html#l00447">deadlock::info()</a>, <a class="el" href="IOBuf_8h_source.html#l01342">kFlagFreeSharedInfo</a>, <a class="el" href="IOBuf_8h_source.html#l01355">folly::IOBuf::SharedInfo::refcount</a>, <a class="el" href="IOBuf_8h_source.html#l01449">sharedInfo()</a>, and <a class="el" href="ConstexprMathBenchmark_8cpp_source.html#l00186">uint32_t</a>.</p>

<p>Referenced by <a class="el" href="IOBuf_8cpp_source.html#l00722">coalesceAndReallocate()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00428">operator=()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00606">unshareOneSlow()</a>, and <a class="el" href="IOBuf_8cpp_source.html#l00415">~IOBuf()</a>.</p>
<div class="fragment"><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                              {</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  <span class="comment">// Externally owned buffers don&#39;t have a SharedInfo object and aren&#39;t managed</span></div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  <span class="comment">// by the reference count</span></div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  SharedInfo* <a class="code" href="namespacedeadlock.html#a6cba8e3d51735d7ac2ac91a947f4984b">info</a> = <a class="code" href="classfolly_1_1IOBuf.html#a57b13c905b7a558f8372ccd2d824550d">sharedInfo</a>();</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  <span class="keywordflow">if</span> (!info) {</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  }</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  <span class="comment">// Decrement the refcount</span></div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  <a class="code" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> newcnt = info-&gt;refcount.fetch_sub(1, std::memory_order_acq_rel);</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  <span class="comment">// Note that fetch_sub() returns the value before we decremented.</span></div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  <span class="comment">// If it is 1, we were the only remaining user; if it is greater there are</span></div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  <span class="comment">// still other users.</span></div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  <span class="keywordflow">if</span> (newcnt &gt; 1) {</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  }</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  <span class="comment">// We were the last user.  Free the buffer</span></div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#a0d3b81f0246509c414d5d0a52ea21e10">freeExtBuffer</a>();</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  <span class="comment">// Free the SharedInfo if it was allocated separately.</span></div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  <span class="comment">// This is only used by takeOwnership().</span></div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  <span class="comment">// To avoid this special case handling in decrementRefcount(), we could have</span></div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  <span class="comment">// takeOwnership() set a custom freeFn() that calls the user&#39;s free function</span></div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;  <span class="comment">// then frees the SharedInfo object.  (This would require that</span></div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  <span class="comment">// takeOwnership() store the user&#39;s free function with its allocated</span></div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  <span class="comment">// SharedInfo object.)  However, handling this specially with a flag seems</span></div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  <span class="comment">// like it shouldn&#39;t be problematic.</span></div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1IOBuf.html#afe0beb355cddf7ec2d6bd2c5ceccdeab">flags</a>() &amp; <a class="code" href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43a32d2db880a2042a2345b5181bd852504">kFlagFreeSharedInfo</a>) {</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classfolly_1_1IOBuf.html#a57b13c905b7a558f8372ccd2d824550d">sharedInfo</a>();</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  }</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;}</div><div class="ttc" id="namespacedeadlock_html_a6cba8e3d51735d7ac2ac91a947f4984b"><div class="ttname"><a href="namespacedeadlock.html#a6cba8e3d51735d7ac2ac91a947f4984b">deadlock.info</a></div><div class="ttdeci">def info()</div><div class="ttdef"><b>Definition:</b> <a href="deadlock_8py_source.html#l00447">deadlock.py:447</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_afe0beb355cddf7ec2d6bd2c5ceccdeab"><div class="ttname"><a href="classfolly_1_1IOBuf.html#afe0beb355cddf7ec2d6bd2c5ceccdeab">folly::IOBuf::flags</a></div><div class="ttdeci">uintptr_t flags() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01459">IOBuf.h:1459</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a0d3b81f0246509c414d5d0a52ea21e10"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a0d3b81f0246509c414d5d0a52ea21e10">folly::IOBuf::freeExtBuffer</a></div><div class="ttdeci">void freeExtBuffer()</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00909">IOBuf.cpp:909</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a291e8582a1769680d882f3e327a37b43a32d2db880a2042a2345b5181bd852504"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43a32d2db880a2042a2345b5181bd852504">folly::IOBuf::kFlagFreeSharedInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01342">IOBuf.h:1342</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a57b13c905b7a558f8372ccd2d824550d"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a57b13c905b7a558f8372ccd2d824550d">folly::IOBuf::sharedInfo</a></div><div class="ttdeci">SharedInfo * sharedInfo() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01449">IOBuf.h:1449</a></div></div>
<div class="ttc" id="ConstexprMathBenchmark_8cpp_html_a09a1e304d66d35dd47daffee9731edaa"><div class="ttname"><a href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a></div><div class="ttdeci">uint32_t</div><div class="ttdef"><b>Definition:</b> <a href="ConstexprMathBenchmark_8cpp_source.html#l00186">ConstexprMathBenchmark.cpp:186</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ade00358987fa180f29a797ab817b1924"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void folly::IOBuf::destroy </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt; &amp;&amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Convenience function to free a chain of IOBufs held by a unique_ptr. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00467">467</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>References <a class="el" href="Fingerprint_8cpp_source.html#l00043">data</a>, <a class="el" href="Access_8h_source.html#l00055">folly::empty()</a>, and <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>.</p>
<div class="fragment"><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                                                   {</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keyword">auto</span> destroyer = <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(data);</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  }</div><div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="addd20c4557b244419407356ca4ee756c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::IOBuf::empty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check whether the chain is empty (i.e., whether the IOBufs in the chain have a total data length of zero).</p>
<p>This method is semantically equivalent to i-&gt;<a class="el" href="classfolly_1_1IOBuf.html#ac4c405fd5fa405c8d814b4cc86309a34">computeChainDataLength()</a>==0 but may run faster because it can short-circuit as soon as it encounters a buffer with <a class="el" href="classfolly_1_1IOBuf.html#a7772f21059d7cde7f30341dfbb162e4a">length()</a>!=0 </p>

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00482">482</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="SynchronizedTest_8cpp_source.html#l00743">current</a>, <a class="el" href="IOBuf_8h_source.html#l00533">length()</a>, and <a class="el" href="IOBuf_8h_source.html#l01423">next_</a>.</p>

<p>Referenced by <a class="el" href="TypedIOBuf_8h_source.html#l00059">folly::TypedIOBuf&lt; T &gt;::empty()</a>, <a class="el" href="HTTP2Codec_8cpp_source.html#l00281">proxygen::HTTP2Codec::parseAllData()</a>, <a class="el" href="HTTP2Codec_8cpp_source.html#l00299">proxygen::HTTP2Codec::parseDataFrameData()</a>, and <a class="el" href="Compression_8cpp_source.html#l00180">folly::io::Codec::uncompress()</a>.</p>
<div class="fragment"><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                        {</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <span class="keyword">const</span> <a class="code" href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">IOBuf</a>* <a class="code" href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a> = <span class="keyword">this</span>;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <span class="keywordflow">do</span> {</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="keywordflow">if</span> (current-&gt;length() != 0) {</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    }</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    current = current-&gt;next_;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  } <span class="keywordflow">while</span> (current != <span class="keyword">this</span>);</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;}</div><div class="ttc" id="SynchronizedTest_8cpp_html_ab04e2d55ea4a544f3575812582af7b51"><div class="ttname"><a href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a></div><div class="ttdeci">int current</div><div class="ttdef"><b>Definition:</b> <a href="SynchronizedTest_8cpp_source.html#l00743">SynchronizedTest.cpp:743</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ad121c314bc97a30206e8b467eb609a27"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">folly::IOBuf::IOBuf</a></div><div class="ttdeci">IOBuf() noexcept</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00361">IOBuf.cpp:361</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac90007f78b7bbb5105395f439196d1ae"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1IOBuf_1_1Iterator.html">IOBuf::Iterator</a> folly::IOBuf::end </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l01687">1687</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>References <a class="el" href="Padded_8h_source.html#l00324">folly::padded::cend()</a>, and <a class="el" href="Portability_8h_source.html#l00179">FOLLY_POP_WARNING</a>.</p>

<p>Referenced by <a class="el" href="IOBuf_8cpp_source.html#l00677">coalesceSlow()</a>.</p>
<div class="fragment"><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;                                      {</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1IOBuf.html#ac6d70c98b72a48fd8687bf2560953740">cend</a>();</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOBuf_html_ac6d70c98b72a48fd8687bf2560953740"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ac6d70c98b72a48fd8687bf2560953740">folly::IOBuf::cend</a></div><div class="ttdeci">Iterator cend() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l01005">IOBuf.cpp:1005</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9b1e73c46f54a34e7ae552f29ebe4cc1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t folly::IOBuf::fillIov </td>
          <td>(</td>
          <td class="paramtype">struct iovec *&#160;</td>
          <td class="paramname"><em>iov</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fill an iovec array with the <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> data.</p>
<p>Returns the number of iovec filled. If there are more buffer than iovec, returns 0. This version is suitable to use with stack iovec arrays.</p>
<p>Naturally, the filled iovec data will be invalid if you modify the buffer chain. </p>

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l01072">1072</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8h_source.html#l00499">data()</a>, <a class="el" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt_source.html#l00083">i</a>, <a class="el" href="IOBuf_8h_source.html#l00533">length()</a>, <a class="el" href="IOBuf_8h_source.html#l00600">next()</a>, and <a class="el" href="ConstexprMathBenchmark_8cpp_source.html#l00178">uint8_t</a>.</p>

<p>Referenced by <a class="el" href="AsyncUDPSocket_8cpp_source.html#l00234">folly::AsyncUDPSocket::writeGSO()</a>, and <a class="el" href="AsyncUDPSocketTest_8cpp_source.html#l00295">ConnectedWriteUDPClient::writePing()</a>.</p>
<div class="fragment"><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;                                                         {</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">IOBuf</a> <span class="keyword">const</span>* p = <span class="keyword">this</span>;</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> = 0;</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;  <span class="keywordflow">while</span> (i &lt; len) {</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    <span class="comment">// some code can get confused by empty iovs, so skip them</span></div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <span class="keywordflow">if</span> (p-&gt;length() &gt; 0) {</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;      iov[<a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].iov_base = <span class="keyword">const_cast&lt;</span><a class="code" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>*<span class="keyword">&gt;</span>(p-&gt;data());</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;      iov[<a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].iov_len = p-&gt;length();</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;      i++;</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    }</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    p = p-&gt;next();</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    <span class="keywordflow">if</span> (p == <span class="keyword">this</span>) {</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>;</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    }</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;  }</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;}</div><div class="ttc" id="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt_html_a7e98b8a17c0aad30ba64d47b74e2a6c1"><div class="ttname"><a href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt_source.html#l00083">gtest_output_test_golden_lin.txt:83</a></div></div>
<div class="ttc" id="ConstexprMathBenchmark_8cpp_html_ae1affc9ca37cfb624959c866a73f83c2"><div class="ttname"><a href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a></div><div class="ttdeci">uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="ConstexprMathBenchmark_8cpp_source.html#l00178">ConstexprMathBenchmark.cpp:178</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ad121c314bc97a30206e8b467eb609a27"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">folly::IOBuf::IOBuf</a></div><div class="ttdeci">IOBuf() noexcept</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00361">IOBuf.cpp:361</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afe0beb355cddf7ec2d6bd2c5ceccdeab"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uintptr_t folly::IOBuf::flags </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l01459">1459</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>Referenced by <a class="el" href="IOBuf_8cpp_source.html#l00773">decrementRefcount()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00968">moveToFbString()</a>, and <a class="el" href="IOBuf_8cpp_source.html#l00808">reserveSlow()</a>.</p>
<div class="fragment"><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;                                 {</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1IOBuf.html#a305fafb3b8f177828fa7a427f25407a5">flagsAndSharedInfo_</a> &amp; <a class="code" href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43a7ec254b74ac4c9db53102f9b5c0b3f9f">kFlagMask</a>;</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_a291e8582a1769680d882f3e327a37b43a7ec254b74ac4c9db53102f9b5c0b3f9f"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43a7ec254b74ac4c9db53102f9b5c0b3f9f">folly::IOBuf::kFlagMask</a></div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01344">IOBuf.h:1344</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a305fafb3b8f177828fa7a427f25407a5"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a305fafb3b8f177828fa7a427f25407a5">folly::IOBuf::flagsAndSharedInfo_</a></div><div class="ttdeci">uintptr_t flagsAndSharedInfo_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01438">IOBuf.h:1438</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0d3b81f0246509c414d5d0a52ea21e10"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::freeExtBuffer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00909">909</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8h_source.html#l01433">buf_</a>, <a class="el" href="BitVectorCodingTest_8cpp_source.html#l00094">bm::free()</a>, <a class="el" href="IOBuf_8h_source.html#l01353">folly::IOBuf::SharedInfo::freeFn</a>, <a class="el" href="deadlock_8py_source.html#l00447">deadlock::info()</a>, <a class="el" href="IOBuf_8h_source.html#l01449">sharedInfo()</a>, and <a class="el" href="IOBuf_8h_source.html#l01354">folly::IOBuf::SharedInfo::userData</a>.</p>

<p>Referenced by <a class="el" href="IOBuf_8cpp_source.html#l00773">decrementRefcount()</a>, and <a class="el" href="IOBuf_8cpp_source.html#l00808">reserveSlow()</a>.</p>
<div class="fragment"><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                          {</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  SharedInfo* <a class="code" href="namespacedeadlock.html#a6cba8e3d51735d7ac2ac91a947f4984b">info</a> = <a class="code" href="classfolly_1_1IOBuf.html#a57b13c905b7a558f8372ccd2d824550d">sharedInfo</a>();</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  DCHECK(info);</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  <span class="keywordflow">if</span> (info-&gt;freeFn) {</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    <span class="keywordflow">try</span> {</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;      info-&gt;freeFn(<a class="code" href="classfolly_1_1IOBuf.html#affce6ca9f1b795300095724fe907e50d">buf_</a>, info-&gt;userData);</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    } <span class="keywordflow">catch</span> (...) {</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;      <span class="comment">// The user&#39;s free function should never throw.  Otherwise we might</span></div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;      <span class="comment">// throw from the IOBuf destructor.  Other code paths like coalesce()</span></div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;      <span class="comment">// also assume that decrementRefcount() cannot throw.</span></div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;      abort();</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    }</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    <a class="code" href="namespacebm.html#ad1f2831d164bf5bc0b15eae7b05fcd64">free</a>(<a class="code" href="classfolly_1_1IOBuf.html#affce6ca9f1b795300095724fe907e50d">buf_</a>);</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;  }</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;}</div><div class="ttc" id="namespacedeadlock_html_a6cba8e3d51735d7ac2ac91a947f4984b"><div class="ttname"><a href="namespacedeadlock.html#a6cba8e3d51735d7ac2ac91a947f4984b">deadlock.info</a></div><div class="ttdeci">def info()</div><div class="ttdef"><b>Definition:</b> <a href="deadlock_8py_source.html#l00447">deadlock.py:447</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_affce6ca9f1b795300095724fe907e50d"><div class="ttname"><a href="classfolly_1_1IOBuf.html#affce6ca9f1b795300095724fe907e50d">folly::IOBuf::buf_</a></div><div class="ttdeci">uint8_t * buf_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01433">IOBuf.h:1433</a></div></div>
<div class="ttc" id="namespacebm_html_ad1f2831d164bf5bc0b15eae7b05fcd64"><div class="ttname"><a href="namespacebm.html#ad1f2831d164bf5bc0b15eae7b05fcd64">bm::free</a></div><div class="ttdeci">void free()</div><div class="ttdef"><b>Definition:</b> <a href="BitVectorCodingTest_8cpp_source.html#l00094">BitVectorCodingTest.cpp:94</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a57b13c905b7a558f8372ccd2d824550d"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a57b13c905b7a558f8372ccd2d824550d">folly::IOBuf::sharedInfo</a></div><div class="ttdeci">SharedInfo * sharedInfo() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01449">IOBuf.h:1449</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a58c2c5bfb3d7be925a9337816455a20c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::freeInternalBuf </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>userData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00190">190</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8cpp_source.html#l00157">releaseStorage()</a>, and <a class="el" href="IOBuf_8h_source.html#l01354">folly::IOBuf::SharedInfo::userData</a>.</p>

<p>Referenced by <a class="el" href="IOBuf_8cpp_source.html#l00245">createCombined()</a>.</p>
<div class="fragment"><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                                                   {</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="keyword">auto</span>* storage = <span class="keyword">static_cast&lt;</span>HeapStorage*<span class="keyword">&gt;</span>(userData);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#a35312a33fbe594e9ba5ac5048e0cf6d3">releaseStorage</a>(storage, kDataInUse);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOBuf_html_a35312a33fbe594e9ba5ac5048e0cf6d3"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a35312a33fbe594e9ba5ac5048e0cf6d3">folly::IOBuf::releaseStorage</a></div><div class="ttdeci">static void releaseStorage(HeapStorage *storage, uint16_t freeFlags)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00157">IOBuf.cpp:157</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a26086cd80e51323efdc286f096c39b3c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void folly::IOBuf::freeUniquePtrBuffer </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>userData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l01502">1502</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;                                                             {</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    <span class="keyword">static_cast&lt;</span>DeleterBase*<span class="keyword">&gt;</span>(userData)-&gt;dispose(<a class="code" href="StaticSingletonManager_8cpp.html#a53a30bc00154d79fa155f60e2dfabf5f">ptr</a>);</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;  }</div><div class="ttc" id="StaticSingletonManager_8cpp_html_a53a30bc00154d79fa155f60e2dfabf5f"><div class="ttname"><a href="StaticSingletonManager_8cpp.html#a53a30bc00154d79fa155f60e2dfabf5f">ptr</a></div><div class="ttdeci">void * ptr</div><div class="ttdef"><b>Definition:</b> <a href="StaticSingletonManager_8cpp_source.html#l00038">StaticSingletonManager.cpp:38</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a39c461f26d2626ab9199e2b643fb4811"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::gather </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>maxLength</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Ensure that this chain has at least maxLength bytes available as a contiguous memory range.</p>
<p>This method coalesces whole buffers in the chain into this buffer as necessary until this buffer's <a class="el" href="classfolly_1_1IOBuf.html#a7772f21059d7cde7f30341dfbb162e4a">length()</a> is at least maxLength.</p>
<p>After coalescing, the <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> will have at least as much headroom as the first <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> in the chain, and at least as much tailroom as the last <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> that was coalesced.</p>
<p>Throws std::bad_alloc or std::overflow_error on error. On error the <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> chain will be unmodified. Throws std::overflow_error if maxLength is longer than the total chain length.</p>
<p>Upon return, either enough of the chain was coalesced into a contiguous region, or the entire chain was coalesced. That is, <a class="el" href="classfolly_1_1IOBuf.html#a7772f21059d7cde7f30341dfbb162e4a">length()</a> &gt;= maxLength || !isChained() is true. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l01136">1136</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>References <a class="el" href="JSONSchema_8cpp_source.html#l00233">length_</a>.</p>
<div class="fragment"><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;                                   {</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classfolly_1_1IOBuf.html#a5b6f1bccec27ec05ad6b6906980589ea">isChained</a>() || <a class="code" href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">length_</a> &gt;= maxLength) {</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    }</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#afc90b078da733a7fc981b9dae10f6d6b">coalesceSlow</a>(maxLength);</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_a5b6f1bccec27ec05ad6b6906980589ea"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a5b6f1bccec27ec05ad6b6906980589ea">folly::IOBuf::isChained</a></div><div class="ttdeci">bool isChained() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00760">IOBuf.h:760</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a564daf68834ce4e7523f329e1c6df23f"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">folly::IOBuf::length_</a></div><div class="ttdeci">std::size_t length_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01434">IOBuf.h:1434</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_afc90b078da733a7fc981b9dae10f6d6b"><div class="ttname"><a href="classfolly_1_1IOBuf.html#afc90b078da733a7fc981b9dae10f6d6b">folly::IOBuf::coalesceSlow</a></div><div class="ttdeci">void coalesceSlow()</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00677">IOBuf.cpp:677</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a23a2a1a0380180a75cff59f046b61767"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1fbvector.html">folly::fbvector</a>&lt; struct iovec &gt; folly::IOBuf::getIov </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return an iovector suitable for e.g. writev()</p>
<p>auto iov = buf-&gt;<a class="el" href="classfolly_1_1IOBuf.html#a23a2a1a0380180a75cff59f046b61767">getIov()</a>; auto xfer = writev(fd, iov.data(), <a class="el" href="namespacefolly.html#a0606ba855bcb96a1673880aa3b404993">iov.size()</a>);</p>
<p>Naturally, the returned iovector is invalid if you modify the buffer chain. </p>

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l01009">1009</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8cpp_source.html#l01016">appendToIov()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00493">countChainElements()</a>, and <a class="el" href="FBVector_8h_source.html#l01003">folly::fbvector&lt; T, Allocator &gt;::reserve()</a>.</p>
<div class="fragment"><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                                                {</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;  <a class="code" href="classfolly_1_1fbvector.html">folly::fbvector&lt;struct iovec&gt;</a> iov;</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;  iov.<a class="code" href="classfolly_1_1fbvector.html#ae97032a62571beb9fabac58878f29293">reserve</a>(<a class="code" href="classfolly_1_1IOBuf.html#ad23972657a0dd820d36bd83ebc74ca39">countChainElements</a>());</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#a8c2e5a778f3f086bcee869743b1c049d">appendToIov</a>(&amp;iov);</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;  <span class="keywordflow">return</span> iov;</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;}</div><div class="ttc" id="classfolly_1_1fbvector_html_ae97032a62571beb9fabac58878f29293"><div class="ttname"><a href="classfolly_1_1fbvector.html#ae97032a62571beb9fabac58878f29293">folly::fbvector::reserve</a></div><div class="ttdeci">void reserve(size_type n)</div><div class="ttdef"><b>Definition:</b> <a href="FBVector_8h_source.html#l01003">FBVector.h:1003</a></div></div>
<div class="ttc" id="classfolly_1_1fbvector_html"><div class="ttname"><a href="classfolly_1_1fbvector.html">folly::fbvector</a></div><div class="ttdef"><b>Definition:</b> <a href="FBVector_8h_source.html#l00049">FBVector.h:49</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ad23972657a0dd820d36bd83ebc74ca39"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ad23972657a0dd820d36bd83ebc74ca39">folly::IOBuf::countChainElements</a></div><div class="ttdeci">size_t countChainElements() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00493">IOBuf.cpp:493</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a8c2e5a778f3f086bcee869743b1c049d"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a8c2e5a778f3f086bcee869743b1c049d">folly::IOBuf::appendToIov</a></div><div class="ttdeci">void appendToIov(folly::fbvector&lt; struct iovec &gt; *iov) const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l01016">IOBuf.cpp:1016</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afcf6bc0bd4608c6946b53b69d075bf3d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t folly::IOBuf::goodExtBufferSize </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>minCapacity</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00938">938</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="memory_2Malloc_8h_source.html#l00201">folly::goodMallocSize()</a>.</p>

<p>Referenced by <a class="el" href="IOBuf_8cpp_source.html#l00927">allocExtBuffer()</a>, and <a class="el" href="IOBuf_8cpp_source.html#l00808">reserveSlow()</a>.</p>
<div class="fragment"><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;                                                     {</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;  <span class="comment">// Determine how much space we should allocate.  We&#39;ll store the SharedInfo</span></div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  <span class="comment">// for the external buffer just after the buffer itself.  (We store it just</span></div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  <span class="comment">// after the buffer rather than just before so that the code can still just</span></div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  <span class="comment">// use free(buf_) to free the buffer.)</span></div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  <span class="keywordtype">size_t</span> minSize = <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(minCapacity) + <span class="keyword">sizeof</span>(SharedInfo);</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  <span class="comment">// Add room for padding so that the SharedInfo will be aligned on an 8-byte</span></div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  <span class="comment">// boundary.</span></div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  minSize = (minSize + 7) &amp; ~7;</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;  <span class="comment">// Use goodMallocSize() to bump up the capacity to a decent size to request</span></div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  <span class="comment">// from malloc, so we can use all of the space that malloc will probably give</span></div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  <span class="comment">// us anyway.</span></div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacefolly.html#ae17bba935a07151ca130bd72f2733719">goodMallocSize</a>(minSize);</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;}</div><div class="ttc" id="namespacefolly_html_ae17bba935a07151ca130bd72f2733719"><div class="ttname"><a href="namespacefolly.html#ae17bba935a07151ca130bd72f2733719">folly::goodMallocSize</a></div><div class="ttdeci">size_t goodMallocSize(size_t minSize) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="memory_2Malloc_8h_source.html#l00201">Malloc.h:201</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6e7ab795221f3359c2d919b3035374c3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t folly::IOBuf::headroom </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the amount of head room.</p>
<p>Returns the number of bytes in the buffer before the start of the data. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00542">542</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>References <a class="el" href="experimental_2test_2BitsBenchmark_8cpp.html#a25bccaee4203f6f142efc1f61e9b66c5">buffer()</a>, and <a class="el" href="FileUtilTest_8cpp_source.html#l00066">data_</a>.</p>

<p>Referenced by <a class="el" href="IOBuf_8cpp_source.html#l00570">cloneCoalescedAsValue()</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l01031">proxygen::SPDYCodec::generateDataFrame()</a>, <a class="el" href="TypedIOBuf_8h_source.html#l00081">folly::TypedIOBuf&lt; T &gt;::headroom()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00968">moveToFbString()</a>, <a class="el" href="IOBufTest_8cpp_source.html#l00043">prepend()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00808">reserveSlow()</a>, <a class="el" href="IOBufTest_8cpp_source.html#l00049">TEST()</a>, <a class="el" href="HPACKCodecTests_8cpp_source.html#l00106">TEST_F()</a>, and <a class="el" href="IOBuf_8cpp_source.html#l00606">unshareOneSlow()</a>.</p>
<div class="fragment"><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                             {</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="keywordflow">return</span> std::size_t(<a class="code" href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">data_</a> - <a class="code" href="classfolly_1_1IOBuf.html#a13594a66788d8fe6ee7913e9d100ca5a">buffer</a>());</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_a7a03b1d1337e3da57675a94b29a84ac9"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">folly::IOBuf::data_</a></div><div class="ttdeci">uint8_t * data_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01432">IOBuf.h:1432</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a13594a66788d8fe6ee7913e9d100ca5a"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a13594a66788d8fe6ee7913e9d100ca5a">folly::IOBuf::buffer</a></div><div class="ttdeci">const uint8_t * buffer() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00562">IOBuf.h:562</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a81f9eb67397c7c6f768a9ec9d25572c4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::initExtBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>mallocSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfolly_1_1IOBuf_1_1SharedInfo.html">SharedInfo</a> **&#160;</td>
          <td class="paramname"><em>infoReturn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t *&#160;</td>
          <td class="paramname"><em>capacityReturn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00954">954</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8h_source.html#l01449">sharedInfo()</a>, and <a class="el" href="ConstexprMathBenchmark_8cpp_source.html#l00178">uint8_t</a>.</p>

<p>Referenced by <a class="el" href="IOBuf_8cpp_source.html#l00927">allocExtBuffer()</a>, and <a class="el" href="IOBuf_8cpp_source.html#l00808">reserveSlow()</a>.</p>
<div class="fragment"><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;                               {</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;  <span class="comment">// Find the SharedInfo storage at the end of the buffer</span></div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  <span class="comment">// and construct the SharedInfo.</span></div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;  <a class="code" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>* infoStart = (buf + mallocSize) - <span class="keyword">sizeof</span>(SharedInfo);</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;  SharedInfo* <a class="code" href="classfolly_1_1IOBuf.html#a57b13c905b7a558f8372ccd2d824550d">sharedInfo</a> = <span class="keyword">new</span> (infoStart) SharedInfo;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  *capacityReturn = std::size_t(infoStart - buf);</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  *infoReturn = <a class="code" href="classfolly_1_1IOBuf.html#a57b13c905b7a558f8372ccd2d824550d">sharedInfo</a>;</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;}</div><div class="ttc" id="ConstexprMathBenchmark_8cpp_html_ae1affc9ca37cfb624959c866a73f83c2"><div class="ttname"><a href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a></div><div class="ttdeci">uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="ConstexprMathBenchmark_8cpp_source.html#l00178">ConstexprMathBenchmark.cpp:178</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a57b13c905b7a558f8372ccd2d824550d"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a57b13c905b7a558f8372ccd2d824550d">folly::IOBuf::sharedInfo</a></div><div class="ttdeci">SharedInfo * sharedInfo() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01449">IOBuf.h:1449</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5b6f1bccec27ec05ad6b6906980589ea"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::IOBuf::isChained </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return true if this <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> is part of a chain of multiple IOBufs, or false if this is the only <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> in its chain. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00760">760</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>Referenced by <a class="el" href="IOBufTest_8cpp_source.html#l00907">MoveToFbStringTest::check()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00576">cloneCoalescedAsValueWithHeadroomTailroom()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00722">coalesceAndReallocate()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00677">coalesceSlow()</a>, <a class="el" href="Compression_8cpp_source.html#l00494">folly::io::StreamCodec::doUncompress()</a>, <a class="el" href="ZlibServerFilterTest_8cpp_source.html#l00058">ZlibServerFilterTest::exercise_compression()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00664">makeManagedChained()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00968">moveToFbString()</a>, <a class="el" href="IOBufCursorTest_8cpp_source.html#l00032">TEST()</a>, <a class="el" href="EncryptedRecordTest_8cpp_source.html#l00274">fizz::test::TEST_F()</a>, <a class="el" href="MockCodecDownstreamTest_8cpp_source.html#l01235">TEST_F()</a>, and <a class="el" href="IOBuf_8cpp_source.html#l00632">unshareChained()</a>.</p>
<div class="fragment"><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                         {</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    assert((<a class="code" href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">next_</a> == <span class="keyword">this</span>) == (<a class="code" href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">prev_</a> == <span class="keyword">this</span>));</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">next_</a> != <span class="keyword">this</span>;</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_a038b1d38b9814d8e2f571bc94d3cf0dc"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">folly::IOBuf::next_</a></div><div class="ttdeci">IOBuf * next_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01423">IOBuf.h:1423</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a93ce4461ec7eba82b74038f887c3f957"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">folly::IOBuf::prev_</a></div><div class="ttdeci">IOBuf * prev_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01424">IOBuf.h:1424</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a737232f21fbe531d5685704da9d926d8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::IOBuf::isManaged </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return true if all IOBufs in this chain are managed by the usual refcounting mechanism (and so the lifetime of the underlying memory can be extended by <a class="el" href="classfolly_1_1IOBuf.html#afe57aa61436e5d88d3b38c6387ad14fe">clone()</a>). </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00920">920</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>References <a class="el" href="SynchronizedTest_8cpp_source.html#l00743">current</a>, <a class="el" href="IOBuf_8h_source.html#l00938">isManagedOne()</a>, and <a class="el" href="IOBuf_8h_source.html#l01423">next_</a>.</p>
<div class="fragment"><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;                         {</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    <span class="keyword">const</span> <a class="code" href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">IOBuf</a>* <a class="code" href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a> = <span class="keyword">this</span>;</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;      <span class="keywordflow">if</span> (!current-&gt;isManagedOne()) {</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;      }</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;      current = current-&gt;next_;</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;      <span class="keywordflow">if</span> (current == <span class="keyword">this</span>) {</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;      }</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    }</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  }</div><div class="ttc" id="SynchronizedTest_8cpp_html_ab04e2d55ea4a544f3575812582af7b51"><div class="ttname"><a href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a></div><div class="ttdeci">int current</div><div class="ttdef"><b>Definition:</b> <a href="SynchronizedTest_8cpp_source.html#l00743">SynchronizedTest.cpp:743</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ad121c314bc97a30206e8b467eb609a27"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">folly::IOBuf::IOBuf</a></div><div class="ttdeci">IOBuf() noexcept</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00361">IOBuf.cpp:361</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0bb4ccf5542401665484981b14afbac1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::IOBuf::isManagedOne </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return true if this <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> is managed by the usual refcounting mechanism (and so the lifetime of the underlying memory can be extended by <a class="el" href="classfolly_1_1IOBuf.html#ad6d5b57094e1e6a63a07598b8556bf46">cloneOne()</a>). </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00938">938</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>Referenced by <a class="el" href="IOBuf_8h_source.html#l00920">isManaged()</a>.</p>
<div class="fragment"><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;                            {</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1IOBuf.html#a57b13c905b7a558f8372ccd2d824550d">sharedInfo</a>();</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_a57b13c905b7a558f8372ccd2d824550d"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a57b13c905b7a558f8372ccd2d824550d">folly::IOBuf::sharedInfo</a></div><div class="ttdeci">SharedInfo * sharedInfo() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01449">IOBuf.h:1449</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac6f285ff625252999cd597faa61b1837"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::IOBuf::isShared </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return true if at least one of the IOBufs in this chain are shared, or false if all of the IOBufs point to unique buffers.</p>
<p>Use <a class="el" href="classfolly_1_1IOBuf.html#abc566a1f1aabc7cdb029de084952dffb">isSharedOne()</a> to only check this <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> rather than the entire chain. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00902">902</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>References <a class="el" href="SynchronizedTest_8cpp_source.html#l00743">current</a>, <a class="el" href="IOBuf_8h_source.html#l00952">isSharedOne()</a>, and <a class="el" href="IOBuf_8h_source.html#l01423">next_</a>.</p>

<p>Referenced by <a class="el" href="IOBuf_8cpp_source.html#l00968">moveToFbString()</a>, and <a class="el" href="IOBufTest_8cpp_source.html#l00315">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;                        {</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    <span class="keyword">const</span> <a class="code" href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">IOBuf</a>* <a class="code" href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a> = <span class="keyword">this</span>;</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;      <span class="keywordflow">if</span> (current-&gt;isSharedOne()) {</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;      }</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;      current = current-&gt;next_;</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;      <span class="keywordflow">if</span> (current == <span class="keyword">this</span>) {</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;      }</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    }</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  }</div><div class="ttc" id="SynchronizedTest_8cpp_html_ab04e2d55ea4a544f3575812582af7b51"><div class="ttname"><a href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a></div><div class="ttdeci">int current</div><div class="ttdef"><b>Definition:</b> <a href="SynchronizedTest_8cpp_source.html#l00743">SynchronizedTest.cpp:743</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ad121c314bc97a30206e8b467eb609a27"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">folly::IOBuf::IOBuf</a></div><div class="ttdeci">IOBuf() noexcept</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00361">IOBuf.cpp:361</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abc566a1f1aabc7cdb029de084952dffb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::IOBuf::isSharedOne </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return true if other IOBufs are also pointing to the buffer used by this <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a>, and false otherwise.</p>
<p>If this <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> points at a buffer owned by another (non-IOBuf) part of the code (i.e., if the <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> was created using <a class="el" href="classfolly_1_1IOBuf.html#a354ecb1fb5f80e8d0006cf0e74307b63">wrapBuffer()</a>, or was cloned from such an <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a>), it is always considered shared.</p>
<p>This only checks the current <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a>, and not other IOBufs in the chain. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00952">952</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>References <a class="el" href="Likely_8h_source.html#l00047">LIKELY</a>, and <a class="el" href="Likely_8h_source.html#l00048">UNLIKELY</a>.</p>

<p>Referenced by <a class="el" href="SPDYCodec_8cpp_source.html#l01031">proxygen::SPDYCodec::generateDataFrame()</a>, <a class="el" href="IOBuf_8h_source.html#l00902">isShared()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00808">reserveSlow()</a>, <a class="el" href="IOBufTest_8cpp_source.html#l00315">TEST()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00632">unshareChained()</a>, and <a class="el" href="IOBufQueue_8h_source.html#l00633">folly::IOBufQueue::updateWritableTailCache()</a>.</p>
<div class="fragment"><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                           {</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    <span class="comment">// If this is a user-owned buffer, it is always considered shared</span></div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="Likely_8h.html#ab10d0a221f4d7a706701b806c8135fd7">UNLIKELY</a>(!<a class="code" href="classfolly_1_1IOBuf.html#a57b13c905b7a558f8372ccd2d824550d">sharedInfo</a>())) {</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    }</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="Likely_8h.html#ab10d0a221f4d7a706701b806c8135fd7">UNLIKELY</a>(<a class="code" href="classfolly_1_1IOBuf.html#a57b13c905b7a558f8372ccd2d824550d">sharedInfo</a>()-&gt;externallyShared)) {</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    }</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="Likely_8h.html#affde14445f49f65ff4f5b592e44ee71a">LIKELY</a>(!(<a class="code" href="classfolly_1_1IOBuf.html#afe0beb355cddf7ec2d6bd2c5ceccdeab">flags</a>() &amp; <a class="code" href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43a6460c8cd33bfc6cbeead7b4beb752809">kFlagMaybeShared</a>))) {</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    }</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    <span class="comment">// kFlagMaybeShared is set, so we need to check the reference count.</span></div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    <span class="comment">// (Checking the reference count requires an atomic operation, which is why</span></div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    <span class="comment">// we prefer to only check kFlagMaybeShared if possible.)</span></div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    <span class="keywordtype">bool</span> shared = <a class="code" href="classfolly_1_1IOBuf.html#a57b13c905b7a558f8372ccd2d824550d">sharedInfo</a>()-&gt;<a class="code" href="structfolly_1_1IOBuf_1_1SharedInfo.html#a4422f5d5d9fc5a0a18af400dc15d222a">refcount</a>.load(std::memory_order_acquire) &gt; 1;</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    <span class="keywordflow">if</span> (!shared) {</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;      <span class="comment">// we&#39;re the last one left</span></div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#ae04abcc03e44c4661d3180c1f8fb3b4a">clearFlags</a>(<a class="code" href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43a6460c8cd33bfc6cbeead7b4beb752809">kFlagMaybeShared</a>);</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    }</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <span class="keywordflow">return</span> shared;</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_afe0beb355cddf7ec2d6bd2c5ceccdeab"><div class="ttname"><a href="classfolly_1_1IOBuf.html#afe0beb355cddf7ec2d6bd2c5ceccdeab">folly::IOBuf::flags</a></div><div class="ttdeci">uintptr_t flags() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01459">IOBuf.h:1459</a></div></div>
<div class="ttc" id="Likely_8h_html_affde14445f49f65ff4f5b592e44ee71a"><div class="ttname"><a href="Likely_8h.html#affde14445f49f65ff4f5b592e44ee71a">LIKELY</a></div><div class="ttdeci">#define LIKELY(x)</div><div class="ttdef"><b>Definition:</b> <a href="Likely_8h_source.html#l00047">Likely.h:47</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a57b13c905b7a558f8372ccd2d824550d"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a57b13c905b7a558f8372ccd2d824550d">folly::IOBuf::sharedInfo</a></div><div class="ttdeci">SharedInfo * sharedInfo() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01449">IOBuf.h:1449</a></div></div>
<div class="ttc" id="structfolly_1_1IOBuf_1_1SharedInfo_html_a4422f5d5d9fc5a0a18af400dc15d222a"><div class="ttname"><a href="structfolly_1_1IOBuf_1_1SharedInfo.html#a4422f5d5d9fc5a0a18af400dc15d222a">folly::IOBuf::SharedInfo::refcount</a></div><div class="ttdeci">std::atomic&lt; uint32_t &gt; refcount</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01355">IOBuf.h:1355</a></div></div>
<div class="ttc" id="Likely_8h_html_ab10d0a221f4d7a706701b806c8135fd7"><div class="ttname"><a href="Likely_8h.html#ab10d0a221f4d7a706701b806c8135fd7">UNLIKELY</a></div><div class="ttdeci">#define UNLIKELY(x)</div><div class="ttdef"><b>Definition:</b> <a href="Likely_8h_source.html#l00048">Likely.h:48</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ae04abcc03e44c4661d3180c1f8fb3b4a"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ae04abcc03e44c4661d3180c1f8fb3b4a">folly::IOBuf::clearFlags</a></div><div class="ttdeci">void clearFlags(uintptr_t flags) const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01469">IOBuf.h:1469</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a291e8582a1769680d882f3e327a37b43a6460c8cd33bfc6cbeead7b4beb752809"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43a6460c8cd33bfc6cbeead7b4beb752809">folly::IOBuf::kFlagMaybeShared</a></div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01343">IOBuf.h:1343</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7772f21059d7cde7f30341dfbb162e4a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t folly::IOBuf::length </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the data length. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00533">533</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>References <a class="el" href="JSONSchema_8cpp_source.html#l00233">length_</a>.</p>

<p>Referenced by <a class="el" href="TestAsyncTransport_8cpp_source.html#l00426">TestAsyncTransport::addReadEvent()</a>, <a class="el" href="IOBuf_8cpp_source.html#l01016">appendToIov()</a>, <a class="el" href="Cursor_8h_source.html#l00142">folly::io::detail::CursorBase&lt; Cursor, const IOBuf &gt;::canAdvance()</a>, <a class="el" href="IOBufTest_8cpp_source.html#l00907">MoveToFbStringTest::check()</a>, <a class="el" href="IOBufTest_8cpp_source.html#l00299">checkBuf()</a>, <a class="el" href="IOBufTest_8cpp_source.html#l00307">checkChain()</a>, <a class="el" href="Cursor_8h_source.html#l00468">folly::io::detail::CursorBase&lt; Cursor, const IOBuf &gt;::cloneAtMost()</a>, <a class="el" href="gen_2String-inl_8h_source.html#l00113">folly::gen::detail::consumeBufferPlus()</a>, <a class="el" href="Compression_8cpp_source.html#l00444">folly::io::StreamCodec::doCompress()</a>, <a class="el" href="Compression_8cpp_source.html#l00494">folly::io::StreamCodec::doUncompress()</a>, <a class="el" href="utils_2Logging_8cpp_source.html#l00132">proxygen::dumpBinToFile()</a>, <a class="el" href="lib_2http_2codec_2compress_2test_2TestUtil_8cpp_source.html#l00027">proxygen::hpack::dumpToFile()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00482">empty()</a>, <a class="el" href="GzipHeaderCodec_8cpp_source.html#l00181">proxygen::GzipHeaderCodec::encode()</a>, <a class="el" href="IOBufTest_8cpp_source.html#l00263">fillBuf()</a>, <a class="el" href="IOBuf_8cpp_source.html#l01072">fillIov()</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l01031">proxygen::SPDYCodec::generateDataFrame()</a>, <a class="el" href="EncryptedRecordLayer_8cpp_source.html#l00222">fizz::EncryptedWriteRecordLayer::getBufToEncrypt()</a>, <a class="el" href="EncryptedRecordLayer_8cpp_source.html#l00025">fizz::EncryptedReadRecordLayer::getDecryptedBuf()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00397">IOBuf()</a>, <a class="el" href="Cursor_8h_source.html#l00159">folly::io::detail::CursorBase&lt; Cursor, const IOBuf &gt;::isAtEnd()</a>, <a class="el" href="TypedIOBuf_8h_source.html#l00074">folly::TypedIOBuf&lt; T &gt;::length()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00968">moveToFbString()</a>, <a class="el" href="HTTPCodecPrinter_8cpp_source.html#l00062">proxygen::HTTPCodecPrinter::onBody()</a>, <a class="el" href="CurlClient_8cpp_source.html#l00201">CurlService::CurlClient::onBody()</a>, <a class="el" href="HTTP1xCodec_8cpp_source.html#l01144">proxygen::HTTP1xCodec::onBody()</a>, <a class="el" href="SSLSessionCacheManager_8cpp_source.html#l00440">wangle::SSLSessionCacheManager::onGetSuccess()</a>, <a class="el" href="HTTPCodecPrinter_8cpp_source.html#l00100">proxygen::HTTPCodecPrinter::onGoaway()</a>, <a class="el" href="HTTP1xCodec_8cpp_source.html#l00177">proxygen::HTTP1xCodec::onIngress()</a>, <a class="el" href="HTTP2Codec_8cpp_source.html#l00869">proxygen::HTTP2Codec::parseGoaway()</a>, <a class="el" href="utils_2Logging_8cpp_source.html#l00059">proxygen::Hex16Printer::print()</a>, <a class="el" href="utils_2Logging_8cpp_source.html#l00055">proxygen::HexFollyPrinter::print()</a>, <a class="el" href="utils_2Logging_8cpp_source.html#l00076">proxygen::ChainInfoPrinter::print()</a>, <a class="el" href="utils_2Logging_8cpp_source.html#l00083">proxygen::BinPrinter::print()</a>, <a class="el" href="HTTPSession_8cpp_source.html#l00575">proxygen::HTTPSession::processReadData()</a>, <a class="el" href="StringCodec_8h_source.html#l00033">wangle::StringCodec::read()</a>, <a class="el" href="HTTPUpstreamSessionTest_8cpp_source.html#l00270">HTTPUpstreamTest&lt; SPDY3CodecPair &gt;::readAndLoop()</a>, <a class="el" href="RFC1867_8cpp_source.html#l00225">proxygen::RFC1867Codec::readToBoundary()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00313">takeOwnership()</a>, <a class="el" href="IOBufCursorTest_8cpp_source.html#l00502">TEST()</a>, <a class="el" href="HPACKBufferTests_8cpp_source.html#l00447">TEST_F()</a>, <a class="el" href="IOBufUtil_8h_source.html#l00038">fizz::transformBuffer()</a>, <a class="el" href="IOBufUtil_8cpp_source.html#l00015">fizz::trimBytes()</a>, <a class="el" href="TestAsyncTransport_8cpp_source.html#l00268">TestAsyncTransport::writeChain()</a>, <a class="el" href="AsyncUDPSocket_8cpp_source.html#l00234">folly::AsyncUDPSocket::writeGSO()</a>, and <a class="el" href="AsyncUDPSocketTest_8cpp_source.html#l00295">ConnectedWriteUDPClient::writePing()</a>.</p>
<div class="fragment"><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                           {</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">length_</a>;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_a564daf68834ce4e7523f329e1c6df23f"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">folly::IOBuf::length_</a></div><div class="ttdeci">std::size_t length_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01434">IOBuf.h:1434</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a583ef629e573b10c5cfe2b97951328af"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::makeManaged </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Ensure that the memory that IOBufs in this chain refer to will continue to be allocated for as long as the IOBufs of the chain (or any <a class="el" href="classfolly_1_1IOBuf.html#afe57aa61436e5d88d3b38c6387ad14fe">clone()</a>s created from this point onwards) is alive.</p>
<p>This only has an effect for user-owned buffers (created with the WRAP_BUFFER constructor or wrapBuffer factory function), in which case those buffers are unshared. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l01054">1054</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;                     {</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1IOBuf.html#a5b6f1bccec27ec05ad6b6906980589ea">isChained</a>()) {</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#a0ddcace3bdbd17e2b896fd7fbaa9e039">makeManagedChained</a>();</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#a20a051e2bbcafc80a01cdc2b5cbffa55">makeManagedOne</a>();</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    }</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_a5b6f1bccec27ec05ad6b6906980589ea"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a5b6f1bccec27ec05ad6b6906980589ea">folly::IOBuf::isChained</a></div><div class="ttdeci">bool isChained() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00760">IOBuf.h:760</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a0ddcace3bdbd17e2b896fd7fbaa9e039"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a0ddcace3bdbd17e2b896fd7fbaa9e039">folly::IOBuf::makeManagedChained</a></div><div class="ttdeci">void makeManagedChained()</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00664">IOBuf.cpp:664</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a20a051e2bbcafc80a01cdc2b5cbffa55"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a20a051e2bbcafc80a01cdc2b5cbffa55">folly::IOBuf::makeManagedOne</a></div><div class="ttdeci">void makeManagedOne()</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01071">IOBuf.h:1071</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0ddcace3bdbd17e2b896fd7fbaa9e039"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::makeManagedChained </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00664">664</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="SynchronizedTest_8cpp_source.html#l00743">current</a>, <a class="el" href="IOBuf_8h_source.html#l00760">isChained()</a>, <a class="el" href="IOBuf_8h_source.html#l01071">makeManagedOne()</a>, and <a class="el" href="IOBuf_8h_source.html#l01423">next_</a>.</p>
<div class="fragment"><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                               {</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  assert(<a class="code" href="classfolly_1_1IOBuf.html#a5b6f1bccec27ec05ad6b6906980589ea">isChained</a>());</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">IOBuf</a>* <a class="code" href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a> = <span class="keyword">this</span>;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    current-&gt;makeManagedOne();</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    current = current-&gt;next_;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <span class="keywordflow">if</span> (current == <span class="keyword">this</span>) {</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    }</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  }</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOBuf_html_a5b6f1bccec27ec05ad6b6906980589ea"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a5b6f1bccec27ec05ad6b6906980589ea">folly::IOBuf::isChained</a></div><div class="ttdeci">bool isChained() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00760">IOBuf.h:760</a></div></div>
<div class="ttc" id="SynchronizedTest_8cpp_html_ab04e2d55ea4a544f3575812582af7b51"><div class="ttname"><a href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a></div><div class="ttdeci">int current</div><div class="ttdef"><b>Definition:</b> <a href="SynchronizedTest_8cpp_source.html#l00743">SynchronizedTest.cpp:743</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ad121c314bc97a30206e8b467eb609a27"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">folly::IOBuf::IOBuf</a></div><div class="ttdeci">IOBuf() noexcept</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00361">IOBuf.cpp:361</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a20a051e2bbcafc80a01cdc2b5cbffa55"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::makeManagedOne </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Ensure that the memory that this <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> refers to will continue to be allocated for as long as this <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> (or any <a class="el" href="classfolly_1_1IOBuf.html#afe57aa61436e5d88d3b38c6387ad14fe">clone()</a>s created from this point onwards) is alive.</p>
<p>This only has an effect for user-owned buffers (created with the WRAP_BUFFER constructor or wrapBuffer factory function), in which case those buffers are unshared. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l01071">1071</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>Referenced by <a class="el" href="IOBuf_8cpp_source.html#l00664">makeManagedChained()</a>.</p>
<div class="fragment"><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;                        {</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classfolly_1_1IOBuf.html#a0bb4ccf5542401665484981b14afbac1">isManagedOne</a>()) {</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;      <span class="comment">// We can call the internal function directly; unmanaged implies shared.</span></div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#a35436018ffdcb4b99c13c30a822faf43">unshareOneSlow</a>();</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    }</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_a35436018ffdcb4b99c13c30a822faf43"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a35436018ffdcb4b99c13c30a822faf43">folly::IOBuf::unshareOneSlow</a></div><div class="ttdeci">void unshareOneSlow()</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00606">IOBuf.cpp:606</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a0bb4ccf5542401665484981b14afbac1"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a0bb4ccf5542401665484981b14afbac1">folly::IOBuf::isManagedOne</a></div><div class="ttdeci">bool isManagedOne() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00938">IOBuf.h:938</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aead8140c181c41429c6e119c5d28a87e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::markExternallyShared </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Mark the underlying buffers in this chain as shared with external memory management mechanism. This will make <a class="el" href="classfolly_1_1IOBuf.html#ac6f285ff625252999cd597faa61b1837">isShared()</a> always returns true.</p>
<p>This function is not thread-safe, and only safe to call immediately after creating an <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a>, before it has been shared with other threads. </p>

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00656">656</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="SynchronizedTest_8cpp_source.html#l00743">current</a>, <a class="el" href="IOBuf_8h_source.html#l01038">markExternallySharedOne()</a>, and <a class="el" href="IOBuf_8h_source.html#l01423">next_</a>.</p>
<div class="fragment"><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                                 {</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">IOBuf</a>* <a class="code" href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a> = <span class="keyword">this</span>;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  <span class="keywordflow">do</span> {</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    current-&gt;markExternallySharedOne();</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    current = current-&gt;next_;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  } <span class="keywordflow">while</span> (current != <span class="keyword">this</span>);</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;}</div><div class="ttc" id="SynchronizedTest_8cpp_html_ab04e2d55ea4a544f3575812582af7b51"><div class="ttname"><a href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a></div><div class="ttdeci">int current</div><div class="ttdef"><b>Definition:</b> <a href="SynchronizedTest_8cpp_source.html#l00743">SynchronizedTest.cpp:743</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ad121c314bc97a30206e8b467eb609a27"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">folly::IOBuf::IOBuf</a></div><div class="ttdeci">IOBuf() noexcept</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00361">IOBuf.cpp:361</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa35f1133cf7a46b90110a9fdbfbaad8b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::markExternallySharedOne </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Mark the underlying buffer that this <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> refers to as shared with external memory management mechanism. This will make <a class="el" href="classfolly_1_1IOBuf.html#abc566a1f1aabc7cdb029de084952dffb">isSharedOne()</a> always returns true.</p>
<p>This function is not thread-safe, and only safe to call immediately after creating an <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a>, before it has been shared with other threads. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l01038">1038</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>References <a class="el" href="IOBuf_8h_source.html#l01356">folly::IOBuf::SharedInfo::externallyShared</a>, and <a class="el" href="deadlock_8py_source.html#l00447">deadlock::info()</a>.</p>

<p>Referenced by <a class="el" href="IOBuf_8cpp_source.html#l00656">markExternallyShared()</a>.</p>
<div class="fragment"><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;                                 {</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    SharedInfo* <a class="code" href="namespacedeadlock.html#a6cba8e3d51735d7ac2ac91a947f4984b">info</a> = <a class="code" href="classfolly_1_1IOBuf.html#a57b13c905b7a558f8372ccd2d824550d">sharedInfo</a>();</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    <span class="keywordflow">if</span> (info) {</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;      info-&gt;externallyShared = <span class="keyword">true</span>;</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    }</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  }</div><div class="ttc" id="namespacedeadlock_html_a6cba8e3d51735d7ac2ac91a947f4984b"><div class="ttname"><a href="namespacedeadlock.html#a6cba8e3d51735d7ac2ac91a947f4984b">deadlock.info</a></div><div class="ttdeci">def info()</div><div class="ttdef"><b>Definition:</b> <a href="deadlock_8py_source.html#l00447">deadlock.py:447</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a57b13c905b7a558f8372ccd2d824550d"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a57b13c905b7a558f8372ccd2d824550d">folly::IOBuf::sharedInfo</a></div><div class="ttdeci">SharedInfo * sharedInfo() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01449">IOBuf.h:1449</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a985ead6801b752e590620c1a582ed6cd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt; folly::IOBuf::maybeCopyBuffer </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a> &amp;&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>headroom</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>minTailroom</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="structA.html">A</a> version of <a class="el" href="classfolly_1_1IOBuf.html#aa1c4b32cfaa7c96d591d8ad5f5f7b959">copyBuffer()</a> that returns a null pointer if the input string is empty. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l01609">1609</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>References <a class="el" href="OpenSSLEVPCipherTest_8cpp_source.html#l00069">fizz::test::copyBuffer()</a>.</p>

<p>Referenced by <a class="el" href="ResponseBuilder_8h_source.html#l00112">proxygen::ResponseBuilder::body()</a>.</p>
<div class="fragment"><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;                           {</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;  <span class="keywordflow">if</span> (buf.empty()) {</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;  }</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1IOBuf.html#aa1c4b32cfaa7c96d591d8ad5f5f7b959">copyBuffer</a>(buf.data(), buf.size(), <a class="code" href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">headroom</a>, minTailroom);</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOBuf_html_a6e7ab795221f3359c2d919b3035374c3"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">folly::IOBuf::headroom</a></div><div class="ttdeci">std::size_t headroom() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00542">IOBuf.h:542</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_aa1c4b32cfaa7c96d591d8ad5f5f7b959"><div class="ttname"><a href="classfolly_1_1IOBuf.html#aa1c4b32cfaa7c96d591d8ad5f5f7b959">folly::IOBuf::copyBuffer</a></div><div class="ttdeci">static std::unique_ptr&lt; IOBuf &gt; copyBuffer(const void *buf, std::size_t size, std::size_t headroom=0, std::size_t minTailroom=0)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01587">IOBuf.h:1587</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7dca04ea9d538221edd99df8da609f1f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacefolly.html#a4201ff5d4021043b963c128794f417a3">fbstring</a> folly::IOBuf::moveToFbString </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destructively convert this <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> to a fbstring efficiently. We rely on fbstring's AcquireMallocatedString constructor to transfer memory. </p>

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00968">968</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8h_source.html#l01433">buf_</a>, <a class="el" href="IOBuf_8h_source.html#l00593">capacity()</a>, <a class="el" href="IOBuf_8h_source.html#l00728">clear()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00722">coalesceAndReallocate()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00501">computeChainDataLength()</a>, <a class="el" href="IOBuf_8h_source.html#l01459">flags()</a>, <a class="el" href="IOBuf_8h_source.html#l01438">flagsAndSharedInfo_</a>, <a class="el" href="IOBuf_8h_source.html#l00542">headroom()</a>, <a class="el" href="IOBuf_8h_source.html#l00760">isChained()</a>, <a class="el" href="IOBuf_8h_source.html#l00902">isShared()</a>, <a class="el" href="IOBuf_8h_source.html#l01342">kFlagFreeSharedInfo</a>, <a class="el" href="IOBuf_8h_source.html#l00533">length()</a>, <a class="el" href="IOBuf_8h_source.html#l01449">sharedInfo()</a>, <a class="el" href="IOBuf_8h_source.html#l00551">tailroom()</a>, <a class="el" href="IOBuf_8h_source.html#l00509">writableData()</a>, and <a class="el" href="IOBuf_8h_source.html#l00526">writableTail()</a>.</p>

<p>Referenced by <a class="el" href="IOBufTest_8cpp_source.html#l00907">MoveToFbStringTest::check()</a>, <a class="el" href="HTTP2FramerTest_8cpp_source.html#l00060">HTTP2FramerTest::dataFrameTest()</a>, <a class="el" href="IOBufCursorTest_8cpp_source.html#l00502">TEST()</a>, <a class="el" href="HTTP2FramerTest_8cpp_source.html#l00224">TEST_F()</a>, <a class="el" href="RFCExamplesTests_8cpp_source.html#l00132">TEST_P()</a>, and <a class="el" href="ECKeyExchangeTest_8cpp_source.html#l00216">fizz::test::TEST_P()</a>.</p>
<div class="fragment"><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;                               {</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  <span class="comment">// malloc-allocated buffers are just fine, everything else needs</span></div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;  <span class="comment">// to be turned into one.</span></div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classfolly_1_1IOBuf.html#a57b13c905b7a558f8372ccd2d824550d">sharedInfo</a>() || <span class="comment">// user owned, not ours to give up</span></div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#a57b13c905b7a558f8372ccd2d824550d">sharedInfo</a>()-&gt;freeFn || <span class="comment">// not malloc()-ed</span></div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">headroom</a>() != 0 || <span class="comment">// malloc()-ed block doesn&#39;t start at beginning</span></div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#a9e37facbd98e407388559c4dd572eb6c">tailroom</a>() == 0 || <span class="comment">// no room for NUL terminator</span></div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#ac6f285ff625252999cd597faa61b1837">isShared</a>() || <span class="comment">// shared</span></div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#a5b6f1bccec27ec05ad6b6906980589ea">isChained</a>()) { <span class="comment">// chained</span></div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    <span class="comment">// We might as well get rid of all head and tailroom if we&#39;re going</span></div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    <span class="comment">// to reallocate; we need 1 byte for NUL terminator.</span></div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#aa7a5c129101e6b0a527a8ddd31171a82">coalesceAndReallocate</a>(0, <a class="code" href="classfolly_1_1IOBuf.html#ac4c405fd5fa405c8d814b4cc86309a34">computeChainDataLength</a>(), <span class="keyword">this</span>, 1);</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  }</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  <span class="comment">// Ensure NUL terminated</span></div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  *<a class="code" href="classfolly_1_1IOBuf.html#a1dcdae94adc6b5f562c74896e928c563">writableTail</a>() = 0;</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  <a class="code" href="namespacefolly.html#a4201ff5d4021043b963c128794f417a3">fbstring</a> str(</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;      reinterpret_cast&lt;char*&gt;(<a class="code" href="classfolly_1_1IOBuf.html#a12c5ca1fbbaad2a7ebda5829cd9674ef">writableData</a>()),</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#a7772f21059d7cde7f30341dfbb162e4a">length</a>(),</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">capacity</a>(),</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;      <a class="code" href="namespacefolly.html#aab33499e282943f3fc1dfa8332830287">AcquireMallocatedString</a>());</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1IOBuf.html#afe0beb355cddf7ec2d6bd2c5ceccdeab">flags</a>() &amp; <a class="code" href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43a32d2db880a2042a2345b5181bd852504">kFlagFreeSharedInfo</a>) {</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classfolly_1_1IOBuf.html#a57b13c905b7a558f8372ccd2d824550d">sharedInfo</a>();</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  }</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;  <span class="comment">// Reset to a state where we can be deleted cleanly</span></div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#a305fafb3b8f177828fa7a427f25407a5">flagsAndSharedInfo_</a> = 0;</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#affce6ca9f1b795300095724fe907e50d">buf_</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#a6925a9f5300fc05e19fc579d43663991">clear</a>();</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;  <span class="keywordflow">return</span> str;</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOBuf_html_afe0beb355cddf7ec2d6bd2c5ceccdeab"><div class="ttname"><a href="classfolly_1_1IOBuf.html#afe0beb355cddf7ec2d6bd2c5ceccdeab">folly::IOBuf::flags</a></div><div class="ttdeci">uintptr_t flags() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01459">IOBuf.h:1459</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a5b6f1bccec27ec05ad6b6906980589ea"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a5b6f1bccec27ec05ad6b6906980589ea">folly::IOBuf::isChained</a></div><div class="ttdeci">bool isChained() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00760">IOBuf.h:760</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_afc06ea1931398696db8d9a80619e3753"><div class="ttname"><a href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">folly::IOBuf::capacity</a></div><div class="ttdeci">std::size_t capacity() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00593">IOBuf.h:593</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a9e37facbd98e407388559c4dd572eb6c"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a9e37facbd98e407388559c4dd572eb6c">folly::IOBuf::tailroom</a></div><div class="ttdeci">std::size_t tailroom() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00551">IOBuf.h:551</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a1dcdae94adc6b5f562c74896e928c563"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a1dcdae94adc6b5f562c74896e928c563">folly::IOBuf::writableTail</a></div><div class="ttdeci">uint8_t * writableTail()</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00526">IOBuf.h:526</a></div></div>
<div class="ttc" id="namespacefolly_html_aab33499e282943f3fc1dfa8332830287"><div class="ttname"><a href="namespacefolly.html#aab33499e282943f3fc1dfa8332830287">folly::AcquireMallocatedString</a></div><div class="ttdeci">AcquireMallocatedString</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00221">FBString.h:221</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_aa7a5c129101e6b0a527a8ddd31171a82"><div class="ttname"><a href="classfolly_1_1IOBuf.html#aa7a5c129101e6b0a527a8ddd31171a82">folly::IOBuf::coalesceAndReallocate</a></div><div class="ttdeci">void coalesceAndReallocate(size_t newHeadroom, size_t newLength, IOBuf *end, size_t newTailroom)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00722">IOBuf.cpp:722</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_affce6ca9f1b795300095724fe907e50d"><div class="ttname"><a href="classfolly_1_1IOBuf.html#affce6ca9f1b795300095724fe907e50d">folly::IOBuf::buf_</a></div><div class="ttdeci">uint8_t * buf_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01433">IOBuf.h:1433</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a12c5ca1fbbaad2a7ebda5829cd9674ef"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a12c5ca1fbbaad2a7ebda5829cd9674ef">folly::IOBuf::writableData</a></div><div class="ttdeci">uint8_t * writableData()</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00509">IOBuf.h:509</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a6e7ab795221f3359c2d919b3035374c3"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">folly::IOBuf::headroom</a></div><div class="ttdeci">std::size_t headroom() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00542">IOBuf.h:542</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a7772f21059d7cde7f30341dfbb162e4a"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a7772f21059d7cde7f30341dfbb162e4a">folly::IOBuf::length</a></div><div class="ttdeci">std::size_t length() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00533">IOBuf.h:533</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ac6f285ff625252999cd597faa61b1837"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ac6f285ff625252999cd597faa61b1837">folly::IOBuf::isShared</a></div><div class="ttdeci">bool isShared() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00902">IOBuf.h:902</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ac4c405fd5fa405c8d814b4cc86309a34"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ac4c405fd5fa405c8d814b4cc86309a34">folly::IOBuf::computeChainDataLength</a></div><div class="ttdeci">std::size_t computeChainDataLength() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00501">IOBuf.cpp:501</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a6925a9f5300fc05e19fc579d43663991"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a6925a9f5300fc05e19fc579d43663991">folly::IOBuf::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00728">IOBuf.h:728</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a291e8582a1769680d882f3e327a37b43a32d2db880a2042a2345b5181bd852504"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43a32d2db880a2042a2345b5181bd852504">folly::IOBuf::kFlagFreeSharedInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01342">IOBuf.h:1342</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a57b13c905b7a558f8372ccd2d824550d"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a57b13c905b7a558f8372ccd2d824550d">folly::IOBuf::sharedInfo</a></div><div class="ttdeci">SharedInfo * sharedInfo() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01449">IOBuf.h:1449</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a305fafb3b8f177828fa7a427f25407a5"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a305fafb3b8f177828fa7a427f25407a5">folly::IOBuf::flagsAndSharedInfo_</a></div><div class="ttdeci">uintptr_t flagsAndSharedInfo_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01438">IOBuf.h:1438</a></div></div>
<div class="ttc" id="namespacefolly_html_a4201ff5d4021043b963c128794f417a3"><div class="ttname"><a href="namespacefolly.html#a4201ff5d4021043b963c128794f417a3">folly::fbstring</a></div><div class="ttdeci">basic_fbstring&lt; char &gt; fbstring</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l02904">FBString.h:2904</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2120be76b279b5a7405b70497ea471a7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a>* folly::IOBuf::next </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get a pointer to the next <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> in this chain. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00600">600</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>Referenced by <a class="el" href="IOBuf_8cpp_source.html#l01016">appendToIov()</a>, <a class="el" href="Cursor_8h_source.html#l00142">folly::io::detail::CursorBase&lt; Cursor, const IOBuf &gt;::canAdvance()</a>, <a class="el" href="IOBufTest_8cpp_source.html#l00307">checkChain()</a>, <a class="el" href="IOBufQueue_8cpp_source.html#l00327">folly::IOBufQueue::clear()</a>, <a class="el" href="ZlibStreamDecompressor_8cpp_source.html#l00057">proxygen::ZlibStreamDecompressor::decompress()</a>, <a class="el" href="Compression_8cpp_source.html#l00444">folly::io::StreamCodec::doCompress()</a>, <a class="el" href="Compression_8cpp_source.html#l00494">folly::io::StreamCodec::doUncompress()</a>, <a class="el" href="utils_2Logging_8cpp_source.html#l00132">proxygen::dumpBinToFile()</a>, <a class="el" href="lib_2http_2codec_2compress_2test_2TestUtil_8cpp_source.html#l00027">proxygen::hpack::dumpToFile()</a>, <a class="el" href="ZlibServerFilterTest_8cpp_source.html#l00058">ZlibServerFilterTest::exercise_compression()</a>, <a class="el" href="IOBuf_8cpp_source.html#l01072">fillIov()</a>, <a class="el" href="Cursor_8h_source.html#l00159">folly::io::detail::CursorBase&lt; Cursor, const IOBuf &gt;::isAtEnd()</a>, <a class="el" href="CurlClient_8cpp_source.html#l00201">CurlService::CurlClient::onBody()</a>, <a class="el" href="Cursor_8h_source.html#l00233">folly::io::detail::CursorBase&lt; Cursor, const IOBuf &gt;::operator==()</a>, <a class="el" href="IOBufCursorTest_8cpp_source.html#l00615">TEST()</a>, <a class="el" href="HPACKBufferTests_8cpp_source.html#l00447">TEST_F()</a>, <a class="el" href="IOBufUtil_8h_source.html#l00038">fizz::transformBuffer()</a>, and <a class="el" href="TestAsyncTransport_8cpp_source.html#l00268">TestAsyncTransport::writeChain()</a>.</p>
<div class="fragment"><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                {</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">next_</a>;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_a038b1d38b9814d8e2f571bc94d3cf0dc"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">folly::IOBuf::next_</a></div><div class="ttdeci">IOBuf * next_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01423">IOBuf.h:1423</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a682990dabc02d4e2324c9ecb21f9db40"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a>* folly::IOBuf::next </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00603">603</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                            {</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">next_</a>;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_a038b1d38b9814d8e2f571bc94d3cf0dc"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">folly::IOBuf::next_</a></div><div class="ttdeci">IOBuf * next_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01423">IOBuf.h:1423</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8a2e8a0ee606f77b2e1aef3288d254db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::operator delete </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00145">145</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="StaticSingletonManager_8cpp_source.html#l00038">ptr</a>, <a class="el" href="IOBuf_8cpp_source.html#l00157">releaseStorage()</a>, and <a class="el" href="ConstexprMathBenchmark_8cpp_source.html#l00178">uint8_t</a>.</p>
<div class="fragment"><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                                     {</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="keyword">auto</span>* storageAddr = <span class="keyword">static_cast&lt;</span><a class="code" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>*<span class="keyword">&gt;</span>(<a class="code" href="StaticSingletonManager_8cpp.html#a53a30bc00154d79fa155f60e2dfabf5f">ptr</a>) - offsetof(HeapStorage, buf);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="keyword">auto</span>* storage = <span class="keyword">reinterpret_cast&lt;</span>HeapStorage*<span class="keyword">&gt;</span>(storageAddr);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#a35312a33fbe594e9ba5ac5048e0cf6d3">releaseStorage</a>(storage, kIOBufInUse);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;}</div><div class="ttc" id="StaticSingletonManager_8cpp_html_a53a30bc00154d79fa155f60e2dfabf5f"><div class="ttname"><a href="StaticSingletonManager_8cpp.html#a53a30bc00154d79fa155f60e2dfabf5f">ptr</a></div><div class="ttdeci">void * ptr</div><div class="ttdef"><b>Definition:</b> <a href="StaticSingletonManager_8cpp_source.html#l00038">StaticSingletonManager.cpp:38</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a35312a33fbe594e9ba5ac5048e0cf6d3"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a35312a33fbe594e9ba5ac5048e0cf6d3">folly::IOBuf::releaseStorage</a></div><div class="ttdeci">static void releaseStorage(HeapStorage *storage, uint16_t freeFlags)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00157">IOBuf.cpp:157</a></div></div>
<div class="ttc" id="ConstexprMathBenchmark_8cpp_html_ae1affc9ca37cfb624959c866a73f83c2"><div class="ttname"><a href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a></div><div class="ttdeci">uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="ConstexprMathBenchmark_8cpp_source.html#l00178">ConstexprMathBenchmark.cpp:178</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa5c9d093182977e6ed17aace0ae6728d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::operator delete </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>placement</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00151">151</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                                            {</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="comment">// Provide matching operator for `IOBuf::new` to avoid MSVC compilation</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="comment">// warning (C4291) about memory leak when exception is thrown in the</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="comment">// constructor.</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1ed09ee7ace6da3678a9f4141c14017d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * folly::IOBuf::operator new </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00133">133</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="memory_2Malloc_8h_source.html#l00227">folly::checkedMalloc()</a>, and <a class="el" href="Access_8h_source.html#l00045">folly::size()</a>.</p>
<div class="fragment"><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                                     {</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="keywordtype">size_t</span> fullSize = offsetof(HeapStorage, buf) + <a class="code" href="namespacefolly.html#a0606ba855bcb96a1673880aa3b404993">size</a>;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keyword">auto</span>* storage = <span class="keyword">static_cast&lt;</span>HeapStorage*<span class="keyword">&gt;</span>(<a class="code" href="namespacefolly.html#ac8ace750150dff84e5a2a8cda65a9973">checkedMalloc</a>(fullSize));</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="keyword">new</span> (&amp;storage-&gt;prefix) HeapPrefix(kIOBufInUse);</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="keywordflow">return</span> &amp;(storage-&gt;buf);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;}</div><div class="ttc" id="namespacefolly_html_ac8ace750150dff84e5a2a8cda65a9973"><div class="ttname"><a href="namespacefolly.html#ac8ace750150dff84e5a2a8cda65a9973">folly::checkedMalloc</a></div><div class="ttdeci">void * checkedMalloc(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="memory_2Malloc_8h_source.html#l00227">Malloc.h:227</a></div></div>
<div class="ttc" id="namespacefolly_html_a0606ba855bcb96a1673880aa3b404993"><div class="ttname"><a href="namespacefolly.html#a0606ba855bcb96a1673880aa3b404993">folly::size</a></div><div class="ttdeci">constexpr auto size(C const &amp;c) -&gt; decltype(c.size())</div><div class="ttdef"><b>Definition:</b> <a href="Access_8h_source.html#l00045">Access.h:45</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a94e332b5b26e9da6aba54093fd83d7c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * folly::IOBuf::operator new </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00141">141</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="StaticSingletonManager_8cpp_source.html#l00038">ptr</a>.</p>
<div class="fragment"><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                                             {</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="StaticSingletonManager_8cpp.html#a53a30bc00154d79fa155f60e2dfabf5f">ptr</a>;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;}</div><div class="ttc" id="StaticSingletonManager_8cpp_html_a53a30bc00154d79fa155f60e2dfabf5f"><div class="ttname"><a href="StaticSingletonManager_8cpp.html#a53a30bc00154d79fa155f60e2dfabf5f">ptr</a></div><div class="ttdeci">void * ptr</div><div class="ttdef"><b>Definition:</b> <a href="StaticSingletonManager_8cpp_source.html#l00038">StaticSingletonManager.cpp:38</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a336180e1d88015104a8cef43b72c13c2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &amp; folly::IOBuf::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00428">428</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8h_source.html#l01433">buf_</a>, <a class="el" href="IOBuf_8h_source.html#l01435">capacity_</a>, <a class="el" href="IOBuf_8h_source.html#l01432">data_</a>, <a class="el" href="IOBuf_8cpp_source.html#l00773">decrementRefcount()</a>, <a class="el" href="IOBuf_8h_source.html#l01438">flagsAndSharedInfo_</a>, <a class="el" href="IOBuf_8h_source.html#l01434">length_</a>, <a class="el" href="IOBuf_8h_source.html#l01423">next_</a>, <a class="el" href="IOBuf_8h_source.html#l01424">prev_</a>, and <a class="el" href="IOBuf_8h_source.html#l00847">unlink()</a>.</p>
<div class="fragment"><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                                              {</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">this</span> == &amp;other) {</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  }</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <span class="comment">// If we are part of a chain, delete the rest of the chain.</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <span class="keywordflow">while</span> (<a class="code" href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">next_</a> != <span class="keyword">this</span>) {</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="comment">// Since unlink() returns unique_ptr() and we don&#39;t store it,</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="comment">// it will automatically delete the unlinked element.</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    (void)<a class="code" href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">next_</a>-&gt;<a class="code" href="classfolly_1_1IOBuf.html#ad0fb688fa5faf404e3f8dc9591b03612">unlink</a>();</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  }</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <span class="comment">// Decrement our refcount on the current buffer</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#a6a46b4df6fe3907e84b44c6235209f5a">decrementRefcount</a>();</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <span class="comment">// Take ownership of the other buffer&#39;s data</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">data_</a> = other.data_;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#affce6ca9f1b795300095724fe907e50d">buf_</a> = other.buf_;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">length_</a> = other.length_;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#a4d25a5cf5084ebeb9d156217ec01f718">capacity_</a> = other.capacity_;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#a305fafb3b8f177828fa7a427f25407a5">flagsAndSharedInfo_</a> = other.flagsAndSharedInfo_;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <span class="comment">// Reset other so it is a clean state to be destroyed.</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  other.data_ = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  other.buf_ = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  other.length_ = 0;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  other.capacity_ = 0;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  other.flagsAndSharedInfo_ = 0;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  <span class="comment">// If other was part of the chain, assume ownership of the rest of its chain.</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <span class="comment">// (It&#39;s only valid to perform move assignment on the head of a chain.)</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <span class="keywordflow">if</span> (other.next_ != &amp;other) {</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">next_</a> = other.<a class="code" href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">next_</a>;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">next_</a>-&gt;<a class="code" href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">prev_</a> = <span class="keyword">this</span>;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    other.<a class="code" href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">next_</a> = &amp;other;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">prev_</a> = other.<a class="code" href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">prev_</a>;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">prev_</a>-&gt;<a class="code" href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">next_</a> = <span class="keyword">this</span>;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    other.<a class="code" href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">prev_</a> = &amp;other;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  }</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <span class="comment">// Sanity check to make sure that other is in a valid state to be destroyed.</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  DCHECK_EQ(other.prev_, &amp;other);</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  DCHECK_EQ(other.next_, &amp;other);</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOBuf_html_a038b1d38b9814d8e2f571bc94d3cf0dc"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">folly::IOBuf::next_</a></div><div class="ttdeci">IOBuf * next_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01423">IOBuf.h:1423</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a93ce4461ec7eba82b74038f887c3f957"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">folly::IOBuf::prev_</a></div><div class="ttdeci">IOBuf * prev_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01424">IOBuf.h:1424</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a7a03b1d1337e3da57675a94b29a84ac9"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">folly::IOBuf::data_</a></div><div class="ttdeci">uint8_t * data_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01432">IOBuf.h:1432</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_affce6ca9f1b795300095724fe907e50d"><div class="ttname"><a href="classfolly_1_1IOBuf.html#affce6ca9f1b795300095724fe907e50d">folly::IOBuf::buf_</a></div><div class="ttdeci">uint8_t * buf_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01433">IOBuf.h:1433</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a564daf68834ce4e7523f329e1c6df23f"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">folly::IOBuf::length_</a></div><div class="ttdeci">std::size_t length_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01434">IOBuf.h:1434</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ad0fb688fa5faf404e3f8dc9591b03612"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ad0fb688fa5faf404e3f8dc9591b03612">folly::IOBuf::unlink</a></div><div class="ttdeci">std::unique_ptr&lt; IOBuf &gt; unlink()</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00847">IOBuf.h:847</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a4d25a5cf5084ebeb9d156217ec01f718"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a4d25a5cf5084ebeb9d156217ec01f718">folly::IOBuf::capacity_</a></div><div class="ttdeci">std::size_t capacity_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01435">IOBuf.h:1435</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a305fafb3b8f177828fa7a427f25407a5"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a305fafb3b8f177828fa7a427f25407a5">folly::IOBuf::flagsAndSharedInfo_</a></div><div class="ttdeci">uintptr_t flagsAndSharedInfo_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01438">IOBuf.h:1438</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a6a46b4df6fe3907e84b44c6235209f5a"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a6a46b4df6fe3907e84b44c6235209f5a">folly::IOBuf::decrementRefcount</a></div><div class="ttdeci">void decrementRefcount()</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00773">IOBuf.cpp:773</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adb3f17e310684f9075af6f7195c9e592"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &amp; folly::IOBuf::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00475">475</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8cpp_source.html#l00361">IOBuf()</a>.</p>
<div class="fragment"><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                                          {</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">this</span> != &amp;other) {</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    *<span class="keyword">this</span> = <a class="code" href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">IOBuf</a>(other);</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  }</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOBuf_html_ad121c314bc97a30206e8b467eb609a27"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">folly::IOBuf::IOBuf</a></div><div class="ttdeci">IOBuf() noexcept</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00361">IOBuf.cpp:361</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab0273b373015ae756a8bc6d7b60864f0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uintptr_t folly::IOBuf::packFlagsAndSharedInfo </td>
          <td>(</td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfolly_1_1IOBuf_1_1SharedInfo.html">SharedInfo</a> *&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l01440">1440</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>References <a class="el" href="deadlock_8py_source.html#l00447">deadlock::info()</a>.</p>

<p>Referenced by <a class="el" href="IOBuf_8cpp_source.html#l00245">createCombined()</a>.</p>
<div class="fragment"><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;                        {</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    uintptr_t uinfo = <span class="keyword">reinterpret_cast&lt;</span>uintptr_t<span class="keyword">&gt;</span>(<a class="code" href="namespacedeadlock.html#a6cba8e3d51735d7ac2ac91a947f4984b">info</a>);</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    DCHECK_EQ(<a class="code" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a> &amp; ~<a class="code" href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43a7ec254b74ac4c9db53102f9b5c0b3f9f">kFlagMask</a>, 0u);</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    DCHECK_EQ(uinfo &amp; <a class="code" href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43a7ec254b74ac4c9db53102f9b5c0b3f9f">kFlagMask</a>, 0u);</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a> | uinfo;</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;  }</div><div class="ttc" id="namespacedeadlock_html_a6cba8e3d51735d7ac2ac91a947f4984b"><div class="ttname"><a href="namespacedeadlock.html#a6cba8e3d51735d7ac2ac91a947f4984b">deadlock.info</a></div><div class="ttdeci">def info()</div><div class="ttdef"><b>Definition:</b> <a href="deadlock_8py_source.html#l00447">deadlock.py:447</a></div></div>
<div class="ttc" id="http__parser_8h_html_ab6b306ef981f5e21bb41ea2c2dbe8cd9"><div class="ttname"><a href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a></div><div class="ttdeci">flags</div><div class="ttdef"><b>Definition:</b> <a href="http__parser_8h_source.html#l00127">http_parser.h:127</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a291e8582a1769680d882f3e327a37b43a7ec254b74ac4c9db53102f9b5c0b3f9f"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43a7ec254b74ac4c9db53102f9b5c0b3f9f">folly::IOBuf::kFlagMask</a></div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01344">IOBuf.h:1344</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a02aa5128684998e66a1dffcfce2bbd17"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a>&gt; folly::IOBuf::pop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Remove this <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> from its current chain and return a unique_ptr to the <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> that formerly followed it in the chain. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00859">859</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>References <a class="el" href="fizz_2build___2gtest_2src_2gtest_2googlemock_2scripts_2generator_2cpp_2ast_8py_source.html#l00058">cpp.ast::next()</a>.</p>

<p>Referenced by <a class="el" href="SPDYCodec_8cpp_source.html#l01031">proxygen::SPDYCodec::generateDataFrame()</a>, <a class="el" href="NetworkBenchmark_8cpp_source.html#l00067">poolPutIOBuf()</a>, and <a class="el" href="IOBufQueue_8cpp_source.html#l00316">folly::IOBufQueue::pop_front()</a>.</p>
<div class="fragment"><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                             {</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">IOBuf</a>* <a class="code" href="classfolly_1_1IOBuf.html#a2120be76b279b5a7405b70497ea471a7">next</a> = <a class="code" href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">next_</a>;</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">next_</a>-&gt;<a class="code" href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">prev_</a> = <a class="code" href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">prev_</a>;</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">prev_</a>-&gt;<a class="code" href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">next_</a> = <a class="code" href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">next_</a>;</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">prev_</a> = <span class="keyword">this</span>;</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">next_</a> = <span class="keyword">this</span>;</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <span class="keywordflow">return</span> std::unique_ptr&lt;IOBuf&gt;((next == <span class="keyword">this</span>) ? <span class="keyword">nullptr</span> : next);</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_a038b1d38b9814d8e2f571bc94d3cf0dc"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">folly::IOBuf::next_</a></div><div class="ttdeci">IOBuf * next_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01423">IOBuf.h:1423</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a93ce4461ec7eba82b74038f887c3f957"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">folly::IOBuf::prev_</a></div><div class="ttdeci">IOBuf * prev_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01424">IOBuf.h:1424</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a2120be76b279b5a7405b70497ea471a7"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a2120be76b279b5a7405b70497ea471a7">folly::IOBuf::next</a></div><div class="ttdeci">IOBuf * next()</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00600">IOBuf.h:600</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ad121c314bc97a30206e8b467eb609a27"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">folly::IOBuf::IOBuf</a></div><div class="ttdeci">IOBuf() noexcept</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00361">IOBuf.cpp:361</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1f98e4c39298b5a5f23f8bc08f1901e3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::prepend </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>amount</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Adjust the data pointer to include more valid data at the beginning.</p>
<p>This moves the data pointer backwards to include more of the available buffer. The caller is responsible for ensuring that there is sufficient headroom for the new data. The caller is also responsible for populating this section with valid data.</p>
<p>This does not modify any actual data in the buffer. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00673">673</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>References <a class="el" href="FileUtilTest_8cpp_source.html#l00066">data_</a>, and <a class="el" href="JSONSchema_8cpp_source.html#l00233">length_</a>.</p>

<p>Referenced by <a class="el" href="SPDYCodec_8cpp_source.html#l00724">proxygen::SPDYCodec::generateSynReply()</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l00665">proxygen::SPDYCodec::generateSynStream()</a>, <a class="el" href="IOBufTest_8cpp_source.html#l00043">prepend()</a>, and <a class="el" href="TypedIOBuf_8h_source.html#l00105">folly::TypedIOBuf&lt; T &gt;::prepend()</a>.</p>
<div class="fragment"><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                                 {</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    DCHECK_LE(amount, <a class="code" href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">headroom</a>());</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">data_</a> -= amount;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">length_</a> += amount;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_a7a03b1d1337e3da57675a94b29a84ac9"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">folly::IOBuf::data_</a></div><div class="ttdeci">uint8_t * data_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01432">IOBuf.h:1432</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a6e7ab795221f3359c2d919b3035374c3"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">folly::IOBuf::headroom</a></div><div class="ttdeci">std::size_t headroom() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00542">IOBuf.h:542</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a564daf68834ce4e7523f329e1c6df23f"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">folly::IOBuf::length_</a></div><div class="ttdeci">std::size_t length_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01434">IOBuf.h:1434</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa863b989b6576c999599b60e59c48e91"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::prependChain </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt; &amp;&amp;&#160;</td>
          <td class="paramname"><em>iobuf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Insert another <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> chain immediately before this <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a>.</p>
<p>For example, if there are two <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> chains (<a class="el" href="structA.html">A</a>, <a class="el" href="structfolly_1_1B.html">B</a>, C) and (D, E, F), and B-&gt;prependChain(D) is called, the (D, E, F) chain will be subsumed and become part of the chain starting at <a class="el" href="structA.html">A</a>, which will now look like (<a class="el" href="structA.html">A</a>, D, E, F, <a class="el" href="structfolly_1_1B.html">B</a>, C)</p>
<p>Note that since <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> chains are circular, head-&gt;prependChain(other) can be used to append the other chain at the very end of the chain pointed to by head. For example, if there are two <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> chains (<a class="el" href="structA.html">A</a>, <a class="el" href="structfolly_1_1B.html">B</a>, C) and (D, E, F), and A-&gt;prependChain(D) is called, the chain starting at <a class="el" href="structA.html">A</a> will now consist of (<a class="el" href="structA.html">A</a>, <a class="el" href="structfolly_1_1B.html">B</a>, C, D, E, F)</p>
<p>The elements in the specified <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> chain will become part of this chain, and will be owned by the head of this chain. When this chain is destroyed, all elements in the supplied chain will also be destroyed.</p>
<p>For this reason, <a class="el" href="classfolly_1_1IOBuf.html#af71c4d0e6e0758cac2163b3134f0d0b3">appendChain()</a> only accepts an rvalue-reference to a unique_ptr(), to make it clear that it is taking ownership of the supplied chain. If you have a raw pointer, you can pass in a new temporary unique_ptr around the raw pointer. If you have an existing, non-temporary unique_ptr, you must call std::move(ptr) to make it clear that you are destroying the original pointer. </p>

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00509">509</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8h_source.html#l01423">next_</a>, and <a class="el" href="IOBuf_8h_source.html#l01424">prev_</a>.</p>

<p>Referenced by <a class="el" href="NetworkBenchmark_8cpp_source.html#l00043">BENCHMARK()</a>, <a class="el" href="fizz_2fizz_2crypto_2aead_2test_2TestUtil_8cpp_source.html#l00031">fizz::test::chunkIOBuf()</a>, <a class="el" href="Cursor_8h_source.html#l00468">folly::io::detail::CursorBase&lt; Cursor, const IOBuf &gt;::cloneAtMost()</a>, <a class="el" href="OpenSSLEVPCipherTest_8cpp_source.html#l00069">fizz::test::copyBuffer()</a>, <a class="el" href="ZlibServerFilterTest_8cpp_source.html#l00193">ZlibServerFilterTest::createResponseChain()</a>, <a class="el" href="OpenSSLEVPCipher_8cpp_source.html#l00186">fizz::detail::evpEncrypt()</a>, <a class="el" href="ZlibServerFilterTest_8cpp_source.html#l00058">ZlibServerFilterTest::exercise_compression()</a>, <a class="el" href="AsyncUDPSocketGSOTest_8cpp_source.html#l00068">TestData::getInBuf()</a>, <a class="el" href="Cursor_8h_source.html#l00895">folly::io::RWCursor&lt; access &gt;::insert()</a>, <a class="el" href="IOBufCursorBenchmark_8cpp_source.html#l00166">main()</a>, <a class="el" href="RFC1867Test_8cpp_source.html#l00126">proxygen::RFC1867Base::parse()</a>, <a class="el" href="IOBufCursorTest_8cpp_source.html#l00032">TEST()</a>, <a class="el" href="OpenSSLHashTest_8cpp_source.html#l00031">TEST_F()</a>, and <a class="el" href="EncryptedRecordLayer_8cpp_source.html#l00147">fizz::EncryptedWriteRecordLayer::write()</a>.</p>
<div class="fragment"><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                                                  {</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <span class="comment">// Take ownership of the specified IOBuf</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">IOBuf</a>* other = iobuf.release();</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <span class="comment">// Remember the pointer to the tail of the other chain</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">IOBuf</a>* otherTail = other-&gt;prev_;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <span class="comment">// Hook up prev_-&gt;next_ to point at the start of the other chain,</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  <span class="comment">// and other-&gt;prev_ to point at prev_</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">prev_</a>-&gt;<a class="code" href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">next_</a> = other;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  other-&gt;<a class="code" href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">prev_</a> = <a class="code" href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">prev_</a>;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <span class="comment">// Hook up otherTail-&gt;next_ to point at us,</span></div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <span class="comment">// and prev_ to point back at otherTail,</span></div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  otherTail-&gt;<a class="code" href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">next_</a> = <span class="keyword">this</span>;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">prev_</a> = otherTail;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOBuf_html_a038b1d38b9814d8e2f571bc94d3cf0dc"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">folly::IOBuf::next_</a></div><div class="ttdeci">IOBuf * next_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01423">IOBuf.h:1423</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a93ce4461ec7eba82b74038f887c3f957"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">folly::IOBuf::prev_</a></div><div class="ttdeci">IOBuf * prev_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01424">IOBuf.h:1424</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ad121c314bc97a30206e8b467eb609a27"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">folly::IOBuf::IOBuf</a></div><div class="ttdeci">IOBuf() noexcept</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00361">IOBuf.cpp:361</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa6e1ec3d0ba26ba438b302f45a01e17a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a>* folly::IOBuf::prev </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get a pointer to the previous <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> in this chain. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00610">610</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>Referenced by <a class="el" href="IOBuf_8cpp_source.html#l00570">cloneCoalescedAsValue()</a>, <a class="el" href="ZlibStreamCompressor_8cpp_source.html#l00109">proxygen::ZlibStreamCompressor::compress()</a>, <a class="el" href="IOBufQueue_8h_source.html#l00559">folly::IOBufQueue::dcheckCacheIntegrity()</a>, <a class="el" href="OpenSSLEVPCipher_8cpp_source.html#l00186">fizz::detail::evpEncrypt()</a>, <a class="el" href="IOBufQueue_8h_source.html#l00610">folly::IOBufQueue::flushCache()</a>, <a class="el" href="Cursor_8h_source.html#l00233">folly::io::detail::CursorBase&lt; Cursor, const IOBuf &gt;::operator==()</a>, <a class="el" href="IOBufCursorTest_8cpp_source.html#l00502">TEST()</a>, <a class="el" href="IOBufUtil_8cpp_source.html#l00015">fizz::trimBytes()</a>, and <a class="el" href="IOBufQueue_8h_source.html#l00633">folly::IOBufQueue::updateWritableTailCache()</a>.</p>
<div class="fragment"><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                {</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">prev_</a>;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_a93ce4461ec7eba82b74038f887c3f957"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">folly::IOBuf::prev_</a></div><div class="ttdeci">IOBuf * prev_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01424">IOBuf.h:1424</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aec9a2765b75d14bd157de0549fc9b21e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a>* folly::IOBuf::prev </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00613">613</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                            {</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">prev_</a>;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_a93ce4461ec7eba82b74038f887c3f957"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">folly::IOBuf::prev_</a></div><div class="ttdeci">IOBuf * prev_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01424">IOBuf.h:1424</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a35312a33fbe594e9ba5ac5048e0cf6d3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::releaseStorage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfolly_1_1IOBuf_1_1HeapStorage.html">HeapStorage</a> *&#160;</td>
          <td class="paramname"><em>storage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a5a8b2dc9e45a9ee81a94ef304fb62505">uint16_t</a>&#160;</td>
          <td class="paramname"><em>freeFlags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00157">157</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8cpp_source.html#l00099">folly::IOBuf::HeapPrefix::flags</a>, <a class="el" href="BitVectorCodingTest_8cpp_source.html#l00094">bm::free()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00098">folly::IOBuf::HeapPrefix::magic</a>, <a class="el" href="IOBuf_8cpp_source.html#l00103">folly::IOBuf::HeapStorage::prefix</a>, and <a class="el" href="ConstexprMathBenchmark_8cpp_source.html#l00182">uint16_t</a>.</p>

<p>Referenced by <a class="el" href="IOBuf_8cpp_source.html#l00190">freeInternalBuf()</a>, and <a class="el" href="IOBuf_8cpp_source.html#l00145">operator delete()</a>.</p>
<div class="fragment"><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                                                                   {</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  CHECK_EQ(storage-&gt;prefix.magic, static_cast&lt;uint16_t&gt;(kHeapMagic));</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="comment">// Use relaxed memory order here.  If we are unlucky and happen to get</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="comment">// out-of-date data the compare_exchange_weak() call below will catch</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="comment">// it and load new data with memory_order_acq_rel.</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="keyword">auto</span> <a class="code" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a> = storage-&gt;prefix.flags.load(std::memory_order_acquire);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  DCHECK_EQ((<a class="code" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a> &amp; freeFlags), freeFlags);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <a class="code" href="ConstexprMathBenchmark_8cpp.html#a5a8b2dc9e45a9ee81a94ef304fb62505">uint16_t</a> newFlags = <a class="code" href="ConstexprMathBenchmark_8cpp.html#a5a8b2dc9e45a9ee81a94ef304fb62505">uint16_t</a>(<a class="code" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a> &amp; ~freeFlags);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordflow">if</span> (newFlags == 0) {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      <span class="comment">// The storage space is now unused.  Free it.</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      storage-&gt;prefix.HeapPrefix::~HeapPrefix();</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      <a class="code" href="namespacebm.html#ad1f2831d164bf5bc0b15eae7b05fcd64">free</a>(storage);</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    }</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="comment">// This storage segment still contains portions that are in use.</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="comment">// Just clear the flags specified in freeFlags for now.</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keyword">auto</span> ret = storage-&gt;prefix.flags.compare_exchange_weak(</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <a class="code" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a>, newFlags, std::memory_order_acq_rel);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordflow">if</span> (ret) {</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      <span class="comment">// We successfully updated the flags.</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    }</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="comment">// We failed to update the flags.  Some other thread probably updated them</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="comment">// and cleared some of the other bits.  Continue around the loop to see if</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="comment">// we are the last user now, or if we need to try updating the flags again.</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  }</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;}</div><div class="ttc" id="http__parser_8h_html_ab6b306ef981f5e21bb41ea2c2dbe8cd9"><div class="ttname"><a href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a></div><div class="ttdeci">flags</div><div class="ttdef"><b>Definition:</b> <a href="http__parser_8h_source.html#l00127">http_parser.h:127</a></div></div>
<div class="ttc" id="namespacebm_html_ad1f2831d164bf5bc0b15eae7b05fcd64"><div class="ttname"><a href="namespacebm.html#ad1f2831d164bf5bc0b15eae7b05fcd64">bm::free</a></div><div class="ttdeci">void free()</div><div class="ttdef"><b>Definition:</b> <a href="BitVectorCodingTest_8cpp_source.html#l00094">BitVectorCodingTest.cpp:94</a></div></div>
<div class="ttc" id="ConstexprMathBenchmark_8cpp_html_a5a8b2dc9e45a9ee81a94ef304fb62505"><div class="ttname"><a href="ConstexprMathBenchmark_8cpp.html#a5a8b2dc9e45a9ee81a94ef304fb62505">uint16_t</a></div><div class="ttdeci">uint16_t</div><div class="ttdef"><b>Definition:</b> <a href="ConstexprMathBenchmark_8cpp_source.html#l00182">ConstexprMathBenchmark.cpp:182</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a288e80a81f23fe191e2b49c1679e1a0b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::reserve </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>minHeadroom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>minTailroom</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Ensure that this buffer has at least minHeadroom headroom bytes and at least minTailroom tailroom bytes. The buffer must be writable (you must call <a class="el" href="classfolly_1_1IOBuf.html#a17a04ba01fdb8bfcf1b8b374eb9aae6b">unshare()</a> before this, if necessary).</p>
<p>Postcondition: <a class="el" href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">headroom()</a> &gt;= minHeadroom, <a class="el" href="classfolly_1_1IOBuf.html#a9e37facbd98e407388559c4dd572eb6c">tailroom()</a> &gt;= minTailroom, the data (between <a class="el" href="classfolly_1_1IOBuf.html#af71f6f5efabbcddf8ec6dada00f5eebf">data()</a> and <a class="el" href="classfolly_1_1IOBuf.html#af71f6f5efabbcddf8ec6dada00f5eebf">data()</a> + <a class="el" href="classfolly_1_1IOBuf.html#a7772f21059d7cde7f30341dfbb162e4a">length()</a>) is preserved. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00741">741</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>References <a class="el" href="FileUtilTest_8cpp_source.html#l00066">data_</a>.</p>

<p>Referenced by <a class="el" href="NetworkBenchmark_8cpp_source.html#l00032">BENCHMARK()</a>, <a class="el" href="gen_2String-inl_8h_source.html#l00113">folly::gen::detail::consumeBufferPlus()</a>, <a class="el" href="TypedIOBuf_8h_source.html#l00120">folly::TypedIOBuf&lt; T &gt;::reserve()</a>, and <a class="el" href="IOBufTest_8cpp_source.html#l00604">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                                                             {</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="comment">// Maybe we don&#39;t need to do anything.</span></div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">headroom</a>() &gt;= minHeadroom &amp;&amp; <a class="code" href="classfolly_1_1IOBuf.html#a9e37facbd98e407388559c4dd572eb6c">tailroom</a>() &gt;= minTailroom) {</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    }</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="comment">// If the buffer is empty but we have enough total room (head + tail),</span></div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <span class="comment">// move the data_ pointer around.</span></div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1IOBuf.html#a7772f21059d7cde7f30341dfbb162e4a">length</a>() == 0 &amp;&amp; <a class="code" href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">headroom</a>() + <a class="code" href="classfolly_1_1IOBuf.html#a9e37facbd98e407388559c4dd572eb6c">tailroom</a>() &gt;= minHeadroom + minTailroom) {</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">data_</a> = <a class="code" href="classfolly_1_1IOBuf.html#aa09e3f15a796182adf3d6c4e163491d7">writableBuffer</a>() + minHeadroom;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    }</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="comment">// Bah, we have to do actual work.</span></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#abf2f5d603c1f05e42f12e7ca497df285">reserveSlow</a>(minHeadroom, minTailroom);</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_abf2f5d603c1f05e42f12e7ca497df285"><div class="ttname"><a href="classfolly_1_1IOBuf.html#abf2f5d603c1f05e42f12e7ca497df285">folly::IOBuf::reserveSlow</a></div><div class="ttdeci">void reserveSlow(std::size_t minHeadroom, std::size_t minTailroom)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00808">IOBuf.cpp:808</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a9e37facbd98e407388559c4dd572eb6c"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a9e37facbd98e407388559c4dd572eb6c">folly::IOBuf::tailroom</a></div><div class="ttdeci">std::size_t tailroom() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00551">IOBuf.h:551</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_aa09e3f15a796182adf3d6c4e163491d7"><div class="ttname"><a href="classfolly_1_1IOBuf.html#aa09e3f15a796182adf3d6c4e163491d7">folly::IOBuf::writableBuffer</a></div><div class="ttdeci">uint8_t * writableBuffer()</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00572">IOBuf.h:572</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a7a03b1d1337e3da57675a94b29a84ac9"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">folly::IOBuf::data_</a></div><div class="ttdeci">uint8_t * data_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01432">IOBuf.h:1432</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a6e7ab795221f3359c2d919b3035374c3"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">folly::IOBuf::headroom</a></div><div class="ttdeci">std::size_t headroom() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00542">IOBuf.h:542</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a7772f21059d7cde7f30341dfbb162e4a"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a7772f21059d7cde7f30341dfbb162e4a">folly::IOBuf::length</a></div><div class="ttdeci">std::size_t length() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00533">IOBuf.h:533</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abf2f5d603c1f05e42f12e7ca497df285"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::reserveSlow </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>minHeadroom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>minTailroom</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00808">808</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8h_source.html#l01433">buf_</a>, <a class="el" href="IOBuf_8h_source.html#l00593">capacity()</a>, <a class="el" href="IOBuf_8h_source.html#l01435">capacity_</a>, <a class="el" href="memory_2Malloc_8h_source.html#l00227">folly::checkedMalloc()</a>, <a class="el" href="IOBuf_8h_source.html#l01432">data_</a>, <a class="el" href="IOBuf_8h_source.html#l01459">flags()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00909">freeExtBuffer()</a>, <a class="el" href="IOBuf_8h_source.html#l01353">folly::IOBuf::SharedInfo::freeFn</a>, <a class="el" href="IOBuf_8cpp_source.html#l00938">goodExtBufferSize()</a>, <a class="el" href="IOBuf_8h_source.html#l00542">headroom()</a>, <a class="el" href="deadlock_8py_source.html#l00447">deadlock::info()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00954">initExtBuffer()</a>, <a class="el" href="IOBuf_8h_source.html#l00952">isSharedOne()</a>, <a class="el" href="memory_2Malloc_8h_source.html#l00221">folly::jemallocMinInPlaceExpandable</a>, <a class="el" href="IOBuf_8h_source.html#l01342">kFlagFreeSharedInfo</a>, <a class="el" href="IOBuf_8h_source.html#l01434">length_</a>, <a class="el" href="IOBuf_8h_source.html#l01474">setFlagsAndSharedInfo()</a>, <a class="el" href="IOBuf_8h_source.html#l01449">sharedInfo()</a>, <a class="el" href="IOBuf_8h_source.html#l00551">tailroom()</a>, <a class="el" href="ConstexprMathBenchmark_8cpp_source.html#l00178">uint8_t</a>, <a class="el" href="Likely_8h_source.html#l00048">UNLIKELY</a>, <a class="el" href="memory_2Malloc_8h_source.html#l00147">folly::usingJEMalloc()</a>, <a class="el" href="IOBuf_8h_source.html#l00572">writableBuffer()</a>, and <a class="el" href="MallocImpl_8cpp_source.html#l00037">xallocx</a>.</p>
<div class="fragment"><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                                                                    {</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;  <span class="keywordtype">size_t</span> newCapacity = (size_t)<a class="code" href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">length_</a> + minHeadroom + minTailroom;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  DCHECK_LT(newCapacity, UINT32_MAX);</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  <span class="comment">// reserveSlow() is dangerous if anyone else is sharing the buffer, as we may</span></div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <span class="comment">// reallocate and free the original buffer.  It should only ever be called if</span></div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  <span class="comment">// we are the only user of the buffer.</span></div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;  DCHECK(!<a class="code" href="classfolly_1_1IOBuf.html#abc566a1f1aabc7cdb029de084952dffb">isSharedOne</a>());</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  <span class="comment">// We&#39;ll need to reallocate the buffer.</span></div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  <span class="comment">// There are a few options.</span></div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  <span class="comment">// - If we have enough total room, move the data around in the buffer</span></div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  <span class="comment">//   and adjust the data_ pointer.</span></div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  <span class="comment">// - If we&#39;re using an internal buffer, we&#39;ll switch to an external</span></div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  <span class="comment">//   buffer with enough headroom and tailroom.</span></div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  <span class="comment">// - If we have enough headroom (headroom() &gt;= minHeadroom) but not too much</span></div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  <span class="comment">//   (so we don&#39;t waste memory), we can try one of two things, depending on</span></div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  <span class="comment">//   whether we use jemalloc or not:</span></div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  <span class="comment">//   - If using jemalloc, we can try to expand in place, avoiding a memcpy()</span></div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;  <span class="comment">//   - If not using jemalloc and we don&#39;t have too much to copy,</span></div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;  <span class="comment">//     we&#39;ll use realloc() (note that realloc might have to copy</span></div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;  <span class="comment">//     headroom + data + tailroom, see smartRealloc in folly/memory/Malloc.h)</span></div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  <span class="comment">// - Otherwise, bite the bullet and reallocate.</span></div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">headroom</a>() + <a class="code" href="classfolly_1_1IOBuf.html#a9e37facbd98e407388559c4dd572eb6c">tailroom</a>() &gt;= minHeadroom + minTailroom) {</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <a class="code" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>* newData = <a class="code" href="classfolly_1_1IOBuf.html#aa09e3f15a796182adf3d6c4e163491d7">writableBuffer</a>() + minHeadroom;</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    memmove(newData, <a class="code" href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">data_</a>, <a class="code" href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">length_</a>);</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">data_</a> = newData;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  }</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  <span class="keywordtype">size_t</span> newAllocatedCapacity = 0;</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;  <a class="code" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>* newBuffer = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  std::size_t newHeadroom = 0;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  std::size_t oldHeadroom = <a class="code" href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">headroom</a>();</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <span class="comment">// If we have a buffer allocated with malloc and we just need more tailroom,</span></div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  <span class="comment">// try to use realloc()/xallocx() to grow the buffer in place.</span></div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;  SharedInfo* <a class="code" href="namespacedeadlock.html#a6cba8e3d51735d7ac2ac91a947f4984b">info</a> = <a class="code" href="classfolly_1_1IOBuf.html#a57b13c905b7a558f8372ccd2d824550d">sharedInfo</a>();</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  <span class="keywordflow">if</span> (info &amp;&amp; (info-&gt;freeFn == <span class="keyword">nullptr</span>) &amp;&amp; <a class="code" href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">length_</a> != 0 &amp;&amp;</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;      oldHeadroom &gt;= minHeadroom) {</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <span class="keywordtype">size_t</span> headSlack = oldHeadroom - minHeadroom;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    newAllocatedCapacity = <a class="code" href="classfolly_1_1IOBuf.html#afcf6bc0bd4608c6946b53b69d075bf3d">goodExtBufferSize</a>(newCapacity + headSlack);</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacefolly.html#afd107211692ed57ebcd9e14257f7b6bd">usingJEMalloc</a>()) {</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;      <span class="comment">// We assume that tailroom is more useful and more important than</span></div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;      <span class="comment">// headroom (not least because realloc / xallocx allow us to grow the</span></div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;      <span class="comment">// buffer at the tail, but not at the head)  So, if we have more headroom</span></div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;      <span class="comment">// than we need, we consider that &quot;wasted&quot;.  We arbitrarily define &quot;too</span></div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;      <span class="comment">// much&quot; headroom to be 25% of the capacity.</span></div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;      <span class="keywordflow">if</span> (headSlack * 4 &lt;= newCapacity) {</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;        <span class="keywordtype">size_t</span> allocatedCapacity = <a class="code" href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">capacity</a>() + <span class="keyword">sizeof</span>(SharedInfo);</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;        <span class="keywordtype">void</span>* p = <a class="code" href="classfolly_1_1IOBuf.html#affce6ca9f1b795300095724fe907e50d">buf_</a>;</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        <span class="keywordflow">if</span> (allocatedCapacity &gt;= <a class="code" href="namespacefolly.html#a63e4a2e68747db9b9f256456f74dfe2f">jemallocMinInPlaceExpandable</a>) {</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="MallocImpl_8cpp.html#a159944b597629b1cb9a96e1824cde626">xallocx</a>(p, newAllocatedCapacity, 0, 0) == newAllocatedCapacity) {</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;            newBuffer = <span class="keyword">static_cast&lt;</span><a class="code" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>*<span class="keyword">&gt;</span>(p);</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;            newHeadroom = oldHeadroom;</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;          }</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;          <span class="comment">// if xallocx failed, do nothing, fall back to malloc/memcpy/free</span></div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        }</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;      }</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    } <span class="keywordflow">else</span> { <span class="comment">// Not using jemalloc</span></div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;      <span class="keywordtype">size_t</span> copySlack = <a class="code" href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">capacity</a>() - <a class="code" href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">length_</a>;</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;      <span class="keywordflow">if</span> (copySlack * 2 &lt;= <a class="code" href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">length_</a>) {</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        <span class="keywordtype">void</span>* p = realloc(<a class="code" href="classfolly_1_1IOBuf.html#affce6ca9f1b795300095724fe907e50d">buf_</a>, newAllocatedCapacity);</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="Likely_8h.html#ab10d0a221f4d7a706701b806c8135fd7">UNLIKELY</a>(p == <span class="keyword">nullptr</span>)) {</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;          <span class="keywordflow">throw</span> std::bad_alloc();</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;        }</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        newBuffer = <span class="keyword">static_cast&lt;</span><a class="code" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>*<span class="keyword">&gt;</span>(p);</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        newHeadroom = oldHeadroom;</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;      }</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    }</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;  }</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;  <span class="comment">// None of the previous reallocation strategies worked (or we&#39;re using</span></div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;  <span class="comment">// an internal buffer).  malloc/copy/free.</span></div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  <span class="keywordflow">if</span> (newBuffer == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    newAllocatedCapacity = <a class="code" href="classfolly_1_1IOBuf.html#afcf6bc0bd4608c6946b53b69d075bf3d">goodExtBufferSize</a>(newCapacity);</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    newBuffer = <span class="keyword">static_cast&lt;</span><a class="code" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>*<span class="keyword">&gt;</span>(<a class="code" href="namespacefolly.html#ac8ace750150dff84e5a2a8cda65a9973">checkedMalloc</a>(newAllocatedCapacity));</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">length_</a> &gt; 0) {</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;      assert(<a class="code" href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">data_</a> != <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;      memcpy(newBuffer + minHeadroom, <a class="code" href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">data_</a>, <a class="code" href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">length_</a>);</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    }</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1IOBuf.html#a57b13c905b7a558f8372ccd2d824550d">sharedInfo</a>()) {</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#a0d3b81f0246509c414d5d0a52ea21e10">freeExtBuffer</a>();</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    }</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    newHeadroom = minHeadroom;</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  }</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;  std::size_t cap;</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#a81f9eb67397c7c6f768a9ec9d25572c4">initExtBuffer</a>(newBuffer, newAllocatedCapacity, &amp;info, &amp;cap);</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1IOBuf.html#afe0beb355cddf7ec2d6bd2c5ceccdeab">flags</a>() &amp; <a class="code" href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43a32d2db880a2042a2345b5181bd852504">kFlagFreeSharedInfo</a>) {</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classfolly_1_1IOBuf.html#a57b13c905b7a558f8372ccd2d824550d">sharedInfo</a>();</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;  }</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#a4000fa74a4b2782c605ef251ccb0cd08">setFlagsAndSharedInfo</a>(0, info);</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#a4d25a5cf5084ebeb9d156217ec01f718">capacity_</a> = cap;</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#affce6ca9f1b795300095724fe907e50d">buf_</a> = newBuffer;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">data_</a> = newBuffer + newHeadroom;</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;  <span class="comment">// length_ is unchanged</span></div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;}</div><div class="ttc" id="namespacedeadlock_html_a6cba8e3d51735d7ac2ac91a947f4984b"><div class="ttname"><a href="namespacedeadlock.html#a6cba8e3d51735d7ac2ac91a947f4984b">deadlock.info</a></div><div class="ttdeci">def info()</div><div class="ttdef"><b>Definition:</b> <a href="deadlock_8py_source.html#l00447">deadlock.py:447</a></div></div>
<div class="ttc" id="namespacefolly_html_ac8ace750150dff84e5a2a8cda65a9973"><div class="ttname"><a href="namespacefolly.html#ac8ace750150dff84e5a2a8cda65a9973">folly::checkedMalloc</a></div><div class="ttdeci">void * checkedMalloc(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="memory_2Malloc_8h_source.html#l00227">Malloc.h:227</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_afe0beb355cddf7ec2d6bd2c5ceccdeab"><div class="ttname"><a href="classfolly_1_1IOBuf.html#afe0beb355cddf7ec2d6bd2c5ceccdeab">folly::IOBuf::flags</a></div><div class="ttdeci">uintptr_t flags() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01459">IOBuf.h:1459</a></div></div>
<div class="ttc" id="namespacefolly_html_afd107211692ed57ebcd9e14257f7b6bd"><div class="ttname"><a href="namespacefolly.html#afd107211692ed57ebcd9e14257f7b6bd">folly::usingJEMalloc</a></div><div class="ttdeci">bool usingJEMalloc() noexcept</div><div class="ttdef"><b>Definition:</b> <a href="memory_2Malloc_8h_source.html#l00147">Malloc.h:147</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a0d3b81f0246509c414d5d0a52ea21e10"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a0d3b81f0246509c414d5d0a52ea21e10">folly::IOBuf::freeExtBuffer</a></div><div class="ttdeci">void freeExtBuffer()</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00909">IOBuf.cpp:909</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_abc566a1f1aabc7cdb029de084952dffb"><div class="ttname"><a href="classfolly_1_1IOBuf.html#abc566a1f1aabc7cdb029de084952dffb">folly::IOBuf::isSharedOne</a></div><div class="ttdeci">bool isSharedOne() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00952">IOBuf.h:952</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_afc06ea1931398696db8d9a80619e3753"><div class="ttname"><a href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">folly::IOBuf::capacity</a></div><div class="ttdeci">std::size_t capacity() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00593">IOBuf.h:593</a></div></div>
<div class="ttc" id="namespacefolly_html_a63e4a2e68747db9b9f256456f74dfe2f"><div class="ttname"><a href="namespacefolly.html#a63e4a2e68747db9b9f256456f74dfe2f">folly::jemallocMinInPlaceExpandable</a></div><div class="ttdeci">static const size_t jemallocMinInPlaceExpandable</div><div class="ttdef"><b>Definition:</b> <a href="memory_2Malloc_8h_source.html#l00221">Malloc.h:221</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a9e37facbd98e407388559c4dd572eb6c"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a9e37facbd98e407388559c4dd572eb6c">folly::IOBuf::tailroom</a></div><div class="ttdeci">std::size_t tailroom() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00551">IOBuf.h:551</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_aa09e3f15a796182adf3d6c4e163491d7"><div class="ttname"><a href="classfolly_1_1IOBuf.html#aa09e3f15a796182adf3d6c4e163491d7">folly::IOBuf::writableBuffer</a></div><div class="ttdeci">uint8_t * writableBuffer()</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00572">IOBuf.h:572</a></div></div>
<div class="ttc" id="MallocImpl_8cpp_html_a159944b597629b1cb9a96e1824cde626"><div class="ttname"><a href="MallocImpl_8cpp.html#a159944b597629b1cb9a96e1824cde626">xallocx</a></div><div class="ttdeci">size_t(* xallocx)(void *, size_t, size_t, int)</div><div class="ttdef"><b>Definition:</b> <a href="MallocImpl_8cpp_source.html#l00037">MallocImpl.cpp:37</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a7a03b1d1337e3da57675a94b29a84ac9"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">folly::IOBuf::data_</a></div><div class="ttdeci">uint8_t * data_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01432">IOBuf.h:1432</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_affce6ca9f1b795300095724fe907e50d"><div class="ttname"><a href="classfolly_1_1IOBuf.html#affce6ca9f1b795300095724fe907e50d">folly::IOBuf::buf_</a></div><div class="ttdeci">uint8_t * buf_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01433">IOBuf.h:1433</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a6e7ab795221f3359c2d919b3035374c3"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">folly::IOBuf::headroom</a></div><div class="ttdeci">std::size_t headroom() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00542">IOBuf.h:542</a></div></div>
<div class="ttc" id="ConstexprMathBenchmark_8cpp_html_ae1affc9ca37cfb624959c866a73f83c2"><div class="ttname"><a href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a></div><div class="ttdeci">uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="ConstexprMathBenchmark_8cpp_source.html#l00178">ConstexprMathBenchmark.cpp:178</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a564daf68834ce4e7523f329e1c6df23f"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">folly::IOBuf::length_</a></div><div class="ttdeci">std::size_t length_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01434">IOBuf.h:1434</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a291e8582a1769680d882f3e327a37b43a32d2db880a2042a2345b5181bd852504"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43a32d2db880a2042a2345b5181bd852504">folly::IOBuf::kFlagFreeSharedInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01342">IOBuf.h:1342</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a57b13c905b7a558f8372ccd2d824550d"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a57b13c905b7a558f8372ccd2d824550d">folly::IOBuf::sharedInfo</a></div><div class="ttdeci">SharedInfo * sharedInfo() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01449">IOBuf.h:1449</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a4d25a5cf5084ebeb9d156217ec01f718"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a4d25a5cf5084ebeb9d156217ec01f718">folly::IOBuf::capacity_</a></div><div class="ttdeci">std::size_t capacity_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01435">IOBuf.h:1435</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_afcf6bc0bd4608c6946b53b69d075bf3d"><div class="ttname"><a href="classfolly_1_1IOBuf.html#afcf6bc0bd4608c6946b53b69d075bf3d">folly::IOBuf::goodExtBufferSize</a></div><div class="ttdeci">static size_t goodExtBufferSize(std::size_t minCapacity)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00938">IOBuf.cpp:938</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a4000fa74a4b2782c605ef251ccb0cd08"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a4000fa74a4b2782c605ef251ccb0cd08">folly::IOBuf::setFlagsAndSharedInfo</a></div><div class="ttdeci">void setFlagsAndSharedInfo(uintptr_t flags, SharedInfo *info)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01474">IOBuf.h:1474</a></div></div>
<div class="ttc" id="Likely_8h_html_ab10d0a221f4d7a706701b806c8135fd7"><div class="ttname"><a href="Likely_8h.html#ab10d0a221f4d7a706701b806c8135fd7">UNLIKELY</a></div><div class="ttdeci">#define UNLIKELY(x)</div><div class="ttdef"><b>Definition:</b> <a href="Likely_8h_source.html#l00048">Likely.h:48</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a81f9eb67397c7c6f768a9ec9d25572c4"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a81f9eb67397c7c6f768a9ec9d25572c4">folly::IOBuf::initExtBuffer</a></div><div class="ttdeci">static void initExtBuffer(uint8_t *buf, size_t mallocSize, SharedInfo **infoReturn, std::size_t *capacityReturn)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00954">IOBuf.cpp:954</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a94a838c0aa9e189b1912438ae94173fb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::retreat </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>amount</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Shift the data backwards in the buffer.</p>
<p>The caller is responsible for ensuring that there is sufficient headroom in the buffer before calling <a class="el" href="classfolly_1_1IOBuf.html#a94a838c0aa9e189b1912438ae94173fb">retreat()</a>.</p>
<p>If there is a non-zero data length, <a class="el" href="classfolly_1_1IOBuf.html#a94a838c0aa9e189b1912438ae94173fb">retreat()</a> will use memmove() to shift the data backwards in the buffer. In this case, the caller is responsible for making sure the buffer is unshared, so it will not affect other IOBufs that may be sharing the same underlying buffer. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00653">653</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>References <a class="el" href="FileUtilTest_8cpp_source.html#l00066">data_</a>, and <a class="el" href="JSONSchema_8cpp_source.html#l00233">length_</a>.</p>

<p>Referenced by <a class="el" href="SPDYCodec_8cpp_source.html#l01031">proxygen::SPDYCodec::generateDataFrame()</a>, and <a class="el" href="TypedIOBuf_8h_source.html#l00102">folly::TypedIOBuf&lt; T &gt;::retreat()</a>.</p>
<div class="fragment"><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                                 {</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <span class="comment">// In debug builds, assert if there is a problem.</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    assert(amount &lt;= <a class="code" href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">headroom</a>());</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">length_</a> &gt; 0) {</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;      memmove(<a class="code" href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">data_</a> - amount, <a class="code" href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">data_</a>, <a class="code" href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">length_</a>);</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    }</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">data_</a> -= amount;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_a7a03b1d1337e3da57675a94b29a84ac9"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">folly::IOBuf::data_</a></div><div class="ttdeci">uint8_t * data_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01432">IOBuf.h:1432</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a6e7ab795221f3359c2d919b3035374c3"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">folly::IOBuf::headroom</a></div><div class="ttdeci">std::size_t headroom() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00542">IOBuf.h:542</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a564daf68834ce4e7523f329e1c6df23f"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">folly::IOBuf::length_</a></div><div class="ttdeci">std::size_t length_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01434">IOBuf.h:1434</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8c57cd2cdbac9c41601501fa0572ccb4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a>&gt; folly::IOBuf::separateChain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> *&#160;</td>
          <td class="paramname"><em>head</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> *&#160;</td>
          <td class="paramname"><em>tail</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Remove a subchain from this chain.</p>
<p>Remove the subchain starting at head and ending at tail from this chain.</p>
<p>Returns a unique_ptr pointing to head. (In other words, ownership of the head of the subchain is transferred to the caller.) If the caller ignores the return value and lets the unique_ptr be destroyed, the subchain will be immediately destroyed.</p>
<p>The subchain referenced by the specified head and tail must be part of the same chain as the current <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a>, but must not contain the current <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a>. However, the specified head and tail may be equal to each other (i.e., they may be a subchain of length 1). </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00883">883</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>References <a class="el" href="IOBuf_8h_source.html#l01423">next_</a>, and <a class="el" href="IOBuf_8h_source.html#l01424">prev_</a>.</p>

<p>Referenced by <a class="el" href="IOBuf_8cpp_source.html#l00722">coalesceAndReallocate()</a>.</p>
<div class="fragment"><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                                                               {</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    assert(head != <span class="keyword">this</span>);</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    assert(<a class="code" href="classfolly_1_1IOBuf.html#a7d40f1589d5ca8d12d545ea2fccf1031">tail</a> != <span class="keyword">this</span>);</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    head-&gt;prev_-&gt;next_ = <a class="code" href="classfolly_1_1IOBuf.html#a7d40f1589d5ca8d12d545ea2fccf1031">tail</a>-&gt;next_;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#a7d40f1589d5ca8d12d545ea2fccf1031">tail</a>-&gt;next_-&gt;prev_ = head-&gt;prev_;</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    head-&gt;prev_ = <a class="code" href="classfolly_1_1IOBuf.html#a7d40f1589d5ca8d12d545ea2fccf1031">tail</a>;</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#a7d40f1589d5ca8d12d545ea2fccf1031">tail</a>-&gt;next_ = head;</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <span class="keywordflow">return</span> std::unique_ptr&lt;IOBuf&gt;(head);</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_a7d40f1589d5ca8d12d545ea2fccf1031"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a7d40f1589d5ca8d12d545ea2fccf1031">folly::IOBuf::tail</a></div><div class="ttdeci">const uint8_t * tail() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00516">IOBuf.h:516</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9d9a97b49b81731b4ffffad4e4949720"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::setFlags </td>
          <td>(</td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>flags</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l01464">1464</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>Referenced by <a class="el" href="IOBuf_8cpp_source.html#l00556">cloneOneAsValue()</a>.</p>
<div class="fragment"><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;                                              {</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;    DCHECK_EQ(<a class="code" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a> &amp; ~<a class="code" href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43a7ec254b74ac4c9db53102f9b5c0b3f9f">kFlagMask</a>, 0u);</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#a305fafb3b8f177828fa7a427f25407a5">flagsAndSharedInfo_</a> |= <a class="code" href="classfolly_1_1IOBuf.html#afe0beb355cddf7ec2d6bd2c5ceccdeab">flags</a>;</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;  }</div><div class="ttc" id="http__parser_8h_html_ab6b306ef981f5e21bb41ea2c2dbe8cd9"><div class="ttname"><a href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a></div><div class="ttdeci">flags</div><div class="ttdef"><b>Definition:</b> <a href="http__parser_8h_source.html#l00127">http_parser.h:127</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_afe0beb355cddf7ec2d6bd2c5ceccdeab"><div class="ttname"><a href="classfolly_1_1IOBuf.html#afe0beb355cddf7ec2d6bd2c5ceccdeab">folly::IOBuf::flags</a></div><div class="ttdeci">uintptr_t flags() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01459">IOBuf.h:1459</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a291e8582a1769680d882f3e327a37b43a7ec254b74ac4c9db53102f9b5c0b3f9f"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43a7ec254b74ac4c9db53102f9b5c0b3f9f">folly::IOBuf::kFlagMask</a></div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01344">IOBuf.h:1344</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a305fafb3b8f177828fa7a427f25407a5"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a305fafb3b8f177828fa7a427f25407a5">folly::IOBuf::flagsAndSharedInfo_</a></div><div class="ttdeci">uintptr_t flagsAndSharedInfo_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01438">IOBuf.h:1438</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4000fa74a4b2782c605ef251ccb0cd08"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::setFlagsAndSharedInfo </td>
          <td>(</td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfolly_1_1IOBuf_1_1SharedInfo.html">SharedInfo</a> *&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l01474">1474</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>Referenced by <a class="el" href="IOBuf_8cpp_source.html#l00722">coalesceAndReallocate()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00808">reserveSlow()</a>, and <a class="el" href="IOBuf_8cpp_source.html#l00606">unshareOneSlow()</a>.</p>
<div class="fragment"><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;                                                                       {</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#a305fafb3b8f177828fa7a427f25407a5">flagsAndSharedInfo_</a> = <a class="code" href="classfolly_1_1IOBuf.html#ab0273b373015ae756a8bc6d7b60864f0">packFlagsAndSharedInfo</a>(<a class="code" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a>, <a class="code" href="namespacedeadlock.html#a6cba8e3d51735d7ac2ac91a947f4984b">info</a>);</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;  }</div><div class="ttc" id="namespacedeadlock_html_a6cba8e3d51735d7ac2ac91a947f4984b"><div class="ttname"><a href="namespacedeadlock.html#a6cba8e3d51735d7ac2ac91a947f4984b">deadlock.info</a></div><div class="ttdeci">def info()</div><div class="ttdef"><b>Definition:</b> <a href="deadlock_8py_source.html#l00447">deadlock.py:447</a></div></div>
<div class="ttc" id="http__parser_8h_html_ab6b306ef981f5e21bb41ea2c2dbe8cd9"><div class="ttname"><a href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a></div><div class="ttdeci">flags</div><div class="ttdef"><b>Definition:</b> <a href="http__parser_8h_source.html#l00127">http_parser.h:127</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ab0273b373015ae756a8bc6d7b60864f0"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ab0273b373015ae756a8bc6d7b60864f0">folly::IOBuf::packFlagsAndSharedInfo</a></div><div class="ttdeci">static uintptr_t packFlagsAndSharedInfo(uintptr_t flags, SharedInfo *info)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01440">IOBuf.h:1440</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a305fafb3b8f177828fa7a427f25407a5"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a305fafb3b8f177828fa7a427f25407a5">folly::IOBuf::flagsAndSharedInfo_</a></div><div class="ttdeci">uintptr_t flagsAndSharedInfo_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01438">IOBuf.h:1438</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab76fca8088ffe5c75c895dd0071fc053"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::setSharedInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfolly_1_1IOBuf_1_1SharedInfo.html">SharedInfo</a> *&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l01453">1453</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>References <a class="el" href="deadlock_8py_source.html#l00447">deadlock::info()</a>.</p>

<p>Referenced by <a class="el" href="IOBuf_8cpp_source.html#l00195">IOBuf()</a>.</p>
<div class="fragment"><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;                                              {</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    uintptr_t uinfo = <span class="keyword">reinterpret_cast&lt;</span>uintptr_t<span class="keyword">&gt;</span>(<a class="code" href="namespacedeadlock.html#a6cba8e3d51735d7ac2ac91a947f4984b">info</a>);</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    DCHECK_EQ(uinfo &amp; <a class="code" href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43a7ec254b74ac4c9db53102f9b5c0b3f9f">kFlagMask</a>, 0u);</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#a305fafb3b8f177828fa7a427f25407a5">flagsAndSharedInfo_</a> = (<a class="code" href="classfolly_1_1IOBuf.html#a305fafb3b8f177828fa7a427f25407a5">flagsAndSharedInfo_</a> &amp; <a class="code" href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43a7ec254b74ac4c9db53102f9b5c0b3f9f">kFlagMask</a>) | uinfo;</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;  }</div><div class="ttc" id="namespacedeadlock_html_a6cba8e3d51735d7ac2ac91a947f4984b"><div class="ttname"><a href="namespacedeadlock.html#a6cba8e3d51735d7ac2ac91a947f4984b">deadlock.info</a></div><div class="ttdeci">def info()</div><div class="ttdef"><b>Definition:</b> <a href="deadlock_8py_source.html#l00447">deadlock.py:447</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a291e8582a1769680d882f3e327a37b43a7ec254b74ac4c9db53102f9b5c0b3f9f"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43a7ec254b74ac4c9db53102f9b5c0b3f9f">folly::IOBuf::kFlagMask</a></div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01344">IOBuf.h:1344</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a305fafb3b8f177828fa7a427f25407a5"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a305fafb3b8f177828fa7a427f25407a5">folly::IOBuf::flagsAndSharedInfo_</a></div><div class="ttdeci">uintptr_t flagsAndSharedInfo_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01438">IOBuf.h:1438</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a57b13c905b7a558f8372ccd2d824550d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfolly_1_1IOBuf_1_1SharedInfo.html">SharedInfo</a>* folly::IOBuf::sharedInfo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l01449">1449</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>Referenced by <a class="el" href="IOBuf_8cpp_source.html#l00556">cloneOneAsValue()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00773">decrementRefcount()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00909">freeExtBuffer()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00954">initExtBuffer()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00968">moveToFbString()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00808">reserveSlow()</a>, and <a class="el" href="IOBuf_8cpp_source.html#l00606">unshareOneSlow()</a>.</p>
<div class="fragment"><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;                                        {</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span>SharedInfo*<span class="keyword">&gt;</span>(<a class="code" href="classfolly_1_1IOBuf.html#a305fafb3b8f177828fa7a427f25407a5">flagsAndSharedInfo_</a> &amp; ~<a class="code" href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43a7ec254b74ac4c9db53102f9b5c0b3f9f">kFlagMask</a>);</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_a291e8582a1769680d882f3e327a37b43a7ec254b74ac4c9db53102f9b5c0b3f9f"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a291e8582a1769680d882f3e327a37b43a7ec254b74ac4c9db53102f9b5c0b3f9f">folly::IOBuf::kFlagMask</a></div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01344">IOBuf.h:1344</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a305fafb3b8f177828fa7a427f25407a5"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a305fafb3b8f177828fa7a427f25407a5">folly::IOBuf::flagsAndSharedInfo_</a></div><div class="ttdeci">uintptr_t flagsAndSharedInfo_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01438">IOBuf.h:1438</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7d40f1589d5ca8d12d545ea2fccf1031"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>* folly::IOBuf::tail </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the pointer to the end of the data. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00516">516</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>References <a class="el" href="FileUtilTest_8cpp_source.html#l00066">data_</a>, and <a class="el" href="JSONSchema_8cpp_source.html#l00233">length_</a>.</p>

<p>Referenced by <a class="el" href="Cursor_8h_source.html#l00233">folly::io::detail::CursorBase&lt; Cursor, const IOBuf &gt;::operator==()</a>, <a class="el" href="TypedIOBuf_8h_source.html#l00068">folly::TypedIOBuf&lt; T &gt;::tail()</a>, and <a class="el" href="IOBufCursorTest_8cpp_source.html#l00502">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                              {</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">data_</a> + <a class="code" href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">length_</a>;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_a7a03b1d1337e3da57675a94b29a84ac9"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">folly::IOBuf::data_</a></div><div class="ttdeci">uint8_t * data_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01432">IOBuf.h:1432</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a564daf68834ce4e7523f329e1c6df23f"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">folly::IOBuf::length_</a></div><div class="ttdeci">std::size_t length_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01434">IOBuf.h:1434</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9e37facbd98e407388559c4dd572eb6c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t folly::IOBuf::tailroom </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the amount of tail room.</p>
<p>Returns the number of bytes in the buffer after the end of the data. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00551">551</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>Referenced by <a class="el" href="IOBufTest_8cpp_source.html#l00037">append()</a>, <a class="el" href="IOBufQueue_8cpp_source.html#l00172">folly::IOBufQueue::append()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00570">cloneCoalescedAsValue()</a>, <a class="el" href="IOBuf_8h_source.html#l01391">coalesceAndReallocate()</a>, <a class="el" href="IOBufQueue_8h_source.html#l00559">folly::IOBufQueue::dcheckCacheIntegrity()</a>, <a class="el" href="Compression_8cpp_source.html#l00494">folly::io::StreamCodec::doUncompress()</a>, <a class="el" href="OpenSSLEVPCipher_8cpp_source.html#l00186">fizz::detail::evpEncrypt()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00968">moveToFbString()</a>, <a class="el" href="utils_2Logging_8cpp_source.html#l00076">proxygen::ChainInfoPrinter::print()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00808">reserveSlow()</a>, <a class="el" href="TypedIOBuf_8h_source.html#l00084">folly::TypedIOBuf&lt; T &gt;::tailroom()</a>, <a class="el" href="IOBufCursorTest_8cpp_source.html#l00149">TEST()</a>, and <a class="el" href="IOBufQueue_8h_source.html#l00633">folly::IOBufQueue::updateWritableTailCache()</a>.</p>
<div class="fragment"><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                             {</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="keywordflow">return</span> std::size_t(<a class="code" href="classfolly_1_1IOBuf.html#a55034cff0b52cd2e3b597cd2c570398c">bufferEnd</a>() - <a class="code" href="classfolly_1_1IOBuf.html#a7d40f1589d5ca8d12d545ea2fccf1031">tail</a>());</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_a7d40f1589d5ca8d12d545ea2fccf1031"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a7d40f1589d5ca8d12d545ea2fccf1031">folly::IOBuf::tail</a></div><div class="ttdeci">const uint8_t * tail() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00516">IOBuf.h:516</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a55034cff0b52cd2e3b597cd2c570398c"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a55034cff0b52cd2e3b597cd2c570398c">folly::IOBuf::bufferEnd</a></div><div class="ttdeci">const uint8_t * bufferEnd() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00583">IOBuf.h:583</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a996c07119be03b5eb25497e8d6dbb91a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::unique_ptr&lt;<a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a>&gt; folly::IOBuf::takeOwnership </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>capacity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfolly_1_1IOBuf.html#a772cf57f0a617c6fd4d518fa541e5b8d">FreeFunction</a>&#160;</td>
          <td class="paramname"><em>freeFn</em> = <code><a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>userData</em> = <code><a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>freeOnError</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a new <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> pointing to an existing data buffer.</p>
<p>The new IOBuffer will assume ownership of the buffer, and free it by calling the specified FreeFunction when the last <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> pointing to this buffer is destroyed. The function will be called with a pointer to the buffer as the first argument, and the supplied userData value as the second argument. The free function must never throw exceptions.</p>
<p>If no FreeFunction is specified, the buffer will be freed using <a class="el" href="namespacebm.html#ad1f2831d164bf5bc0b15eae7b05fcd64">free()</a> which will result in undefined behavior if the memory was allocated using 'new'.</p>
<p>The <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> data pointer will initially point to the start of the buffer,</p>
<p>In the first version of this function, the length of data is unspecified and is initialized to the capacity of the buffer</p>
<p>In the second version, the user specifies the valid length of data in the buffer</p>
<p>On error, std::bad_alloc will be thrown. If freeOnError is true (the default) the buffer will be freed before throwing the error. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00304">304</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>Referenced by <a class="el" href="AsyncSocket_8cpp_source.html#l01881">folly::AsyncSocket::handleRead()</a>, <a class="el" href="IOBuf_8cpp_source.html#l01047">takeOwnershipIov()</a>, and <a class="el" href="ZeroCopy_8h_source.html#l00178">folly::ZeroCopyTestAsyncSocket::writeBuffer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                               {</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1IOBuf.html#a996c07119be03b5eb25497e8d6dbb91a">takeOwnership</a>(</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        buf, <a class="code" href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">capacity</a>, <a class="code" href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">capacity</a>, freeFn, userData, freeOnError);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_afc06ea1931398696db8d9a80619e3753"><div class="ttname"><a href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">folly::IOBuf::capacity</a></div><div class="ttdeci">std::size_t capacity() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00593">IOBuf.h:593</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a996c07119be03b5eb25497e8d6dbb91a"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a996c07119be03b5eb25497e8d6dbb91a">folly::IOBuf::takeOwnership</a></div><div class="ttdeci">static std::unique_ptr&lt; IOBuf &gt; takeOwnership(void *buf, std::size_t capacity, FreeFunction freeFn=nullptr, void *userData=nullptr, bool freeOnError=true)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00304">IOBuf.h:304</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acdd04773d251dac148a539c2159810a4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt; folly::IOBuf::takeOwnership </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>capacity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfolly_1_1IOBuf.html#a772cf57f0a617c6fd4d518fa541e5b8d">FreeFunction</a>&#160;</td>
          <td class="paramname"><em>freeFn</em> = <code><a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>userData</em> = <code><a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>freeOnError</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00313">313</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8h_source.html#l00593">capacity()</a>, <a class="el" href="IOBuf_8h_source.html#l00533">length()</a>, and <a class="el" href="IOBuf_8h_source.html#l00227">TAKE_OWNERSHIP</a>.</p>
<div class="fragment"><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                      {</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="keywordflow">try</span> {</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="comment">// TODO: We could allocate the IOBuf object and SharedInfo all in a single</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="comment">// memory allocation.  We could use the existing HeapStorage class, and</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="comment">// define a new kSharedInfoInUse flag.  We could change our code to call</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="comment">// releaseStorage(kFlagFreeSharedInfo) when this kFlagFreeSharedInfo,</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="comment">// rather than directly calling delete.</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="comment">// Note that we always pass freeOnError as false to the constructor.</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="comment">// If the constructor throws we&#39;ll handle it below.  (We have to handle</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="comment">// allocation failures from std::make_unique too.)</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">return</span> std::make_unique&lt;IOBuf&gt;(</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <a class="code" href="classfolly_1_1IOBuf.html#ac1307cfccbbae75a2b8ca147e825f5bfa1fb95262364b0bd03599e7a4af859165">TAKE_OWNERSHIP</a>, buf, <a class="code" href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">capacity</a>, <a class="code" href="classfolly_1_1IOBuf.html#a7772f21059d7cde7f30341dfbb162e4a">length</a>, freeFn, userData, <span class="keyword">false</span>);</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  } <span class="keywordflow">catch</span> (...) {</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    takeOwnershipError(freeOnError, buf, freeFn, userData);</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keywordflow">throw</span>;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  }</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOBuf_html_afc06ea1931398696db8d9a80619e3753"><div class="ttname"><a href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">folly::IOBuf::capacity</a></div><div class="ttdeci">std::size_t capacity() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00593">IOBuf.h:593</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a7772f21059d7cde7f30341dfbb162e4a"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a7772f21059d7cde7f30341dfbb162e4a">folly::IOBuf::length</a></div><div class="ttdeci">std::size_t length() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00533">IOBuf.h:533</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ac1307cfccbbae75a2b8ca147e825f5bfa1fb95262364b0bd03599e7a4af859165"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ac1307cfccbbae75a2b8ca147e825f5bfa1fb95262364b0bd03599e7a4af859165">folly::IOBuf::TAKE_OWNERSHIP</a></div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00227">IOBuf.h:227</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6c1c13211f37de17cb061e44dee11e56"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class UniquePtr &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::enable_if&lt; <a class="el" href="structfolly_1_1detail_1_1IsUniquePtrToSL.html">detail::IsUniquePtrToSL</a>&lt; UniquePtr &gt;::<a class="el" href="namespacefolly.html#af765fccfa9242184196b4906286ada49">value</a>, std::unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt; &gt;::<a class="el" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">type</a> folly::IOBuf::takeOwnership </td>
          <td>(</td>
          <td class="paramtype">UniquePtr &amp;&amp;&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a new <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> pointing to an existing data buffer made up of count objects of a given standard-layout type.</p>
<p>This is dangerous &ndash; it is essentially equivalent to doing reinterpret_cast&lt;unsigned char*&gt; on your data &ndash; but it's often useful for serialization / deserialization.</p>
<p>The new IOBuffer will assume ownership of the buffer, and free it appropriately (by calling the UniquePtr's custom deleter, or by calling delete or delete[] appropriately if there is no custom deleter) when the buffer is destroyed. The custom deleter, if any, must never throw exceptions.</p>
<p>The <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> data pointer will initially point to the start of the buffer, and the length will be the full capacity of the buffer (count * sizeof(T)).</p>
<p>On error, std::bad_alloc will be thrown, and the buffer will be freed before throwing the error. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l01580">1580</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>References <a class="el" href="Access_8h_source.html#l00045">folly::size()</a>.</p>
<div class="fragment"><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;                                                  {</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="namespacefolly.html#a0606ba855bcb96a1673880aa3b404993">size</a> = <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock__stress__test_8cc.html#afd9db40e3361ae09188795e8cbe19752">count</a> * <span class="keyword">sizeof</span>(<span class="keyword">typename</span> UniquePtr::element_type);</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;  <span class="keyword">auto</span> deleter = <span class="keyword">new</span> UniquePtrDeleter&lt;UniquePtr&gt;(buf.get_deleter());</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1IOBuf.html#a996c07119be03b5eb25497e8d6dbb91a">takeOwnership</a>(</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;      buf.release(), <a class="code" href="namespacefolly.html#a0606ba855bcb96a1673880aa3b404993">size</a>, &amp;<a class="code" href="classfolly_1_1IOBuf.html#a26086cd80e51323efdc286f096c39b3c">IOBuf::freeUniquePtrBuffer</a>, deleter);</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;}</div><div class="ttc" id="namespacefolly_html_a0606ba855bcb96a1673880aa3b404993"><div class="ttname"><a href="namespacefolly.html#a0606ba855bcb96a1673880aa3b404993">folly::size</a></div><div class="ttdeci">constexpr auto size(C const &amp;c) -&gt; decltype(c.size())</div><div class="ttdef"><b>Definition:</b> <a href="Access_8h_source.html#l00045">Access.h:45</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a26086cd80e51323efdc286f096c39b3c"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a26086cd80e51323efdc286f096c39b3c">folly::IOBuf::freeUniquePtrBuffer</a></div><div class="ttdeci">static void freeUniquePtrBuffer(void *ptr, void *userData)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01502">IOBuf.h:1502</a></div></div>
<div class="ttc" id="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock__stress__test_8cc_html_afd9db40e3361ae09188795e8cbe19752"><div class="ttname"><a href="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock__stress__test_8cc.html#afd9db40e3361ae09188795e8cbe19752">count</a></div><div class="ttdeci">int * count</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock__stress__test_8cc_source.html#l00176">gmock_stress_test.cc:176</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a996c07119be03b5eb25497e8d6dbb91a"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a996c07119be03b5eb25497e8d6dbb91a">folly::IOBuf::takeOwnership</a></div><div class="ttdeci">static std::unique_ptr&lt; IOBuf &gt; takeOwnership(void *buf, std::size_t capacity, FreeFunction freeFn=nullptr, void *userData=nullptr, bool freeOnError=true)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00304">IOBuf.h:304</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a374a283b9996760e988debc565e1f1b5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt; folly::IOBuf::takeOwnershipIov </td>
          <td>(</td>
          <td class="paramtype">const iovec *&#160;</td>
          <td class="paramname"><em>vec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfolly_1_1IOBuf.html#a772cf57f0a617c6fd4d518fa541e5b8d">FreeFunction</a>&#160;</td>
          <td class="paramname"><em>freeFn</em> = <code><a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>userData</em> = <code><a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>freeOnError</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="structA.html">A</a> helper that takes ownerships a number of iovecs into an <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> chain. If count == 0, then a zero length buf is returned. This function never returns nullptr. </p>

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l01047">1047</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock__stress__test_8cc_source.html#l00176">count</a>, <a class="el" href="IOBuf_8cpp_source.html#l00229">create()</a>, <a class="el" href="IOBuf_8h_source.html#l00499">data()</a>, <a class="el" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt_source.html#l00083">i</a>, <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>, <a class="el" href="IOBuf_8h_source.html#l00304">takeOwnership()</a>, and <a class="el" href="Likely_8h_source.html#l00048">UNLIKELY</a>.</p>
<div class="fragment"><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;                      {</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  unique_ptr&lt;IOBuf&gt; result = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> = 0; <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> &lt; <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock__stress__test_8cc.html#afd9db40e3361ae09188795e8cbe19752">count</a>; ++<a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <span class="keywordtype">size_t</span> len = <a class="code" href="classvector.html">vec</a>[<a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].iov_len;</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    <span class="keywordtype">void</span>* <a class="code" href="classfolly_1_1IOBuf.html#af71f6f5efabbcddf8ec6dada00f5eebf">data</a> = <a class="code" href="classvector.html">vec</a>[<a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].iov_base;</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <span class="keywordflow">if</span> (len &gt; 0) {</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;      <span class="keyword">auto</span> buf = <a class="code" href="classfolly_1_1IOBuf.html#a996c07119be03b5eb25497e8d6dbb91a">takeOwnership</a>(data, len, freeFn, userData, freeOnError);</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;      <span class="keywordflow">if</span> (!result) {</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;        result = <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(buf);</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;        result-&gt;prependChain(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(buf));</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;      }</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    }</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;  }</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="Likely_8h.html#ab10d0a221f4d7a706701b806c8135fd7">UNLIKELY</a>(result == <span class="keyword">nullptr</span>)) {</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1IOBuf.html#a744f20ec9d0829fe17cf78fb48b7785e">create</a>(0);</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;  }</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;  <span class="keywordflow">return</span> result;</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;}</div><div class="ttc" id="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt_html_a7e98b8a17c0aad30ba64d47b74e2a6c1"><div class="ttname"><a href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt_source.html#l00083">gtest_output_test_golden_lin.txt:83</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a744f20ec9d0829fe17cf78fb48b7785e"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a744f20ec9d0829fe17cf78fb48b7785e">folly::IOBuf::create</a></div><div class="ttdeci">static std::unique_ptr&lt; IOBuf &gt; create(std::size_t capacity)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00229">IOBuf.cpp:229</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_af71f6f5efabbcddf8ec6dada00f5eebf"><div class="ttname"><a href="classfolly_1_1IOBuf.html#af71f6f5efabbcddf8ec6dada00f5eebf">folly::IOBuf::data</a></div><div class="ttdeci">const uint8_t * data() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00499">IOBuf.h:499</a></div></div>
<div class="ttc" id="classvector_html"><div class="ttname"><a href="classvector.html">vector</a></div><div class="ttdef"><b>Definition:</b> <a href="Traits_8h_source.html#l00588">Traits.h:588</a></div></div>
<div class="ttc" id="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock__stress__test_8cc_html_afd9db40e3361ae09188795e8cbe19752"><div class="ttname"><a href="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock__stress__test_8cc.html#afd9db40e3361ae09188795e8cbe19752">count</a></div><div class="ttdeci">int * count</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock__stress__test_8cc_source.html#l00176">gmock_stress_test.cc:176</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a996c07119be03b5eb25497e8d6dbb91a"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a996c07119be03b5eb25497e8d6dbb91a">folly::IOBuf::takeOwnership</a></div><div class="ttdeci">static std::unique_ptr&lt; IOBuf &gt; takeOwnership(void *buf, std::size_t capacity, FreeFunction freeFn=nullptr, void *userData=nullptr, bool freeOnError=true)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00304">IOBuf.h:304</a></div></div>
<div class="ttc" id="Likely_8h_html_ab10d0a221f4d7a706701b806c8135fd7"><div class="ttname"><a href="Likely_8h.html#ab10d0a221f4d7a706701b806c8135fd7">UNLIKELY</a></div><div class="ttdeci">#define UNLIKELY(x)</div><div class="ttdef"><b>Definition:</b> <a href="Likely_8h_source.html#l00048">Likely.h:48</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad12ac938bdd0cb4db5ecf8dd10e47e46"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::trimEnd </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>amount</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Adjust the tail pointer backwards to include less valid data.</p>
<p>This moves the tail pointer backwards so that the last amount bytes are no longer considered valid data. The caller is responsible for ensuring that amount is less than or equal to the actual data length.</p>
<p>This does not modify any actual data in the buffer. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00718">718</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>References <a class="el" href="JSONSchema_8cpp_source.html#l00233">length_</a>.</p>

<p>Referenced by <a class="el" href="Cursor_8h_source.html#l00468">folly::io::detail::CursorBase&lt; Cursor, const IOBuf &gt;::cloneAtMost()</a>, <a class="el" href="ZlibStreamCompressor_8cpp_source.html#l00109">proxygen::ZlibStreamCompressor::compress()</a>, <a class="el" href="SPDYCodec_8cpp_source.html#l01031">proxygen::SPDYCodec::generateDataFrame()</a>, <a class="el" href="QPACKContextTests_8cpp_source.html#l00426">TEST()</a>, <a class="el" href="IOBufUtil_8cpp_source.html#l00015">fizz::trimBytes()</a>, and <a class="el" href="TypedIOBuf_8h_source.html#l00114">folly::TypedIOBuf&lt; T &gt;::trimEnd()</a>.</p>
<div class="fragment"><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                                 {</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    DCHECK_LE(amount, <a class="code" href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">length_</a>);</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">length_</a> -= amount;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_a564daf68834ce4e7523f329e1c6df23f"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">folly::IOBuf::length_</a></div><div class="ttdeci">std::size_t length_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01434">IOBuf.h:1434</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a88ae3810ecc01b9f130da1156d5ff244"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::trimStart </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>amount</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Adjust the data pointer forwards to include less valid data.</p>
<p>This moves the data pointer forwards so that the first amount bytes are no longer considered valid data. The caller is responsible for ensuring that amount is less than or equal to the actual data length.</p>
<p>This does not modify any actual data in the buffer. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00703">703</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>References <a class="el" href="FileUtilTest_8cpp_source.html#l00066">data_</a>, and <a class="el" href="JSONSchema_8cpp_source.html#l00233">length_</a>.</p>

<p>Referenced by <a class="el" href="Cursor_8h_source.html#l00468">folly::io::detail::CursorBase&lt; Cursor, const IOBuf &gt;::cloneAtMost()</a>, <a class="el" href="HPACKScheme_8h_source.html#l00060">proxygen::compress::HPACKScheme::decode()</a>, <a class="el" href="QMINScheme_8h_source.html#l00338">proxygen::compress::QMINScheme::decode()</a>, <a class="el" href="Cursor_8h_source.html#l00895">folly::io::RWCursor&lt; access &gt;::insert()</a>, <a class="el" href="IOBufCursorTest_8cpp_source.html#l00242">TEST()</a>, <a class="el" href="CompressionTest_8cpp_source.html#l01096">folly::io::test::TEST_P()</a>, and <a class="el" href="TypedIOBuf_8h_source.html#l00111">folly::TypedIOBuf&lt; T &gt;::trimStart()</a>.</p>
<div class="fragment"><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;                                   {</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    DCHECK_LE(amount, <a class="code" href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">length_</a>);</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">data_</a> += amount;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">length_</a> -= amount;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_a7a03b1d1337e3da57675a94b29a84ac9"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">folly::IOBuf::data_</a></div><div class="ttdeci">uint8_t * data_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01432">IOBuf.h:1432</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a564daf68834ce4e7523f329e1c6df23f"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">folly::IOBuf::length_</a></div><div class="ttdeci">std::size_t length_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01434">IOBuf.h:1434</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad0fb688fa5faf404e3f8dc9591b03612"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a>&gt; folly::IOBuf::unlink </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Remove this <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> from its current chain.</p>
<p>Since ownership of all elements an <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> chain is normally maintained by the head of the chain, <a class="el" href="classfolly_1_1IOBuf.html#ad0fb688fa5faf404e3f8dc9591b03612">unlink()</a> transfers ownership of this <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> from the chain and gives it to the caller. <a class="el" href="structA.html">A</a> new unique_ptr to the <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> is returned to the caller. The caller must store the returned unique_ptr (or call release() on it) to take ownership, otherwise the <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> will be immediately destroyed.</p>
<p>Since unlink transfers ownership of the <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> to the caller, be careful not to call <a class="el" href="classfolly_1_1IOBuf.html#ad0fb688fa5faf404e3f8dc9591b03612">unlink()</a> on the head of a chain if you already maintain ownership on the head of the chain via other means. The <a class="el" href="classfolly_1_1IOBuf.html#a02aa5128684998e66a1dffcfce2bbd17">pop()</a> method is a better choice for that situation. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00847">847</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>Referenced by <a class="el" href="IOBuf_8cpp_source.html#l00428">operator=()</a>, <a class="el" href="IOBufTest_8cpp_source.html#l00315">TEST()</a>, and <a class="el" href="IOBuf_8cpp_source.html#l00415">~IOBuf()</a>.</p>
<div class="fragment"><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;                                {</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">next_</a>-&gt;<a class="code" href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">prev_</a> = <a class="code" href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">prev_</a>;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">prev_</a>-&gt;<a class="code" href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">next_</a> = <a class="code" href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">next_</a>;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">prev_</a> = <span class="keyword">this</span>;</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <a class="code" href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">next_</a> = <span class="keyword">this</span>;</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <span class="keywordflow">return</span> std::unique_ptr&lt;IOBuf&gt;(<span class="keyword">this</span>);</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_a038b1d38b9814d8e2f571bc94d3cf0dc"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a038b1d38b9814d8e2f571bc94d3cf0dc">folly::IOBuf::next_</a></div><div class="ttdeci">IOBuf * next_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01423">IOBuf.h:1423</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a93ce4461ec7eba82b74038f887c3f957"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a93ce4461ec7eba82b74038f887c3f957">folly::IOBuf::prev_</a></div><div class="ttdeci">IOBuf * prev_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01424">IOBuf.h:1424</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a17a04ba01fdb8bfcf1b8b374eb9aae6b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::unshare </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Ensure that this <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> has a unique buffer that is not shared by other IOBufs.</p>
<p><a class="el" href="classfolly_1_1IOBuf.html#a17a04ba01fdb8bfcf1b8b374eb9aae6b">unshare()</a> operates on an entire chain of <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> objects. If the chain is shared, it may also coalesce the chain when making it unique. If the chain is coalesced, subsequent <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> objects in the current chain will be automatically deleted.</p>
<p>Note that buffers owned by other (non-IOBuf) users are automatically considered shared.</p>
<p>Throws std::bad_alloc on error. On error the <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> chain will be unmodified.</p>
<p>Currently unshare may also throw std::overflow_error if it tries to coalesce. (TODO: In the future it would be nice if <a class="el" href="classfolly_1_1IOBuf.html#a17a04ba01fdb8bfcf1b8b374eb9aae6b">unshare()</a> were smart enough not to coalesce the entire buffer if the data is too large. However, in practice this seems unlikely to become an issue.) </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00997">997</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>Referenced by <a class="el" href="IOBufTest_8cpp_source.html#l00263">fillBuf()</a>, and <a class="el" href="IOBufTest_8cpp_source.html#l00315">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;                 {</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1IOBuf.html#a5b6f1bccec27ec05ad6b6906980589ea">isChained</a>()) {</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#a1b713f8fa143c5e597b4a9cf65969c75">unshareChained</a>();</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#aed34bb3a4cd9ad3cff86d904056d7419">unshareOne</a>();</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    }</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_a5b6f1bccec27ec05ad6b6906980589ea"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a5b6f1bccec27ec05ad6b6906980589ea">folly::IOBuf::isChained</a></div><div class="ttdeci">bool isChained() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00760">IOBuf.h:760</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_aed34bb3a4cd9ad3cff86d904056d7419"><div class="ttname"><a href="classfolly_1_1IOBuf.html#aed34bb3a4cd9ad3cff86d904056d7419">folly::IOBuf::unshareOne</a></div><div class="ttdeci">void unshareOne()</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01015">IOBuf.h:1015</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a1b713f8fa143c5e597b4a9cf65969c75"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a1b713f8fa143c5e597b4a9cf65969c75">folly::IOBuf::unshareChained</a></div><div class="ttdeci">void unshareChained()</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00632">IOBuf.cpp:632</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1b713f8fa143c5e597b4a9cf65969c75"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::unshareChained </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00632">632</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8cpp_source.html#l00677">coalesceSlow()</a>, <a class="el" href="SynchronizedTest_8cpp_source.html#l00743">current</a>, <a class="el" href="IOBuf_8h_source.html#l00760">isChained()</a>, <a class="el" href="IOBuf_8h_source.html#l00952">isSharedOne()</a>, and <a class="el" href="IOBuf_8h_source.html#l01423">next_</a>.</p>
<div class="fragment"><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;                           {</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  <span class="comment">// unshareChained() should only be called if we are part of a chain of</span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  <span class="comment">// multiple IOBufs.  The caller should have already verified this.</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  assert(<a class="code" href="classfolly_1_1IOBuf.html#a5b6f1bccec27ec05ad6b6906980589ea">isChained</a>());</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">IOBuf</a>* <a class="code" href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a> = <span class="keyword">this</span>;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <span class="keywordflow">if</span> (current-&gt;isSharedOne()) {</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;      <span class="comment">// we have to unshare</span></div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    }</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    current = current-&gt;next_;</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="keywordflow">if</span> (current == <span class="keyword">this</span>) {</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;      <span class="comment">// None of the IOBufs in the chain are shared,</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      <span class="comment">// so return without doing anything</span></div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    }</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  }</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <span class="comment">// We have to unshare.  Let coalesceSlow() do the work.</span></div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#afc90b078da733a7fc981b9dae10f6d6b">coalesceSlow</a>();</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOBuf_html_a5b6f1bccec27ec05ad6b6906980589ea"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a5b6f1bccec27ec05ad6b6906980589ea">folly::IOBuf::isChained</a></div><div class="ttdeci">bool isChained() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00760">IOBuf.h:760</a></div></div>
<div class="ttc" id="SynchronizedTest_8cpp_html_ab04e2d55ea4a544f3575812582af7b51"><div class="ttname"><a href="SynchronizedTest_8cpp.html#ab04e2d55ea4a544f3575812582af7b51">current</a></div><div class="ttdeci">int current</div><div class="ttdef"><b>Definition:</b> <a href="SynchronizedTest_8cpp_source.html#l00743">SynchronizedTest.cpp:743</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_afc90b078da733a7fc981b9dae10f6d6b"><div class="ttname"><a href="classfolly_1_1IOBuf.html#afc90b078da733a7fc981b9dae10f6d6b">folly::IOBuf::coalesceSlow</a></div><div class="ttdeci">void coalesceSlow()</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00677">IOBuf.cpp:677</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ad121c314bc97a30206e8b467eb609a27"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">folly::IOBuf::IOBuf</a></div><div class="ttdeci">IOBuf() noexcept</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00361">IOBuf.cpp:361</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aed34bb3a4cd9ad3cff86d904056d7419"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::unshareOne </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Ensure that this <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> has a unique buffer that is not shared by other IOBufs.</p>
<p><a class="el" href="classfolly_1_1IOBuf.html#aed34bb3a4cd9ad3cff86d904056d7419">unshareOne()</a> operates on a single <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> object. This <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> will have a unique buffer after <a class="el" href="classfolly_1_1IOBuf.html#aed34bb3a4cd9ad3cff86d904056d7419">unshareOne()</a> returns, but other IOBufs in the chain may still be shared after <a class="el" href="classfolly_1_1IOBuf.html#aed34bb3a4cd9ad3cff86d904056d7419">unshareOne()</a> returns.</p>
<p>Throws std::bad_alloc on error. On error the <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> will be unmodified. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l01015">1015</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>Referenced by <a class="el" href="IOBufTest_8cpp_source.html#l00315">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;                    {</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1IOBuf.html#abc566a1f1aabc7cdb029de084952dffb">isSharedOne</a>()) {</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;      <a class="code" href="classfolly_1_1IOBuf.html#a35436018ffdcb4b99c13c30a822faf43">unshareOneSlow</a>();</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    }</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_abc566a1f1aabc7cdb029de084952dffb"><div class="ttname"><a href="classfolly_1_1IOBuf.html#abc566a1f1aabc7cdb029de084952dffb">folly::IOBuf::isSharedOne</a></div><div class="ttdeci">bool isSharedOne() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00952">IOBuf.h:952</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a35436018ffdcb4b99c13c30a822faf43"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a35436018ffdcb4b99c13c30a822faf43">folly::IOBuf::unshareOneSlow</a></div><div class="ttdeci">void unshareOneSlow()</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00606">IOBuf.cpp:606</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a35436018ffdcb4b99c13c30a822faf43"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOBuf::unshareOneSlow </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00606">606</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8cpp_source.html#l00927">allocExtBuffer()</a>, <a class="el" href="IOBuf_8h_source.html#l01433">buf_</a>, <a class="el" href="IOBuf_8h_source.html#l01435">capacity_</a>, <a class="el" href="IOBuf_8h_source.html#l01432">data_</a>, <a class="el" href="IOBuf_8cpp_source.html#l00773">decrementRefcount()</a>, <a class="el" href="IOBuf_8h_source.html#l00542">headroom()</a>, <a class="el" href="IOBuf_8h_source.html#l01434">length_</a>, <a class="el" href="IOBuf_8h_source.html#l01474">setFlagsAndSharedInfo()</a>, <a class="el" href="IOBuf_8h_source.html#l01449">sharedInfo()</a>, and <a class="el" href="ConstexprMathBenchmark_8cpp_source.html#l00178">uint8_t</a>.</p>
<div class="fragment"><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                           {</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  <span class="comment">// Allocate a new buffer for the data</span></div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  <a class="code" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>* buf;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  SharedInfo* <a class="code" href="classfolly_1_1IOBuf.html#a57b13c905b7a558f8372ccd2d824550d">sharedInfo</a>;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  std::size_t actualCapacity;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#a9d4a256b287eea869eafcff2e04dd749">allocExtBuffer</a>(<a class="code" href="classfolly_1_1IOBuf.html#a4d25a5cf5084ebeb9d156217ec01f718">capacity_</a>, &amp;buf, &amp;sharedInfo, &amp;actualCapacity);</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  <span class="comment">// Copy the data</span></div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  <span class="comment">// Maintain the same amount of headroom.  Since we maintained the same</span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  <span class="comment">// minimum capacity we also maintain at least the same amount of tailroom.</span></div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  std::size_t headlen = <a class="code" href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">headroom</a>();</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">length_</a> &gt; 0) {</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    assert(<a class="code" href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">data_</a> != <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    memcpy(buf + headlen, <a class="code" href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">data_</a>, <a class="code" href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">length_</a>);</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  }</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  <span class="comment">// Release our reference on the old buffer</span></div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#a6a46b4df6fe3907e84b44c6235209f5a">decrementRefcount</a>();</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  <span class="comment">// Make sure kFlagMaybeShared and kFlagFreeSharedInfo are all cleared.</span></div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#a4000fa74a4b2782c605ef251ccb0cd08">setFlagsAndSharedInfo</a>(0, sharedInfo);</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  <span class="comment">// Update the buffer pointers to point to the new buffer</span></div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">data_</a> = buf + headlen;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <a class="code" href="classfolly_1_1IOBuf.html#affce6ca9f1b795300095724fe907e50d">buf_</a> = buf;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOBuf_html_a9d4a256b287eea869eafcff2e04dd749"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a9d4a256b287eea869eafcff2e04dd749">folly::IOBuf::allocExtBuffer</a></div><div class="ttdeci">static void allocExtBuffer(std::size_t minCapacity, uint8_t **bufReturn, SharedInfo **infoReturn, std::size_t *capacityReturn)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00927">IOBuf.cpp:927</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a7a03b1d1337e3da57675a94b29a84ac9"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">folly::IOBuf::data_</a></div><div class="ttdeci">uint8_t * data_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01432">IOBuf.h:1432</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_affce6ca9f1b795300095724fe907e50d"><div class="ttname"><a href="classfolly_1_1IOBuf.html#affce6ca9f1b795300095724fe907e50d">folly::IOBuf::buf_</a></div><div class="ttdeci">uint8_t * buf_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01433">IOBuf.h:1433</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a6e7ab795221f3359c2d919b3035374c3"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a6e7ab795221f3359c2d919b3035374c3">folly::IOBuf::headroom</a></div><div class="ttdeci">std::size_t headroom() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00542">IOBuf.h:542</a></div></div>
<div class="ttc" id="ConstexprMathBenchmark_8cpp_html_ae1affc9ca37cfb624959c866a73f83c2"><div class="ttname"><a href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a></div><div class="ttdeci">uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="ConstexprMathBenchmark_8cpp_source.html#l00178">ConstexprMathBenchmark.cpp:178</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a564daf68834ce4e7523f329e1c6df23f"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">folly::IOBuf::length_</a></div><div class="ttdeci">std::size_t length_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01434">IOBuf.h:1434</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a57b13c905b7a558f8372ccd2d824550d"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a57b13c905b7a558f8372ccd2d824550d">folly::IOBuf::sharedInfo</a></div><div class="ttdeci">SharedInfo * sharedInfo() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01449">IOBuf.h:1449</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a4d25a5cf5084ebeb9d156217ec01f718"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a4d25a5cf5084ebeb9d156217ec01f718">folly::IOBuf::capacity_</a></div><div class="ttdeci">std::size_t capacity_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01435">IOBuf.h:1435</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a4000fa74a4b2782c605ef251ccb0cd08"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a4000fa74a4b2782c605ef251ccb0cd08">folly::IOBuf::setFlagsAndSharedInfo</a></div><div class="ttdeci">void setFlagsAndSharedInfo(uintptr_t flags, SharedInfo *info)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01474">IOBuf.h:1474</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a6a46b4df6fe3907e84b44c6235209f5a"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a6a46b4df6fe3907e84b44c6235209f5a">folly::IOBuf::decrementRefcount</a></div><div class="ttdeci">void decrementRefcount()</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00773">IOBuf.cpp:773</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a354ecb1fb5f80e8d0006cf0e74307b63"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt; folly::IOBuf::wrapBuffer </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>capacity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a new <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> object that points to an existing user-owned buffer.</p>
<p>This should only be used when the caller knows the lifetime of the <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> object ahead of time and can ensure that all <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> objects that will point to this buffer will be destroyed before the buffer itself is destroyed.</p>
<p>This buffer will not be freed automatically when the last <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> referencing it is destroyed. It is the caller's responsibility to free the buffer after the last <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> has been destroyed.</p>
<p>The <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> data pointer will initially point to the start of the buffer, and the length will be the full capacity of the buffer.</p>
<p>An <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> created using <a class="el" href="classfolly_1_1IOBuf.html#a354ecb1fb5f80e8d0006cf0e74307b63">wrapBuffer()</a> will always be reported as shared. <a class="el" href="classfolly_1_1IOBuf.html#a17a04ba01fdb8bfcf1b8b374eb9aae6b">unshare()</a> may be used to create a writable copy of the buffer.</p>
<p>On error, std::bad_alloc will be thrown. </p>

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00353">353</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8h_source.html#l00593">capacity()</a>, and <a class="el" href="IOBuf_8h_source.html#l00226">WRAP_BUFFER</a>.</p>

<p>Referenced by <a class="el" href="AsyncSSLSocket_8cpp_source.html#l01807">folly::AsyncSSLSocket::clientHelloParsingCallback()</a>, <a class="el" href="AeadTokenCipher-inl_8h_source.html#l00109">fizz::server::AeadTokenCipher&lt; AeadType, HkdfType &gt;::createAead()</a>, <a class="el" href="ServerProtocol_8cpp_source.html#l00953">fizz::sm::getCertificateRequest()</a>, <a class="el" href="Exporter_8cpp_source.html#l00013">fizz::Exporter::getEkm()</a>, <a class="el" href="ClientProtocol_8cpp_source.html#l01036">fizz::sm::getHrrKeyExchangers()</a>, <a class="el" href="KeyScheduler_8cpp_source.html#l00204">fizz::KeyScheduler::getResumptionSecret()</a>, <a class="el" href="ClientProtocol_8cpp_source.html#l01353">fizz::sm::handleCertMsg()</a>, <a class="el" href="ClientProtocol_8cpp_source.html#l01801">fizz::sm::handleEarlyAppWrite()</a>, <a class="el" href="Load_8cpp_source.html#l00214">folly::bser::parseBser()</a>, <a class="el" href="CompressionTest_8cpp_source.html#l00948">folly::io::test::StreamingCompressionTest::runFlushTest()</a>, <a class="el" href="CompressionTest_8cpp_source.html#l00221">folly::io::test::CompressionTest::runSimpleIOBufTest()</a>, <a class="el" href="CompressionTest_8cpp_source.html#l00332">folly::io::test::CompressionVarintTest::runSimpleTest()</a>, <a class="el" href="CompressionTest_8cpp_source.html#l00392">folly::io::test::CompressionCorruptionTest::runSimpleTest()</a>, <a class="el" href="CompressionTest_8cpp_source.html#l01037">folly::io::test::AutomaticCodecTest::runSimpleTest()</a>, <a class="el" href="CompressionTest_8cpp_source.html#l00907">folly::io::test::StreamingCompressionTest::runUncompressStreamTest()</a>, <a class="el" href="DualTicketCipherTest_8cpp_source.html#l00034">fizz::server::test::TEST()</a>, <a class="el" href="RecordIOTest_8cpp_source.html#l00093">folly::test::TEST()</a>, <a class="el" href="BserTest_8cpp_source.html#l00104">TEST()</a>, <a class="el" href="CompressionTest_8cpp_source.html#l01380">folly::io::test::TEST()</a>, <a class="el" href="KeyDerivationTest_8cpp_source.html#l00029">fizz::testing::TEST_P()</a>, <a class="el" href="CompressionTest_8cpp_source.html#l00505">folly::io::test::TEST_P()</a>, <a class="el" href="IOBufQueue_8cpp_source.html#l00194">folly::IOBufQueue::wrapBuffer()</a>, <a class="el" href="IOBuf_8cpp_source.html#l01027">wrapIov()</a>, <a class="el" href="WriteChainAsyncTransportWrapper_8h_source.html#l00033">folly::WriteChainAsyncTransportWrapper&lt; folly::AsyncTransportWrapper &gt;::write()</a>, and <a class="el" href="AsyncPipe_8h_source.html#l00152">folly::AsyncPipeWriter::write()</a>.</p>
<div class="fragment"><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                                                                       {</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <span class="keywordflow">return</span> std::make_unique&lt;IOBuf&gt;(<a class="code" href="classfolly_1_1IOBuf.html#a60c3b02321c68dcc061dcc7fbfa412a3a174a9607f56f9e1751bf7dd642f728fb">WRAP_BUFFER</a>, buf, <a class="code" href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">capacity</a>);</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOBuf_html_afc06ea1931398696db8d9a80619e3753"><div class="ttname"><a href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">folly::IOBuf::capacity</a></div><div class="ttdeci">std::size_t capacity() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00593">IOBuf.h:593</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a60c3b02321c68dcc061dcc7fbfa412a3a174a9607f56f9e1751bf7dd642f728fb"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a60c3b02321c68dcc061dcc7fbfa412a3a174a9607f56f9e1751bf7dd642f728fb">folly::IOBuf::WRAP_BUFFER</a></div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00226">IOBuf.h:226</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a671c1ac4b52d33a50ca6de9bea6951eb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::unique_ptr&lt;<a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a>&gt; folly::IOBuf::wrapBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacefolly.html#a7f61a634c75bc3bb46447ec2b17ff0fe">ByteRange</a>&#160;</td>
          <td class="paramname"><em>br</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00387">387</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>References <a class="el" href="Range_8h_source.html#l00446">folly::Range&lt; Iter &gt;::data()</a>, <a class="el" href="extension__points_8h_source.html#l00040">folly::pushmi::__adl::noexcept()</a>, and <a class="el" href="Range_8h_source.html#l00431">folly::Range&lt; Iter &gt;::size()</a>.</p>
<div class="fragment"><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                                                       {</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1IOBuf.html#a354ecb1fb5f80e8d0006cf0e74307b63">wrapBuffer</a>(br.data(), br.size());</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_a354ecb1fb5f80e8d0006cf0e74307b63"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a354ecb1fb5f80e8d0006cf0e74307b63">folly::IOBuf::wrapBuffer</a></div><div class="ttdeci">static std::unique_ptr&lt; IOBuf &gt; wrapBuffer(const void *buf, std::size_t capacity)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00353">IOBuf.cpp:353</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7e20a7dbdd15bfdedb25822b9c709df3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> folly::IOBuf::wrapBufferAsValue </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>capacity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Similar to <a class="el" href="classfolly_1_1IOBuf.html#a354ecb1fb5f80e8d0006cf0e74307b63">wrapBuffer()</a>, but returns <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> by value rather than heap-allocating it. </p>

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l00357">357</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="IOBuf_8h_source.html#l00593">capacity()</a>, and <a class="el" href="IOBuf_8cpp_source.html#l00361">IOBuf()</a>.</p>

<p>Referenced by <a class="el" href="Hkdf-inl_8h_source.html#l00012">fizz::HkdfImpl&lt; Hash &gt;::extract()</a>, <a class="el" href="EncryptedRecordLayer_8cpp_source.html#l00025">fizz::EncryptedReadRecordLayer::getDecryptedBuf()</a>, and <a class="el" href="EncryptedRecordLayer_8cpp_source.html#l00147">fizz::EncryptedWriteRecordLayer::write()</a>.</p>
<div class="fragment"><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                                                                           {</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">IOBuf</a>(WrapBufferOp::WRAP_BUFFER, buf, <a class="code" href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">capacity</a>);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOBuf_html_afc06ea1931398696db8d9a80619e3753"><div class="ttname"><a href="classfolly_1_1IOBuf.html#afc06ea1931398696db8d9a80619e3753">folly::IOBuf::capacity</a></div><div class="ttdeci">std::size_t capacity() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00593">IOBuf.h:593</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_ad121c314bc97a30206e8b467eb609a27"><div class="ttname"><a href="classfolly_1_1IOBuf.html#ad121c314bc97a30206e8b467eb609a27">folly::IOBuf::IOBuf</a></div><div class="ttdeci">IOBuf() noexcept</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00361">IOBuf.cpp:361</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3295eeee18b0d53a591f2a178b409bd7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> folly::IOBuf::wrapBufferAsValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacefolly.html#a7f61a634c75bc3bb46447ec2b17ff0fe">ByteRange</a>&#160;</td>
          <td class="paramname"><em>br</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00398">398</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>References <a class="el" href="OpenSSLEVPCipherTest_8cpp_source.html#l00069">fizz::test::copyBuffer()</a>, <a class="el" href="extension__points_8h_source.html#l00040">folly::pushmi::__adl::noexcept()</a>, and <a class="el" href="Access_8h_source.html#l00045">folly::size()</a>.</p>
<div class="fragment"><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                                                        {</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1IOBuf.html#a7e20a7dbdd15bfdedb25822b9c709df3">wrapBufferAsValue</a>(br.data(), br.size());</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_a7e20a7dbdd15bfdedb25822b9c709df3"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a7e20a7dbdd15bfdedb25822b9c709df3">folly::IOBuf::wrapBufferAsValue</a></div><div class="ttdeci">static IOBuf wrapBufferAsValue(const void *buf, std::size_t capacity) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00357">IOBuf.cpp:357</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a29385b37c1c8ae4263b223507b6de176"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> &gt; folly::IOBuf::wrapIov </td>
          <td>(</td>
          <td class="paramtype">const iovec *&#160;</td>
          <td class="paramname"><em>vec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="structA.html">A</a> helper that wraps a number of iovecs into an <a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a> chain. If count == 0, then a zero length buf is returned. This function never returns nullptr. </p>

<p>Definition at line <a class="el" href="IOBuf_8cpp_source.html#l01027">1027</a> of file <a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a>.</p>

<p>References <a class="el" href="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock__stress__test_8cc_source.html#l00176">count</a>, <a class="el" href="IOBuf_8cpp_source.html#l00229">create()</a>, <a class="el" href="IOBuf_8h_source.html#l00499">data()</a>, <a class="el" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt_source.html#l00083">i</a>, <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>, <a class="el" href="Likely_8h_source.html#l00048">UNLIKELY</a>, and <a class="el" href="IOBuf_8cpp_source.html#l00353">wrapBuffer()</a>.</p>

<p>Referenced by <a class="el" href="WriteChainAsyncTransportWrapper_8h_source.html#l00042">folly::WriteChainAsyncTransportWrapper&lt; folly::AsyncTransportWrapper &gt;::writev()</a>.</p>
<div class="fragment"><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;                                                               {</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;  unique_ptr&lt;IOBuf&gt; result = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> = 0; <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> &lt; <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock__stress__test_8cc.html#afd9db40e3361ae09188795e8cbe19752">count</a>; ++<a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    <span class="keywordtype">size_t</span> len = <a class="code" href="classvector.html">vec</a>[<a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].iov_len;</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    <span class="keywordtype">void</span>* <a class="code" href="classfolly_1_1IOBuf.html#af71f6f5efabbcddf8ec6dada00f5eebf">data</a> = <a class="code" href="classvector.html">vec</a>[<a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].iov_base;</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    <span class="keywordflow">if</span> (len &gt; 0) {</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;      <span class="keyword">auto</span> buf = <a class="code" href="classfolly_1_1IOBuf.html#a354ecb1fb5f80e8d0006cf0e74307b63">wrapBuffer</a>(data, len);</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;      <span class="keywordflow">if</span> (!result) {</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        result = <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(buf);</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;        result-&gt;prependChain(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(buf));</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;      }</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    }</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;  }</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="Likely_8h.html#ab10d0a221f4d7a706701b806c8135fd7">UNLIKELY</a>(result == <span class="keyword">nullptr</span>)) {</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1IOBuf.html#a744f20ec9d0829fe17cf78fb48b7785e">create</a>(0);</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  }</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;  <span class="keywordflow">return</span> result;</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;}</div><div class="ttc" id="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt_html_a7e98b8a17c0aad30ba64d47b74e2a6c1"><div class="ttname"><a href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt_source.html#l00083">gtest_output_test_golden_lin.txt:83</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a744f20ec9d0829fe17cf78fb48b7785e"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a744f20ec9d0829fe17cf78fb48b7785e">folly::IOBuf::create</a></div><div class="ttdeci">static std::unique_ptr&lt; IOBuf &gt; create(std::size_t capacity)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00229">IOBuf.cpp:229</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a354ecb1fb5f80e8d0006cf0e74307b63"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a354ecb1fb5f80e8d0006cf0e74307b63">folly::IOBuf::wrapBuffer</a></div><div class="ttdeci">static std::unique_ptr&lt; IOBuf &gt; wrapBuffer(const void *buf, std::size_t capacity)</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8cpp_source.html#l00353">IOBuf.cpp:353</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_af71f6f5efabbcddf8ec6dada00f5eebf"><div class="ttname"><a href="classfolly_1_1IOBuf.html#af71f6f5efabbcddf8ec6dada00f5eebf">folly::IOBuf::data</a></div><div class="ttdeci">const uint8_t * data() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l00499">IOBuf.h:499</a></div></div>
<div class="ttc" id="classvector_html"><div class="ttname"><a href="classvector.html">vector</a></div><div class="ttdef"><b>Definition:</b> <a href="Traits_8h_source.html#l00588">Traits.h:588</a></div></div>
<div class="ttc" id="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock__stress__test_8cc_html_afd9db40e3361ae09188795e8cbe19752"><div class="ttname"><a href="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock__stress__test_8cc.html#afd9db40e3361ae09188795e8cbe19752">count</a></div><div class="ttdeci">int * count</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock__stress__test_8cc_source.html#l00176">gmock_stress_test.cc:176</a></div></div>
<div class="ttc" id="Likely_8h_html_ab10d0a221f4d7a706701b806c8135fd7"><div class="ttname"><a href="Likely_8h.html#ab10d0a221f4d7a706701b806c8135fd7">UNLIKELY</a></div><div class="ttdeci">#define UNLIKELY(x)</div><div class="ttdef"><b>Definition:</b> <a href="Likely_8h_source.html#l00048">Likely.h:48</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa09e3f15a796182adf3d6c4e163491d7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>* folly::IOBuf::writableBuffer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get a writable pointer to the start of the buffer.</p>
<p>The caller is responsible for calling <a class="el" href="classfolly_1_1IOBuf.html#a17a04ba01fdb8bfcf1b8b374eb9aae6b">unshare()</a> first to ensure that it is actually safe to write to the buffer. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00572">572</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>Referenced by <a class="el" href="AsyncPipe_8cpp_source.html#l00057">folly::AsyncPipeReader::handlerReady()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00808">reserveSlow()</a>, and <a class="el" href="TypedIOBuf_8h_source.html#l00090">folly::TypedIOBuf&lt; T &gt;::writableBuffer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                            {</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1IOBuf.html#affce6ca9f1b795300095724fe907e50d">buf_</a>;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_affce6ca9f1b795300095724fe907e50d"><div class="ttname"><a href="classfolly_1_1IOBuf.html#affce6ca9f1b795300095724fe907e50d">folly::IOBuf::buf_</a></div><div class="ttdeci">uint8_t * buf_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01433">IOBuf.h:1433</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a12c5ca1fbbaad2a7ebda5829cd9674ef"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>* folly::IOBuf::writableData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get a writable pointer to the start of the data.</p>
<p>The caller is responsible for calling <a class="el" href="classfolly_1_1IOBuf.html#a17a04ba01fdb8bfcf1b8b374eb9aae6b">unshare()</a> first to ensure that it is actually safe to write to the buffer. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00509">509</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>References <a class="el" href="FileUtilTest_8cpp_source.html#l00066">data_</a>.</p>

<p>Referenced by <a class="el" href="IOBufTest_8cpp_source.html#l00037">append()</a>, <a class="el" href="OpenSSLEVPCipher_8cpp_source.html#l00152">fizz::detail::decFunc()</a>, <a class="el" href="HPACKDecodeBuffer_8cpp_source.html#l00048">proxygen::HPACKDecodeBuffer::decodeLiteral()</a>, <a class="el" href="OpenSSLEVPCipher_8cpp_source.html#l00073">fizz::detail::encFunc()</a>, <a class="el" href="GzipHeaderCodec_8cpp_source.html#l00181">proxygen::GzipHeaderCodec::encode()</a>, <a class="el" href="OpenSSLEVPCipher_8cpp_source.html#l00186">fizz::detail::evpEncrypt()</a>, <a class="el" href="IOBufTest_8cpp_source.html#l00263">fillBuf()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00207">IOBuf()</a>, <a class="el" href="IOBufTest_8cpp_source.html#l00874">MoveToFbStringTest::makeBuf()</a>, <a class="el" href="ECSignatureTest_8cpp_source.html#l00067">fizz::testing::modifyData()</a>, <a class="el" href="ECSignatureTest_8cpp_source.html#l00058">fizz::testing::modifySig()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00968">moveToFbString()</a>, <a class="el" href="IOBufTest_8cpp_source.html#l00043">prepend()</a>, <a class="el" href="HTTPArchive_8cpp_source.html#l00122">proxygen::readFileToIOBuf()</a>, <a class="el" href="CurlClient_8cpp_source.html#l00123">CurlService::CurlClient::sendRequest()</a>, <a class="el" href="JemallocNodumpAllocatorTest_8cpp_source.html#l00037">TEST()</a>, <a class="el" href="HPACKBufferTests_8cpp_source.html#l00447">TEST_F()</a>, <a class="el" href="IOBufUtil_8h_source.html#l00038">fizz::transformBuffer()</a>, and <a class="el" href="TypedIOBuf_8h_source.html#l00065">folly::TypedIOBuf&lt; T &gt;::writableData()</a>.</p>
<div class="fragment"><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                          {</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">data_</a>;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_a7a03b1d1337e3da57675a94b29a84ac9"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">folly::IOBuf::data_</a></div><div class="ttdeci">uint8_t * data_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01432">IOBuf.h:1432</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1dcdae94adc6b5f562c74896e928c563"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>* folly::IOBuf::writableTail </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get a writable pointer to the end of the data.</p>
<p>The caller is responsible for calling <a class="el" href="classfolly_1_1IOBuf.html#a17a04ba01fdb8bfcf1b8b374eb9aae6b">unshare()</a> first to ensure that it is actually safe to write to the buffer. </p>

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l00526">526</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>References <a class="el" href="FileUtilTest_8cpp_source.html#l00066">data_</a>, and <a class="el" href="JSONSchema_8cpp_source.html#l00233">length_</a>.</p>

<p>Referenced by <a class="el" href="IOBufQueue_8cpp_source.html#l00172">folly::IOBufQueue::append()</a>, <a class="el" href="gen_2String-inl_8h_source.html#l00113">folly::gen::detail::consumeBufferPlus()</a>, <a class="el" href="IOBufQueue_8h_source.html#l00559">folly::IOBufQueue::dcheckCacheIntegrity()</a>, <a class="el" href="Compression_8cpp_source.html#l00494">folly::io::StreamCodec::doUncompress()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00968">moveToFbString()</a>, <a class="el" href="IOBufTest_8cpp_source.html#l01057">TEST()</a>, <a class="el" href="IOBufQueue_8h_source.html#l00633">folly::IOBufQueue::updateWritableTailCache()</a>, and <a class="el" href="TypedIOBuf_8h_source.html#l00071">folly::TypedIOBuf&lt; T &gt;::writableTail()</a>.</p>
<div class="fragment"><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                          {</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">data_</a> + <a class="code" href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">length_</a>;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  }</div><div class="ttc" id="classfolly_1_1IOBuf_html_a7a03b1d1337e3da57675a94b29a84ac9"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a7a03b1d1337e3da57675a94b29a84ac9">folly::IOBuf::data_</a></div><div class="ttdeci">uint8_t * data_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01432">IOBuf.h:1432</a></div></div>
<div class="ttc" id="classfolly_1_1IOBuf_html_a564daf68834ce4e7523f329e1c6df23f"><div class="ttname"><a href="classfolly_1_1IOBuf.html#a564daf68834ce4e7523f329e1c6df23f">folly::IOBuf::length_</a></div><div class="ttdeci">std::size_t length_</div><div class="ttdef"><b>Definition:</b> <a href="IOBuf_8h_source.html#l01434">IOBuf.h:1434</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="affce6ca9f1b795300095724fe907e50d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>* folly::IOBuf::buf_ {<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l01433">1433</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>Referenced by <a class="el" href="IOBuf_8cpp_source.html#l00556">cloneOneAsValue()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00722">coalesceAndReallocate()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00909">freeExtBuffer()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00195">IOBuf()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00968">moveToFbString()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00428">operator=()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00808">reserveSlow()</a>, and <a class="el" href="IOBuf_8cpp_source.html#l00606">unshareOneSlow()</a>.</p>

</div>
</div>
<a class="anchor" id="a4d25a5cf5084ebeb9d156217ec01f718"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t folly::IOBuf::capacity_ {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l01435">1435</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>Referenced by <a class="el" href="IOBuf_8cpp_source.html#l00556">cloneOneAsValue()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00722">coalesceAndReallocate()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00195">IOBuf()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00428">operator=()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00808">reserveSlow()</a>, and <a class="el" href="IOBuf_8cpp_source.html#l00606">unshareOneSlow()</a>.</p>

</div>
</div>
<a class="anchor" id="a7a03b1d1337e3da57675a94b29a84ac9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>* folly::IOBuf::data_ {<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l01432">1432</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>Referenced by <a class="el" href="IOBuf_8cpp_source.html#l00556">cloneOneAsValue()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00722">coalesceAndReallocate()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00195">IOBuf()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00428">operator=()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00808">reserveSlow()</a>, and <a class="el" href="IOBuf_8cpp_source.html#l00606">unshareOneSlow()</a>.</p>

</div>
</div>
<a class="anchor" id="a305fafb3b8f177828fa7a427f25407a5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uintptr_t folly::IOBuf::flagsAndSharedInfo_ {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l01438">1438</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>Referenced by <a class="el" href="IOBuf_8cpp_source.html#l00556">cloneOneAsValue()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00968">moveToFbString()</a>, and <a class="el" href="IOBuf_8cpp_source.html#l00428">operator=()</a>.</p>

</div>
</div>
<a class="anchor" id="a564daf68834ce4e7523f329e1c6df23f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t folly::IOBuf::length_ {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l01434">1434</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>Referenced by <a class="el" href="IOBuf_8cpp_source.html#l00556">cloneOneAsValue()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00722">coalesceAndReallocate()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00677">coalesceSlow()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00501">computeChainDataLength()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00428">operator=()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00808">reserveSlow()</a>, and <a class="el" href="IOBuf_8cpp_source.html#l00606">unshareOneSlow()</a>.</p>

</div>
</div>
<a class="anchor" id="a038b1d38b9814d8e2f571bc94d3cf0dc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a>* folly::IOBuf::next_ {this}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l01423">1423</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>Referenced by <a class="el" href="IOBuf_8cpp_source.html#l00546">cloneAsValue()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00722">coalesceAndReallocate()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00677">coalesceSlow()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00501">computeChainDataLength()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00493">countChainElements()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00482">empty()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00363">IOBuf()</a>, <a class="el" href="IOBuf_8h_source.html#l00920">isManaged()</a>, <a class="el" href="IOBuf_8h_source.html#l00902">isShared()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00664">makeManagedChained()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00656">markExternallyShared()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00428">operator=()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00509">prependChain()</a>, <a class="el" href="IOBuf_8h_source.html#l00883">separateChain()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00632">unshareChained()</a>, and <a class="el" href="IOBuf_8cpp_source.html#l00415">~IOBuf()</a>.</p>

</div>
</div>
<a class="anchor" id="a93ce4461ec7eba82b74038f887c3f957"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a>* folly::IOBuf::prev_ {this}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOBuf_8h_source.html#l01424">1424</a> of file <a class="el" href="IOBuf_8h_source.html">IOBuf.h</a>.</p>

<p>Referenced by <a class="el" href="IOBuf_8cpp_source.html#l00722">coalesceAndReallocate()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00363">IOBuf()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00428">operator=()</a>, <a class="el" href="IOBuf_8cpp_source.html#l00509">prependChain()</a>, and <a class="el" href="IOBuf_8h_source.html#l00883">separateChain()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>proxygen/folly/folly/io/<a class="el" href="IOBuf_8h_source.html">IOBuf.h</a></li>
<li>proxygen/folly/folly/io/<a class="el" href="IOBuf_8cpp_source.html">IOBuf.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefolly.html">folly</a></li><li class="navelem"><a class="el" href="classfolly_1_1IOBuf.html">IOBuf</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
