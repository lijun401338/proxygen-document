<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>proxygen: folly::StampedPtr&lt; T &gt; Struct Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">proxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('structfolly_1_1StampedPtr.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="structfolly_1_1StampedPtr-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">folly::StampedPtr&lt; T &gt; Struct Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="StampedPtr_8h_source.html">StampedPtr.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad89bc4f8c2c68e6a8133580f7bedd938"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1StampedPtr.html#ad89bc4f8c2c68e6a8133580f7bedd938">ptr</a> () const </td></tr>
<tr class="separator:ad89bc4f8c2c68e6a8133580f7bedd938"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7f50b9b38bc656e9f6c1ca07bd78906"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a5a8b2dc9e45a9ee81a94ef304fb62505">uint16_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1StampedPtr.html#ab7f50b9b38bc656e9f6c1ca07bd78906">stamp</a> () const </td></tr>
<tr class="separator:ab7f50b9b38bc656e9f6c1ca07bd78906"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81eb5030896951d55a8aee9db362a136"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1StampedPtr.html#a81eb5030896951d55a8aee9db362a136">set</a> (<a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> *<a class="el" href="structfolly_1_1StampedPtr.html#ad89bc4f8c2c68e6a8133580f7bedd938">ptr</a>, <a class="el" href="ConstexprMathBenchmark_8cpp.html#a5a8b2dc9e45a9ee81a94ef304fb62505">uint16_t</a> <a class="el" href="structfolly_1_1StampedPtr.html#ab7f50b9b38bc656e9f6c1ca07bd78906">stamp</a>)</td></tr>
<tr class="separator:a81eb5030896951d55a8aee9db362a136"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4669d3a14fabef900a988121b71b4db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1StampedPtr.html#ae4669d3a14fabef900a988121b71b4db">setPtr</a> (<a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> *<a class="el" href="structfolly_1_1StampedPtr.html#ad89bc4f8c2c68e6a8133580f7bedd938">ptr</a>)</td></tr>
<tr class="separator:ae4669d3a14fabef900a988121b71b4db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6c03185072aa3057dc63f2e9d9ccdc2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1StampedPtr.html#ab6c03185072aa3057dc63f2e9d9ccdc2">setStamp</a> (<a class="el" href="ConstexprMathBenchmark_8cpp.html#a5a8b2dc9e45a9ee81a94ef304fb62505">uint16_t</a> <a class="el" href="structfolly_1_1StampedPtr.html#ab7f50b9b38bc656e9f6c1ca07bd78906">stamp</a>)</td></tr>
<tr class="separator:ab6c03185072aa3057dc63f2e9d9ccdc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a2243e19cc3ce2d102307a54026084102"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1StampedPtr.html#a2243e19cc3ce2d102307a54026084102">unpackPtr</a> (<a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> <a class="el" href="structfolly_1_1StampedPtr.html#a1b68d27bde3521968cf4008532a5f325">raw</a>)</td></tr>
<tr class="separator:a2243e19cc3ce2d102307a54026084102"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae496ba7a1e1c5aedd8a672149711babb"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="ConstexprMathBenchmark_8cpp.html#a5a8b2dc9e45a9ee81a94ef304fb62505">uint16_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1StampedPtr.html#ae496ba7a1e1c5aedd8a672149711babb">unpackStamp</a> (<a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> <a class="el" href="structfolly_1_1StampedPtr.html#a1b68d27bde3521968cf4008532a5f325">raw</a>)</td></tr>
<tr class="separator:ae496ba7a1e1c5aedd8a672149711babb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b783bb9436e63db36808ef157895bda"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1StampedPtr.html#a0b783bb9436e63db36808ef157895bda">pack</a> (<a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> *<a class="el" href="structfolly_1_1StampedPtr.html#ad89bc4f8c2c68e6a8133580f7bedd938">ptr</a>, <a class="el" href="ConstexprMathBenchmark_8cpp.html#a5a8b2dc9e45a9ee81a94ef304fb62505">uint16_t</a> <a class="el" href="structfolly_1_1StampedPtr.html#ab7f50b9b38bc656e9f6c1ca07bd78906">stamp</a>)</td></tr>
<tr class="separator:a0b783bb9436e63db36808ef157895bda"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a1b68d27bde3521968cf4008532a5f325"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1StampedPtr.html#a1b68d27bde3521968cf4008532a5f325">raw</a></td></tr>
<tr class="separator:a1b68d27bde3521968cf4008532a5f325"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:ab5b0dde672169107a742087544632fd2"><td class="memItemLeft" align="right" valign="top">static constexpr unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1StampedPtr.html#ab5b0dde672169107a742087544632fd2">kInternalStampBits</a> = <a class="el" href="namespacefolly.html#a7c631f0179944e4771e98d398db760dd">sizeof</a>(void*) == 4 ? 32 : 16</td></tr>
<tr class="separator:ab5b0dde672169107a742087544632fd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename T&gt;<br />
struct folly::StampedPtr&lt; T &gt;</h3>

<p><a class="el" href="structfolly_1_1StampedPtr.html">StampedPtr</a> packs both a pointer to T and a uint16_t into a 64-bit value, exploiting the fact that current addresses are limited to 48 bits on all current x86-64 and ARM64 processors.</p>
<p>For both x86-64 and ARM64, 64-bit pointers have a canonical form in which the upper 16 bits are equal to bit 47. Intel has announced a 57-bit addressing mode (see <a href="https://software.intel.com/">https://software.intel.com/</a> sites/default/files/managed/2b/80/5-level_paging_white_paper.pdf), but it is not yet available. The first problematic platform will probably be ARMv8.2, which supports 52-bit virtual addresses.</p>
<p>This code works on all of the platforms I have available for test, and probably on all currently-shipping platforms that have a hope of compiling folly. Rather than enumerating the supported platforms via ifdef, this code dynamically validates its packing assumption in debug builds on each call to a mutating function. Presumably by the time we are running this process in an operating system image that can address more than 256TB of memory, RAM cost and the latency of 128-bit CAS will have improved enough that this optimization is no longer impactful.</p>
<p><a class="el" href="structA.html">A</a> common approach to this kind of packing seems to be to just assume the top 16 bits are zero, but <a href="https://github.com/LuaJIT/LuaJIT/issues/49">https://github.com/LuaJIT/LuaJIT/issues/49</a> indicates that ARM64 platforms in the wild are actually setting bit 47 in their stack addresses. That means that we need to extend bit 47 to do the right thing (it's not expensive, it compiles to one instruction on x86-64 and arm64).</p>
<p>Compare to <a class="el" href="classfolly_1_1PackedSyncPtr.html">PackedSyncPtr</a> and <a class="el" href="classfolly_1_1DiscriminatedPtr.html">DiscriminatedPtr</a>, which perform similar packing but add additional functionality. The name is taken from Java's AtomicStampedReference. Unlike <a class="el" href="classfolly_1_1PackedSyncPtr.html">PackedSyncPtr</a>, which tries to act pointer-like, this class acts more like a pair whose elements are named ptr and stamp. It also allows direct access to the internal raw field: since we're already at the metal you might want to play additional games. It is guaranteed that a zero raw value gets decoded as a (ptr,stamp) of (nullptr,0). </p>

<p>Definition at line <a class="el" href="StampedPtr_8h_source.html#l00063">63</a> of file <a class="el" href="StampedPtr_8h_source.html">StampedPtr.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a0b783bb9436e63db36808ef157895bda"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> <a class="el" href="structfolly_1_1StampedPtr.html">folly::StampedPtr</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::pack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a5a8b2dc9e45a9ee81a94ef304fb62505">uint16_t</a>&#160;</td>
          <td class="paramname"><em>stamp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="StampedPtr_8h_source.html#l00106">106</a> of file <a class="el" href="StampedPtr_8h_source.html">StampedPtr.h</a>.</p>

<p>References <a class="el" href="SafeAssert_8h_source.html#l00042">FOLLY_SAFE_DCHECK</a>, <a class="el" href="StampedPtr_8h_source.html#l00120">folly::StampedPtr&lt; T &gt;::kInternalStampBits</a>, <a class="el" href="StampedPtr_8h_source.html#l00072">folly::StampedPtr&lt; T &gt;::ptr()</a>, <a class="el" href="StampedPtr_8h_source.html#l00068">folly::StampedPtr&lt; T &gt;::raw</a>, <a class="el" href="StampedPtr_8h_source.html#l00076">folly::StampedPtr&lt; T &gt;::stamp()</a>, <a class="el" href="ConstexprMathBenchmark_8cpp_source.html#l00190">uint64_t</a>, <a class="el" href="StampedPtr_8h_source.html#l00092">folly::StampedPtr&lt; T &gt;::unpackPtr()</a>, and <a class="el" href="StampedPtr_8h_source.html#l00102">folly::StampedPtr&lt; T &gt;::unpackStamp()</a>.</p>

<p>Referenced by <a class="el" href="StampedPtr_8h_source.html#l00124">folly::makeStampedPtr()</a>, <a class="el" href="StampedPtr_8h_source.html#l00080">folly::StampedPtr&lt; T &gt;::set()</a>, <a class="el" href="StampedPtr_8h_source.html#l00084">folly::StampedPtr&lt; T &gt;::setPtr()</a>, and <a class="el" href="StampedPtr_8h_source.html#l00088">folly::StampedPtr&lt; T &gt;::setStamp()</a>.</p>
<div class="fragment"><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                                               {</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keyword">auto</span> shifted = <span class="keyword">static_cast&lt;</span><a class="code" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a><span class="keyword">&gt;</span>(<span class="keyword">reinterpret_cast&lt;</span>uintptr_t<span class="keyword">&gt;</span>(<a class="code" href="structfolly_1_1StampedPtr.html#ad89bc4f8c2c68e6a8133580f7bedd938">ptr</a>))</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        &lt;&lt; <a class="code" href="structfolly_1_1StampedPtr.html#ab5b0dde672169107a742087544632fd2">kInternalStampBits</a>;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <a class="code" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> <a class="code" href="structfolly_1_1StampedPtr.html#a1b68d27bde3521968cf4008532a5f325">raw</a> = shifted | <a class="code" href="structfolly_1_1StampedPtr.html#ab7f50b9b38bc656e9f6c1ca07bd78906">stamp</a>;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <a class="code" href="SafeAssert_8h.html#ae60e58aec2509aace6087c09812de196">FOLLY_SAFE_DCHECK</a>(<a class="code" href="structfolly_1_1StampedPtr.html#a2243e19cc3ce2d102307a54026084102">unpackPtr</a>(raw) == <a class="code" href="structfolly_1_1StampedPtr.html#ad89bc4f8c2c68e6a8133580f7bedd938">ptr</a>, <span class="stringliteral">&quot;ptr mismatch.&quot;</span>);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <a class="code" href="SafeAssert_8h.html#ae60e58aec2509aace6087c09812de196">FOLLY_SAFE_DCHECK</a>(<a class="code" href="structfolly_1_1StampedPtr.html#ae496ba7a1e1c5aedd8a672149711babb">unpackStamp</a>(raw) == <a class="code" href="structfolly_1_1StampedPtr.html#ab7f50b9b38bc656e9f6c1ca07bd78906">stamp</a>, <span class="stringliteral">&quot;stamp mismatch.&quot;</span>);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structfolly_1_1StampedPtr.html#a1b68d27bde3521968cf4008532a5f325">raw</a>;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  }</div><div class="ttc" id="structfolly_1_1StampedPtr_html_ae496ba7a1e1c5aedd8a672149711babb"><div class="ttname"><a href="structfolly_1_1StampedPtr.html#ae496ba7a1e1c5aedd8a672149711babb">folly::StampedPtr::unpackStamp</a></div><div class="ttdeci">static uint16_t unpackStamp(uint64_t raw)</div><div class="ttdef"><b>Definition:</b> <a href="StampedPtr_8h_source.html#l00102">StampedPtr.h:102</a></div></div>
<div class="ttc" id="structfolly_1_1StampedPtr_html_a1b68d27bde3521968cf4008532a5f325"><div class="ttname"><a href="structfolly_1_1StampedPtr.html#a1b68d27bde3521968cf4008532a5f325">folly::StampedPtr::raw</a></div><div class="ttdeci">uint64_t raw</div><div class="ttdef"><b>Definition:</b> <a href="StampedPtr_8h_source.html#l00068">StampedPtr.h:68</a></div></div>
<div class="ttc" id="structfolly_1_1StampedPtr_html_ab5b0dde672169107a742087544632fd2"><div class="ttname"><a href="structfolly_1_1StampedPtr.html#ab5b0dde672169107a742087544632fd2">folly::StampedPtr::kInternalStampBits</a></div><div class="ttdeci">static constexpr unsigned kInternalStampBits</div><div class="ttdef"><b>Definition:</b> <a href="StampedPtr_8h_source.html#l00120">StampedPtr.h:120</a></div></div>
<div class="ttc" id="structfolly_1_1StampedPtr_html_ab7f50b9b38bc656e9f6c1ca07bd78906"><div class="ttname"><a href="structfolly_1_1StampedPtr.html#ab7f50b9b38bc656e9f6c1ca07bd78906">folly::StampedPtr::stamp</a></div><div class="ttdeci">uint16_t stamp() const </div><div class="ttdef"><b>Definition:</b> <a href="StampedPtr_8h_source.html#l00076">StampedPtr.h:76</a></div></div>
<div class="ttc" id="structfolly_1_1StampedPtr_html_ad89bc4f8c2c68e6a8133580f7bedd938"><div class="ttname"><a href="structfolly_1_1StampedPtr.html#ad89bc4f8c2c68e6a8133580f7bedd938">folly::StampedPtr::ptr</a></div><div class="ttdeci">T * ptr() const </div><div class="ttdef"><b>Definition:</b> <a href="StampedPtr_8h_source.html#l00072">StampedPtr.h:72</a></div></div>
<div class="ttc" id="structfolly_1_1StampedPtr_html_a2243e19cc3ce2d102307a54026084102"><div class="ttname"><a href="structfolly_1_1StampedPtr.html#a2243e19cc3ce2d102307a54026084102">folly::StampedPtr::unpackPtr</a></div><div class="ttdeci">static T * unpackPtr(uint64_t raw)</div><div class="ttdef"><b>Definition:</b> <a href="StampedPtr_8h_source.html#l00092">StampedPtr.h:92</a></div></div>
<div class="ttc" id="ConstexprMathBenchmark_8cpp_html_a5dc34568a989dd90728a4ed499cd9fab"><div class="ttname"><a href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a></div><div class="ttdeci">uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ConstexprMathBenchmark_8cpp_source.html#l00190">ConstexprMathBenchmark.cpp:190</a></div></div>
<div class="ttc" id="SafeAssert_8h_html_ae60e58aec2509aace6087c09812de196"><div class="ttname"><a href="SafeAssert_8h.html#ae60e58aec2509aace6087c09812de196">FOLLY_SAFE_DCHECK</a></div><div class="ttdeci">#define FOLLY_SAFE_DCHECK(expr, msg)</div><div class="ttdef"><b>Definition:</b> <a href="SafeAssert_8h_source.html#l00042">SafeAssert.h:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad89bc4f8c2c68e6a8133580f7bedd938"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>* <a class="el" href="structfolly_1_1StampedPtr.html">folly::StampedPtr</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::ptr </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="StampedPtr_8h_source.html#l00072">72</a> of file <a class="el" href="StampedPtr_8h_source.html">StampedPtr.h</a>.</p>

<p>References <a class="el" href="StampedPtr_8h_source.html#l00092">folly::StampedPtr&lt; T &gt;::unpackPtr()</a>.</p>

<p>Referenced by <a class="el" href="StampedPtr_8h_source.html#l00106">folly::StampedPtr&lt; T &gt;::pack()</a>, and <a class="el" href="StampedPtrTest_8cpp_source.html#l00021">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                 {</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structfolly_1_1StampedPtr.html#a2243e19cc3ce2d102307a54026084102">unpackPtr</a>(<a class="code" href="structfolly_1_1StampedPtr.html#a1b68d27bde3521968cf4008532a5f325">raw</a>);</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  }</div><div class="ttc" id="structfolly_1_1StampedPtr_html_a1b68d27bde3521968cf4008532a5f325"><div class="ttname"><a href="structfolly_1_1StampedPtr.html#a1b68d27bde3521968cf4008532a5f325">folly::StampedPtr::raw</a></div><div class="ttdeci">uint64_t raw</div><div class="ttdef"><b>Definition:</b> <a href="StampedPtr_8h_source.html#l00068">StampedPtr.h:68</a></div></div>
<div class="ttc" id="structfolly_1_1StampedPtr_html_a2243e19cc3ce2d102307a54026084102"><div class="ttname"><a href="structfolly_1_1StampedPtr.html#a2243e19cc3ce2d102307a54026084102">folly::StampedPtr::unpackPtr</a></div><div class="ttdeci">static T * unpackPtr(uint64_t raw)</div><div class="ttdef"><b>Definition:</b> <a href="StampedPtr_8h_source.html#l00092">StampedPtr.h:92</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a81eb5030896951d55a8aee9db362a136"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="structfolly_1_1StampedPtr.html">folly::StampedPtr</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::<a class="el" href="classset.html">set</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a5a8b2dc9e45a9ee81a94ef304fb62505">uint16_t</a>&#160;</td>
          <td class="paramname"><em>stamp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="StampedPtr_8h_source.html#l00080">80</a> of file <a class="el" href="StampedPtr_8h_source.html">StampedPtr.h</a>.</p>

<p>References <a class="el" href="StampedPtr_8h_source.html#l00106">folly::StampedPtr&lt; T &gt;::pack()</a>, and <a class="el" href="StampedPtr_8h_source.html#l00076">folly::StampedPtr&lt; T &gt;::stamp()</a>.</p>

<p>Referenced by <a class="el" href="StampedPtrTest_8cpp_source.html#l00021">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                                   {</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <a class="code" href="structfolly_1_1StampedPtr.html#a1b68d27bde3521968cf4008532a5f325">raw</a> = <a class="code" href="structfolly_1_1StampedPtr.html#a0b783bb9436e63db36808ef157895bda">pack</a>(<a class="code" href="structfolly_1_1StampedPtr.html#ad89bc4f8c2c68e6a8133580f7bedd938">ptr</a>, <a class="code" href="structfolly_1_1StampedPtr.html#ab7f50b9b38bc656e9f6c1ca07bd78906">stamp</a>);</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  }</div><div class="ttc" id="structfolly_1_1StampedPtr_html_a1b68d27bde3521968cf4008532a5f325"><div class="ttname"><a href="structfolly_1_1StampedPtr.html#a1b68d27bde3521968cf4008532a5f325">folly::StampedPtr::raw</a></div><div class="ttdeci">uint64_t raw</div><div class="ttdef"><b>Definition:</b> <a href="StampedPtr_8h_source.html#l00068">StampedPtr.h:68</a></div></div>
<div class="ttc" id="structfolly_1_1StampedPtr_html_ab7f50b9b38bc656e9f6c1ca07bd78906"><div class="ttname"><a href="structfolly_1_1StampedPtr.html#ab7f50b9b38bc656e9f6c1ca07bd78906">folly::StampedPtr::stamp</a></div><div class="ttdeci">uint16_t stamp() const </div><div class="ttdef"><b>Definition:</b> <a href="StampedPtr_8h_source.html#l00076">StampedPtr.h:76</a></div></div>
<div class="ttc" id="structfolly_1_1StampedPtr_html_ad89bc4f8c2c68e6a8133580f7bedd938"><div class="ttname"><a href="structfolly_1_1StampedPtr.html#ad89bc4f8c2c68e6a8133580f7bedd938">folly::StampedPtr::ptr</a></div><div class="ttdeci">T * ptr() const </div><div class="ttdef"><b>Definition:</b> <a href="StampedPtr_8h_source.html#l00072">StampedPtr.h:72</a></div></div>
<div class="ttc" id="structfolly_1_1StampedPtr_html_a0b783bb9436e63db36808ef157895bda"><div class="ttname"><a href="structfolly_1_1StampedPtr.html#a0b783bb9436e63db36808ef157895bda">folly::StampedPtr::pack</a></div><div class="ttdeci">static uint64_t pack(T *ptr, uint16_t stamp)</div><div class="ttdef"><b>Definition:</b> <a href="StampedPtr_8h_source.html#l00106">StampedPtr.h:106</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae4669d3a14fabef900a988121b71b4db"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="structfolly_1_1StampedPtr.html">folly::StampedPtr</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::setPtr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="StampedPtr_8h_source.html#l00084">84</a> of file <a class="el" href="StampedPtr_8h_source.html">StampedPtr.h</a>.</p>

<p>References <a class="el" href="StampedPtr_8h_source.html#l00106">folly::StampedPtr&lt; T &gt;::pack()</a>, and <a class="el" href="StampedPtr_8h_source.html#l00102">folly::StampedPtr&lt; T &gt;::unpackStamp()</a>.</p>

<p>Referenced by <a class="el" href="StampedPtrTest_8cpp_source.html#l00021">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                      {</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="structfolly_1_1StampedPtr.html#a1b68d27bde3521968cf4008532a5f325">raw</a> = <a class="code" href="structfolly_1_1StampedPtr.html#a0b783bb9436e63db36808ef157895bda">pack</a>(<a class="code" href="structfolly_1_1StampedPtr.html#ad89bc4f8c2c68e6a8133580f7bedd938">ptr</a>, <a class="code" href="structfolly_1_1StampedPtr.html#ae496ba7a1e1c5aedd8a672149711babb">unpackStamp</a>(<a class="code" href="structfolly_1_1StampedPtr.html#a1b68d27bde3521968cf4008532a5f325">raw</a>));</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  }</div><div class="ttc" id="structfolly_1_1StampedPtr_html_ae496ba7a1e1c5aedd8a672149711babb"><div class="ttname"><a href="structfolly_1_1StampedPtr.html#ae496ba7a1e1c5aedd8a672149711babb">folly::StampedPtr::unpackStamp</a></div><div class="ttdeci">static uint16_t unpackStamp(uint64_t raw)</div><div class="ttdef"><b>Definition:</b> <a href="StampedPtr_8h_source.html#l00102">StampedPtr.h:102</a></div></div>
<div class="ttc" id="structfolly_1_1StampedPtr_html_a1b68d27bde3521968cf4008532a5f325"><div class="ttname"><a href="structfolly_1_1StampedPtr.html#a1b68d27bde3521968cf4008532a5f325">folly::StampedPtr::raw</a></div><div class="ttdeci">uint64_t raw</div><div class="ttdef"><b>Definition:</b> <a href="StampedPtr_8h_source.html#l00068">StampedPtr.h:68</a></div></div>
<div class="ttc" id="structfolly_1_1StampedPtr_html_ad89bc4f8c2c68e6a8133580f7bedd938"><div class="ttname"><a href="structfolly_1_1StampedPtr.html#ad89bc4f8c2c68e6a8133580f7bedd938">folly::StampedPtr::ptr</a></div><div class="ttdeci">T * ptr() const </div><div class="ttdef"><b>Definition:</b> <a href="StampedPtr_8h_source.html#l00072">StampedPtr.h:72</a></div></div>
<div class="ttc" id="structfolly_1_1StampedPtr_html_a0b783bb9436e63db36808ef157895bda"><div class="ttname"><a href="structfolly_1_1StampedPtr.html#a0b783bb9436e63db36808ef157895bda">folly::StampedPtr::pack</a></div><div class="ttdeci">static uint64_t pack(T *ptr, uint16_t stamp)</div><div class="ttdef"><b>Definition:</b> <a href="StampedPtr_8h_source.html#l00106">StampedPtr.h:106</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab6c03185072aa3057dc63f2e9d9ccdc2"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="structfolly_1_1StampedPtr.html">folly::StampedPtr</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::setStamp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a5a8b2dc9e45a9ee81a94ef304fb62505">uint16_t</a>&#160;</td>
          <td class="paramname"><em>stamp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="StampedPtr_8h_source.html#l00088">88</a> of file <a class="el" href="StampedPtr_8h_source.html">StampedPtr.h</a>.</p>

<p>References <a class="el" href="StampedPtr_8h_source.html#l00106">folly::StampedPtr&lt; T &gt;::pack()</a>, and <a class="el" href="StampedPtr_8h_source.html#l00092">folly::StampedPtr&lt; T &gt;::unpackPtr()</a>.</p>

<p>Referenced by <a class="el" href="StampedPtrTest_8cpp_source.html#l00021">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                                {</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <a class="code" href="structfolly_1_1StampedPtr.html#a1b68d27bde3521968cf4008532a5f325">raw</a> = <a class="code" href="structfolly_1_1StampedPtr.html#a0b783bb9436e63db36808ef157895bda">pack</a>(<a class="code" href="structfolly_1_1StampedPtr.html#a2243e19cc3ce2d102307a54026084102">unpackPtr</a>(<a class="code" href="structfolly_1_1StampedPtr.html#a1b68d27bde3521968cf4008532a5f325">raw</a>), <a class="code" href="structfolly_1_1StampedPtr.html#ab7f50b9b38bc656e9f6c1ca07bd78906">stamp</a>);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  }</div><div class="ttc" id="structfolly_1_1StampedPtr_html_a1b68d27bde3521968cf4008532a5f325"><div class="ttname"><a href="structfolly_1_1StampedPtr.html#a1b68d27bde3521968cf4008532a5f325">folly::StampedPtr::raw</a></div><div class="ttdeci">uint64_t raw</div><div class="ttdef"><b>Definition:</b> <a href="StampedPtr_8h_source.html#l00068">StampedPtr.h:68</a></div></div>
<div class="ttc" id="structfolly_1_1StampedPtr_html_ab7f50b9b38bc656e9f6c1ca07bd78906"><div class="ttname"><a href="structfolly_1_1StampedPtr.html#ab7f50b9b38bc656e9f6c1ca07bd78906">folly::StampedPtr::stamp</a></div><div class="ttdeci">uint16_t stamp() const </div><div class="ttdef"><b>Definition:</b> <a href="StampedPtr_8h_source.html#l00076">StampedPtr.h:76</a></div></div>
<div class="ttc" id="structfolly_1_1StampedPtr_html_a2243e19cc3ce2d102307a54026084102"><div class="ttname"><a href="structfolly_1_1StampedPtr.html#a2243e19cc3ce2d102307a54026084102">folly::StampedPtr::unpackPtr</a></div><div class="ttdeci">static T * unpackPtr(uint64_t raw)</div><div class="ttdef"><b>Definition:</b> <a href="StampedPtr_8h_source.html#l00092">StampedPtr.h:92</a></div></div>
<div class="ttc" id="structfolly_1_1StampedPtr_html_a0b783bb9436e63db36808ef157895bda"><div class="ttname"><a href="structfolly_1_1StampedPtr.html#a0b783bb9436e63db36808ef157895bda">folly::StampedPtr::pack</a></div><div class="ttdeci">static uint64_t pack(T *ptr, uint16_t stamp)</div><div class="ttdef"><b>Definition:</b> <a href="StampedPtr_8h_source.html#l00106">StampedPtr.h:106</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab7f50b9b38bc656e9f6c1ca07bd78906"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a5a8b2dc9e45a9ee81a94ef304fb62505">uint16_t</a> <a class="el" href="structfolly_1_1StampedPtr.html">folly::StampedPtr</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::stamp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="StampedPtr_8h_source.html#l00076">76</a> of file <a class="el" href="StampedPtr_8h_source.html">StampedPtr.h</a>.</p>

<p>References <a class="el" href="StampedPtr_8h_source.html#l00102">folly::StampedPtr&lt; T &gt;::unpackStamp()</a>.</p>

<p>Referenced by <a class="el" href="StampedPtr_8h_source.html#l00106">folly::StampedPtr&lt; T &gt;::pack()</a>, <a class="el" href="StampedPtr_8h_source.html#l00080">folly::StampedPtr&lt; T &gt;::set()</a>, and <a class="el" href="StampedPtrTest_8cpp_source.html#l00021">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                         {</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structfolly_1_1StampedPtr.html#ae496ba7a1e1c5aedd8a672149711babb">unpackStamp</a>(<a class="code" href="structfolly_1_1StampedPtr.html#a1b68d27bde3521968cf4008532a5f325">raw</a>);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  }</div><div class="ttc" id="structfolly_1_1StampedPtr_html_ae496ba7a1e1c5aedd8a672149711babb"><div class="ttname"><a href="structfolly_1_1StampedPtr.html#ae496ba7a1e1c5aedd8a672149711babb">folly::StampedPtr::unpackStamp</a></div><div class="ttdeci">static uint16_t unpackStamp(uint64_t raw)</div><div class="ttdef"><b>Definition:</b> <a href="StampedPtr_8h_source.html#l00102">StampedPtr.h:102</a></div></div>
<div class="ttc" id="structfolly_1_1StampedPtr_html_a1b68d27bde3521968cf4008532a5f325"><div class="ttname"><a href="structfolly_1_1StampedPtr.html#a1b68d27bde3521968cf4008532a5f325">folly::StampedPtr::raw</a></div><div class="ttdeci">uint64_t raw</div><div class="ttdef"><b>Definition:</b> <a href="StampedPtr_8h_source.html#l00068">StampedPtr.h:68</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2243e19cc3ce2d102307a54026084102"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>* <a class="el" href="structfolly_1_1StampedPtr.html">folly::StampedPtr</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::unpackPtr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a>&#160;</td>
          <td class="paramname"><em>raw</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="StampedPtr_8h_source.html#l00092">92</a> of file <a class="el" href="StampedPtr_8h_source.html">StampedPtr.h</a>.</p>

<p>References <a class="el" href="ConstexprMathBenchmark_8cpp_source.html#l00188">int64_t</a>, <a class="el" href="StampedPtr_8h_source.html#l00120">folly::StampedPtr&lt; T &gt;::kInternalStampBits</a>, <a class="el" href="StampedPtr_8h_source.html#l00068">folly::StampedPtr&lt; T &gt;::raw</a>, and <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">folly::T</a>.</p>

<p>Referenced by <a class="el" href="StampedPtr_8h_source.html#l00106">folly::StampedPtr&lt; T &gt;::pack()</a>, <a class="el" href="StampedPtr_8h_source.html#l00072">folly::StampedPtr&lt; T &gt;::ptr()</a>, and <a class="el" href="StampedPtr_8h_source.html#l00088">folly::StampedPtr&lt; T &gt;::setStamp()</a>.</p>
<div class="fragment"><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                                    {</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="comment">// Canonical form means we need to extend bit 47 of the pointer to</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="comment">// bits 48..63 (unless the operating system never hands those pointers</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="comment">// to us, which is difficult to prove).  Signed right-shift of a</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="comment">// negative number is implementation-defined in C++ (not undefined!),</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="comment">// but actually does the right thing on all the platforms I can find.</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keyword">auto</span> extended = <span class="keyword">static_cast&lt;</span><a class="code" href="ConstexprMathBenchmark_8cpp.html#a21214d6ef664ff09b89c1fd75fe0a042">int64_t</a><span class="keyword">&gt;</span>(<a class="code" href="structfolly_1_1StampedPtr.html#a1b68d27bde3521968cf4008532a5f325">raw</a>) &gt;&gt; <a class="code" href="structfolly_1_1StampedPtr.html#ab5b0dde672169107a742087544632fd2">kInternalStampBits</a>;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>*<span class="keyword">&gt;</span>(<span class="keyword">static_cast&lt;</span>intptr_t<span class="keyword">&gt;</span>(extended));</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  }</div><div class="ttc" id="structfolly_1_1StampedPtr_html_a1b68d27bde3521968cf4008532a5f325"><div class="ttname"><a href="structfolly_1_1StampedPtr.html#a1b68d27bde3521968cf4008532a5f325">folly::StampedPtr::raw</a></div><div class="ttdeci">uint64_t raw</div><div class="ttdef"><b>Definition:</b> <a href="StampedPtr_8h_source.html#l00068">StampedPtr.h:68</a></div></div>
<div class="ttc" id="structfolly_1_1StampedPtr_html_ab5b0dde672169107a742087544632fd2"><div class="ttname"><a href="structfolly_1_1StampedPtr.html#ab5b0dde672169107a742087544632fd2">folly::StampedPtr::kInternalStampBits</a></div><div class="ttdeci">static constexpr unsigned kInternalStampBits</div><div class="ttdef"><b>Definition:</b> <a href="StampedPtr_8h_source.html#l00120">StampedPtr.h:120</a></div></div>
<div class="ttc" id="namespacefolly_html_a0652a9c51b69e7a13d40ccbcb139bc55"><div class="ttname"><a href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">folly::T</a></div><div class="ttdeci">folly::std T</div></div>
<div class="ttc" id="ConstexprMathBenchmark_8cpp_html_a21214d6ef664ff09b89c1fd75fe0a042"><div class="ttname"><a href="ConstexprMathBenchmark_8cpp.html#a21214d6ef664ff09b89c1fd75fe0a042">int64_t</a></div><div class="ttdeci">int64_t</div><div class="ttdef"><b>Definition:</b> <a href="ConstexprMathBenchmark_8cpp_source.html#l00188">ConstexprMathBenchmark.cpp:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae496ba7a1e1c5aedd8a672149711babb"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="ConstexprMathBenchmark_8cpp.html#a5a8b2dc9e45a9ee81a94ef304fb62505">uint16_t</a> <a class="el" href="structfolly_1_1StampedPtr.html">folly::StampedPtr</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::unpackStamp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a>&#160;</td>
          <td class="paramname"><em>raw</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="StampedPtr_8h_source.html#l00102">102</a> of file <a class="el" href="StampedPtr_8h_source.html">StampedPtr.h</a>.</p>

<p>References <a class="el" href="StampedPtr_8h_source.html#l00068">folly::StampedPtr&lt; T &gt;::raw</a>, and <a class="el" href="ConstexprMathBenchmark_8cpp_source.html#l00182">uint16_t</a>.</p>

<p>Referenced by <a class="el" href="StampedPtr_8h_source.html#l00106">folly::StampedPtr&lt; T &gt;::pack()</a>, <a class="el" href="StampedPtr_8h_source.html#l00084">folly::StampedPtr&lt; T &gt;::setPtr()</a>, and <a class="el" href="StampedPtr_8h_source.html#l00076">folly::StampedPtr&lt; T &gt;::stamp()</a>.</p>
<div class="fragment"><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                                            {</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="ConstexprMathBenchmark_8cpp.html#a5a8b2dc9e45a9ee81a94ef304fb62505">uint16_t</a><span class="keyword">&gt;</span>(<a class="code" href="structfolly_1_1StampedPtr.html#a1b68d27bde3521968cf4008532a5f325">raw</a>);</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  }</div><div class="ttc" id="structfolly_1_1StampedPtr_html_a1b68d27bde3521968cf4008532a5f325"><div class="ttname"><a href="structfolly_1_1StampedPtr.html#a1b68d27bde3521968cf4008532a5f325">folly::StampedPtr::raw</a></div><div class="ttdeci">uint64_t raw</div><div class="ttdef"><b>Definition:</b> <a href="StampedPtr_8h_source.html#l00068">StampedPtr.h:68</a></div></div>
<div class="ttc" id="ConstexprMathBenchmark_8cpp_html_a5a8b2dc9e45a9ee81a94ef304fb62505"><div class="ttname"><a href="ConstexprMathBenchmark_8cpp.html#a5a8b2dc9e45a9ee81a94ef304fb62505">uint16_t</a></div><div class="ttdeci">uint16_t</div><div class="ttdef"><b>Definition:</b> <a href="ConstexprMathBenchmark_8cpp_source.html#l00182">ConstexprMathBenchmark.cpp:182</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ab5b0dde672169107a742087544632fd2"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr unsigned <a class="el" href="structfolly_1_1StampedPtr.html">folly::StampedPtr</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::kInternalStampBits = <a class="el" href="namespacefolly.html#a7c631f0179944e4771e98d398db760dd">sizeof</a>(void*) == 4 ? 32 : 16</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="StampedPtr_8h_source.html#l00120">120</a> of file <a class="el" href="StampedPtr_8h_source.html">StampedPtr.h</a>.</p>

<p>Referenced by <a class="el" href="StampedPtr_8h_source.html#l00106">folly::StampedPtr&lt; T &gt;::pack()</a>, and <a class="el" href="StampedPtr_8h_source.html#l00092">folly::StampedPtr&lt; T &gt;::unpackPtr()</a>.</p>

</div>
</div>
<a class="anchor" id="a1b68d27bde3521968cf4008532a5f325"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> <a class="el" href="structfolly_1_1StampedPtr.html">folly::StampedPtr</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::raw</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The packing is not guaranteed, except that it is guaranteed that raw == 0 iff <a class="el" href="structfolly_1_1StampedPtr.html#ad89bc4f8c2c68e6a8133580f7bedd938">ptr()</a> == nullptr &amp;&amp; <a class="el" href="structfolly_1_1StampedPtr.html#ab7f50b9b38bc656e9f6c1ca07bd78906">stamp()</a> == 0. </p>

<p>Definition at line <a class="el" href="StampedPtr_8h_source.html#l00068">68</a> of file <a class="el" href="StampedPtr_8h_source.html">StampedPtr.h</a>.</p>

<p>Referenced by <a class="el" href="StampedPtr_8h_source.html#l00106">folly::StampedPtr&lt; T &gt;::pack()</a>, <a class="el" href="StampedPtrTest_8cpp_source.html#l00021">TEST()</a>, <a class="el" href="StampedPtr_8h_source.html#l00092">folly::StampedPtr&lt; T &gt;::unpackPtr()</a>, and <a class="el" href="StampedPtr_8h_source.html#l00102">folly::StampedPtr&lt; T &gt;::unpackStamp()</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>proxygen/folly/folly/experimental/<a class="el" href="StampedPtr_8h_source.html">StampedPtr.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefolly.html">folly</a></li><li class="navelem"><a class="el" href="structfolly_1_1StampedPtr.html">StampedPtr</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
