<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>proxygen: folly::fbstring_core&lt; Char &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">proxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classfolly_1_1fbstring__core.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="classfolly_1_1fbstring__core-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">folly::fbstring_core&lt; Char &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="FBString_8h_source.html">FBString.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1fbstring__core_1_1MediumLarge.html">MediumLarge</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1fbstring__core_1_1RefCounted.html">RefCounted</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:afc9c1a634fe5a6abb0eecde7b6fc4031"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#afc9c1a634fe5a6abb0eecde7b6fc4031">fbstring_core</a> () noexcept</td></tr>
<tr class="separator:afc9c1a634fe5a6abb0eecde7b6fc4031"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9b40beac46aaa77966cf4275bb157bf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#ab9b40beac46aaa77966cf4275bb157bf">fbstring_core</a> (const <a class="el" href="classfolly_1_1fbstring__core.html">fbstring_core</a> &amp;rhs)</td></tr>
<tr class="separator:ab9b40beac46aaa77966cf4275bb157bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7335786c86f416db6c5595aacae610cc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#a7335786c86f416db6c5595aacae610cc">fbstring_core</a> (<a class="el" href="classfolly_1_1fbstring__core.html">fbstring_core</a> &amp;&amp;goner) noexcept</td></tr>
<tr class="separator:a7335786c86f416db6c5595aacae610cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cb3a788086915c8cfe887c0ae4b740f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#a5cb3a788086915c8cfe887c0ae4b740f">fbstring_core</a> (const Char *const <a class="el" href="classfolly_1_1fbstring__core.html#ac321adac2dc94d4401013ccb56f286ab">data</a>, const size_t <a class="el" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a>, bool disableSSO=false)</td></tr>
<tr class="separator:a5cb3a788086915c8cfe887c0ae4b740f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf685c6b3d32f1695485397d378a3352"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#aaf685c6b3d32f1695485397d378a3352">~fbstring_core</a> () noexcept</td></tr>
<tr class="separator:aaf685c6b3d32f1695485397d378a3352"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea71f03fc3b8dc8d10ef7fdecbf852c7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#aea71f03fc3b8dc8d10ef7fdecbf852c7">fbstring_core</a> (Char *const <a class="el" href="classfolly_1_1fbstring__core.html#ac321adac2dc94d4401013ccb56f286ab">data</a>, const size_t <a class="el" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a>, const size_t allocatedSize, <a class="el" href="namespacefolly.html#aab33499e282943f3fc1dfa8332830287">AcquireMallocatedString</a>)</td></tr>
<tr class="separator:aea71f03fc3b8dc8d10ef7fdecbf852c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a771fa2fc44c53175bb9fc764adab19"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#a2a771fa2fc44c53175bb9fc764adab19">swap</a> (<a class="el" href="classfolly_1_1fbstring__core.html">fbstring_core</a> &amp;rhs)</td></tr>
<tr class="separator:a2a771fa2fc44c53175bb9fc764adab19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac321adac2dc94d4401013ccb56f286ab"><td class="memItemLeft" align="right" valign="top">const Char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#ac321adac2dc94d4401013ccb56f286ab">data</a> () const </td></tr>
<tr class="separator:ac321adac2dc94d4401013ccb56f286ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6076cf12a9c86e00769df794f059562"><td class="memItemLeft" align="right" valign="top">Char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#aa6076cf12a9c86e00769df794f059562">mutableData</a> ()</td></tr>
<tr class="separator:aa6076cf12a9c86e00769df794f059562"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29012431eb67f7eb678a6a29d404c64c"><td class="memItemLeft" align="right" valign="top">const Char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#a29012431eb67f7eb678a6a29d404c64c">c_str</a> () const </td></tr>
<tr class="separator:a29012431eb67f7eb678a6a29d404c64c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3f67acda7ed1c72c17a4ac2aad6eb93"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#af3f67acda7ed1c72c17a4ac2aad6eb93">shrink</a> (const size_t delta)</td></tr>
<tr class="separator:af3f67acda7ed1c72c17a4ac2aad6eb93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40c6f870fe6b505caaa6c685b21dcb0f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="memory_2Malloc_8h.html#ab094a748be0f1f723df51a925ba4b3ce">FOLLY_MALLOC_NOINLINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#a40c6f870fe6b505caaa6c685b21dcb0f">reserve</a> (size_t minCapacity, bool disableSSO=false)</td></tr>
<tr class="separator:a40c6f870fe6b505caaa6c685b21dcb0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae98c9a44cb60e5f0908a099fe81ecfa6"><td class="memItemLeft" align="right" valign="top">Char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#ae98c9a44cb60e5f0908a099fe81ecfa6">expandNoinit</a> (const size_t delta, bool expGrowth=false, bool disableSSO=false)</td></tr>
<tr class="separator:ae98c9a44cb60e5f0908a099fe81ecfa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a180a6e8deb73d1fb21a5f67f8ed2479a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#a180a6e8deb73d1fb21a5f67f8ed2479a">push_back</a> (Char <a class="el" href="OptionalTest_8cpp.html#adc08ed1554f35803d229aeaf11216b3f">c</a>)</td></tr>
<tr class="separator:a180a6e8deb73d1fb21a5f67f8ed2479a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc19ef2941fdf0ceb1c23dabb839f1ef"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a> () const </td></tr>
<tr class="separator:abc19ef2941fdf0ceb1c23dabb839f1ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b7c9000232b5552e99055f87abd27fc"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#a2b7c9000232b5552e99055f87abd27fc">capacity</a> () const </td></tr>
<tr class="separator:a2b7c9000232b5552e99055f87abd27fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af06ec791a4ec417167f5c1cbdeb680d6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#af06ec791a4ec417167f5c1cbdeb680d6">isShared</a> () const </td></tr>
<tr class="separator:af06ec791a4ec417167f5c1cbdeb680d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:a73b1629c888290fb28c63fd76c656b7a"><td class="memItemLeft" align="right" valign="top">static constexpr auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#a73b1629c888290fb28c63fd76c656b7a">kIsLittleEndian</a></td></tr>
<tr class="separator:a73b1629c888290fb28c63fd76c656b7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a7c32682405379cd3afd5e66f7f202fe3"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3">Category</a> : category_type { <a class="el" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed">Category::isSmall</a> = 0, 
<a class="el" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ae62e069a2dab30eaec7ea1d2a3397e49">Category::isMedium</a> = kIsLittleEndian ? 0x80 : 0x2, 
<a class="el" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0">Category::isLarge</a> = kIsLittleEndian ? 0x40 : 0x1
 }</td></tr>
<tr class="separator:a7c32682405379cd3afd5e66f7f202fe3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af84a64dbfe5bb4bb9d46ae1d75f15c14"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#af84a64dbfe5bb4bb9d46ae1d75f15c14">category_type</a></td></tr>
<tr class="separator:af84a64dbfe5bb4bb9d46ae1d75f15c14"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a5fe73b4062e6fd2d6f92ae92aff7c400"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1fbstring__core.html">fbstring_core</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#a5fe73b4062e6fd2d6f92ae92aff7c400">operator=</a> (const <a class="el" href="classfolly_1_1fbstring__core.html">fbstring_core</a> &amp;rhs)</td></tr>
<tr class="separator:a5fe73b4062e6fd2d6f92ae92aff7c400"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a079c19efc6fd782dd5ca8c691d2174b6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#a079c19efc6fd782dd5ca8c691d2174b6">reset</a> ()</td></tr>
<tr class="separator:a079c19efc6fd782dd5ca8c691d2174b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80cd4b2d03911bad6c86e795bb1891c5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="memory_2Malloc_8h.html#ab094a748be0f1f723df51a925ba4b3ce">FOLLY_MALLOC_NOINLINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#a80cd4b2d03911bad6c86e795bb1891c5">destroyMediumLarge</a> () noexcept</td></tr>
<tr class="separator:a80cd4b2d03911bad6c86e795bb1891c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95a6532d4d39363b65ee77118979ff36"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3">Category</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">category</a> () const </td></tr>
<tr class="separator:a95a6532d4d39363b65ee77118979ff36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49eb8cd145a892c10d287a1bc6b10183"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#a49eb8cd145a892c10d287a1bc6b10183">smallSize</a> () const </td></tr>
<tr class="separator:a49eb8cd145a892c10d287a1bc6b10183"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7664e6182f2e08d981ea55913d175c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#af7664e6182f2e08d981ea55913d175c9">setSmallSize</a> (size_t <a class="el" href="StringKeyedBenchmark_8cpp.html#aa7f1a46e86fabf3df0ec876cd34220c2">s</a>)</td></tr>
<tr class="separator:af7664e6182f2e08d981ea55913d175c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5942821e2d3de69de74be1a412930d2b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#a5942821e2d3de69de74be1a412930d2b">copySmall</a> (const <a class="el" href="classfolly_1_1fbstring__core.html">fbstring_core</a> &amp;)</td></tr>
<tr class="separator:a5942821e2d3de69de74be1a412930d2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbf67925c78cae52583b7f92d7ba1ca1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#acbf67925c78cae52583b7f92d7ba1ca1">copyMedium</a> (const <a class="el" href="classfolly_1_1fbstring__core.html">fbstring_core</a> &amp;)</td></tr>
<tr class="separator:acbf67925c78cae52583b7f92d7ba1ca1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2751ace9bbf2661a2914a80d804448c1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#a2751ace9bbf2661a2914a80d804448c1">copyLarge</a> (const <a class="el" href="classfolly_1_1fbstring__core.html">fbstring_core</a> &amp;)</td></tr>
<tr class="separator:a2751ace9bbf2661a2914a80d804448c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0549be4f0952253af59bb3dc323aaba6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#a0549be4f0952253af59bb3dc323aaba6">initSmall</a> (const Char *<a class="el" href="classfolly_1_1fbstring__core.html#ac321adac2dc94d4401013ccb56f286ab">data</a>, size_t <a class="el" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a>)</td></tr>
<tr class="separator:a0549be4f0952253af59bb3dc323aaba6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6686f631723fae200d02e58a5dc2d8d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#ac6686f631723fae200d02e58a5dc2d8d">initMedium</a> (const Char *<a class="el" href="classfolly_1_1fbstring__core.html#ac321adac2dc94d4401013ccb56f286ab">data</a>, size_t <a class="el" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a>)</td></tr>
<tr class="separator:ac6686f631723fae200d02e58a5dc2d8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3155b209c7962522728b04fbc5300ef9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#a3155b209c7962522728b04fbc5300ef9">initLarge</a> (const Char *<a class="el" href="classfolly_1_1fbstring__core.html#ac321adac2dc94d4401013ccb56f286ab">data</a>, size_t <a class="el" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a>)</td></tr>
<tr class="separator:a3155b209c7962522728b04fbc5300ef9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa800ecd37fe6ed63a0f8b9f406584c95"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#aa800ecd37fe6ed63a0f8b9f406584c95">reserveSmall</a> (size_t minCapacity, bool disableSSO)</td></tr>
<tr class="separator:aa800ecd37fe6ed63a0f8b9f406584c95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad32866937b084ec92a943a39e3f37277"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#ad32866937b084ec92a943a39e3f37277">reserveMedium</a> (size_t minCapacity)</td></tr>
<tr class="separator:ad32866937b084ec92a943a39e3f37277"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6376ea9e63c4d0dc6e1d66509292f94a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#a6376ea9e63c4d0dc6e1d66509292f94a">reserveLarge</a> (size_t minCapacity)</td></tr>
<tr class="separator:a6376ea9e63c4d0dc6e1d66509292f94a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81a69b6adea73ac2a9bbdc15214f88d3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#a81a69b6adea73ac2a9bbdc15214f88d3">shrinkSmall</a> (size_t delta)</td></tr>
<tr class="separator:a81a69b6adea73ac2a9bbdc15214f88d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34cc9d0cd2161b56b89026b6a0b0fa4f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#a34cc9d0cd2161b56b89026b6a0b0fa4f">shrinkMedium</a> (size_t delta)</td></tr>
<tr class="separator:a34cc9d0cd2161b56b89026b6a0b0fa4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf9a8db28c1acfb6edd125665f0db4d0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#acf9a8db28c1acfb6edd125665f0db4d0">shrinkLarge</a> (size_t delta)</td></tr>
<tr class="separator:acf9a8db28c1acfb6edd125665f0db4d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3ec9c6c1f26b525b37dccfe9b7a6a23"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#ab3ec9c6c1f26b525b37dccfe9b7a6a23">unshare</a> (size_t minCapacity=0)</td></tr>
<tr class="separator:ab3ec9c6c1f26b525b37dccfe9b7a6a23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa443cf6916f721dc6b89f923b548ac22"><td class="memItemLeft" align="right" valign="top">Char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#aa443cf6916f721dc6b89f923b548ac22">mutableDataLarge</a> ()</td></tr>
<tr class="separator:aa443cf6916f721dc6b89f923b548ac22"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a2cc04dc0f24d2787a6be00bf2f058528"><td class="memItemLeft" >union {</td></tr>
<tr class="memitem:a227f5a549f01a689d2a2668ee0adb35e"><td class="memItemLeft" >&#160;&#160;&#160;<a class="el" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>&#160;&#160;&#160;<a class="el" href="classfolly_1_1fbstring__core.html#a45ad9c20c468680dce8ad90df7d09169">bytes_</a> [<a class="el" href="namespacefolly.html#a7c631f0179944e4771e98d398db760dd">sizeof</a>(<a class="el" href="structfolly_1_1fbstring__core_1_1MediumLarge.html">MediumLarge</a>)]</td></tr>
<tr class="separator:a227f5a549f01a689d2a2668ee0adb35e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a789d3c7d9204a7b885ade023abf4eb5e"><td class="memItemLeft" >&#160;&#160;&#160;Char&#160;&#160;&#160;<a class="el" href="classfolly_1_1fbstring__core.html#a640e92b24c01008884625cdde2ef7d7c">small_</a> [<a class="el" href="namespacefolly.html#a7c631f0179944e4771e98d398db760dd">sizeof</a>(<a class="el" href="structfolly_1_1fbstring__core_1_1MediumLarge.html">MediumLarge</a>)/<a class="el" href="namespacefolly.html#a7c631f0179944e4771e98d398db760dd">sizeof</a>(Char)]</td></tr>
<tr class="separator:a789d3c7d9204a7b885ade023abf4eb5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe41e4e48a4485ad9c47a6a9dd8573a4"><td class="memItemLeft" >&#160;&#160;&#160;<a class="el" href="structfolly_1_1fbstring__core_1_1MediumLarge.html">MediumLarge</a>&#160;&#160;&#160;<a class="el" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a></td></tr>
<tr class="separator:afe41e4e48a4485ad9c47a6a9dd8573a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cc04dc0f24d2787a6be00bf2f058528"><td class="memItemLeft" valign="top">};&#160;</td><td class="memItemRight" valign="bottom"></td></tr>
<tr class="separator:a2cc04dc0f24d2787a6be00bf2f058528"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a662360aaff0ad0e1f2b51f35f55083c7"><td class="memItemLeft" align="right" valign="top">static constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#a662360aaff0ad0e1f2b51f35f55083c7">lastChar</a> = <a class="el" href="namespacefolly.html#a7c631f0179944e4771e98d398db760dd">sizeof</a>(<a class="el" href="structfolly_1_1fbstring__core_1_1MediumLarge.html">MediumLarge</a>) - 1</td></tr>
<tr class="separator:a662360aaff0ad0e1f2b51f35f55083c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cd2b5e4b7125cb8f0ae3be13d906267"><td class="memItemLeft" align="right" valign="top">static constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#a5cd2b5e4b7125cb8f0ae3be13d906267">maxSmallSize</a> = <a class="el" href="classfolly_1_1fbstring__core.html#a662360aaff0ad0e1f2b51f35f55083c7">lastChar</a> / <a class="el" href="namespacefolly.html#a7c631f0179944e4771e98d398db760dd">sizeof</a>(Char)</td></tr>
<tr class="separator:a5cd2b5e4b7125cb8f0ae3be13d906267"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58f82df102072863c0a1ec0c0c91e7d4"><td class="memItemLeft" align="right" valign="top">static constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#a58f82df102072863c0a1ec0c0c91e7d4">maxMediumSize</a> = 254 / <a class="el" href="namespacefolly.html#a7c631f0179944e4771e98d398db760dd">sizeof</a>(Char)</td></tr>
<tr class="separator:a58f82df102072863c0a1ec0c0c91e7d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3d4d0979f8c423999df00b624d939c9"><td class="memItemLeft" align="right" valign="top">static constexpr <a class="el" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#ab3d4d0979f8c423999df00b624d939c9">categoryExtractMask</a> = <a class="el" href="classfolly_1_1fbstring__core.html#a73b1629c888290fb28c63fd76c656b7a">kIsLittleEndian</a> ? 0xC0 : 0x3</td></tr>
<tr class="separator:ab3d4d0979f8c423999df00b624d939c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ffd47b0020c6f8746033d6dbf628cd7"><td class="memItemLeft" align="right" valign="top">static constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#a8ffd47b0020c6f8746033d6dbf628cd7">kCategoryShift</a> = (<a class="el" href="namespacefolly.html#a7c631f0179944e4771e98d398db760dd">sizeof</a>(size_t) - 1) * 8</td></tr>
<tr class="separator:a8ffd47b0020c6f8746033d6dbf628cd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4461cc2d6d8debda8eda6cd84b6b42fa"><td class="memItemLeft" align="right" valign="top">static constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fbstring__core.html#a4461cc2d6d8debda8eda6cd84b6b42fa">capacityExtractMask</a></td></tr>
<tr class="separator:a4461cc2d6d8debda8eda6cd84b6b42fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class Char&gt;<br />
class folly::fbstring_core&lt; Char &gt;</h3>

<p>This is the core of the string. The code should work on 32- and 64-bit and both big- and little-endianan architectures with any Char size.</p>
<p>The storage is selected as follows (assuming we store one-byte characters on a 64-bit machine): (a) "small" strings between 0 and 23 chars are stored in-situ without allocation (the rightmost byte stores the size); (b) "medium" strings from 24 through 254 chars are stored in malloc-allocated memory that is copied eagerly; (c) "large" strings of 255 chars and above are stored in a similar structure as medium arrays, except that the string is reference-counted and copied lazily. the reference count is allocated right before the character array.</p>
<p>The discriminator between these three strategies sits in two bits of the rightmost char of the storage:</p><ul>
<li>If neither is set, then the string is small. Its length is represented by the lower-order bits on little-endian or the high-order bits on big-endian of that rightmost character. The value of these six bits is <code>maxSmallSize - size</code>, so this quantity must be subtracted from <code>maxSmallSize</code> to compute the <code>size</code> of the string (see <code><a class="el" href="classfolly_1_1fbstring__core.html#a49eb8cd145a892c10d287a1bc6b10183">smallSize()</a></code>). This scheme ensures that when <code>size ==</code>maxSmallSize`, the last byte in the storage is \0. This way, storage will be a null-terminated sequence of bytes, even if all 23 bytes of data are used on a 64-bit architecture. This enables <code><a class="el" href="classfolly_1_1fbstring__core.html#a29012431eb67f7eb678a6a29d404c64c">c_str()</a></code> and <code><a class="el" href="classfolly_1_1fbstring__core.html#ac321adac2dc94d4401013ccb56f286ab">data()</a></code> to simply return a pointer to the storage.</li>
<li>If the MSb is set, the string is medium width.</li>
<li>If the second MSb is set, then the string is large. On little-endian, these 2 bits are the 2 MSbs of <a class="el" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#af4e09c936b75853c56f084c7ce3103d0">MediumLarge::capacity_</a>, while on big-endian, these 2 bits are the 2 LSbs. This keeps both little-endian and big-endian <a class="el" href="classfolly_1_1fbstring__core.html">fbstring_core</a> equivalent with merely different ops used to extract capacity/category. </li>
</ul>

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00327">327</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="af84a64dbfe5bb4bb9d46ae1d75f15c14"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::<a class="el" href="classfolly_1_1fbstring__core.html#af84a64dbfe5bb4bb9d46ae1d75f15c14">category_type</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00619">619</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="a7c32682405379cd3afd5e66f7f202fe3"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3">folly::fbstring_core::Category</a> : <a class="el" href="classfolly_1_1fbstring__core.html#af84a64dbfe5bb4bb9d46ae1d75f15c14">category_type</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed"></a>isSmall&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a7c32682405379cd3afd5e66f7f202fe3ae62e069a2dab30eaec7ea1d2a3397e49"></a>isMedium&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0"></a>isLarge&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00621">621</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                      : <a class="code" href="classfolly_1_1fbstring__core.html#af84a64dbfe5bb4bb9d46ae1d75f15c14">category_type</a> {</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    isSmall = 0,</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    isMedium = <a class="code" href="classfolly_1_1fbstring__core.html#a73b1629c888290fb28c63fd76c656b7a">kIsLittleEndian</a> ? 0x80 : 0x2,</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    isLarge = <a class="code" href="classfolly_1_1fbstring__core.html#a73b1629c888290fb28c63fd76c656b7a">kIsLittleEndian</a> ? 0x40 : 0x1,</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  };</div><div class="ttc" id="classfolly_1_1fbstring__core_html_af84a64dbfe5bb4bb9d46ae1d75f15c14"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#af84a64dbfe5bb4bb9d46ae1d75f15c14">folly::fbstring_core::category_type</a></div><div class="ttdeci">uint8_t category_type</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00619">FBString.h:619</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a73b1629c888290fb28c63fd76c656b7a"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a73b1629c888290fb28c63fd76c656b7a">folly::fbstring_core::kIsLittleEndian</a></div><div class="ttdeci">static constexpr auto kIsLittleEndian</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00337">FBString.h:337</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="afc9c1a634fe5a6abb0eecde7b6fc4031"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::<a class="el" href="classfolly_1_1fbstring__core.html">fbstring_core</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00341">341</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                           {</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <a class="code" href="classfolly_1_1fbstring__core.html#a079c19efc6fd782dd5ca8c691d2174b6">reset</a>();</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  }</div><div class="ttc" id="classfolly_1_1fbstring__core_html_a079c19efc6fd782dd5ca8c691d2174b6"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a079c19efc6fd782dd5ca8c691d2174b6">folly::fbstring_core::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00535">FBString.h:535</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab9b40beac46aaa77966cf4275bb157bf"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::<a class="el" href="classfolly_1_1fbstring__core.html">fbstring_core</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfolly_1_1fbstring__core.html">fbstring_core</a>&lt; Char &gt; &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00345">345</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                                          {</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <a class="code" href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a>(&amp;<a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a> != <span class="keyword">this</span>);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>.category()) {</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed">Category::isSmall</a>:</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <a class="code" href="classfolly_1_1fbstring__core.html#a5942821e2d3de69de74be1a412930d2b">copySmall</a>(<a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>);</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ae62e069a2dab30eaec7ea1d2a3397e49">Category::isMedium</a>:</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <a class="code" href="classfolly_1_1fbstring__core.html#acbf67925c78cae52583b7f92d7ba1ca1">copyMedium</a>(<a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>);</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0">Category::isLarge</a>:</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <a class="code" href="classfolly_1_1fbstring__core.html#a2751ace9bbf2661a2914a80d804448c1">copyLarge</a>(<a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>);</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <a class="code" href="namespacefolly_1_1fbstring__detail.html#a89a9ffc22d83e87bde4438713fdba78e">fbstring_detail::assume_unreachable</a>();</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    }</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <a class="code" href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a>(<a class="code" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a>() == <a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>.size());</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <a class="code" href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a>(memcmp(<a class="code" href="classfolly_1_1fbstring__core.html#ac321adac2dc94d4401013ccb56f286ab">data</a>(), <a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>.data(), <a class="code" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a>() * <span class="keyword">sizeof</span>(<a class="code" href="namespacetesting_1_1gmock__generated__actions__test.html#aa07e216a4c9d492fb7e7c8fde949bc8f">Char</a>)) == 0);</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  }</div><div class="ttc" id="classfolly_1_1fbstring__core_html_a2751ace9bbf2661a2914a80d804448c1"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a2751ace9bbf2661a2914a80d804448c1">folly::fbstring_core::copyLarge</a></div><div class="ttdeci">void copyLarge(const fbstring_core &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00741">FBString.h:741</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_acbf67925c78cae52583b7f92d7ba1ca1"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#acbf67925c78cae52583b7f92d7ba1ca1">folly::fbstring_core::copyMedium</a></div><div class="ttdeci">void copyMedium(const fbstring_core &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00726">FBString.h:726</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_ac321adac2dc94d4401013ccb56f286ab"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#ac321adac2dc94d4401013ccb56f286ab">folly::fbstring_core::data</a></div><div class="ttdeci">const Char * data() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00432">FBString.h:432</a></div></div>
<div class="ttc" id="namespacefolly_1_1detail_html_a2dccd19efd4e58589c88f81f62bbf32e"><div class="ttname"><a href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">folly::detail::rhs</a></div><div class="ttdeci">FOLLY_PUSH_WARNING RHS rhs</div><div class="ttdef"><b>Definition:</b> <a href="Traits_8h_source.html#l00649">Traits.h:649</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_abc19ef2941fdf0ceb1c23dabb839f1ef"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">folly::fbstring_core::size</a></div><div class="ttdeci">size_t size() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00493">FBString.h:493</a></div></div>
<div class="ttc" id="FBString_8h_html_aa4412e1e8f8ff016602abd861361fb82"><div class="ttname"><a href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a></div><div class="ttdeci">#define FBSTRING_ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00064">FBString.h:64</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed">folly::fbstring_core::Category::isSmall</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a5942821e2d3de69de74be1a412930d2b"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a5942821e2d3de69de74be1a412930d2b">folly::fbstring_core::copySmall</a></div><div class="ttdeci">void copySmall(const fbstring_core &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00707">FBString.h:707</a></div></div>
<div class="ttc" id="namespacefolly_1_1fbstring__detail_html_a89a9ffc22d83e87bde4438713fdba78e"><div class="ttname"><a href="namespacefolly_1_1fbstring__detail.html#a89a9ffc22d83e87bde4438713fdba78e">folly::fbstring_detail::assume_unreachable</a></div><div class="ttdeci">void assume_unreachable()</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00202">FBString.h:202</a></div></div>
<div class="ttc" id="namespacetesting_1_1gmock__generated__actions__test_html_aa07e216a4c9d492fb7e7c8fde949bc8f"><div class="ttname"><a href="namespacetesting_1_1gmock__generated__actions__test.html#aa07e216a4c9d492fb7e7c8fde949bc8f">testing::gmock_generated_actions_test::Char</a></div><div class="ttdeci">char Char(char ch)</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock-generated-actions__test_8cc_source.html#l00068">gmock-generated-actions_test.cc:68</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a7c32682405379cd3afd5e66f7f202fe3ae62e069a2dab30eaec7ea1d2a3397e49"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ae62e069a2dab30eaec7ea1d2a3397e49">folly::fbstring_core::Category::isMedium</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0">folly::fbstring_core::Category::isLarge</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7335786c86f416db6c5595aacae610cc"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::<a class="el" href="classfolly_1_1fbstring__core.html">fbstring_core</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1fbstring__core.html">fbstring_core</a>&lt; Char &gt; &amp;&amp;&#160;</td>
          <td class="paramname"><em>goner</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00364">364</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                                                {</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="comment">// Take goner&#39;s guts</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a> = goner.ml_;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="comment">// Clean goner&#39;s carcass</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    goner.reset();</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  }</div><div class="ttc" id="classfolly_1_1fbstring__core_html_af711e027a83a1d327a19bf16d583246f"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">folly::fbstring_core::ml_</a></div><div class="ttdeci">MediumLarge ml_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00651">FBString.h:651</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5cb3a788086915c8cfe887c0ae4b740f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::<a class="el" href="classfolly_1_1fbstring__core.html">fbstring_core</a> </td>
          <td>(</td>
          <td class="paramtype">const Char *const&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>disableSSO</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00371">371</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                                              {</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">if</span> (!disableSSO &amp;&amp; <a class="code" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a> &lt;= <a class="code" href="classfolly_1_1fbstring__core.html#a5cd2b5e4b7125cb8f0ae3be13d906267">maxSmallSize</a>) {</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      <a class="code" href="classfolly_1_1fbstring__core.html#a0549be4f0952253af59bb3dc323aaba6">initSmall</a>(<a class="code" href="classfolly_1_1fbstring__core.html#ac321adac2dc94d4401013ccb56f286ab">data</a>, <a class="code" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a>);</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a> &lt;= <a class="code" href="classfolly_1_1fbstring__core.html#a58f82df102072863c0a1ec0c0c91e7d4">maxMediumSize</a>) {</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      <a class="code" href="classfolly_1_1fbstring__core.html#ac6686f631723fae200d02e58a5dc2d8d">initMedium</a>(<a class="code" href="classfolly_1_1fbstring__core.html#ac321adac2dc94d4401013ccb56f286ab">data</a>, <a class="code" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a>);</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;      <a class="code" href="classfolly_1_1fbstring__core.html#a3155b209c7962522728b04fbc5300ef9">initLarge</a>(<a class="code" href="classfolly_1_1fbstring__core.html#ac321adac2dc94d4401013ccb56f286ab">data</a>, <a class="code" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a>);</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    }</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <a class="code" href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a>(this-&gt;<a class="code" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a>() == <a class="code" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a>);</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <a class="code" href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a>(</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        <a class="code" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a> == 0 || memcmp(this-&gt;<a class="code" href="classfolly_1_1fbstring__core.html#ac321adac2dc94d4401013ccb56f286ab">data</a>(), <a class="code" href="classfolly_1_1fbstring__core.html#ac321adac2dc94d4401013ccb56f286ab">data</a>, <a class="code" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a> * <span class="keyword">sizeof</span>(<a class="code" href="namespacetesting_1_1gmock__generated__actions__test.html#aa07e216a4c9d492fb7e7c8fde949bc8f">Char</a>)) == 0);</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  }</div><div class="ttc" id="classfolly_1_1fbstring__core_html_a0549be4f0952253af59bb3dc323aaba6"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a0549be4f0952253af59bb3dc323aaba6">folly::fbstring_core::initSmall</a></div><div class="ttdeci">void initSmall(const Char *data, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00751">FBString.h:751</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a5cd2b5e4b7125cb8f0ae3be13d906267"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a5cd2b5e4b7125cb8f0ae3be13d906267">folly::fbstring_core::maxSmallSize</a></div><div class="ttdeci">static constexpr size_t maxSmallSize</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00655">FBString.h:655</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_ac321adac2dc94d4401013ccb56f286ab"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#ac321adac2dc94d4401013ccb56f286ab">folly::fbstring_core::data</a></div><div class="ttdeci">const Char * data() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00432">FBString.h:432</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a3155b209c7962522728b04fbc5300ef9"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a3155b209c7962522728b04fbc5300ef9">folly::fbstring_core::initLarge</a></div><div class="ttdeci">void initLarge(const Char *data, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00814">FBString.h:814</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_ac6686f631723fae200d02e58a5dc2d8d"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#ac6686f631723fae200d02e58a5dc2d8d">folly::fbstring_core::initMedium</a></div><div class="ttdeci">void initMedium(const Char *data, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00798">FBString.h:798</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_abc19ef2941fdf0ceb1c23dabb839f1ef"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">folly::fbstring_core::size</a></div><div class="ttdeci">size_t size() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00493">FBString.h:493</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a58f82df102072863c0a1ec0c0c91e7d4"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a58f82df102072863c0a1ec0c0c91e7d4">folly::fbstring_core::maxMediumSize</a></div><div class="ttdeci">static constexpr size_t maxMediumSize</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00656">FBString.h:656</a></div></div>
<div class="ttc" id="FBString_8h_html_aa4412e1e8f8ff016602abd861361fb82"><div class="ttname"><a href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a></div><div class="ttdeci">#define FBSTRING_ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00064">FBString.h:64</a></div></div>
<div class="ttc" id="namespacetesting_1_1gmock__generated__actions__test_html_aa07e216a4c9d492fb7e7c8fde949bc8f"><div class="ttname"><a href="namespacetesting_1_1gmock__generated__actions__test.html#aa07e216a4c9d492fb7e7c8fde949bc8f">testing::gmock_generated_actions_test::Char</a></div><div class="ttdeci">char Char(char ch)</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock-generated-actions__test_8cc_source.html#l00068">gmock-generated-actions_test.cc:68</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aaf685c6b3d32f1695485397d378a3352"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::~<a class="el" href="classfolly_1_1fbstring__core.html">fbstring_core</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00387">387</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                            {</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">category</a>() == <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed">Category::isSmall</a>) {</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    }</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <a class="code" href="classfolly_1_1fbstring__core.html#a80cd4b2d03911bad6c86e795bb1891c5">destroyMediumLarge</a>();</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  }</div><div class="ttc" id="classfolly_1_1fbstring__core_html_a95a6532d4d39363b65ee77118979ff36"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">folly::fbstring_core::category</a></div><div class="ttdeci">Category category() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00627">FBString.h:627</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed">folly::fbstring_core::Category::isSmall</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a80cd4b2d03911bad6c86e795bb1891c5"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a80cd4b2d03911bad6c86e795bb1891c5">folly::fbstring_core::destroyMediumLarge</a></div><div class="ttdeci">FOLLY_MALLOC_NOINLINE void destroyMediumLarge() noexcept</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00539">FBString.h:539</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aea71f03fc3b8dc8d10ef7fdecbf852c7"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::<a class="el" href="classfolly_1_1fbstring__core.html">fbstring_core</a> </td>
          <td>(</td>
          <td class="paramtype">Char *const&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>allocatedSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacefolly.html#aab33499e282943f3fc1dfa8332830287">AcquireMallocatedString</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00401">401</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                               {</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a> &gt; 0) {</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      <a class="code" href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a>(allocatedSize &gt;= <a class="code" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a> + 1);</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      <a class="code" href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a>(<a class="code" href="classfolly_1_1fbstring__core.html#ac321adac2dc94d4401013ccb56f286ab">data</a>[<a class="code" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a>] == <span class="charliteral">&#39;\0&#39;</span>);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      <span class="comment">// Use the medium string storage</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">data_</a> = <a class="code" href="classfolly_1_1fbstring__core.html#ac321adac2dc94d4401013ccb56f286ab">data</a>;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a2b827ce474795f04a08a7b1b54119d49">size_</a> = <a class="code" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a>;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      <span class="comment">// Don&#39;t forget about null terminator</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a03851a67d10777d657c37c00fa451553">setCapacity</a>(allocatedSize - 1, <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ae62e069a2dab30eaec7ea1d2a3397e49">Category::isMedium</a>);</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      <span class="comment">// No need for the memory</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      <a class="code" href="namespacebm.html#ad1f2831d164bf5bc0b15eae7b05fcd64">free</a>(<a class="code" href="classfolly_1_1fbstring__core.html#ac321adac2dc94d4401013ccb56f286ab">data</a>);</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      <a class="code" href="classfolly_1_1fbstring__core.html#a079c19efc6fd782dd5ca8c691d2174b6">reset</a>();</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    }</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  }</div><div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_a2b827ce474795f04a08a7b1b54119d49"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a2b827ce474795f04a08a7b1b54119d49">folly::fbstring_core::MediumLarge::size_</a></div><div class="ttdeci">size_t size_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00634">FBString.h:634</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_aeb843e4bfd2d9ea5e4a5b6397da8984f"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">folly::fbstring_core::MediumLarge::data_</a></div><div class="ttdeci">Char * data_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00633">FBString.h:633</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_ac321adac2dc94d4401013ccb56f286ab"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#ac321adac2dc94d4401013ccb56f286ab">folly::fbstring_core::data</a></div><div class="ttdeci">const Char * data() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00432">FBString.h:432</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a079c19efc6fd782dd5ca8c691d2174b6"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a079c19efc6fd782dd5ca8c691d2174b6">folly::fbstring_core::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00535">FBString.h:535</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_abc19ef2941fdf0ceb1c23dabb839f1ef"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">folly::fbstring_core::size</a></div><div class="ttdeci">size_t size() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00493">FBString.h:493</a></div></div>
<div class="ttc" id="namespacebm_html_ad1f2831d164bf5bc0b15eae7b05fcd64"><div class="ttname"><a href="namespacebm.html#ad1f2831d164bf5bc0b15eae7b05fcd64">bm::free</a></div><div class="ttdeci">void free()</div><div class="ttdef"><b>Definition:</b> <a href="BitVectorCodingTest_8cpp_source.html#l00094">BitVectorCodingTest.cpp:94</a></div></div>
<div class="ttc" id="FBString_8h_html_aa4412e1e8f8ff016602abd861361fb82"><div class="ttname"><a href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a></div><div class="ttdeci">#define FBSTRING_ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00064">FBString.h:64</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_a03851a67d10777d657c37c00fa451553"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a03851a67d10777d657c37c00fa451553">folly::fbstring_core::MediumLarge::setCapacity</a></div><div class="ttdeci">void setCapacity(size_t cap, Category cat)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00641">FBString.h:641</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_af711e027a83a1d327a19bf16d583246f"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">folly::fbstring_core::ml_</a></div><div class="ttdeci">MediumLarge ml_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00651">FBString.h:651</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a7c32682405379cd3afd5e66f7f202fe3ae62e069a2dab30eaec7ea1d2a3397e49"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ae62e069a2dab30eaec7ea1d2a3397e49">folly::fbstring_core::Category::isMedium</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a29012431eb67f7eb678a6a29d404c64c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const Char* <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::c_str </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00448">448</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                            {</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespacetesting_1_1gmock__generated__actions__test.html#aa07e216a4c9d492fb7e7c8fde949bc8f">Char</a>* <a class="code" href="StaticSingletonManager_8cpp.html#a53a30bc00154d79fa155f60e2dfabf5f">ptr</a> = <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">data_</a>;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="comment">// With this syntax, GCC and Clang generate a CMOV instead of a branch.</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    ptr = (<a class="code" href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">category</a>() == <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed">Category::isSmall</a>) ? <a class="code" href="classfolly_1_1fbstring__core.html#a640e92b24c01008884625cdde2ef7d7c">small_</a> : ptr;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="StaticSingletonManager_8cpp.html#a53a30bc00154d79fa155f60e2dfabf5f">ptr</a>;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  }</div><div class="ttc" id="StaticSingletonManager_8cpp_html_a53a30bc00154d79fa155f60e2dfabf5f"><div class="ttname"><a href="StaticSingletonManager_8cpp.html#a53a30bc00154d79fa155f60e2dfabf5f">ptr</a></div><div class="ttdeci">void * ptr</div><div class="ttdef"><b>Definition:</b> <a href="StaticSingletonManager_8cpp_source.html#l00038">StaticSingletonManager.cpp:38</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_aeb843e4bfd2d9ea5e4a5b6397da8984f"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">folly::fbstring_core::MediumLarge::data_</a></div><div class="ttdeci">Char * data_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00633">FBString.h:633</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a95a6532d4d39363b65ee77118979ff36"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">folly::fbstring_core::category</a></div><div class="ttdeci">Category category() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00627">FBString.h:627</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed">folly::fbstring_core::Category::isSmall</a></div></div>
<div class="ttc" id="namespacetesting_1_1gmock__generated__actions__test_html_aa07e216a4c9d492fb7e7c8fde949bc8f"><div class="ttname"><a href="namespacetesting_1_1gmock__generated__actions__test.html#aa07e216a4c9d492fb7e7c8fde949bc8f">testing::gmock_generated_actions_test::Char</a></div><div class="ttdeci">char Char(char ch)</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock-generated-actions__test_8cc_source.html#l00068">gmock-generated-actions_test.cc:68</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_af711e027a83a1d327a19bf16d583246f"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">folly::fbstring_core::ml_</a></div><div class="ttdeci">MediumLarge ml_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00651">FBString.h:651</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a640e92b24c01008884625cdde2ef7d7c"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a640e92b24c01008884625cdde2ef7d7c">folly::fbstring_core::small_</a></div><div class="ttdeci">Char small_[sizeof(MediumLarge)/sizeof(Char)]</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00650">FBString.h:650</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2b7c9000232b5552e99055f87abd27fc"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::capacity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00509">509</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>

<p>Referenced by <a class="el" href="FBString_8h_source.html#l02466">folly::operator+()</a>.</p>
<div class="fragment"><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                          {</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">category</a>()) {</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed">Category::isSmall</a>:</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1fbstring__core.html#a5cd2b5e4b7125cb8f0ae3be13d906267">maxSmallSize</a>;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0">Category::isLarge</a>:</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <span class="comment">// For large-sized strings, a multi-referenced chunk has no</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        <span class="comment">// available capacity. This is because any attempt to append</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        <span class="comment">// data would trigger a new allocation.</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="structfolly_1_1fbstring__core_1_1RefCounted.html#a46d0d43217a4cb91790ec3b56b224e3c">RefCounted::refs</a>(<a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">data_</a>) &gt; 1) {</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a2b827ce474795f04a08a7b1b54119d49">size_</a>;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        }</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    }</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a5920caca4dec6b466da3757883c695a2">capacity</a>();</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  }</div><div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_a2b827ce474795f04a08a7b1b54119d49"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a2b827ce474795f04a08a7b1b54119d49">folly::fbstring_core::MediumLarge::size_</a></div><div class="ttdeci">size_t size_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00634">FBString.h:634</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1RefCounted_html_a46d0d43217a4cb91790ec3b56b224e3c"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1RefCounted.html#a46d0d43217a4cb91790ec3b56b224e3c">folly::fbstring_core::RefCounted::refs</a></div><div class="ttdeci">static size_t refs(Char *p)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00563">FBString.h:563</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_aeb843e4bfd2d9ea5e4a5b6397da8984f"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">folly::fbstring_core::MediumLarge::data_</a></div><div class="ttdeci">Char * data_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00633">FBString.h:633</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a5cd2b5e4b7125cb8f0ae3be13d906267"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a5cd2b5e4b7125cb8f0ae3be13d906267">folly::fbstring_core::maxSmallSize</a></div><div class="ttdeci">static constexpr size_t maxSmallSize</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00655">FBString.h:655</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_a5920caca4dec6b466da3757883c695a2"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a5920caca4dec6b466da3757883c695a2">folly::fbstring_core::MediumLarge::capacity</a></div><div class="ttdeci">size_t capacity() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00637">FBString.h:637</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a95a6532d4d39363b65ee77118979ff36"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">folly::fbstring_core::category</a></div><div class="ttdeci">Category category() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00627">FBString.h:627</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed">folly::fbstring_core::Category::isSmall</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_af711e027a83a1d327a19bf16d583246f"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">folly::fbstring_core::ml_</a></div><div class="ttdeci">MediumLarge ml_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00651">FBString.h:651</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0">folly::fbstring_core::Category::isLarge</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a95a6532d4d39363b65ee77118979ff36"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3">Category</a> <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::category </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00627">627</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>

<p>Referenced by <a class="el" href="FBString_8h_source.html#l00345">folly::fbstring_core&lt; char &gt;::fbstring_core()</a>.</p>
<div class="fragment"><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                            {</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="comment">// works for both big-endian and little-endian</span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3">Category</a><span class="keyword">&gt;</span>(<a class="code" href="classfolly_1_1fbstring__core.html#a45ad9c20c468680dce8ad90df7d09169">bytes_</a>[<a class="code" href="classfolly_1_1fbstring__core.html#a662360aaff0ad0e1f2b51f35f55083c7">lastChar</a>] &amp; <a class="code" href="classfolly_1_1fbstring__core.html#ab3d4d0979f8c423999df00b624d939c9">categoryExtractMask</a>);</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  }</div><div class="ttc" id="classfolly_1_1fbstring__core_html_a7c32682405379cd3afd5e66f7f202fe3"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3">folly::fbstring_core::Category</a></div><div class="ttdeci">Category</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00621">FBString.h:621</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a662360aaff0ad0e1f2b51f35f55083c7"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a662360aaff0ad0e1f2b51f35f55083c7">folly::fbstring_core::lastChar</a></div><div class="ttdeci">static constexpr size_t lastChar</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00654">FBString.h:654</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_ab3d4d0979f8c423999df00b624d939c9"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#ab3d4d0979f8c423999df00b624d939c9">folly::fbstring_core::categoryExtractMask</a></div><div class="ttdeci">static constexpr uint8_t categoryExtractMask</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00657">FBString.h:657</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a45ad9c20c468680dce8ad90df7d09169"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a45ad9c20c468680dce8ad90df7d09169">folly::fbstring_core::bytes_</a></div><div class="ttdeci">uint8_t bytes_[sizeof(MediumLarge)]</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00649">FBString.h:649</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2751ace9bbf2661a2914a80d804448c1"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="memory_2Malloc_8h.html#ab094a748be0f1f723df51a925ba4b3ce">FOLLY_MALLOC_NOINLINE</a> void <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::copyLarge </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfolly_1_1fbstring__core.html">fbstring_core</a>&lt; Char &gt; &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00741">741</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>

<p>References <a class="el" href="FBString_8h_source.html#l00064">FBSTRING_ASSERT</a>, <a class="el" href="FBString_8h_source.html#l00651">folly::fbstring_core&lt; Char &gt;::ml_</a>, <a class="el" href="Access_8h_source.html#l00045">folly::size()</a>, and <a class="el" href="FBString_8h_source.html#l00493">folly::fbstring_core&lt; Char &gt;::size()</a>.</p>
<div class="fragment"><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                              {</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  <span class="comment">// Large strings are just refcounted</span></div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a> = <a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>.ml_;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  <a class="code" href="structfolly_1_1fbstring__core_1_1RefCounted.html#af5028f6537e8ecca46661d610a28e60a">RefCounted::incrementRefs</a>(<a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">data_</a>);</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  <a class="code" href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a>(<a class="code" href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">category</a>() == <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0">Category::isLarge</a> &amp;&amp; <a class="code" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a>() == <a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>.size());</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;}</div><div class="ttc" id="structfolly_1_1fbstring__core_1_1RefCounted_html_af5028f6537e8ecca46661d610a28e60a"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1RefCounted.html#af5028f6537e8ecca46661d610a28e60a">folly::fbstring_core::RefCounted::incrementRefs</a></div><div class="ttdeci">static void incrementRefs(Char *p)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00567">FBString.h:567</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_aeb843e4bfd2d9ea5e4a5b6397da8984f"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">folly::fbstring_core::MediumLarge::data_</a></div><div class="ttdeci">Char * data_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00633">FBString.h:633</a></div></div>
<div class="ttc" id="namespacefolly_1_1detail_html_a2dccd19efd4e58589c88f81f62bbf32e"><div class="ttname"><a href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">folly::detail::rhs</a></div><div class="ttdeci">FOLLY_PUSH_WARNING RHS rhs</div><div class="ttdef"><b>Definition:</b> <a href="Traits_8h_source.html#l00649">Traits.h:649</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a95a6532d4d39363b65ee77118979ff36"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">folly::fbstring_core::category</a></div><div class="ttdeci">Category category() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00627">FBString.h:627</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_abc19ef2941fdf0ceb1c23dabb839f1ef"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">folly::fbstring_core::size</a></div><div class="ttdeci">size_t size() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00493">FBString.h:493</a></div></div>
<div class="ttc" id="FBString_8h_html_aa4412e1e8f8ff016602abd861361fb82"><div class="ttname"><a href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a></div><div class="ttdeci">#define FBSTRING_ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00064">FBString.h:64</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_af711e027a83a1d327a19bf16d583246f"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">folly::fbstring_core::ml_</a></div><div class="ttdeci">MediumLarge ml_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00651">FBString.h:651</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0">folly::fbstring_core::Category::isLarge</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acbf67925c78cae52583b7f92d7ba1ca1"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="memory_2Malloc_8h.html#ab094a748be0f1f723df51a925ba4b3ce">FOLLY_MALLOC_NOINLINE</a> void <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::copyMedium </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfolly_1_1fbstring__core.html">fbstring_core</a>&lt; Char &gt; &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00726">726</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>

<p>References <a class="el" href="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock-generated-actions__test_8cc_source.html#l00068">testing::gmock_generated_actions_test::Char()</a>, <a class="el" href="memory_2Malloc_8h_source.html#l00227">folly::checkedMalloc()</a>, <a class="el" href="FBString_8h_source.html#l00633">folly::fbstring_core&lt; Char &gt;::MediumLarge::data_</a>, <a class="el" href="FBString_8h_source.html#l00064">FBSTRING_ASSERT</a>, <a class="el" href="memory_2Malloc_8h_source.html#l00201">folly::goodMallocSize()</a>, <a class="el" href="FBString_8h_source.html#l00651">folly::fbstring_core&lt; Char &gt;::ml_</a>, <a class="el" href="FBString_8h_source.html#l00174">folly::fbstring_detail::podCopy()</a>, and <a class="el" href="FBString_8h_source.html#l00634">folly::fbstring_core&lt; Char &gt;::MediumLarge::size_</a>.</p>
<div class="fragment"><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;                              {</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  <span class="comment">// Medium strings are copied eagerly. Don&#39;t forget to allocate</span></div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  <span class="comment">// one extra Char for the null terminator.</span></div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span> allocSize = <a class="code" href="namespacefolly.html#ae17bba935a07151ca130bd72f2733719">goodMallocSize</a>((1 + <a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>.ml_.size_) * <span class="keyword">sizeof</span>(<a class="code" href="namespacetesting_1_1gmock__generated__actions__test.html#aa07e216a4c9d492fb7e7c8fde949bc8f">Char</a>));</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">data_</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacetesting_1_1gmock__generated__actions__test.html#aa07e216a4c9d492fb7e7c8fde949bc8f">Char</a>*<span class="keyword">&gt;</span>(<a class="code" href="namespacefolly.html#ac8ace750150dff84e5a2a8cda65a9973">checkedMalloc</a>(allocSize));</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  <span class="comment">// Also copies terminator.</span></div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;  <a class="code" href="namespacefolly_1_1fbstring__detail.html#ade532f4f567e24bdf32a74dc831d54ed">fbstring_detail::podCopy</a>(</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      <a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>.ml_.data_, <a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>.ml_.data_ + <a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>.ml_.size_ + 1, <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">data_</a>);</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a2b827ce474795f04a08a7b1b54119d49">size_</a> = <a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>.ml_.size_;</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a03851a67d10777d657c37c00fa451553">setCapacity</a>(allocSize / <span class="keyword">sizeof</span>(<a class="code" href="namespacetesting_1_1gmock__generated__actions__test.html#aa07e216a4c9d492fb7e7c8fde949bc8f">Char</a>) - 1, <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ae62e069a2dab30eaec7ea1d2a3397e49">Category::isMedium</a>);</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  <a class="code" href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a>(<a class="code" href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">category</a>() == <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ae62e069a2dab30eaec7ea1d2a3397e49">Category::isMedium</a>);</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;}</div><div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_a2b827ce474795f04a08a7b1b54119d49"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a2b827ce474795f04a08a7b1b54119d49">folly::fbstring_core::MediumLarge::size_</a></div><div class="ttdeci">size_t size_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00634">FBString.h:634</a></div></div>
<div class="ttc" id="namespacefolly_html_ac8ace750150dff84e5a2a8cda65a9973"><div class="ttname"><a href="namespacefolly.html#ac8ace750150dff84e5a2a8cda65a9973">folly::checkedMalloc</a></div><div class="ttdeci">void * checkedMalloc(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="memory_2Malloc_8h_source.html#l00227">Malloc.h:227</a></div></div>
<div class="ttc" id="namespacefolly_1_1fbstring__detail_html_ade532f4f567e24bdf32a74dc831d54ed"><div class="ttname"><a href="namespacefolly_1_1fbstring__detail.html#ade532f4f567e24bdf32a74dc831d54ed">folly::fbstring_detail::podCopy</a></div><div class="ttdeci">void podCopy(const Pod *b, const Pod *e, Pod *d)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00174">FBString.h:174</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_aeb843e4bfd2d9ea5e4a5b6397da8984f"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">folly::fbstring_core::MediumLarge::data_</a></div><div class="ttdeci">Char * data_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00633">FBString.h:633</a></div></div>
<div class="ttc" id="namespacefolly_1_1detail_html_a2dccd19efd4e58589c88f81f62bbf32e"><div class="ttname"><a href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">folly::detail::rhs</a></div><div class="ttdeci">FOLLY_PUSH_WARNING RHS rhs</div><div class="ttdef"><b>Definition:</b> <a href="Traits_8h_source.html#l00649">Traits.h:649</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a95a6532d4d39363b65ee77118979ff36"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">folly::fbstring_core::category</a></div><div class="ttdeci">Category category() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00627">FBString.h:627</a></div></div>
<div class="ttc" id="FBString_8h_html_aa4412e1e8f8ff016602abd861361fb82"><div class="ttname"><a href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a></div><div class="ttdeci">#define FBSTRING_ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00064">FBString.h:64</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_a03851a67d10777d657c37c00fa451553"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a03851a67d10777d657c37c00fa451553">folly::fbstring_core::MediumLarge::setCapacity</a></div><div class="ttdeci">void setCapacity(size_t cap, Category cat)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00641">FBString.h:641</a></div></div>
<div class="ttc" id="namespacetesting_1_1gmock__generated__actions__test_html_aa07e216a4c9d492fb7e7c8fde949bc8f"><div class="ttname"><a href="namespacetesting_1_1gmock__generated__actions__test.html#aa07e216a4c9d492fb7e7c8fde949bc8f">testing::gmock_generated_actions_test::Char</a></div><div class="ttdeci">char Char(char ch)</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock-generated-actions__test_8cc_source.html#l00068">gmock-generated-actions_test.cc:68</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_af711e027a83a1d327a19bf16d583246f"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">folly::fbstring_core::ml_</a></div><div class="ttdeci">MediumLarge ml_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00651">FBString.h:651</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a7c32682405379cd3afd5e66f7f202fe3ae62e069a2dab30eaec7ea1d2a3397e49"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ae62e069a2dab30eaec7ea1d2a3397e49">folly::fbstring_core::Category::isMedium</a></div></div>
<div class="ttc" id="namespacefolly_html_ae17bba935a07151ca130bd72f2733719"><div class="ttname"><a href="namespacefolly.html#ae17bba935a07151ca130bd72f2733719">folly::goodMallocSize</a></div><div class="ttdeci">size_t goodMallocSize(size_t minSize) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="memory_2Malloc_8h_source.html#l00201">Malloc.h:201</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5942821e2d3de69de74be1a412930d2b"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::copySmall </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfolly_1_1fbstring__core.html">fbstring_core</a>&lt; Char &gt; &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00707">707</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>

<p>References <a class="el" href="FileUtilTest_8cpp_source.html#l00066">data_</a>, <a class="el" href="FBString_8h_source.html#l00064">FBSTRING_ASSERT</a>, <a class="el" href="FBString_8h_source.html#l00651">folly::fbstring_core&lt; Char &gt;::ml_</a>, <a class="el" href="Access_8h_source.html#l00045">folly::size()</a>, and <a class="el" href="FBString_8h_source.html#l00493">folly::fbstring_core&lt; Char &gt;::size()</a>.</p>
<div class="fragment"><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                                                                   {</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  static_assert(offsetof(MediumLarge, <a class="code" href="FileUtilTest_8cpp.html#a9d7ee94e12e7f208fb8f1ba36142a00c">data_</a>) == 0, <span class="stringliteral">&quot;fbstring layout failure&quot;</span>);</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  static_assert(</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;      offsetof(MediumLarge, size_) == <span class="keyword">sizeof</span>(<a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">data_</a>),</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;      <span class="stringliteral">&quot;fbstring layout failure&quot;</span>);</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;  static_assert(</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;      offsetof(MediumLarge, capacity_) == 2 * <span class="keyword">sizeof</span>(<a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">data_</a>),</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;      <span class="stringliteral">&quot;fbstring layout failure&quot;</span>);</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  <span class="comment">// Just write the whole thing, don&#39;t look at details. In</span></div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  <span class="comment">// particular we need to copy capacity anyway because we want</span></div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  <span class="comment">// to set the size (don&#39;t forget that the last character,</span></div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <span class="comment">// which stores a short string&#39;s length, is shared with the</span></div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  <span class="comment">// ml_.capacity field).</span></div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a> = <a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>.ml_;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  <a class="code" href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a>(</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;      <a class="code" href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">category</a>() == <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed">Category::isSmall</a> &amp;&amp; this-&gt;<a class="code" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a>() == <a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>.size());</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;}</div><div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_aeb843e4bfd2d9ea5e4a5b6397da8984f"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">folly::fbstring_core::MediumLarge::data_</a></div><div class="ttdeci">Char * data_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00633">FBString.h:633</a></div></div>
<div class="ttc" id="namespacefolly_1_1detail_html_a2dccd19efd4e58589c88f81f62bbf32e"><div class="ttname"><a href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">folly::detail::rhs</a></div><div class="ttdeci">FOLLY_PUSH_WARNING RHS rhs</div><div class="ttdef"><b>Definition:</b> <a href="Traits_8h_source.html#l00649">Traits.h:649</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a95a6532d4d39363b65ee77118979ff36"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">folly::fbstring_core::category</a></div><div class="ttdeci">Category category() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00627">FBString.h:627</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_abc19ef2941fdf0ceb1c23dabb839f1ef"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">folly::fbstring_core::size</a></div><div class="ttdeci">size_t size() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00493">FBString.h:493</a></div></div>
<div class="ttc" id="FBString_8h_html_aa4412e1e8f8ff016602abd861361fb82"><div class="ttname"><a href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a></div><div class="ttdeci">#define FBSTRING_ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00064">FBString.h:64</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed">folly::fbstring_core::Category::isSmall</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_af711e027a83a1d327a19bf16d583246f"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">folly::fbstring_core::ml_</a></div><div class="ttdeci">MediumLarge ml_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00651">FBString.h:651</a></div></div>
<div class="ttc" id="FileUtilTest_8cpp_html_a9d7ee94e12e7f208fb8f1ba36142a00c"><div class="ttname"><a href="FileUtilTest_8cpp.html#a9d7ee94e12e7f208fb8f1ba36142a00c">data_</a></div><div class="ttdeci">StringPiece data_</div><div class="ttdef"><b>Definition:</b> <a href="FileUtilTest_8cpp_source.html#l00066">FileUtilTest.cpp:66</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac321adac2dc94d4401013ccb56f286ab"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const Char* <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::data </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00432">432</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>

<p>Referenced by <a class="el" href="FBString_8h_source.html#l00345">folly::fbstring_core&lt; char &gt;::fbstring_core()</a>.</p>
<div class="fragment"><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                           {</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1fbstring__core.html#a29012431eb67f7eb678a6a29d404c64c">c_str</a>();</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  }</div><div class="ttc" id="classfolly_1_1fbstring__core_html_a29012431eb67f7eb678a6a29d404c64c"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a29012431eb67f7eb678a6a29d404c64c">folly::fbstring_core::c_str</a></div><div class="ttdeci">const Char * c_str() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00448">FBString.h:448</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a80cd4b2d03911bad6c86e795bb1891c5"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="memory_2Malloc_8h.html#ab094a748be0f1f723df51a925ba4b3ce">FOLLY_MALLOC_NOINLINE</a> void <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::destroyMediumLarge </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00539">539</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                                                           {</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> <a class="code" href="OptionalTest_8cpp.html#adc08ed1554f35803d229aeaf11216b3f">c</a> = <a class="code" href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">category</a>();</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <a class="code" href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a>(<a class="code" href="OptionalTest_8cpp.html#adc08ed1554f35803d229aeaf11216b3f">c</a> != <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed">Category::isSmall</a>);</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="OptionalTest_8cpp.html#adc08ed1554f35803d229aeaf11216b3f">c</a> == <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ae62e069a2dab30eaec7ea1d2a3397e49">Category::isMedium</a>) {</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;      <a class="code" href="namespacebm.html#ad1f2831d164bf5bc0b15eae7b05fcd64">free</a>(<a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">data_</a>);</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;      <a class="code" href="structfolly_1_1fbstring__core_1_1RefCounted.html#ac80370dc301ec565248ee663a7fe8996">RefCounted::decrementRefs</a>(<a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">data_</a>);</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    }</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  }</div><div class="ttc" id="structfolly_1_1fbstring__core_1_1RefCounted_html_ac80370dc301ec565248ee663a7fe8996"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1RefCounted.html#ac80370dc301ec565248ee663a7fe8996">folly::fbstring_core::RefCounted::decrementRefs</a></div><div class="ttdeci">static void decrementRefs(Char *p)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00571">FBString.h:571</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_aeb843e4bfd2d9ea5e4a5b6397da8984f"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">folly::fbstring_core::MediumLarge::data_</a></div><div class="ttdeci">Char * data_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00633">FBString.h:633</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a95a6532d4d39363b65ee77118979ff36"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">folly::fbstring_core::category</a></div><div class="ttdeci">Category category() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00627">FBString.h:627</a></div></div>
<div class="ttc" id="namespacebm_html_ad1f2831d164bf5bc0b15eae7b05fcd64"><div class="ttname"><a href="namespacebm.html#ad1f2831d164bf5bc0b15eae7b05fcd64">bm::free</a></div><div class="ttdeci">void free()</div><div class="ttdef"><b>Definition:</b> <a href="BitVectorCodingTest_8cpp_source.html#l00094">BitVectorCodingTest.cpp:94</a></div></div>
<div class="ttc" id="FBString_8h_html_aa4412e1e8f8ff016602abd861361fb82"><div class="ttname"><a href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a></div><div class="ttdeci">#define FBSTRING_ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00064">FBString.h:64</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed">folly::fbstring_core::Category::isSmall</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_af711e027a83a1d327a19bf16d583246f"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">folly::fbstring_core::ml_</a></div><div class="ttdeci">MediumLarge ml_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00651">FBString.h:651</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a7c32682405379cd3afd5e66f7f202fe3ae62e069a2dab30eaec7ea1d2a3397e49"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ae62e069a2dab30eaec7ea1d2a3397e49">folly::fbstring_core::Category::isMedium</a></div></div>
<div class="ttc" id="OptionalTest_8cpp_html_adc08ed1554f35803d229aeaf11216b3f"><div class="ttname"><a href="OptionalTest_8cpp.html#adc08ed1554f35803d229aeaf11216b3f">c</a></div><div class="ttdeci">char c</div><div class="ttdef"><b>Definition:</b> <a href="OptionalTest_8cpp_source.html#l00053">OptionalTest.cpp:53</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae98c9a44cb60e5f0908a099fe81ecfa6"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Char * <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::expandNoinit </td>
          <td>(</td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>delta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>expGrowth</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>disableSSO</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00943">943</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>

<p>References <a class="el" href="FBString_8h_source.html#l00064">FBSTRING_ASSERT</a>, <a class="el" href="FBString_8h_source.html#l00074">FBSTRING_LIKELY</a>, <a class="el" href="FBString_8h_source.html#l00075">FBSTRING_UNLIKELY</a>, <a class="el" href="LogLevel_8cpp_source.html#l00031">max</a>, <a class="el" href="FBVectorBenchmarks_8cpp_8h_source.html#l00054">reserve()</a>, and <a class="el" href="Access_8h_source.html#l00045">folly::size()</a>.</p>
<div class="fragment"><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;                       {</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  <span class="comment">// Strategy is simple: make room, then change size</span></div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;  <a class="code" href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a>(<a class="code" href="classfolly_1_1fbstring__core.html#a2b7c9000232b5552e99055f87abd27fc">capacity</a>() &gt;= <a class="code" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a>());</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  <span class="keywordtype">size_t</span> sz, newSz;</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">category</a>() == <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed">Category::isSmall</a>) {</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    sz = <a class="code" href="classfolly_1_1fbstring__core.html#a49eb8cd145a892c10d287a1bc6b10183">smallSize</a>();</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    newSz = sz + delta;</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    <span class="keywordflow">if</span> (!disableSSO &amp;&amp; <a class="code" href="FBString_8h.html#ae87d4fc39b5210997a64ae8b7817597a">FBSTRING_LIKELY</a>(newSz &lt;= <a class="code" href="classfolly_1_1fbstring__core.html#a5cd2b5e4b7125cb8f0ae3be13d906267">maxSmallSize</a>)) {</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;      <a class="code" href="classfolly_1_1fbstring__core.html#af7664e6182f2e08d981ea55913d175c9">setSmallSize</a>(newSz);</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1fbstring__core.html#a640e92b24c01008884625cdde2ef7d7c">small_</a> + sz;</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    }</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <a class="code" href="classfolly_1_1fbstring__core.html#aa800ecd37fe6ed63a0f8b9f406584c95">reserveSmall</a>(</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;        expGrowth ? <a class="code" href="LogLevel_8cpp.html#a15c8b90f03cae068a6979f32590642e2">std::max</a>(newSz, 2 * <a class="code" href="classfolly_1_1fbstring__core.html#a5cd2b5e4b7125cb8f0ae3be13d906267">maxSmallSize</a>) : newSz, disableSSO);</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    sz = <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a2b827ce474795f04a08a7b1b54119d49">size_</a>;</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    newSz = sz + delta;</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="FBString_8h.html#a561b604ef6738505ef81968e9303d970">FBSTRING_UNLIKELY</a>(newSz &gt; <a class="code" href="classfolly_1_1fbstring__core.html#a2b7c9000232b5552e99055f87abd27fc">capacity</a>())) {</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;      <span class="comment">// ensures not shared</span></div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;      <a class="code" href="classfolly_1_1fbstring__core.html#a40c6f870fe6b505caaa6c685b21dcb0f">reserve</a>(expGrowth ? <a class="code" href="LogLevel_8cpp.html#a15c8b90f03cae068a6979f32590642e2">std::max</a>(newSz, 1 + <a class="code" href="classfolly_1_1fbstring__core.html#a2b7c9000232b5552e99055f87abd27fc">capacity</a>() * 3 / 2) : newSz);</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    }</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  }</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;  <a class="code" href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a>(<a class="code" href="classfolly_1_1fbstring__core.html#a2b7c9000232b5552e99055f87abd27fc">capacity</a>() &gt;= newSz);</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  <span class="comment">// Category can&#39;t be small - we took care of that above</span></div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  <a class="code" href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a>(</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;      <a class="code" href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">category</a>() == <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ae62e069a2dab30eaec7ea1d2a3397e49">Category::isMedium</a> || <a class="code" href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">category</a>() == <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0">Category::isLarge</a>);</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;  <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a2b827ce474795f04a08a7b1b54119d49">size_</a> = newSz;</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">data_</a>[newSz] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  <a class="code" href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a>(<a class="code" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a>() == newSz);</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">data_</a> + sz;</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;}</div><div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_a2b827ce474795f04a08a7b1b54119d49"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a2b827ce474795f04a08a7b1b54119d49">folly::fbstring_core::MediumLarge::size_</a></div><div class="ttdeci">size_t size_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00634">FBString.h:634</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_aa800ecd37fe6ed63a0f8b9f406584c95"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#aa800ecd37fe6ed63a0f8b9f406584c95">folly::fbstring_core::reserveSmall</a></div><div class="ttdeci">void reserveSmall(size_t minCapacity, bool disableSSO)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00910">FBString.h:910</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a49eb8cd145a892c10d287a1bc6b10183"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a49eb8cd145a892c10d287a1bc6b10183">folly::fbstring_core::smallSize</a></div><div class="ttdeci">size_t smallSize() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00667">FBString.h:667</a></div></div>
<div class="ttc" id="LogLevel_8cpp_html_a15c8b90f03cae068a6979f32590642e2"><div class="ttname"><a href="LogLevel_8cpp.html#a15c8b90f03cae068a6979f32590642e2">max</a></div><div class="ttdeci">LogLevel max</div><div class="ttdef"><b>Definition:</b> <a href="LogLevel_8cpp_source.html#l00031">LogLevel.cpp:31</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_aeb843e4bfd2d9ea5e4a5b6397da8984f"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">folly::fbstring_core::MediumLarge::data_</a></div><div class="ttdeci">Char * data_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00633">FBString.h:633</a></div></div>
<div class="ttc" id="FBString_8h_html_a561b604ef6738505ef81968e9303d970"><div class="ttname"><a href="FBString_8h.html#a561b604ef6738505ef81968e9303d970">FBSTRING_UNLIKELY</a></div><div class="ttdeci">#define FBSTRING_UNLIKELY(x)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00075">FBString.h:75</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a5cd2b5e4b7125cb8f0ae3be13d906267"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a5cd2b5e4b7125cb8f0ae3be13d906267">folly::fbstring_core::maxSmallSize</a></div><div class="ttdeci">static constexpr size_t maxSmallSize</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00655">FBString.h:655</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_af7664e6182f2e08d981ea55913d175c9"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#af7664e6182f2e08d981ea55913d175c9">folly::fbstring_core::setSmallSize</a></div><div class="ttdeci">void setSmallSize(size_t s)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00675">FBString.h:675</a></div></div>
<div class="ttc" id="FBString_8h_html_ae87d4fc39b5210997a64ae8b7817597a"><div class="ttname"><a href="FBString_8h.html#ae87d4fc39b5210997a64ae8b7817597a">FBSTRING_LIKELY</a></div><div class="ttdeci">#define FBSTRING_LIKELY(x)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00074">FBString.h:74</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a95a6532d4d39363b65ee77118979ff36"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">folly::fbstring_core::category</a></div><div class="ttdeci">Category category() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00627">FBString.h:627</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_abc19ef2941fdf0ceb1c23dabb839f1ef"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">folly::fbstring_core::size</a></div><div class="ttdeci">size_t size() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00493">FBString.h:493</a></div></div>
<div class="ttc" id="FBString_8h_html_aa4412e1e8f8ff016602abd861361fb82"><div class="ttname"><a href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a></div><div class="ttdeci">#define FBSTRING_ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00064">FBString.h:64</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a2b7c9000232b5552e99055f87abd27fc"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a2b7c9000232b5552e99055f87abd27fc">folly::fbstring_core::capacity</a></div><div class="ttdeci">size_t capacity() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00509">FBString.h:509</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed">folly::fbstring_core::Category::isSmall</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_af711e027a83a1d327a19bf16d583246f"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">folly::fbstring_core::ml_</a></div><div class="ttdeci">MediumLarge ml_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00651">FBString.h:651</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a7c32682405379cd3afd5e66f7f202fe3ae62e069a2dab30eaec7ea1d2a3397e49"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ae62e069a2dab30eaec7ea1d2a3397e49">folly::fbstring_core::Category::isMedium</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a640e92b24c01008884625cdde2ef7d7c"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a640e92b24c01008884625cdde2ef7d7c">folly::fbstring_core::small_</a></div><div class="ttdeci">Char small_[sizeof(MediumLarge)/sizeof(Char)]</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00650">FBString.h:650</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a40c6f870fe6b505caaa6c685b21dcb0f"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a40c6f870fe6b505caaa6c685b21dcb0f">folly::fbstring_core::reserve</a></div><div class="ttdeci">FOLLY_MALLOC_NOINLINE void reserve(size_t minCapacity, bool disableSSO=false)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00467">FBString.h:467</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0">folly::fbstring_core::Category::isLarge</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3155b209c7962522728b04fbc5300ef9"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="memory_2Malloc_8h.html#ab094a748be0f1f723df51a925ba4b3ce">FOLLY_MALLOC_NOINLINE</a> void <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::initLarge </td>
          <td>(</td>
          <td class="paramtype">const Char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00814">814</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>

<p>References <a class="el" href="Access_8h_source.html#l00045">folly::size()</a>.</p>
<div class="fragment"><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                       {</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  <span class="comment">// Large strings are allocated differently</span></div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  <span class="keywordtype">size_t</span> effectiveCapacity = <a class="code" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a>;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span> newRC = <a class="code" href="structfolly_1_1fbstring__core_1_1RefCounted.html#a42ee2095316eafd98ebb279014bb1e73">RefCounted::create</a>(<a class="code" href="classfolly_1_1fbstring__core.html#ac321adac2dc94d4401013ccb56f286ab">data</a>, &amp;effectiveCapacity);</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">data_</a> = newRC-&gt;data_;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a2b827ce474795f04a08a7b1b54119d49">size_</a> = <a class="code" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a>;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a03851a67d10777d657c37c00fa451553">setCapacity</a>(effectiveCapacity, <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0">Category::isLarge</a>);</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">data_</a>[<a class="code" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a>] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;}</div><div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_a2b827ce474795f04a08a7b1b54119d49"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a2b827ce474795f04a08a7b1b54119d49">folly::fbstring_core::MediumLarge::size_</a></div><div class="ttdeci">size_t size_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00634">FBString.h:634</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_aeb843e4bfd2d9ea5e4a5b6397da8984f"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">folly::fbstring_core::MediumLarge::data_</a></div><div class="ttdeci">Char * data_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00633">FBString.h:633</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_ac321adac2dc94d4401013ccb56f286ab"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#ac321adac2dc94d4401013ccb56f286ab">folly::fbstring_core::data</a></div><div class="ttdeci">const Char * data() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00432">FBString.h:432</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1RefCounted_html_a42ee2095316eafd98ebb279014bb1e73"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1RefCounted.html#a42ee2095316eafd98ebb279014bb1e73">folly::fbstring_core::RefCounted::create</a></div><div class="ttdeci">static RefCounted * create(size_t *size)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00580">FBString.h:580</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_abc19ef2941fdf0ceb1c23dabb839f1ef"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">folly::fbstring_core::size</a></div><div class="ttdeci">size_t size() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00493">FBString.h:493</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_a03851a67d10777d657c37c00fa451553"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a03851a67d10777d657c37c00fa451553">folly::fbstring_core::MediumLarge::setCapacity</a></div><div class="ttdeci">void setCapacity(size_t cap, Category cat)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00641">FBString.h:641</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_af711e027a83a1d327a19bf16d583246f"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">folly::fbstring_core::ml_</a></div><div class="ttdeci">MediumLarge ml_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00651">FBString.h:651</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0">folly::fbstring_core::Category::isLarge</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac6686f631723fae200d02e58a5dc2d8d"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="memory_2Malloc_8h.html#ab094a748be0f1f723df51a925ba4b3ce">FOLLY_MALLOC_NOINLINE</a> void <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::initMedium </td>
          <td>(</td>
          <td class="paramtype">const Char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00798">798</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>

<p>References <a class="el" href="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock-generated-actions__test_8cc_source.html#l00068">testing::gmock_generated_actions_test::Char()</a>, <a class="el" href="memory_2Malloc_8h_source.html#l00227">folly::checkedMalloc()</a>, <a class="el" href="FBString_8h_source.html#l00074">FBSTRING_LIKELY</a>, <a class="el" href="memory_2Malloc_8h_source.html#l00201">folly::goodMallocSize()</a>, <a class="el" href="FBString_8h_source.html#l00174">folly::fbstring_detail::podCopy()</a>, and <a class="el" href="Access_8h_source.html#l00045">folly::size()</a>.</p>
<div class="fragment"><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                       {</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  <span class="comment">// Medium strings are allocated normally. Don&#39;t forget to</span></div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  <span class="comment">// allocate one extra Char for the terminating null.</span></div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span> allocSize = <a class="code" href="namespacefolly.html#ae17bba935a07151ca130bd72f2733719">goodMallocSize</a>((1 + <a class="code" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a>) * <span class="keyword">sizeof</span>(<a class="code" href="namespacetesting_1_1gmock__generated__actions__test.html#aa07e216a4c9d492fb7e7c8fde949bc8f">Char</a>));</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;  <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">data_</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacetesting_1_1gmock__generated__actions__test.html#aa07e216a4c9d492fb7e7c8fde949bc8f">Char</a>*<span class="keyword">&gt;</span>(<a class="code" href="namespacefolly.html#ac8ace750150dff84e5a2a8cda65a9973">checkedMalloc</a>(allocSize));</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="FBString_8h.html#ae87d4fc39b5210997a64ae8b7817597a">FBSTRING_LIKELY</a>(<a class="code" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a> &gt; 0)) {</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <a class="code" href="namespacefolly_1_1fbstring__detail.html#ade532f4f567e24bdf32a74dc831d54ed">fbstring_detail::podCopy</a>(<a class="code" href="classfolly_1_1fbstring__core.html#ac321adac2dc94d4401013ccb56f286ab">data</a>, <a class="code" href="classfolly_1_1fbstring__core.html#ac321adac2dc94d4401013ccb56f286ab">data</a> + <a class="code" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a>, <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">data_</a>);</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  }</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a2b827ce474795f04a08a7b1b54119d49">size_</a> = <a class="code" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a>;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;  <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a03851a67d10777d657c37c00fa451553">setCapacity</a>(allocSize / <span class="keyword">sizeof</span>(<a class="code" href="namespacetesting_1_1gmock__generated__actions__test.html#aa07e216a4c9d492fb7e7c8fde949bc8f">Char</a>) - 1, <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ae62e069a2dab30eaec7ea1d2a3397e49">Category::isMedium</a>);</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">data_</a>[<a class="code" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a>] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;}</div><div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_a2b827ce474795f04a08a7b1b54119d49"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a2b827ce474795f04a08a7b1b54119d49">folly::fbstring_core::MediumLarge::size_</a></div><div class="ttdeci">size_t size_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00634">FBString.h:634</a></div></div>
<div class="ttc" id="namespacefolly_html_ac8ace750150dff84e5a2a8cda65a9973"><div class="ttname"><a href="namespacefolly.html#ac8ace750150dff84e5a2a8cda65a9973">folly::checkedMalloc</a></div><div class="ttdeci">void * checkedMalloc(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="memory_2Malloc_8h_source.html#l00227">Malloc.h:227</a></div></div>
<div class="ttc" id="namespacefolly_1_1fbstring__detail_html_ade532f4f567e24bdf32a74dc831d54ed"><div class="ttname"><a href="namespacefolly_1_1fbstring__detail.html#ade532f4f567e24bdf32a74dc831d54ed">folly::fbstring_detail::podCopy</a></div><div class="ttdeci">void podCopy(const Pod *b, const Pod *e, Pod *d)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00174">FBString.h:174</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_aeb843e4bfd2d9ea5e4a5b6397da8984f"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">folly::fbstring_core::MediumLarge::data_</a></div><div class="ttdeci">Char * data_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00633">FBString.h:633</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_ac321adac2dc94d4401013ccb56f286ab"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#ac321adac2dc94d4401013ccb56f286ab">folly::fbstring_core::data</a></div><div class="ttdeci">const Char * data() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00432">FBString.h:432</a></div></div>
<div class="ttc" id="FBString_8h_html_ae87d4fc39b5210997a64ae8b7817597a"><div class="ttname"><a href="FBString_8h.html#ae87d4fc39b5210997a64ae8b7817597a">FBSTRING_LIKELY</a></div><div class="ttdeci">#define FBSTRING_LIKELY(x)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00074">FBString.h:74</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_abc19ef2941fdf0ceb1c23dabb839f1ef"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">folly::fbstring_core::size</a></div><div class="ttdeci">size_t size() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00493">FBString.h:493</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_a03851a67d10777d657c37c00fa451553"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a03851a67d10777d657c37c00fa451553">folly::fbstring_core::MediumLarge::setCapacity</a></div><div class="ttdeci">void setCapacity(size_t cap, Category cat)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00641">FBString.h:641</a></div></div>
<div class="ttc" id="namespacetesting_1_1gmock__generated__actions__test_html_aa07e216a4c9d492fb7e7c8fde949bc8f"><div class="ttname"><a href="namespacetesting_1_1gmock__generated__actions__test.html#aa07e216a4c9d492fb7e7c8fde949bc8f">testing::gmock_generated_actions_test::Char</a></div><div class="ttdeci">char Char(char ch)</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock-generated-actions__test_8cc_source.html#l00068">gmock-generated-actions_test.cc:68</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_af711e027a83a1d327a19bf16d583246f"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">folly::fbstring_core::ml_</a></div><div class="ttdeci">MediumLarge ml_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00651">FBString.h:651</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a7c32682405379cd3afd5e66f7f202fe3ae62e069a2dab30eaec7ea1d2a3397e49"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ae62e069a2dab30eaec7ea1d2a3397e49">folly::fbstring_core::Category::isMedium</a></div></div>
<div class="ttc" id="namespacefolly_html_ae17bba935a07151ca130bd72f2733719"><div class="ttname"><a href="namespacefolly.html#ae17bba935a07151ca130bd72f2733719">folly::goodMallocSize</a></div><div class="ttdeci">size_t goodMallocSize(size_t minSize) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="memory_2Malloc_8h_source.html#l00201">Malloc.h:201</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0549be4f0952253af59bb3dc323aaba6"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::initSmall </td>
          <td>(</td>
          <td class="paramtype">const Char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00751">751</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>

<p>References <a class="el" href="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock-generated-actions__test_8cc_source.html#l00068">testing::gmock_generated_actions_test::Char()</a>, <a class="el" href="Fingerprint_8cpp_source.html#l00043">data</a>, <a class="el" href="CppAttributes_8h_source.html#l00063">FOLLY_FALLTHROUGH</a>, and <a class="el" href="FBString_8h_source.html#l00174">folly::fbstring_detail::podCopy()</a>.</p>
<div class="fragment"><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;                       {</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  <span class="comment">// Layout is: Char* data_, size_t size_, size_t capacity_</span></div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  static_assert(</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;      <span class="keyword">sizeof</span>(*<span class="keyword">this</span>) == <span class="keyword">sizeof</span>(<a class="code" href="namespacetesting_1_1gmock__generated__actions__test.html#aa07e216a4c9d492fb7e7c8fde949bc8f">Char</a>*) + 2 * <span class="keyword">sizeof</span>(<span class="keywordtype">size_t</span>),</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;      <span class="stringliteral">&quot;fbstring has unexpected size&quot;</span>);</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  static_assert(</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;      <span class="keyword">sizeof</span>(<a class="code" href="namespacetesting_1_1gmock__generated__actions__test.html#aa07e216a4c9d492fb7e7c8fde949bc8f">Char</a>*) == <span class="keyword">sizeof</span>(<span class="keywordtype">size_t</span>), <span class="stringliteral">&quot;fbstring size assumption violation&quot;</span>);</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  <span class="comment">// sizeof(size_t) must be a power of 2</span></div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  static_assert(</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      (<span class="keyword">sizeof</span>(<span class="keywordtype">size_t</span>) &amp; (<span class="keyword">sizeof</span>(<span class="keywordtype">size_t</span>) - 1)) == 0,</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;      <span class="stringliteral">&quot;fbstring size assumption violation&quot;</span>);</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;<span class="comment">// If data is aligned, use fast word-wise copying. Otherwise,</span></div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;<span class="comment">// use conservative memcpy.</span></div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="comment">// The word-wise path reads bytes which are outside the range of</span></div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<span class="comment">// the string, and makes ASan unhappy, so we disable it when</span></div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;<span class="comment">// compiling with ASan.</span></div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;<span class="preprocessor">#ifndef FBSTRING_SANITIZE_ADDRESS</span></div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  <span class="keywordflow">if</span> ((reinterpret_cast&lt;size_t&gt;(<a class="code" href="classfolly_1_1fbstring__core.html#ac321adac2dc94d4401013ccb56f286ab">data</a>) &amp; (<span class="keyword">sizeof</span>(<span class="keywordtype">size_t</span>) - 1)) == 0) {</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">size_t</span> byteSize = <a class="code" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a> * <span class="keyword">sizeof</span>(<a class="code" href="namespacetesting_1_1gmock__generated__actions__test.html#aa07e216a4c9d492fb7e7c8fde949bc8f">Char</a>);</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    constexpr <span class="keywordtype">size_t</span> wordWidth = <span class="keyword">sizeof</span>(size_t);</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <span class="keywordflow">switch</span> ((byteSize + wordWidth - 1) / wordWidth) { <span class="comment">// Number of words.</span></div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;      <span class="keywordflow">case</span> 3:</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#af4e09c936b75853c56f084c7ce3103d0">capacity_</a> = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">size_t</span>*<span class="keyword">&gt;</span>(<a class="code" href="classfolly_1_1fbstring__core.html#ac321adac2dc94d4401013ccb56f286ab">data</a>)[2];</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        <a class="code" href="CppAttributes_8h.html#a448938039076b495f2226676204853a8">FOLLY_FALLTHROUGH</a>;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;      <span class="keywordflow">case</span> 2:</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a2b827ce474795f04a08a7b1b54119d49">size_</a> = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">size_t</span>*<span class="keyword">&gt;</span>(<a class="code" href="classfolly_1_1fbstring__core.html#ac321adac2dc94d4401013ccb56f286ab">data</a>)[1];</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        <a class="code" href="CppAttributes_8h.html#a448938039076b495f2226676204853a8">FOLLY_FALLTHROUGH</a>;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;      <span class="keywordflow">case</span> 1:</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">data_</a> = *<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespacetesting_1_1gmock__generated__actions__test.html#aa07e216a4c9d492fb7e7c8fde949bc8f">Char</a>**<span class="keyword">&gt;</span>(<span class="keyword">const_cast&lt;</span><a class="code" href="namespacetesting_1_1gmock__generated__actions__test.html#aa07e216a4c9d492fb7e7c8fde949bc8f">Char</a>*<span class="keyword">&gt;</span>(<a class="code" href="classfolly_1_1fbstring__core.html#ac321adac2dc94d4401013ccb56f286ab">data</a>));</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        <a class="code" href="CppAttributes_8h.html#a448938039076b495f2226676204853a8">FOLLY_FALLTHROUGH</a>;</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;      <span class="keywordflow">case</span> 0:</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    }</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  } <span class="keywordflow">else</span></div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  {</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a> != 0) {</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      <a class="code" href="namespacefolly_1_1fbstring__detail.html#ade532f4f567e24bdf32a74dc831d54ed">fbstring_detail::podCopy</a>(<a class="code" href="classfolly_1_1fbstring__core.html#ac321adac2dc94d4401013ccb56f286ab">data</a>, <a class="code" href="classfolly_1_1fbstring__core.html#ac321adac2dc94d4401013ccb56f286ab">data</a> + <a class="code" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a>, <a class="code" href="classfolly_1_1fbstring__core.html#a640e92b24c01008884625cdde2ef7d7c">small_</a>);</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    }</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  }</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  <a class="code" href="classfolly_1_1fbstring__core.html#af7664e6182f2e08d981ea55913d175c9">setSmallSize</a>(<a class="code" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a>);</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;}</div><div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_a2b827ce474795f04a08a7b1b54119d49"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a2b827ce474795f04a08a7b1b54119d49">folly::fbstring_core::MediumLarge::size_</a></div><div class="ttdeci">size_t size_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00634">FBString.h:634</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_af4e09c936b75853c56f084c7ce3103d0"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#af4e09c936b75853c56f084c7ce3103d0">folly::fbstring_core::MediumLarge::capacity_</a></div><div class="ttdeci">size_t capacity_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00635">FBString.h:635</a></div></div>
<div class="ttc" id="namespacefolly_1_1fbstring__detail_html_ade532f4f567e24bdf32a74dc831d54ed"><div class="ttname"><a href="namespacefolly_1_1fbstring__detail.html#ade532f4f567e24bdf32a74dc831d54ed">folly::fbstring_detail::podCopy</a></div><div class="ttdeci">void podCopy(const Pod *b, const Pod *e, Pod *d)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00174">FBString.h:174</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_aeb843e4bfd2d9ea5e4a5b6397da8984f"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">folly::fbstring_core::MediumLarge::data_</a></div><div class="ttdeci">Char * data_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00633">FBString.h:633</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_ac321adac2dc94d4401013ccb56f286ab"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#ac321adac2dc94d4401013ccb56f286ab">folly::fbstring_core::data</a></div><div class="ttdeci">const Char * data() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00432">FBString.h:432</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_af7664e6182f2e08d981ea55913d175c9"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#af7664e6182f2e08d981ea55913d175c9">folly::fbstring_core::setSmallSize</a></div><div class="ttdeci">void setSmallSize(size_t s)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00675">FBString.h:675</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_abc19ef2941fdf0ceb1c23dabb839f1ef"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">folly::fbstring_core::size</a></div><div class="ttdeci">size_t size() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00493">FBString.h:493</a></div></div>
<div class="ttc" id="namespacetesting_1_1gmock__generated__actions__test_html_aa07e216a4c9d492fb7e7c8fde949bc8f"><div class="ttname"><a href="namespacetesting_1_1gmock__generated__actions__test.html#aa07e216a4c9d492fb7e7c8fde949bc8f">testing::gmock_generated_actions_test::Char</a></div><div class="ttdeci">char Char(char ch)</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock-generated-actions__test_8cc_source.html#l00068">gmock-generated-actions_test.cc:68</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_af711e027a83a1d327a19bf16d583246f"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">folly::fbstring_core::ml_</a></div><div class="ttdeci">MediumLarge ml_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00651">FBString.h:651</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a640e92b24c01008884625cdde2ef7d7c"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a640e92b24c01008884625cdde2ef7d7c">folly::fbstring_core::small_</a></div><div class="ttdeci">Char small_[sizeof(MediumLarge)/sizeof(Char)]</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00650">FBString.h:650</a></div></div>
<div class="ttc" id="CppAttributes_8h_html_a448938039076b495f2226676204853a8"><div class="ttname"><a href="CppAttributes_8h.html#a448938039076b495f2226676204853a8">FOLLY_FALLTHROUGH</a></div><div class="ttdeci">#define FOLLY_FALLTHROUGH</div><div class="ttdef"><b>Definition:</b> <a href="CppAttributes_8h_source.html#l00063">CppAttributes.h:63</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af06ec791a4ec417167f5c1cbdeb680d6"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::isShared </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00527">527</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                        {</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">category</a>() == <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0">Category::isLarge</a> &amp;&amp; <a class="code" href="structfolly_1_1fbstring__core_1_1RefCounted.html#a46d0d43217a4cb91790ec3b56b224e3c">RefCounted::refs</a>(<a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">data_</a>) &gt; 1;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  }</div><div class="ttc" id="structfolly_1_1fbstring__core_1_1RefCounted_html_a46d0d43217a4cb91790ec3b56b224e3c"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1RefCounted.html#a46d0d43217a4cb91790ec3b56b224e3c">folly::fbstring_core::RefCounted::refs</a></div><div class="ttdeci">static size_t refs(Char *p)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00563">FBString.h:563</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_aeb843e4bfd2d9ea5e4a5b6397da8984f"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">folly::fbstring_core::MediumLarge::data_</a></div><div class="ttdeci">Char * data_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00633">FBString.h:633</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a95a6532d4d39363b65ee77118979ff36"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">folly::fbstring_core::category</a></div><div class="ttdeci">Category category() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00627">FBString.h:627</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_af711e027a83a1d327a19bf16d583246f"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">folly::fbstring_core::ml_</a></div><div class="ttdeci">MediumLarge ml_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00651">FBString.h:651</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0">folly::fbstring_core::Category::isLarge</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa6076cf12a9c86e00769df794f059562"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Char* <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::mutableData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00436">436</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                      {</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">category</a>()) {</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed">Category::isSmall</a>:</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1fbstring__core.html#a640e92b24c01008884625cdde2ef7d7c">small_</a>;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ae62e069a2dab30eaec7ea1d2a3397e49">Category::isMedium</a>:</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">data_</a>;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0">Category::isLarge</a>:</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1fbstring__core.html#aa443cf6916f721dc6b89f923b548ac22">mutableDataLarge</a>();</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    }</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <a class="code" href="namespacefolly_1_1fbstring__detail.html#a89a9ffc22d83e87bde4438713fdba78e">fbstring_detail::assume_unreachable</a>();</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  }</div><div class="ttc" id="classfolly_1_1fbstring__core_html_aa443cf6916f721dc6b89f923b548ac22"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#aa443cf6916f721dc6b89f923b548ac22">folly::fbstring_core::mutableDataLarge</a></div><div class="ttdeci">Char * mutableDataLarge()</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00844">FBString.h:844</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_aeb843e4bfd2d9ea5e4a5b6397da8984f"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">folly::fbstring_core::MediumLarge::data_</a></div><div class="ttdeci">Char * data_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00633">FBString.h:633</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a95a6532d4d39363b65ee77118979ff36"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">folly::fbstring_core::category</a></div><div class="ttdeci">Category category() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00627">FBString.h:627</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed">folly::fbstring_core::Category::isSmall</a></div></div>
<div class="ttc" id="namespacefolly_1_1fbstring__detail_html_a89a9ffc22d83e87bde4438713fdba78e"><div class="ttname"><a href="namespacefolly_1_1fbstring__detail.html#a89a9ffc22d83e87bde4438713fdba78e">folly::fbstring_detail::assume_unreachable</a></div><div class="ttdeci">void assume_unreachable()</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00202">FBString.h:202</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_af711e027a83a1d327a19bf16d583246f"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">folly::fbstring_core::ml_</a></div><div class="ttdeci">MediumLarge ml_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00651">FBString.h:651</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a7c32682405379cd3afd5e66f7f202fe3ae62e069a2dab30eaec7ea1d2a3397e49"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ae62e069a2dab30eaec7ea1d2a3397e49">folly::fbstring_core::Category::isMedium</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a640e92b24c01008884625cdde2ef7d7c"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a640e92b24c01008884625cdde2ef7d7c">folly::fbstring_core::small_</a></div><div class="ttdeci">Char small_[sizeof(MediumLarge)/sizeof(Char)]</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00650">FBString.h:650</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0">folly::fbstring_core::Category::isLarge</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa443cf6916f721dc6b89f923b548ac22"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Char * <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::mutableDataLarge </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00844">844</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>

<p>References <a class="el" href="FBString_8h_source.html#l00064">FBSTRING_ASSERT</a>, and <a class="el" href="JSONSchema_8cpp_source.html#l00104">refs</a>.</p>
<div class="fragment"><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                                                   {</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;  <a class="code" href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a>(<a class="code" href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">category</a>() == <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0">Category::isLarge</a>);</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="structfolly_1_1fbstring__core_1_1RefCounted.html#a46d0d43217a4cb91790ec3b56b224e3c">RefCounted::refs</a>(<a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">data_</a>) &gt; 1) { <span class="comment">// Ensure unique.</span></div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <a class="code" href="classfolly_1_1fbstring__core.html#ab3ec9c6c1f26b525b37dccfe9b7a6a23">unshare</a>();</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  }</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">data_</a>;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;}</div><div class="ttc" id="structfolly_1_1fbstring__core_1_1RefCounted_html_a46d0d43217a4cb91790ec3b56b224e3c"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1RefCounted.html#a46d0d43217a4cb91790ec3b56b224e3c">folly::fbstring_core::RefCounted::refs</a></div><div class="ttdeci">static size_t refs(Char *p)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00563">FBString.h:563</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_ab3ec9c6c1f26b525b37dccfe9b7a6a23"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#ab3ec9c6c1f26b525b37dccfe9b7a6a23">folly::fbstring_core::unshare</a></div><div class="ttdeci">void unshare(size_t minCapacity=0)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00827">FBString.h:827</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_aeb843e4bfd2d9ea5e4a5b6397da8984f"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">folly::fbstring_core::MediumLarge::data_</a></div><div class="ttdeci">Char * data_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00633">FBString.h:633</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a95a6532d4d39363b65ee77118979ff36"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">folly::fbstring_core::category</a></div><div class="ttdeci">Category category() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00627">FBString.h:627</a></div></div>
<div class="ttc" id="FBString_8h_html_aa4412e1e8f8ff016602abd861361fb82"><div class="ttname"><a href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a></div><div class="ttdeci">#define FBSTRING_ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00064">FBString.h:64</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_af711e027a83a1d327a19bf16d583246f"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">folly::fbstring_core::ml_</a></div><div class="ttdeci">MediumLarge ml_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00651">FBString.h:651</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0">folly::fbstring_core::Category::isLarge</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5fe73b4062e6fd2d6f92ae92aff7c400"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1fbstring__core.html">fbstring_core</a>&amp; <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfolly_1_1fbstring__core.html">fbstring_core</a>&lt; Char &gt; &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a180a6e8deb73d1fb21a5f67f8ed2479a"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::push_back </td>
          <td>(</td>
          <td class="paramtype">Char&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00489">489</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                         {</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    *<a class="code" href="classfolly_1_1fbstring__core.html#ae98c9a44cb60e5f0908a099fe81ecfa6">expandNoinit</a>(1, <span class="comment">/* expGrowth = */</span> <span class="keyword">true</span>) = <a class="code" href="OptionalTest_8cpp.html#adc08ed1554f35803d229aeaf11216b3f">c</a>;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  }</div><div class="ttc" id="classfolly_1_1fbstring__core_html_ae98c9a44cb60e5f0908a099fe81ecfa6"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#ae98c9a44cb60e5f0908a099fe81ecfa6">folly::fbstring_core::expandNoinit</a></div><div class="ttdeci">Char * expandNoinit(const size_t delta, bool expGrowth=false, bool disableSSO=false)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00943">FBString.h:943</a></div></div>
<div class="ttc" id="OptionalTest_8cpp_html_adc08ed1554f35803d229aeaf11216b3f"><div class="ttname"><a href="OptionalTest_8cpp.html#adc08ed1554f35803d229aeaf11216b3f">c</a></div><div class="ttdeci">char c</div><div class="ttdef"><b>Definition:</b> <a href="OptionalTest_8cpp_source.html#l00053">OptionalTest.cpp:53</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a40c6f870fe6b505caaa6c685b21dcb0f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="memory_2Malloc_8h.html#ab094a748be0f1f723df51a925ba4b3ce">FOLLY_MALLOC_NOINLINE</a> void <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::reserve </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>minCapacity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>disableSSO</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00467">467</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>

<p>Referenced by <a class="el" href="FBString_8h_source.html#l00877">folly::fbstring_core&lt; Char &gt;::reserveMedium()</a>.</p>
<div class="fragment"><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                                                                           {</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">category</a>()) {</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed">Category::isSmall</a>:</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        <a class="code" href="classfolly_1_1fbstring__core.html#aa800ecd37fe6ed63a0f8b9f406584c95">reserveSmall</a>(minCapacity, disableSSO);</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ae62e069a2dab30eaec7ea1d2a3397e49">Category::isMedium</a>:</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <a class="code" href="classfolly_1_1fbstring__core.html#ad32866937b084ec92a943a39e3f37277">reserveMedium</a>(minCapacity);</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0">Category::isLarge</a>:</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <a class="code" href="classfolly_1_1fbstring__core.html#a6376ea9e63c4d0dc6e1d66509292f94a">reserveLarge</a>(minCapacity);</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <a class="code" href="namespacefolly_1_1fbstring__detail.html#a89a9ffc22d83e87bde4438713fdba78e">fbstring_detail::assume_unreachable</a>();</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    }</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <a class="code" href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a>(<a class="code" href="classfolly_1_1fbstring__core.html#a2b7c9000232b5552e99055f87abd27fc">capacity</a>() &gt;= minCapacity);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  }</div><div class="ttc" id="classfolly_1_1fbstring__core_html_aa800ecd37fe6ed63a0f8b9f406584c95"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#aa800ecd37fe6ed63a0f8b9f406584c95">folly::fbstring_core::reserveSmall</a></div><div class="ttdeci">void reserveSmall(size_t minCapacity, bool disableSSO)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00910">FBString.h:910</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a95a6532d4d39363b65ee77118979ff36"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">folly::fbstring_core::category</a></div><div class="ttdeci">Category category() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00627">FBString.h:627</a></div></div>
<div class="ttc" id="FBString_8h_html_aa4412e1e8f8ff016602abd861361fb82"><div class="ttname"><a href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a></div><div class="ttdeci">#define FBSTRING_ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00064">FBString.h:64</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a2b7c9000232b5552e99055f87abd27fc"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a2b7c9000232b5552e99055f87abd27fc">folly::fbstring_core::capacity</a></div><div class="ttdeci">size_t capacity() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00509">FBString.h:509</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed">folly::fbstring_core::Category::isSmall</a></div></div>
<div class="ttc" id="namespacefolly_1_1fbstring__detail_html_a89a9ffc22d83e87bde4438713fdba78e"><div class="ttname"><a href="namespacefolly_1_1fbstring__detail.html#a89a9ffc22d83e87bde4438713fdba78e">folly::fbstring_detail::assume_unreachable</a></div><div class="ttdeci">void assume_unreachable()</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00202">FBString.h:202</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_ad32866937b084ec92a943a39e3f37277"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#ad32866937b084ec92a943a39e3f37277">folly::fbstring_core::reserveMedium</a></div><div class="ttdeci">void reserveMedium(size_t minCapacity)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00877">FBString.h:877</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a7c32682405379cd3afd5e66f7f202fe3ae62e069a2dab30eaec7ea1d2a3397e49"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ae62e069a2dab30eaec7ea1d2a3397e49">folly::fbstring_core::Category::isMedium</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a6376ea9e63c4d0dc6e1d66509292f94a"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a6376ea9e63c4d0dc6e1d66509292f94a">folly::fbstring_core::reserveLarge</a></div><div class="ttdeci">void reserveLarge(size_t minCapacity)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00853">FBString.h:853</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0">folly::fbstring_core::Category::isLarge</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6376ea9e63c4d0dc6e1d66509292f94a"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="memory_2Malloc_8h.html#ab094a748be0f1f723df51a925ba4b3ce">FOLLY_MALLOC_NOINLINE</a> void <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::reserveLarge </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>minCapacity</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00853">853</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>

<p>References <a class="el" href="FBString_8h_source.html#l00064">FBSTRING_ASSERT</a>, and <a class="el" href="JSONSchema_8cpp_source.html#l00104">refs</a>.</p>
<div class="fragment"><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;                        {</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;  <a class="code" href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a>(<a class="code" href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">category</a>() == <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0">Category::isLarge</a>);</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="structfolly_1_1fbstring__core_1_1RefCounted.html#a46d0d43217a4cb91790ec3b56b224e3c">RefCounted::refs</a>(<a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">data_</a>) &gt; 1) { <span class="comment">// Ensure unique</span></div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <span class="comment">// We must make it unique regardless; in-place reallocation is</span></div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="comment">// useless if the string is shared. In order to not surprise</span></div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    <span class="comment">// people, reserve the new block at current capacity or</span></div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    <span class="comment">// more. That way, a string&#39;s capacity never shrinks after a</span></div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    <span class="comment">// call to reserve.</span></div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <a class="code" href="classfolly_1_1fbstring__core.html#ab3ec9c6c1f26b525b37dccfe9b7a6a23">unshare</a>(minCapacity);</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <span class="comment">// String is not shared, so let&#39;s try to realloc (if needed)</span></div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <span class="keywordflow">if</span> (minCapacity &gt; <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a5920caca4dec6b466da3757883c695a2">capacity</a>()) {</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;      <span class="comment">// Asking for more memory</span></div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;      <span class="keyword">auto</span> <span class="keyword">const</span> newRC = <a class="code" href="structfolly_1_1fbstring__core_1_1RefCounted.html#a7e8327806a9f900b8d0e601f9f7eecab">RefCounted::reallocate</a>(</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;          <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">data_</a>, <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a2b827ce474795f04a08a7b1b54119d49">size_</a>, <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a5920caca4dec6b466da3757883c695a2">capacity</a>(), &amp;minCapacity);</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;      <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">data_</a> = newRC-&gt;data_;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;      <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a03851a67d10777d657c37c00fa451553">setCapacity</a>(minCapacity, <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0">Category::isLarge</a>);</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    }</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <a class="code" href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a>(<a class="code" href="classfolly_1_1fbstring__core.html#a2b7c9000232b5552e99055f87abd27fc">capacity</a>() &gt;= minCapacity);</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;  }</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;}</div><div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_a2b827ce474795f04a08a7b1b54119d49"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a2b827ce474795f04a08a7b1b54119d49">folly::fbstring_core::MediumLarge::size_</a></div><div class="ttdeci">size_t size_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00634">FBString.h:634</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1RefCounted_html_a46d0d43217a4cb91790ec3b56b224e3c"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1RefCounted.html#a46d0d43217a4cb91790ec3b56b224e3c">folly::fbstring_core::RefCounted::refs</a></div><div class="ttdeci">static size_t refs(Char *p)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00563">FBString.h:563</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1RefCounted_html_a7e8327806a9f900b8d0e601f9f7eecab"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1RefCounted.html#a7e8327806a9f900b8d0e601f9f7eecab">folly::fbstring_core::RefCounted::reallocate</a></div><div class="ttdeci">static RefCounted * reallocate(Char *const data, const size_t currentSize, const size_t currentCapacity, size_t *newCapacity)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00598">FBString.h:598</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_ab3ec9c6c1f26b525b37dccfe9b7a6a23"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#ab3ec9c6c1f26b525b37dccfe9b7a6a23">folly::fbstring_core::unshare</a></div><div class="ttdeci">void unshare(size_t minCapacity=0)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00827">FBString.h:827</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_aeb843e4bfd2d9ea5e4a5b6397da8984f"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">folly::fbstring_core::MediumLarge::data_</a></div><div class="ttdeci">Char * data_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00633">FBString.h:633</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_a5920caca4dec6b466da3757883c695a2"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a5920caca4dec6b466da3757883c695a2">folly::fbstring_core::MediumLarge::capacity</a></div><div class="ttdeci">size_t capacity() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00637">FBString.h:637</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a95a6532d4d39363b65ee77118979ff36"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">folly::fbstring_core::category</a></div><div class="ttdeci">Category category() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00627">FBString.h:627</a></div></div>
<div class="ttc" id="FBString_8h_html_aa4412e1e8f8ff016602abd861361fb82"><div class="ttname"><a href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a></div><div class="ttdeci">#define FBSTRING_ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00064">FBString.h:64</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a2b7c9000232b5552e99055f87abd27fc"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a2b7c9000232b5552e99055f87abd27fc">folly::fbstring_core::capacity</a></div><div class="ttdeci">size_t capacity() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00509">FBString.h:509</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_a03851a67d10777d657c37c00fa451553"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a03851a67d10777d657c37c00fa451553">folly::fbstring_core::MediumLarge::setCapacity</a></div><div class="ttdeci">void setCapacity(size_t cap, Category cat)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00641">FBString.h:641</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_af711e027a83a1d327a19bf16d583246f"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">folly::fbstring_core::ml_</a></div><div class="ttdeci">MediumLarge ml_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00651">FBString.h:651</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0">folly::fbstring_core::Category::isLarge</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad32866937b084ec92a943a39e3f37277"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="memory_2Malloc_8h.html#ab094a748be0f1f723df51a925ba4b3ce">FOLLY_MALLOC_NOINLINE</a> void <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::reserveMedium </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>minCapacity</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00877">877</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>

<p>References <a class="el" href="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock-generated-actions__test_8cc_source.html#l00068">testing::gmock_generated_actions_test::Char()</a>, <a class="el" href="FBString_8h_source.html#l00633">folly::fbstring_core&lt; Char &gt;::MediumLarge::data_</a>, <a class="el" href="FBString_8h_source.html#l00064">FBSTRING_ASSERT</a>, <a class="el" href="memory_2Malloc_8h_source.html#l00201">folly::goodMallocSize()</a>, <a class="el" href="FBString_8h_source.html#l00651">folly::fbstring_core&lt; Char &gt;::ml_</a>, <a class="el" href="FBString_8h_source.html#l00174">folly::fbstring_detail::podCopy()</a>, <a class="el" href="FBString_8h_source.html#l00467">folly::fbstring_core&lt; Char &gt;::reserve()</a>, <a class="el" href="FBString_8h_source.html#l00634">folly::fbstring_core&lt; Char &gt;::MediumLarge::size_</a>, <a class="el" href="memory_2Malloc_8h_source.html#l00261">folly::smartRealloc()</a>, and <a class="el" href="FBString_8h_source.html#l00425">folly::fbstring_core&lt; Char &gt;::swap()</a>.</p>
<div class="fragment"><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                              {</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  <a class="code" href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a>(<a class="code" href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">category</a>() == <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ae62e069a2dab30eaec7ea1d2a3397e49">Category::isMedium</a>);</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;  <span class="comment">// String is not shared</span></div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;  <span class="keywordflow">if</span> (minCapacity &lt;= <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a5920caca4dec6b466da3757883c695a2">capacity</a>()) {</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <span class="keywordflow">return</span>; <span class="comment">// nothing to do, there&#39;s enough room</span></div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;  }</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;  <span class="keywordflow">if</span> (minCapacity &lt;= <a class="code" href="classfolly_1_1fbstring__core.html#a58f82df102072863c0a1ec0c0c91e7d4">maxMediumSize</a>) {</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <span class="comment">// Keep the string at medium size. Don&#39;t forget to allocate</span></div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <span class="comment">// one extra Char for the terminating null.</span></div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    <span class="keywordtype">size_t</span> capacityBytes = <a class="code" href="namespacefolly.html#ae17bba935a07151ca130bd72f2733719">goodMallocSize</a>((1 + minCapacity) * <span class="keyword">sizeof</span>(<a class="code" href="namespacetesting_1_1gmock__generated__actions__test.html#aa07e216a4c9d492fb7e7c8fde949bc8f">Char</a>));</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <span class="comment">// Also copies terminator.</span></div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">data_</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacetesting_1_1gmock__generated__actions__test.html#aa07e216a4c9d492fb7e7c8fde949bc8f">Char</a>*<span class="keyword">&gt;</span>(<a class="code" href="namespacefolly.html#aaf79069c09075effd7cbb4c733a82d92">smartRealloc</a>(</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">data_</a>,</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        (<a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a2b827ce474795f04a08a7b1b54119d49">size_</a> + 1) * <span class="keyword">sizeof</span>(<a class="code" href="namespacetesting_1_1gmock__generated__actions__test.html#aa07e216a4c9d492fb7e7c8fde949bc8f">Char</a>),</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        (<a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a5920caca4dec6b466da3757883c695a2">capacity</a>() + 1) * <span class="keyword">sizeof</span>(<a class="code" href="namespacetesting_1_1gmock__generated__actions__test.html#aa07e216a4c9d492fb7e7c8fde949bc8f">Char</a>),</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        capacityBytes));</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a03851a67d10777d657c37c00fa451553">setCapacity</a>(capacityBytes / <span class="keyword">sizeof</span>(<a class="code" href="namespacetesting_1_1gmock__generated__actions__test.html#aa07e216a4c9d492fb7e7c8fde949bc8f">Char</a>) - 1, <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ae62e069a2dab30eaec7ea1d2a3397e49">Category::isMedium</a>);</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <span class="comment">// Conversion from medium to large string</span></div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <a class="code" href="classfolly_1_1fbstring__core.html#afc9c1a634fe5a6abb0eecde7b6fc4031">fbstring_core</a> nascent;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <span class="comment">// Will recurse to another branch of this function</span></div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    nascent.reserve(minCapacity);</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    nascent.ml_.size_ = <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a2b827ce474795f04a08a7b1b54119d49">size_</a>;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <span class="comment">// Also copies terminator.</span></div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    <a class="code" href="namespacefolly_1_1fbstring__detail.html#ade532f4f567e24bdf32a74dc831d54ed">fbstring_detail::podCopy</a>(</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">data_</a>, <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">data_</a> + <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a2b827ce474795f04a08a7b1b54119d49">size_</a> + 1, nascent.ml_.data_);</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    nascent.swap(*<span class="keyword">this</span>);</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <a class="code" href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a>(<a class="code" href="classfolly_1_1fbstring__core.html#a2b7c9000232b5552e99055f87abd27fc">capacity</a>() &gt;= minCapacity);</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;  }</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;}</div><div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_a2b827ce474795f04a08a7b1b54119d49"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a2b827ce474795f04a08a7b1b54119d49">folly::fbstring_core::MediumLarge::size_</a></div><div class="ttdeci">size_t size_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00634">FBString.h:634</a></div></div>
<div class="ttc" id="namespacefolly_1_1fbstring__detail_html_ade532f4f567e24bdf32a74dc831d54ed"><div class="ttname"><a href="namespacefolly_1_1fbstring__detail.html#ade532f4f567e24bdf32a74dc831d54ed">folly::fbstring_detail::podCopy</a></div><div class="ttdeci">void podCopy(const Pod *b, const Pod *e, Pod *d)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00174">FBString.h:174</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_aeb843e4bfd2d9ea5e4a5b6397da8984f"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">folly::fbstring_core::MediumLarge::data_</a></div><div class="ttdeci">Char * data_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00633">FBString.h:633</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_afc9c1a634fe5a6abb0eecde7b6fc4031"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#afc9c1a634fe5a6abb0eecde7b6fc4031">folly::fbstring_core::fbstring_core</a></div><div class="ttdeci">fbstring_core() noexcept</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00341">FBString.h:341</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_a5920caca4dec6b466da3757883c695a2"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a5920caca4dec6b466da3757883c695a2">folly::fbstring_core::MediumLarge::capacity</a></div><div class="ttdeci">size_t capacity() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00637">FBString.h:637</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a95a6532d4d39363b65ee77118979ff36"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">folly::fbstring_core::category</a></div><div class="ttdeci">Category category() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00627">FBString.h:627</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a58f82df102072863c0a1ec0c0c91e7d4"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a58f82df102072863c0a1ec0c0c91e7d4">folly::fbstring_core::maxMediumSize</a></div><div class="ttdeci">static constexpr size_t maxMediumSize</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00656">FBString.h:656</a></div></div>
<div class="ttc" id="FBString_8h_html_aa4412e1e8f8ff016602abd861361fb82"><div class="ttname"><a href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a></div><div class="ttdeci">#define FBSTRING_ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00064">FBString.h:64</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a2b7c9000232b5552e99055f87abd27fc"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a2b7c9000232b5552e99055f87abd27fc">folly::fbstring_core::capacity</a></div><div class="ttdeci">size_t capacity() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00509">FBString.h:509</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_a03851a67d10777d657c37c00fa451553"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a03851a67d10777d657c37c00fa451553">folly::fbstring_core::MediumLarge::setCapacity</a></div><div class="ttdeci">void setCapacity(size_t cap, Category cat)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00641">FBString.h:641</a></div></div>
<div class="ttc" id="namespacefolly_html_aaf79069c09075effd7cbb4c733a82d92"><div class="ttname"><a href="namespacefolly.html#aaf79069c09075effd7cbb4c733a82d92">folly::smartRealloc</a></div><div class="ttdeci">void * smartRealloc(void *p, const size_t currentSize, const size_t currentCapacity, const size_t newCapacity)</div><div class="ttdef"><b>Definition:</b> <a href="memory_2Malloc_8h_source.html#l00261">Malloc.h:261</a></div></div>
<div class="ttc" id="namespacetesting_1_1gmock__generated__actions__test_html_aa07e216a4c9d492fb7e7c8fde949bc8f"><div class="ttname"><a href="namespacetesting_1_1gmock__generated__actions__test.html#aa07e216a4c9d492fb7e7c8fde949bc8f">testing::gmock_generated_actions_test::Char</a></div><div class="ttdeci">char Char(char ch)</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock-generated-actions__test_8cc_source.html#l00068">gmock-generated-actions_test.cc:68</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_af711e027a83a1d327a19bf16d583246f"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">folly::fbstring_core::ml_</a></div><div class="ttdeci">MediumLarge ml_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00651">FBString.h:651</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a7c32682405379cd3afd5e66f7f202fe3ae62e069a2dab30eaec7ea1d2a3397e49"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ae62e069a2dab30eaec7ea1d2a3397e49">folly::fbstring_core::Category::isMedium</a></div></div>
<div class="ttc" id="namespacefolly_html_ae17bba935a07151ca130bd72f2733719"><div class="ttname"><a href="namespacefolly.html#ae17bba935a07151ca130bd72f2733719">folly::goodMallocSize</a></div><div class="ttdeci">size_t goodMallocSize(size_t minSize) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="memory_2Malloc_8h_source.html#l00201">Malloc.h:201</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa800ecd37fe6ed63a0f8b9f406584c95"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="memory_2Malloc_8h.html#ab094a748be0f1f723df51a925ba4b3ce">FOLLY_MALLOC_NOINLINE</a> void <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::reserveSmall </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>minCapacity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>disableSSO</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00910">910</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>

<p>References <a class="el" href="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock-generated-actions__test_8cc_source.html#l00068">testing::gmock_generated_actions_test::Char()</a>, <a class="el" href="memory_2Malloc_8h_source.html#l00227">folly::checkedMalloc()</a>, <a class="el" href="FBString_8h_source.html#l00064">FBSTRING_ASSERT</a>, <a class="el" href="memory_2Malloc_8h_source.html#l00201">folly::goodMallocSize()</a>, <a class="el" href="FBString_8h_source.html#l00174">folly::fbstring_detail::podCopy()</a>, and <a class="el" href="Access_8h_source.html#l00045">folly::size()</a>.</p>
<div class="fragment"><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                           {</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  <a class="code" href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a>(<a class="code" href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">category</a>() == <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed">Category::isSmall</a>);</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  <span class="keywordflow">if</span> (!disableSSO &amp;&amp; minCapacity &lt;= <a class="code" href="classfolly_1_1fbstring__core.html#a5cd2b5e4b7125cb8f0ae3be13d906267">maxSmallSize</a>) {</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    <span class="comment">// small</span></div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <span class="comment">// Nothing to do, everything stays put</span></div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (minCapacity &lt;= <a class="code" href="classfolly_1_1fbstring__core.html#a58f82df102072863c0a1ec0c0c91e7d4">maxMediumSize</a>) {</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <span class="comment">// medium</span></div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <span class="comment">// Don&#39;t forget to allocate one extra Char for the terminating null</span></div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> allocSizeBytes =</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        <a class="code" href="namespacefolly.html#ae17bba935a07151ca130bd72f2733719">goodMallocSize</a>((1 + minCapacity) * <span class="keyword">sizeof</span>(<a class="code" href="namespacetesting_1_1gmock__generated__actions__test.html#aa07e216a4c9d492fb7e7c8fde949bc8f">Char</a>));</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> pData = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacetesting_1_1gmock__generated__actions__test.html#aa07e216a4c9d492fb7e7c8fde949bc8f">Char</a>*<span class="keyword">&gt;</span>(<a class="code" href="namespacefolly.html#ac8ace750150dff84e5a2a8cda65a9973">checkedMalloc</a>(allocSizeBytes));</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> <a class="code" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a> = <a class="code" href="classfolly_1_1fbstring__core.html#a49eb8cd145a892c10d287a1bc6b10183">smallSize</a>();</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <span class="comment">// Also copies terminator.</span></div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <a class="code" href="namespacefolly_1_1fbstring__detail.html#ade532f4f567e24bdf32a74dc831d54ed">fbstring_detail::podCopy</a>(<a class="code" href="classfolly_1_1fbstring__core.html#a640e92b24c01008884625cdde2ef7d7c">small_</a>, <a class="code" href="classfolly_1_1fbstring__core.html#a640e92b24c01008884625cdde2ef7d7c">small_</a> + <a class="code" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a> + 1, pData);</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">data_</a> = pData;</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a2b827ce474795f04a08a7b1b54119d49">size_</a> = <a class="code" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a>;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a03851a67d10777d657c37c00fa451553">setCapacity</a>(allocSizeBytes / <span class="keyword">sizeof</span>(<a class="code" href="namespacetesting_1_1gmock__generated__actions__test.html#aa07e216a4c9d492fb7e7c8fde949bc8f">Char</a>) - 1, <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ae62e069a2dab30eaec7ea1d2a3397e49">Category::isMedium</a>);</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    <span class="comment">// large</span></div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> newRC = <a class="code" href="structfolly_1_1fbstring__core_1_1RefCounted.html#a42ee2095316eafd98ebb279014bb1e73">RefCounted::create</a>(&amp;minCapacity);</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> <a class="code" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a> = <a class="code" href="classfolly_1_1fbstring__core.html#a49eb8cd145a892c10d287a1bc6b10183">smallSize</a>();</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    <span class="comment">// Also copies terminator.</span></div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    <a class="code" href="namespacefolly_1_1fbstring__detail.html#ade532f4f567e24bdf32a74dc831d54ed">fbstring_detail::podCopy</a>(<a class="code" href="classfolly_1_1fbstring__core.html#a640e92b24c01008884625cdde2ef7d7c">small_</a>, <a class="code" href="classfolly_1_1fbstring__core.html#a640e92b24c01008884625cdde2ef7d7c">small_</a> + <a class="code" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a> + 1, newRC-&gt;data_);</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">data_</a> = newRC-&gt;data_;</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a2b827ce474795f04a08a7b1b54119d49">size_</a> = <a class="code" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a>;</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a03851a67d10777d657c37c00fa451553">setCapacity</a>(minCapacity, <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0">Category::isLarge</a>);</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <a class="code" href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a>(<a class="code" href="classfolly_1_1fbstring__core.html#a2b7c9000232b5552e99055f87abd27fc">capacity</a>() &gt;= minCapacity);</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;  }</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;}</div><div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_a2b827ce474795f04a08a7b1b54119d49"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a2b827ce474795f04a08a7b1b54119d49">folly::fbstring_core::MediumLarge::size_</a></div><div class="ttdeci">size_t size_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00634">FBString.h:634</a></div></div>
<div class="ttc" id="namespacefolly_html_ac8ace750150dff84e5a2a8cda65a9973"><div class="ttname"><a href="namespacefolly.html#ac8ace750150dff84e5a2a8cda65a9973">folly::checkedMalloc</a></div><div class="ttdeci">void * checkedMalloc(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="memory_2Malloc_8h_source.html#l00227">Malloc.h:227</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a49eb8cd145a892c10d287a1bc6b10183"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a49eb8cd145a892c10d287a1bc6b10183">folly::fbstring_core::smallSize</a></div><div class="ttdeci">size_t smallSize() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00667">FBString.h:667</a></div></div>
<div class="ttc" id="namespacefolly_1_1fbstring__detail_html_ade532f4f567e24bdf32a74dc831d54ed"><div class="ttname"><a href="namespacefolly_1_1fbstring__detail.html#ade532f4f567e24bdf32a74dc831d54ed">folly::fbstring_detail::podCopy</a></div><div class="ttdeci">void podCopy(const Pod *b, const Pod *e, Pod *d)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00174">FBString.h:174</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_aeb843e4bfd2d9ea5e4a5b6397da8984f"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">folly::fbstring_core::MediumLarge::data_</a></div><div class="ttdeci">Char * data_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00633">FBString.h:633</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a5cd2b5e4b7125cb8f0ae3be13d906267"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a5cd2b5e4b7125cb8f0ae3be13d906267">folly::fbstring_core::maxSmallSize</a></div><div class="ttdeci">static constexpr size_t maxSmallSize</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00655">FBString.h:655</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1RefCounted_html_a42ee2095316eafd98ebb279014bb1e73"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1RefCounted.html#a42ee2095316eafd98ebb279014bb1e73">folly::fbstring_core::RefCounted::create</a></div><div class="ttdeci">static RefCounted * create(size_t *size)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00580">FBString.h:580</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a95a6532d4d39363b65ee77118979ff36"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">folly::fbstring_core::category</a></div><div class="ttdeci">Category category() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00627">FBString.h:627</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_abc19ef2941fdf0ceb1c23dabb839f1ef"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">folly::fbstring_core::size</a></div><div class="ttdeci">size_t size() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00493">FBString.h:493</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a58f82df102072863c0a1ec0c0c91e7d4"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a58f82df102072863c0a1ec0c0c91e7d4">folly::fbstring_core::maxMediumSize</a></div><div class="ttdeci">static constexpr size_t maxMediumSize</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00656">FBString.h:656</a></div></div>
<div class="ttc" id="FBString_8h_html_aa4412e1e8f8ff016602abd861361fb82"><div class="ttname"><a href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a></div><div class="ttdeci">#define FBSTRING_ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00064">FBString.h:64</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a2b7c9000232b5552e99055f87abd27fc"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a2b7c9000232b5552e99055f87abd27fc">folly::fbstring_core::capacity</a></div><div class="ttdeci">size_t capacity() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00509">FBString.h:509</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_a03851a67d10777d657c37c00fa451553"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a03851a67d10777d657c37c00fa451553">folly::fbstring_core::MediumLarge::setCapacity</a></div><div class="ttdeci">void setCapacity(size_t cap, Category cat)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00641">FBString.h:641</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed">folly::fbstring_core::Category::isSmall</a></div></div>
<div class="ttc" id="namespacetesting_1_1gmock__generated__actions__test_html_aa07e216a4c9d492fb7e7c8fde949bc8f"><div class="ttname"><a href="namespacetesting_1_1gmock__generated__actions__test.html#aa07e216a4c9d492fb7e7c8fde949bc8f">testing::gmock_generated_actions_test::Char</a></div><div class="ttdeci">char Char(char ch)</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock-generated-actions__test_8cc_source.html#l00068">gmock-generated-actions_test.cc:68</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_af711e027a83a1d327a19bf16d583246f"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">folly::fbstring_core::ml_</a></div><div class="ttdeci">MediumLarge ml_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00651">FBString.h:651</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a7c32682405379cd3afd5e66f7f202fe3ae62e069a2dab30eaec7ea1d2a3397e49"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ae62e069a2dab30eaec7ea1d2a3397e49">folly::fbstring_core::Category::isMedium</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a640e92b24c01008884625cdde2ef7d7c"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a640e92b24c01008884625cdde2ef7d7c">folly::fbstring_core::small_</a></div><div class="ttdeci">Char small_[sizeof(MediumLarge)/sizeof(Char)]</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00650">FBString.h:650</a></div></div>
<div class="ttc" id="namespacefolly_html_ae17bba935a07151ca130bd72f2733719"><div class="ttname"><a href="namespacefolly.html#ae17bba935a07151ca130bd72f2733719">folly::goodMallocSize</a></div><div class="ttdeci">size_t goodMallocSize(size_t minSize) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="memory_2Malloc_8h_source.html#l00201">Malloc.h:201</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0">folly::fbstring_core::Category::isLarge</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a079c19efc6fd782dd5ca8c691d2174b6"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00535">535</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;               {</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <a class="code" href="classfolly_1_1fbstring__core.html#af7664e6182f2e08d981ea55913d175c9">setSmallSize</a>(0);</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  }</div><div class="ttc" id="classfolly_1_1fbstring__core_html_af7664e6182f2e08d981ea55913d175c9"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#af7664e6182f2e08d981ea55913d175c9">folly::fbstring_core::setSmallSize</a></div><div class="ttdeci">void setSmallSize(size_t s)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00675">FBString.h:675</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af7664e6182f2e08d981ea55913d175c9"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::setSmallSize </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00675">675</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                              {</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="comment">// Warning: this should work with uninitialized strings too,</span></div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="comment">// so don&#39;t assume anything about the previous value of</span></div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <span class="comment">// small_[maxSmallSize].</span></div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <a class="code" href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a>(<a class="code" href="StringKeyedBenchmark_8cpp.html#aa7f1a46e86fabf3df0ec876cd34220c2">s</a> &lt;= <a class="code" href="classfolly_1_1fbstring__core.html#a5cd2b5e4b7125cb8f0ae3be13d906267">maxSmallSize</a>);</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    constexpr <span class="keyword">auto</span> shift = <a class="code" href="classfolly_1_1fbstring__core.html#a73b1629c888290fb28c63fd76c656b7a">kIsLittleEndian</a> ? 0 : 2;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <a class="code" href="classfolly_1_1fbstring__core.html#a640e92b24c01008884625cdde2ef7d7c">small_</a>[<a class="code" href="classfolly_1_1fbstring__core.html#a5cd2b5e4b7125cb8f0ae3be13d906267">maxSmallSize</a>] = char((<a class="code" href="classfolly_1_1fbstring__core.html#a5cd2b5e4b7125cb8f0ae3be13d906267">maxSmallSize</a> - <a class="code" href="StringKeyedBenchmark_8cpp.html#aa7f1a46e86fabf3df0ec876cd34220c2">s</a>) &lt;&lt; shift);</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <a class="code" href="classfolly_1_1fbstring__core.html#a640e92b24c01008884625cdde2ef7d7c">small_</a>[<a class="code" href="StringKeyedBenchmark_8cpp.html#aa7f1a46e86fabf3df0ec876cd34220c2">s</a>] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <a class="code" href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a>(<a class="code" href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">category</a>() == <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed">Category::isSmall</a> &amp;&amp; <a class="code" href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">size</a>() == <a class="code" href="StringKeyedBenchmark_8cpp.html#aa7f1a46e86fabf3df0ec876cd34220c2">s</a>);</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  }</div><div class="ttc" id="classfolly_1_1fbstring__core_html_a5cd2b5e4b7125cb8f0ae3be13d906267"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a5cd2b5e4b7125cb8f0ae3be13d906267">folly::fbstring_core::maxSmallSize</a></div><div class="ttdeci">static constexpr size_t maxSmallSize</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00655">FBString.h:655</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a95a6532d4d39363b65ee77118979ff36"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">folly::fbstring_core::category</a></div><div class="ttdeci">Category category() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00627">FBString.h:627</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_abc19ef2941fdf0ceb1c23dabb839f1ef"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#abc19ef2941fdf0ceb1c23dabb839f1ef">folly::fbstring_core::size</a></div><div class="ttdeci">size_t size() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00493">FBString.h:493</a></div></div>
<div class="ttc" id="FBString_8h_html_aa4412e1e8f8ff016602abd861361fb82"><div class="ttname"><a href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a></div><div class="ttdeci">#define FBSTRING_ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00064">FBString.h:64</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed">folly::fbstring_core::Category::isSmall</a></div></div>
<div class="ttc" id="StringKeyedBenchmark_8cpp_html_aa7f1a46e86fabf3df0ec876cd34220c2"><div class="ttname"><a href="StringKeyedBenchmark_8cpp.html#aa7f1a46e86fabf3df0ec876cd34220c2">s</a></div><div class="ttdeci">static set&lt; string &gt; s</div><div class="ttdef"><b>Definition:</b> <a href="StringKeyedBenchmark_8cpp_source.html#l00048">StringKeyedBenchmark.cpp:48</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a73b1629c888290fb28c63fd76c656b7a"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a73b1629c888290fb28c63fd76c656b7a">folly::fbstring_core::kIsLittleEndian</a></div><div class="ttdeci">static constexpr auto kIsLittleEndian</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00337">FBString.h:337</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a640e92b24c01008884625cdde2ef7d7c"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a640e92b24c01008884625cdde2ef7d7c">folly::fbstring_core::small_</a></div><div class="ttdeci">Char small_[sizeof(MediumLarge)/sizeof(Char)]</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00650">FBString.h:650</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af3f67acda7ed1c72c17a4ac2aad6eb93"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::shrink </td>
          <td>(</td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>delta</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00455">455</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                                  {</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">category</a>() == <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed">Category::isSmall</a>) {</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      <a class="code" href="classfolly_1_1fbstring__core.html#a81a69b6adea73ac2a9bbdc15214f88d3">shrinkSmall</a>(delta);</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <a class="code" href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">category</a>() == <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ae62e069a2dab30eaec7ea1d2a3397e49">Category::isMedium</a> || <a class="code" href="structfolly_1_1fbstring__core_1_1RefCounted.html#a46d0d43217a4cb91790ec3b56b224e3c">RefCounted::refs</a>(<a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">data_</a>) == 1) {</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      <a class="code" href="classfolly_1_1fbstring__core.html#a34cc9d0cd2161b56b89026b6a0b0fa4f">shrinkMedium</a>(delta);</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      <a class="code" href="classfolly_1_1fbstring__core.html#acf9a8db28c1acfb6edd125665f0db4d0">shrinkLarge</a>(delta);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    }</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  }</div><div class="ttc" id="classfolly_1_1fbstring__core_html_a34cc9d0cd2161b56b89026b6a0b0fa4f"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a34cc9d0cd2161b56b89026b6a0b0fa4f">folly::fbstring_core::shrinkMedium</a></div><div class="ttdeci">void shrinkMedium(size_t delta)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00985">FBString.h:985</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1RefCounted_html_a46d0d43217a4cb91790ec3b56b224e3c"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1RefCounted.html#a46d0d43217a4cb91790ec3b56b224e3c">folly::fbstring_core::RefCounted::refs</a></div><div class="ttdeci">static size_t refs(Char *p)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00563">FBString.h:563</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_aeb843e4bfd2d9ea5e4a5b6397da8984f"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">folly::fbstring_core::MediumLarge::data_</a></div><div class="ttdeci">Char * data_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00633">FBString.h:633</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_acf9a8db28c1acfb6edd125665f0db4d0"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#acf9a8db28c1acfb6edd125665f0db4d0">folly::fbstring_core::shrinkLarge</a></div><div class="ttdeci">void shrinkLarge(size_t delta)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00994">FBString.h:994</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a95a6532d4d39363b65ee77118979ff36"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">folly::fbstring_core::category</a></div><div class="ttdeci">Category category() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00627">FBString.h:627</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed">folly::fbstring_core::Category::isSmall</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a81a69b6adea73ac2a9bbdc15214f88d3"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a81a69b6adea73ac2a9bbdc15214f88d3">folly::fbstring_core::shrinkSmall</a></div><div class="ttdeci">void shrinkSmall(size_t delta)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00978">FBString.h:978</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_af711e027a83a1d327a19bf16d583246f"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">folly::fbstring_core::ml_</a></div><div class="ttdeci">MediumLarge ml_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00651">FBString.h:651</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a7c32682405379cd3afd5e66f7f202fe3ae62e069a2dab30eaec7ea1d2a3397e49"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ae62e069a2dab30eaec7ea1d2a3397e49">folly::fbstring_core::Category::isMedium</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acf9a8db28c1acfb6edd125665f0db4d0"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::shrinkLarge </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>delta</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00994">994</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>

<p>References <a class="el" href="FBString_8h_source.html#l00064">FBSTRING_ASSERT</a>, and <a class="el" href="FBString_8h_source.html#l00425">folly::fbstring_core&lt; Char &gt;::swap()</a>.</p>
<div class="fragment"><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;                                                               {</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;  <a class="code" href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a>(<a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a2b827ce474795f04a08a7b1b54119d49">size_</a> &gt;= delta);</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  <span class="comment">// Shared large string, must make unique. This is because of the</span></div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;  <span class="comment">// durn terminator must be written, which may trample the shared</span></div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;  <span class="comment">// data.</span></div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  <span class="keywordflow">if</span> (delta) {</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <a class="code" href="classfolly_1_1fbstring__core.html#afc9c1a634fe5a6abb0eecde7b6fc4031">fbstring_core</a>(<a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">data_</a>, <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a2b827ce474795f04a08a7b1b54119d49">size_</a> - delta).swap(*<span class="keyword">this</span>);</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  }</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;  <span class="comment">// No need to write the terminator.</span></div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;}</div><div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_a2b827ce474795f04a08a7b1b54119d49"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a2b827ce474795f04a08a7b1b54119d49">folly::fbstring_core::MediumLarge::size_</a></div><div class="ttdeci">size_t size_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00634">FBString.h:634</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_aeb843e4bfd2d9ea5e4a5b6397da8984f"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">folly::fbstring_core::MediumLarge::data_</a></div><div class="ttdeci">Char * data_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00633">FBString.h:633</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_afc9c1a634fe5a6abb0eecde7b6fc4031"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#afc9c1a634fe5a6abb0eecde7b6fc4031">folly::fbstring_core::fbstring_core</a></div><div class="ttdeci">fbstring_core() noexcept</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00341">FBString.h:341</a></div></div>
<div class="ttc" id="FBString_8h_html_aa4412e1e8f8ff016602abd861361fb82"><div class="ttname"><a href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a></div><div class="ttdeci">#define FBSTRING_ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00064">FBString.h:64</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_af711e027a83a1d327a19bf16d583246f"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">folly::fbstring_core::ml_</a></div><div class="ttdeci">MediumLarge ml_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00651">FBString.h:651</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a34cc9d0cd2161b56b89026b6a0b0fa4f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::shrinkMedium </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>delta</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00985">985</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>

<p>References <a class="el" href="FBString_8h_source.html#l00064">FBSTRING_ASSERT</a>.</p>
<div class="fragment"><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;                                                                {</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;  <span class="comment">// Medium strings and unique large strings need no special</span></div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  <span class="comment">// handling.</span></div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  <a class="code" href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a>(<a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a2b827ce474795f04a08a7b1b54119d49">size_</a> &gt;= delta);</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;  <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a2b827ce474795f04a08a7b1b54119d49">size_</a> -= delta;</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">data_</a>[<a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a2b827ce474795f04a08a7b1b54119d49">size_</a>] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;}</div><div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_a2b827ce474795f04a08a7b1b54119d49"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a2b827ce474795f04a08a7b1b54119d49">folly::fbstring_core::MediumLarge::size_</a></div><div class="ttdeci">size_t size_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00634">FBString.h:634</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_aeb843e4bfd2d9ea5e4a5b6397da8984f"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">folly::fbstring_core::MediumLarge::data_</a></div><div class="ttdeci">Char * data_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00633">FBString.h:633</a></div></div>
<div class="ttc" id="FBString_8h_html_aa4412e1e8f8ff016602abd861361fb82"><div class="ttname"><a href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a></div><div class="ttdeci">#define FBSTRING_ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00064">FBString.h:64</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_af711e027a83a1d327a19bf16d583246f"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">folly::fbstring_core::ml_</a></div><div class="ttdeci">MediumLarge ml_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00651">FBString.h:651</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a81a69b6adea73ac2a9bbdc15214f88d3"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::shrinkSmall </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>delta</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00978">978</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>

<p>References <a class="el" href="FBString_8h_source.html#l00064">FBSTRING_ASSERT</a>.</p>
<div class="fragment"><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;                                                               {</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;  <span class="comment">// Check for underflow</span></div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  <a class="code" href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a>(delta &lt;= <a class="code" href="classfolly_1_1fbstring__core.html#a49eb8cd145a892c10d287a1bc6b10183">smallSize</a>());</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  <a class="code" href="classfolly_1_1fbstring__core.html#af7664e6182f2e08d981ea55913d175c9">setSmallSize</a>(<a class="code" href="classfolly_1_1fbstring__core.html#a49eb8cd145a892c10d287a1bc6b10183">smallSize</a>() - delta);</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;}</div><div class="ttc" id="classfolly_1_1fbstring__core_html_a49eb8cd145a892c10d287a1bc6b10183"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a49eb8cd145a892c10d287a1bc6b10183">folly::fbstring_core::smallSize</a></div><div class="ttdeci">size_t smallSize() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00667">FBString.h:667</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_af7664e6182f2e08d981ea55913d175c9"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#af7664e6182f2e08d981ea55913d175c9">folly::fbstring_core::setSmallSize</a></div><div class="ttdeci">void setSmallSize(size_t s)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00675">FBString.h:675</a></div></div>
<div class="ttc" id="FBString_8h_html_aa4412e1e8f8ff016602abd861361fb82"><div class="ttname"><a href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a></div><div class="ttdeci">#define FBSTRING_ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00064">FBString.h:64</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abc19ef2941fdf0ceb1c23dabb839f1ef"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00493">493</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>

<p>Referenced by <a class="el" href="FBString_8h_source.html#l00741">folly::fbstring_core&lt; Char &gt;::copyLarge()</a>, <a class="el" href="FBString_8h_source.html#l00707">folly::fbstring_core&lt; Char &gt;::copySmall()</a>, <a class="el" href="FBString_8h_source.html#l00345">folly::fbstring_core&lt; char &gt;::fbstring_core()</a>, and <a class="el" href="FBString_8h_source.html#l02466">folly::operator+()</a>.</p>
<div class="fragment"><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                      {</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keywordtype">size_t</span> ret = <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a2b827ce474795f04a08a7b1b54119d49">size_</a>;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="keywordflow">if</span> <span class="comment">/* constexpr */</span> (<a class="code" href="classfolly_1_1fbstring__core.html#a73b1629c888290fb28c63fd76c656b7a">kIsLittleEndian</a>) {</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;      <span class="comment">// We can save a couple instructions, because the category is</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;      <span class="comment">// small iff the last char, as unsigned, is &lt;= maxSmallSize.</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">std::make_unsigned&lt;Char&gt;::type</a> UChar;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      <span class="keyword">auto</span> maybeSmallSize = size_t(<a class="code" href="classfolly_1_1fbstring__core.html#a5cd2b5e4b7125cb8f0ae3be13d906267">maxSmallSize</a>) -</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;          size_t(static_cast&lt;UChar&gt;(<a class="code" href="classfolly_1_1fbstring__core.html#a640e92b24c01008884625cdde2ef7d7c">small_</a>[<a class="code" href="classfolly_1_1fbstring__core.html#a5cd2b5e4b7125cb8f0ae3be13d906267">maxSmallSize</a>]));</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;      <span class="comment">// With this syntax, GCC and Clang generate a CMOV instead of a branch.</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;      ret = (<span class="keyword">static_cast&lt;</span>ssize_t<span class="keyword">&gt;</span>(maybeSmallSize) &gt;= 0) ? maybeSmallSize : ret;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;      ret = (<a class="code" href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">category</a>() == <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed">Category::isSmall</a>) ? <a class="code" href="classfolly_1_1fbstring__core.html#a49eb8cd145a892c10d287a1bc6b10183">smallSize</a>() : ret;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    }</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  }</div><div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_a2b827ce474795f04a08a7b1b54119d49"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a2b827ce474795f04a08a7b1b54119d49">folly::fbstring_core::MediumLarge::size_</a></div><div class="ttdeci">size_t size_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00634">FBString.h:634</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a49eb8cd145a892c10d287a1bc6b10183"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a49eb8cd145a892c10d287a1bc6b10183">folly::fbstring_core::smallSize</a></div><div class="ttdeci">size_t smallSize() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00667">FBString.h:667</a></div></div>
<div class="ttc" id="ClientProtocol_8cpp_html_afb6f25e8ca4d7adb175ad413430bbb90"><div class="ttname"><a href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">type</a></div><div class="ttdeci">PskType type</div><div class="ttdef"><b>Definition:</b> <a href="ClientProtocol_8cpp_source.html#l00777">ClientProtocol.cpp:777</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a5cd2b5e4b7125cb8f0ae3be13d906267"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a5cd2b5e4b7125cb8f0ae3be13d906267">folly::fbstring_core::maxSmallSize</a></div><div class="ttdeci">static constexpr size_t maxSmallSize</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00655">FBString.h:655</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a95a6532d4d39363b65ee77118979ff36"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">folly::fbstring_core::category</a></div><div class="ttdeci">Category category() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00627">FBString.h:627</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed">folly::fbstring_core::Category::isSmall</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a73b1629c888290fb28c63fd76c656b7a"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a73b1629c888290fb28c63fd76c656b7a">folly::fbstring_core::kIsLittleEndian</a></div><div class="ttdeci">static constexpr auto kIsLittleEndian</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00337">FBString.h:337</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_af711e027a83a1d327a19bf16d583246f"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">folly::fbstring_core::ml_</a></div><div class="ttdeci">MediumLarge ml_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00651">FBString.h:651</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a640e92b24c01008884625cdde2ef7d7c"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a640e92b24c01008884625cdde2ef7d7c">folly::fbstring_core::small_</a></div><div class="ttdeci">Char small_[sizeof(MediumLarge)/sizeof(Char)]</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00650">FBString.h:650</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a49eb8cd145a892c10d287a1bc6b10183"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::smallSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00667">667</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                           {</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <a class="code" href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a>(<a class="code" href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">category</a>() == <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed">Category::isSmall</a>);</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    constexpr <span class="keyword">auto</span> shift = <a class="code" href="classfolly_1_1fbstring__core.html#a73b1629c888290fb28c63fd76c656b7a">kIsLittleEndian</a> ? 0 : 2;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="keyword">auto</span> smallShifted = <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(<a class="code" href="classfolly_1_1fbstring__core.html#a640e92b24c01008884625cdde2ef7d7c">small_</a>[<a class="code" href="classfolly_1_1fbstring__core.html#a5cd2b5e4b7125cb8f0ae3be13d906267">maxSmallSize</a>]) &gt;&gt; shift;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <a class="code" href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a>(static_cast&lt;size_t&gt;(<a class="code" href="classfolly_1_1fbstring__core.html#a5cd2b5e4b7125cb8f0ae3be13d906267">maxSmallSize</a>) &gt;= smallShifted);</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(<a class="code" href="classfolly_1_1fbstring__core.html#a5cd2b5e4b7125cb8f0ae3be13d906267">maxSmallSize</a>) - smallShifted;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  }</div><div class="ttc" id="classfolly_1_1fbstring__core_html_a5cd2b5e4b7125cb8f0ae3be13d906267"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a5cd2b5e4b7125cb8f0ae3be13d906267">folly::fbstring_core::maxSmallSize</a></div><div class="ttdeci">static constexpr size_t maxSmallSize</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00655">FBString.h:655</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a95a6532d4d39363b65ee77118979ff36"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">folly::fbstring_core::category</a></div><div class="ttdeci">Category category() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00627">FBString.h:627</a></div></div>
<div class="ttc" id="FBString_8h_html_aa4412e1e8f8ff016602abd861361fb82"><div class="ttname"><a href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a></div><div class="ttdeci">#define FBSTRING_ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00064">FBString.h:64</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3ade280a497d62775c74136342751944ed">folly::fbstring_core::Category::isSmall</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a73b1629c888290fb28c63fd76c656b7a"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a73b1629c888290fb28c63fd76c656b7a">folly::fbstring_core::kIsLittleEndian</a></div><div class="ttdeci">static constexpr auto kIsLittleEndian</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00337">FBString.h:337</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a640e92b24c01008884625cdde2ef7d7c"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a640e92b24c01008884625cdde2ef7d7c">folly::fbstring_core::small_</a></div><div class="ttdeci">Char small_[sizeof(MediumLarge)/sizeof(Char)]</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00650">FBString.h:650</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2a771fa2fc44c53175bb9fc764adab19"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::swap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1fbstring__core.html">fbstring_core</a>&lt; Char &gt; &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00425">425</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>

<p>Referenced by <a class="el" href="FBString_8h_source.html#l00877">folly::fbstring_core&lt; Char &gt;::reserveMedium()</a>, and <a class="el" href="FBString_8h_source.html#l00994">folly::fbstring_core&lt; Char &gt;::shrinkLarge()</a>.</p>
<div class="fragment"><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                                {</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> <a class="code" href="namespacefolly_1_1pushmi_1_1detail.html#a83db2e678e3a0679ce63d24026fcf5ff">t</a> = <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a> = <a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>.ml_;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>.ml_ = <a class="code" href="namespacefolly_1_1pushmi_1_1detail.html#a83db2e678e3a0679ce63d24026fcf5ff">t</a>;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  }</div><div class="ttc" id="namespacefolly_1_1detail_html_a2dccd19efd4e58589c88f81f62bbf32e"><div class="ttname"><a href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">folly::detail::rhs</a></div><div class="ttdeci">FOLLY_PUSH_WARNING RHS rhs</div><div class="ttdef"><b>Definition:</b> <a href="Traits_8h_source.html#l00649">Traits.h:649</a></div></div>
<div class="ttc" id="namespacefolly_1_1pushmi_1_1detail_html_a83db2e678e3a0679ce63d24026fcf5ff"><div class="ttname"><a href="namespacefolly_1_1pushmi_1_1detail.html#a83db2e678e3a0679ce63d24026fcf5ff">folly::pushmi::detail::t</a></div><div class="ttdeci">requires Tuple &amp;&amp; t</div><div class="ttdef"><b>Definition:</b> <a href="extension__operators_8h_source.html#l00048">extension_operators.h:48</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_af711e027a83a1d327a19bf16d583246f"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">folly::fbstring_core::ml_</a></div><div class="ttdeci">MediumLarge ml_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00651">FBString.h:651</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab3ec9c6c1f26b525b37dccfe9b7a6a23"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="memory_2Malloc_8h.html#ab094a748be0f1f723df51a925ba4b3ce">FOLLY_MALLOC_NOINLINE</a> void <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::unshare </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>minCapacity</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00827">827</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>

<p>References <a class="el" href="FBString_8h_source.html#l00064">FBSTRING_ASSERT</a>, <a class="el" href="LogLevel_8cpp_source.html#l00031">max</a>, and <a class="el" href="FBString_8h_source.html#l00174">folly::fbstring_detail::podCopy()</a>.</p>
<div class="fragment"><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                        {</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;  <a class="code" href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a>(<a class="code" href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">category</a>() == <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0">Category::isLarge</a>);</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  <span class="keywordtype">size_t</span> effectiveCapacity = <a class="code" href="LogLevel_8cpp.html#a15c8b90f03cae068a6979f32590642e2">std::max</a>(minCapacity, <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a5920caca4dec6b466da3757883c695a2">capacity</a>());</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  <span class="keyword">auto</span> <span class="keyword">const</span> newRC = <a class="code" href="structfolly_1_1fbstring__core_1_1RefCounted.html#a42ee2095316eafd98ebb279014bb1e73">RefCounted::create</a>(&amp;effectiveCapacity);</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  <span class="comment">// If this fails, someone placed the wrong capacity in an</span></div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  <span class="comment">// fbstring.</span></div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  <a class="code" href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a>(effectiveCapacity &gt;= <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a5920caca4dec6b466da3757883c695a2">capacity</a>());</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  <span class="comment">// Also copies terminator.</span></div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  <a class="code" href="namespacefolly_1_1fbstring__detail.html#ade532f4f567e24bdf32a74dc831d54ed">fbstring_detail::podCopy</a>(<a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">data_</a>, <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">data_</a> + <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a2b827ce474795f04a08a7b1b54119d49">size_</a> + 1, newRC-&gt;data_);</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  <a class="code" href="structfolly_1_1fbstring__core_1_1RefCounted.html#ac80370dc301ec565248ee663a7fe8996">RefCounted::decrementRefs</a>(<a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">data_</a>);</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">data_</a> = newRC-&gt;data_;</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;  <a class="code" href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">ml_</a>.<a class="code" href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a03851a67d10777d657c37c00fa451553">setCapacity</a>(effectiveCapacity, <a class="code" href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0">Category::isLarge</a>);</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  <span class="comment">// size_ remains unchanged.</span></div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;}</div><div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_a2b827ce474795f04a08a7b1b54119d49"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a2b827ce474795f04a08a7b1b54119d49">folly::fbstring_core::MediumLarge::size_</a></div><div class="ttdeci">size_t size_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00634">FBString.h:634</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1RefCounted_html_ac80370dc301ec565248ee663a7fe8996"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1RefCounted.html#ac80370dc301ec565248ee663a7fe8996">folly::fbstring_core::RefCounted::decrementRefs</a></div><div class="ttdeci">static void decrementRefs(Char *p)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00571">FBString.h:571</a></div></div>
<div class="ttc" id="LogLevel_8cpp_html_a15c8b90f03cae068a6979f32590642e2"><div class="ttname"><a href="LogLevel_8cpp.html#a15c8b90f03cae068a6979f32590642e2">max</a></div><div class="ttdeci">LogLevel max</div><div class="ttdef"><b>Definition:</b> <a href="LogLevel_8cpp_source.html#l00031">LogLevel.cpp:31</a></div></div>
<div class="ttc" id="namespacefolly_1_1fbstring__detail_html_ade532f4f567e24bdf32a74dc831d54ed"><div class="ttname"><a href="namespacefolly_1_1fbstring__detail.html#ade532f4f567e24bdf32a74dc831d54ed">folly::fbstring_detail::podCopy</a></div><div class="ttdeci">void podCopy(const Pod *b, const Pod *e, Pod *d)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00174">FBString.h:174</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_aeb843e4bfd2d9ea5e4a5b6397da8984f"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#aeb843e4bfd2d9ea5e4a5b6397da8984f">folly::fbstring_core::MediumLarge::data_</a></div><div class="ttdeci">Char * data_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00633">FBString.h:633</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_a5920caca4dec6b466da3757883c695a2"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a5920caca4dec6b466da3757883c695a2">folly::fbstring_core::MediumLarge::capacity</a></div><div class="ttdeci">size_t capacity() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00637">FBString.h:637</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1RefCounted_html_a42ee2095316eafd98ebb279014bb1e73"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1RefCounted.html#a42ee2095316eafd98ebb279014bb1e73">folly::fbstring_core::RefCounted::create</a></div><div class="ttdeci">static RefCounted * create(size_t *size)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00580">FBString.h:580</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a95a6532d4d39363b65ee77118979ff36"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a95a6532d4d39363b65ee77118979ff36">folly::fbstring_core::category</a></div><div class="ttdeci">Category category() const </div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00627">FBString.h:627</a></div></div>
<div class="ttc" id="FBString_8h_html_aa4412e1e8f8ff016602abd861361fb82"><div class="ttname"><a href="FBString_8h.html#aa4412e1e8f8ff016602abd861361fb82">FBSTRING_ASSERT</a></div><div class="ttdeci">#define FBSTRING_ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00064">FBString.h:64</a></div></div>
<div class="ttc" id="structfolly_1_1fbstring__core_1_1MediumLarge_html_a03851a67d10777d657c37c00fa451553"><div class="ttname"><a href="structfolly_1_1fbstring__core_1_1MediumLarge.html#a03851a67d10777d657c37c00fa451553">folly::fbstring_core::MediumLarge::setCapacity</a></div><div class="ttdeci">void setCapacity(size_t cap, Category cat)</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00641">FBString.h:641</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_af711e027a83a1d327a19bf16d583246f"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#af711e027a83a1d327a19bf16d583246f">folly::fbstring_core::ml_</a></div><div class="ttdeci">MediumLarge ml_</div><div class="ttdef"><b>Definition:</b> <a href="FBString_8h_source.html#l00651">FBString.h:651</a></div></div>
<div class="ttc" id="classfolly_1_1fbstring__core_html_a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0"><div class="ttname"><a href="classfolly_1_1fbstring__core.html#a7c32682405379cd3afd5e66f7f202fe3a28094dc99701c2bb02a94734844e28b0">folly::fbstring_core::Category::isLarge</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a2cc04dc0f24d2787a6be00bf2f058528"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">union { ... } </td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a45ad9c20c468680dce8ad90df7d09169"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::bytes_[<a class="el" href="namespacefolly.html#a7c631f0179944e4771e98d398db760dd">sizeof</a>(<a class="el" href="structfolly_1_1fbstring__core_1_1MediumLarge.html">MediumLarge</a>)]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00649">649</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>

</div>
</div>
<a class="anchor" id="a4461cc2d6d8debda8eda6cd84b6b42fa"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr size_t <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::capacityExtractMask</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <a class="code" href="classfolly_1_1fbstring__core.html#a73b1629c888290fb28c63fd76c656b7a">kIsLittleEndian</a></div><div class="line">      ? ~(size_t(<a class="code" href="classfolly_1_1fbstring__core.html#ab3d4d0979f8c423999df00b624d939c9">categoryExtractMask</a>) &lt;&lt; <a class="code" href="classfolly_1_1fbstring__core.html#a8ffd47b0020c6f8746033d6dbf628cd7">kCategoryShift</a>)</div><div class="line">      : 0x0</div></div><!-- fragment -->
<p>Definition at line <a class="el" href="FBString_8h_source.html#l00659">659</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab3d4d0979f8c423999df00b624d939c9"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr <a class="el" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::categoryExtractMask = <a class="el" href="classfolly_1_1fbstring__core.html#a73b1629c888290fb28c63fd76c656b7a">kIsLittleEndian</a> ? 0xC0 : 0x3</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00657">657</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8ffd47b0020c6f8746033d6dbf628cd7"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr size_t <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::kCategoryShift = (<a class="el" href="namespacefolly.html#a7c631f0179944e4771e98d398db760dd">sizeof</a>(size_t) - 1) * 8</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00658">658</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>

</div>
</div>
<a class="anchor" id="a73b1629c888290fb28c63fd76c656b7a"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr auto <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::kIsLittleEndian</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">      __BYTE_ORDER__ == __ORDER_LITTLE_ENDIAN__</div></div><!-- fragment -->
<p>Definition at line <a class="el" href="FBString_8h_source.html#l00337">337</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>

</div>
</div>
<a class="anchor" id="a662360aaff0ad0e1f2b51f35f55083c7"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr size_t <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::lastChar = <a class="el" href="namespacefolly.html#a7c631f0179944e4771e98d398db760dd">sizeof</a>(<a class="el" href="structfolly_1_1fbstring__core_1_1MediumLarge.html">MediumLarge</a>) - 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00654">654</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>

</div>
</div>
<a class="anchor" id="a58f82df102072863c0a1ec0c0c91e7d4"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr size_t <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::maxMediumSize = 254 / <a class="el" href="namespacefolly.html#a7c631f0179944e4771e98d398db760dd">sizeof</a>(Char)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00656">656</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5cd2b5e4b7125cb8f0ae3be13d906267"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr size_t <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::maxSmallSize = <a class="el" href="classfolly_1_1fbstring__core.html#a662360aaff0ad0e1f2b51f35f55083c7">lastChar</a> / <a class="el" href="namespacefolly.html#a7c631f0179944e4771e98d398db760dd">sizeof</a>(Char)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00655">655</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>

</div>
</div>
<a class="anchor" id="af711e027a83a1d327a19bf16d583246f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfolly_1_1fbstring__core_1_1MediumLarge.html">MediumLarge</a> <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::ml_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00651">651</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>

<p>Referenced by <a class="el" href="FBString_8h_source.html#l00741">folly::fbstring_core&lt; Char &gt;::copyLarge()</a>, <a class="el" href="FBString_8h_source.html#l00726">folly::fbstring_core&lt; Char &gt;::copyMedium()</a>, <a class="el" href="FBString_8h_source.html#l00707">folly::fbstring_core&lt; Char &gt;::copySmall()</a>, <a class="el" href="FBString_8h_source.html#l00877">folly::fbstring_core&lt; Char &gt;::reserveMedium()</a>, and <a class="el" href="FBString_8h_source.html#l00425">folly::fbstring_core&lt; char &gt;::swap()</a>.</p>

</div>
</div>
<a class="anchor" id="a640e92b24c01008884625cdde2ef7d7c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Char&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">Char <a class="el" href="classfolly_1_1fbstring__core.html">folly::fbstring_core</a>&lt; Char &gt;::small_[<a class="el" href="namespacefolly.html#a7c631f0179944e4771e98d398db760dd">sizeof</a>(<a class="el" href="structfolly_1_1fbstring__core_1_1MediumLarge.html">MediumLarge</a>)/<a class="el" href="namespacefolly.html#a7c631f0179944e4771e98d398db760dd">sizeof</a>(Char)]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FBString_8h_source.html#l00650">650</a> of file <a class="el" href="FBString_8h_source.html">FBString.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>proxygen/folly/folly/<a class="el" href="FBString_8h_source.html">FBString.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefolly.html">folly</a></li><li class="navelem"><a class="el" href="classfolly_1_1fbstring__core.html">fbstring_core</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
