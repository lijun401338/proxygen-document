<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>proxygen: folly::Subprocess::ReadLinesCallback&lt; Callback &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">proxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classfolly_1_1Subprocess_1_1ReadLinesCallback.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classfolly_1_1Subprocess_1_1ReadLinesCallback-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">folly::Subprocess::ReadLinesCallback&lt; Callback &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="Subprocess_8h_source.html">Subprocess.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1Subprocess_1_1ReadLinesCallback_1_1StreamSplitterCallback.html">StreamSplitterCallback</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1cd66f57b1848b84fa8135410eb0a713"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html#a1cd66f57b1848b84fa8135410eb0a713">ReadLinesCallback</a> (Callback &amp;&amp;fdLineCb, <a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> maxLineLength=0, char delimiter= '\n', <a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> bufSize=1024)</td></tr>
<tr class="separator:a1cd66f57b1848b84fa8135410eb0a713"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5abcd4ba089e2ec2574a5c275c4adb6f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html#a5abcd4ba089e2ec2574a5c275c4adb6f">operator()</a> (int pfd, int cfd)</td></tr>
<tr class="separator:a5abcd4ba089e2ec2574a5c275c4adb6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a9b8ed4a72684d73c6be2cd4a31c02b62"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classfolly_1_1gen_1_1StreamSplitter.html">gen::StreamSplitter</a>&lt; <a class="el" href="structfolly_1_1Subprocess_1_1ReadLinesCallback_1_1StreamSplitterCallback.html">StreamSplitterCallback</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html#a9b8ed4a72684d73c6be2cd4a31c02b62">LineSplitter</a></td></tr>
<tr class="separator:a9b8ed4a72684d73c6be2cd4a31c02b62"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a704c2ea7c168d7147cd40ea9ef9c90e4"><td class="memItemLeft" align="right" valign="top">Callback&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html#a704c2ea7c168d7147cd40ea9ef9c90e4">fdLineCb_</a></td></tr>
<tr class="separator:a704c2ea7c168d7147cd40ea9ef9c90e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acef7f9ddc86c0f463d2cdfdb45d3adad"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html#acef7f9ddc86c0f463d2cdfdb45d3adad">maxLineLength_</a></td></tr>
<tr class="separator:acef7f9ddc86c0f463d2cdfdb45d3adad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc5fe1f000c6428bca87cddad7dee6a9"><td class="memItemLeft" align="right" valign="top">const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html#abc5fe1f000c6428bca87cddad7dee6a9">delimiter_</a></td></tr>
<tr class="separator:abc5fe1f000c6428bca87cddad7dee6a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3699daf4bca88c0413dbe60fbf728e40"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html#a3699daf4bca88c0413dbe60fbf728e40">bufSize_</a></td></tr>
<tr class="separator:a3699daf4bca88c0413dbe60fbf728e40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a951c723ac6ec13ddc4311e0abd7d3ccf"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; int, <a class="el" href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html#a9b8ed4a72684d73c6be2cd4a31c02b62">LineSplitter</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html#a951c723ac6ec13ddc4311e0abd7d3ccf">fdToSplitter_</a></td></tr>
<tr class="separator:a951c723ac6ec13ddc4311e0abd7d3ccf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class Callback&gt;<br />
class folly::Subprocess::ReadLinesCallback&lt; Callback &gt;</h3>

<p><a class="el" href="structA.html">A</a> readCallback for <a class="el" href="classfolly_1_1Subprocess.html#a28a252e66fe53d1a86016d46f8b417ed">Subprocess::communicate()</a> that helps you consume lines (or other delimited pieces) from your subprocess's file descriptors. Use the <a class="el" href="classfolly_1_1Subprocess.html#ac6b701fb39b6f0fa89481d6c6144ac77">readLinesCallback()</a> helper to get template deduction. For example:</p>
<p>subprocess.communicate( <a class="el" href="classfolly_1_1Subprocess.html#ac6b701fb39b6f0fa89481d6c6144ac77">Subprocess::readLinesCallback</a>( [](int fd, <a class="el" href="namespacefolly.html#af8d3e3eb9accef5470823e6353f60140">folly::StringPiece</a> s) { std::cout &lt;&lt; fd &lt;&lt; " said: " &lt;&lt; s; return false; // Keep reading from the child } ), [](int pdf, int cfd){ return true; } // Don't write to the child );</p>
<p>If a file line exceeds maxLineLength, your callback will get some initial chunks of maxLineLength with no trailing delimiters. The final chunk of a line is delimiter-terminated iff the delimiter was present in the input. In particular, the last line in a file always lacks a delimiter &ndash; so if a file ends on a delimiter, the final line is empty.</p>
<p>Like a regular <a class="el" href="classfolly_1_1Subprocess.html#a28a252e66fe53d1a86016d46f8b417ed">communicate()</a> callback, your fdLineCb() normally returns false. It may return true to tell <a class="el" href="classfolly_1_1Subprocess.html">Subprocess</a> to close the underlying file descriptor. The child process may then receive SIGPIPE or get EPIPE errors on writes. </p>

<p>Definition at line <a class="el" href="Subprocess_8h_source.html#l00749">749</a> of file <a class="el" href="Subprocess_8h_source.html">Subprocess.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a9b8ed4a72684d73c6be2cd4a31c02b62"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Callback &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classfolly_1_1gen_1_1StreamSplitter.html">gen::StreamSplitter</a>&lt;<a class="el" href="structfolly_1_1Subprocess_1_1ReadLinesCallback_1_1StreamSplitterCallback.html">StreamSplitterCallback</a>&gt; <a class="el" href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html">folly::Subprocess::ReadLinesCallback</a>&lt; Callback &gt;::<a class="el" href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html#a9b8ed4a72684d73c6be2cd4a31c02b62">LineSplitter</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Subprocess_8h_source.html#l00761">761</a> of file <a class="el" href="Subprocess_8h_source.html">Subprocess.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a1cd66f57b1848b84fa8135410eb0a713"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Callback &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html">folly::Subprocess::ReadLinesCallback</a>&lt; Callback &gt;::<a class="el" href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html">ReadLinesCallback</a> </td>
          <td>(</td>
          <td class="paramtype">Callback &amp;&amp;&#160;</td>
          <td class="paramname"><em>fdLineCb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a>&#160;</td>
          <td class="paramname"><em>maxLineLength</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>delimiter</em> = <code>'\n'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a>&#160;</td>
          <td class="paramname"><em>bufSize</em> = <code>1024</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Subprocess_8h_source.html#l00764">764</a> of file <a class="el" href="Subprocess_8h_source.html">Subprocess.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;        : <a class="code" href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html#a704c2ea7c168d7147cd40ea9ef9c90e4">fdLineCb_</a>(std::forward&lt;Callback&gt;(fdLineCb)),</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;          <a class="code" href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html#acef7f9ddc86c0f463d2cdfdb45d3adad">maxLineLength_</a>(maxLineLength),</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;          <a class="code" href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html#abc5fe1f000c6428bca87cddad7dee6a9">delimiter_</a>(delimiter),</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;          <a class="code" href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html#a3699daf4bca88c0413dbe60fbf728e40">bufSize_</a>(bufSize) {}</div><div class="ttc" id="classfolly_1_1Subprocess_1_1ReadLinesCallback_html_a3699daf4bca88c0413dbe60fbf728e40"><div class="ttname"><a href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html#a3699daf4bca88c0413dbe60fbf728e40">folly::Subprocess::ReadLinesCallback::bufSize_</a></div><div class="ttdeci">const uint64_t bufSize_</div><div class="ttdef"><b>Definition:</b> <a href="Subprocess_8h_source.html#l00809">Subprocess.h:809</a></div></div>
<div class="ttc" id="classfolly_1_1Subprocess_1_1ReadLinesCallback_html_a704c2ea7c168d7147cd40ea9ef9c90e4"><div class="ttname"><a href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html#a704c2ea7c168d7147cd40ea9ef9c90e4">folly::Subprocess::ReadLinesCallback::fdLineCb_</a></div><div class="ttdeci">Callback fdLineCb_</div><div class="ttdef"><b>Definition:</b> <a href="Subprocess_8h_source.html#l00806">Subprocess.h:806</a></div></div>
<div class="ttc" id="classfolly_1_1Subprocess_1_1ReadLinesCallback_html_acef7f9ddc86c0f463d2cdfdb45d3adad"><div class="ttname"><a href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html#acef7f9ddc86c0f463d2cdfdb45d3adad">folly::Subprocess::ReadLinesCallback::maxLineLength_</a></div><div class="ttdeci">const uint64_t maxLineLength_</div><div class="ttdef"><b>Definition:</b> <a href="Subprocess_8h_source.html#l00807">Subprocess.h:807</a></div></div>
<div class="ttc" id="classfolly_1_1Subprocess_1_1ReadLinesCallback_html_abc5fe1f000c6428bca87cddad7dee6a9"><div class="ttname"><a href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html#abc5fe1f000c6428bca87cddad7dee6a9">folly::Subprocess::ReadLinesCallback::delimiter_</a></div><div class="ttdeci">const char delimiter_</div><div class="ttdef"><b>Definition:</b> <a href="Subprocess_8h_source.html#l00808">Subprocess.h:808</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a5abcd4ba089e2ec2574a5c275c4adb6f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Callback &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html">folly::Subprocess::ReadLinesCallback</a>&lt; Callback &gt;::operator() </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pfd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cfd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Subprocess_8h_source.html#l00774">774</a> of file <a class="el" href="Subprocess_8h_source.html">Subprocess.h</a>.</p>

<p>References <a class="el" href="folly_2folly_2Exception_8h_source.html#l00101">folly::checkUnixError()</a>, and <a class="el" href="FileUtil_8cpp_source.html#l00102">folly::readNoInt()</a>.</p>
<div class="fragment"><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                                      {</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;      <span class="comment">// Make a splitter for this cfd if it doesn&#39;t already exist</span></div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;      <span class="keyword">auto</span> it = <a class="code" href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html#a951c723ac6ec13ddc4311e0abd7d3ccf">fdToSplitter_</a>.find(cfd);</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      <span class="keyword">auto</span>&amp; splitter = (it != <a class="code" href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html#a951c723ac6ec13ddc4311e0abd7d3ccf">fdToSplitter_</a>.end())</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;          ? it-&gt;second</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;          : <a class="code" href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html#a951c723ac6ec13ddc4311e0abd7d3ccf">fdToSplitter_</a></div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                .emplace(</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                    cfd,</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                    <a class="code" href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html#a9b8ed4a72684d73c6be2cd4a31c02b62">LineSplitter</a>(</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;                        <a class="code" href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html#abc5fe1f000c6428bca87cddad7dee6a9">delimiter_</a>,</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                        StreamSplitterCallback(<a class="code" href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html#a704c2ea7c168d7147cd40ea9ef9c90e4">fdLineCb_</a>, cfd),</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                        <a class="code" href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html#acef7f9ddc86c0f463d2cdfdb45d3adad">maxLineLength_</a>))</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                .first-&gt;second;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;      <span class="comment">// Read as much as we can from this FD</span></div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;      <span class="keywordtype">char</span> buf[<a class="code" href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html#a3699daf4bca88c0413dbe60fbf728e40">bufSize_</a>];</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;      <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        ssize_t ret = <a class="code" href="namespacefolly.html#a77ddd583d220e05a3d7218109b6409e1">readNoInt</a>(pfd, buf, <a class="code" href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html#a3699daf4bca88c0413dbe60fbf728e40">bufSize_</a>);</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;        <span class="keywordflow">if</span> (ret == -1 &amp;&amp; errno == EAGAIN) { <span class="comment">// No more data for now</span></div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        }</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        <a class="code" href="namespacefolly.html#af6244d72aa4bdeb215d938ff5f56a6e5">checkUnixError</a>(ret, <span class="stringliteral">&quot;read&quot;</span>);</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        <span class="keywordflow">if</span> (ret == 0) { <span class="comment">// Reached end-of-file</span></div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;          splitter.flush(); <span class="comment">// Ignore return since the file is over anyway</span></div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        }</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        <span class="keywordflow">if</span> (!splitter(<a class="code" href="namespacefolly.html#af8d3e3eb9accef5470823e6353f60140">StringPiece</a>(buf, ret))) {</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// The callback told us to stop</span></div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        }</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;      }</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    }</div><div class="ttc" id="classfolly_1_1Subprocess_1_1ReadLinesCallback_html_a951c723ac6ec13ddc4311e0abd7d3ccf"><div class="ttname"><a href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html#a951c723ac6ec13ddc4311e0abd7d3ccf">folly::Subprocess::ReadLinesCallback::fdToSplitter_</a></div><div class="ttdeci">std::unordered_map&lt; int, LineSplitter &gt; fdToSplitter_</div><div class="ttdef"><b>Definition:</b> <a href="Subprocess_8h_source.html#l00811">Subprocess.h:811</a></div></div>
<div class="ttc" id="classfolly_1_1Subprocess_1_1ReadLinesCallback_html_a3699daf4bca88c0413dbe60fbf728e40"><div class="ttname"><a href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html#a3699daf4bca88c0413dbe60fbf728e40">folly::Subprocess::ReadLinesCallback::bufSize_</a></div><div class="ttdeci">const uint64_t bufSize_</div><div class="ttdef"><b>Definition:</b> <a href="Subprocess_8h_source.html#l00809">Subprocess.h:809</a></div></div>
<div class="ttc" id="classfolly_1_1Subprocess_1_1ReadLinesCallback_html_a9b8ed4a72684d73c6be2cd4a31c02b62"><div class="ttname"><a href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html#a9b8ed4a72684d73c6be2cd4a31c02b62">folly::Subprocess::ReadLinesCallback::LineSplitter</a></div><div class="ttdeci">gen::StreamSplitter&lt; StreamSplitterCallback &gt; LineSplitter</div><div class="ttdef"><b>Definition:</b> <a href="Subprocess_8h_source.html#l00761">Subprocess.h:761</a></div></div>
<div class="ttc" id="namespacefolly_html_a77ddd583d220e05a3d7218109b6409e1"><div class="ttname"><a href="namespacefolly.html#a77ddd583d220e05a3d7218109b6409e1">folly::readNoInt</a></div><div class="ttdeci">ssize_t readNoInt(int fd, void *buf, size_t count)</div><div class="ttdef"><b>Definition:</b> <a href="FileUtil_8cpp_source.html#l00102">FileUtil.cpp:102</a></div></div>
<div class="ttc" id="classfolly_1_1Subprocess_1_1ReadLinesCallback_html_a704c2ea7c168d7147cd40ea9ef9c90e4"><div class="ttname"><a href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html#a704c2ea7c168d7147cd40ea9ef9c90e4">folly::Subprocess::ReadLinesCallback::fdLineCb_</a></div><div class="ttdeci">Callback fdLineCb_</div><div class="ttdef"><b>Definition:</b> <a href="Subprocess_8h_source.html#l00806">Subprocess.h:806</a></div></div>
<div class="ttc" id="namespacefolly_html_af6244d72aa4bdeb215d938ff5f56a6e5"><div class="ttname"><a href="namespacefolly.html#af6244d72aa4bdeb215d938ff5f56a6e5">folly::checkUnixError</a></div><div class="ttdeci">void checkUnixError(ssize_t ret, Args &amp;&amp;...args)</div><div class="ttdef"><b>Definition:</b> <a href="folly_2folly_2Exception_8h_source.html#l00101">Exception.h:101</a></div></div>
<div class="ttc" id="classfolly_1_1Subprocess_1_1ReadLinesCallback_html_acef7f9ddc86c0f463d2cdfdb45d3adad"><div class="ttname"><a href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html#acef7f9ddc86c0f463d2cdfdb45d3adad">folly::Subprocess::ReadLinesCallback::maxLineLength_</a></div><div class="ttdeci">const uint64_t maxLineLength_</div><div class="ttdef"><b>Definition:</b> <a href="Subprocess_8h_source.html#l00807">Subprocess.h:807</a></div></div>
<div class="ttc" id="classfolly_1_1Subprocess_1_1ReadLinesCallback_html_abc5fe1f000c6428bca87cddad7dee6a9"><div class="ttname"><a href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html#abc5fe1f000c6428bca87cddad7dee6a9">folly::Subprocess::ReadLinesCallback::delimiter_</a></div><div class="ttdeci">const char delimiter_</div><div class="ttdef"><b>Definition:</b> <a href="Subprocess_8h_source.html#l00808">Subprocess.h:808</a></div></div>
<div class="ttc" id="namespacefolly_html_af8d3e3eb9accef5470823e6353f60140"><div class="ttname"><a href="namespacefolly.html#af8d3e3eb9accef5470823e6353f60140">folly::StringPiece</a></div><div class="ttdeci">Range&lt; const char * &gt; StringPiece</div><div class="ttdef"><b>Definition:</b> <a href="ScopedEventBaseThread_8h_source.html#l00029">ScopedEventBaseThread.h:29</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a3699daf4bca88c0413dbe60fbf728e40"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Callback &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> <a class="el" href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html">folly::Subprocess::ReadLinesCallback</a>&lt; Callback &gt;::bufSize_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Subprocess_8h_source.html#l00809">809</a> of file <a class="el" href="Subprocess_8h_source.html">Subprocess.h</a>.</p>

</div>
</div>
<a class="anchor" id="abc5fe1f000c6428bca87cddad7dee6a9"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Callback &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html">folly::Subprocess::ReadLinesCallback</a>&lt; Callback &gt;::delimiter_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Subprocess_8h_source.html#l00808">808</a> of file <a class="el" href="Subprocess_8h_source.html">Subprocess.h</a>.</p>

</div>
</div>
<a class="anchor" id="a704c2ea7c168d7147cd40ea9ef9c90e4"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Callback &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Callback <a class="el" href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html">folly::Subprocess::ReadLinesCallback</a>&lt; Callback &gt;::fdLineCb_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Subprocess_8h_source.html#l00806">806</a> of file <a class="el" href="Subprocess_8h_source.html">Subprocess.h</a>.</p>

</div>
</div>
<a class="anchor" id="a951c723ac6ec13ddc4311e0abd7d3ccf"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Callback &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;int, <a class="el" href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html#a9b8ed4a72684d73c6be2cd4a31c02b62">LineSplitter</a>&gt; <a class="el" href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html">folly::Subprocess::ReadLinesCallback</a>&lt; Callback &gt;::fdToSplitter_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Subprocess_8h_source.html#l00811">811</a> of file <a class="el" href="Subprocess_8h_source.html">Subprocess.h</a>.</p>

</div>
</div>
<a class="anchor" id="acef7f9ddc86c0f463d2cdfdb45d3adad"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Callback &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> <a class="el" href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html">folly::Subprocess::ReadLinesCallback</a>&lt; Callback &gt;::maxLineLength_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Subprocess_8h_source.html#l00807">807</a> of file <a class="el" href="Subprocess_8h_source.html">Subprocess.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>proxygen/folly/folly/<a class="el" href="Subprocess_8h_source.html">Subprocess.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefolly.html">folly</a></li><li class="navelem"><a class="el" href="classfolly_1_1Subprocess.html">Subprocess</a></li><li class="navelem"><a class="el" href="classfolly_1_1Subprocess_1_1ReadLinesCallback.html">ReadLinesCallback</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
