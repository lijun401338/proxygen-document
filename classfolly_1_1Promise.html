<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>proxygen: folly::Promise&lt; T &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">proxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classfolly_1_1Promise.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classfolly_1_1Promise-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">folly::Promise&lt; T &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="Future-pre_8h_source.html">Future-pre.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a44c9851847478b51c47ffb31c3e28454"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Promise.html#a44c9851847478b51c47ffb31c3e28454">Promise</a> ()</td></tr>
<tr class="separator:a44c9851847478b51c47ffb31c3e28454"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5305591189ce8dd10895f679d518cae"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Promise.html#aa5305591189ce8dd10895f679d518cae">~Promise</a> ()</td></tr>
<tr class="separator:aa5305591189ce8dd10895f679d518cae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc87a2cffa49cc2686f3faebbcfa5cd6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Promise.html#adc87a2cffa49cc2686f3faebbcfa5cd6">Promise</a> (<a class="el" href="classfolly_1_1Promise.html">Promise</a> const &amp;)=delete</td></tr>
<tr class="separator:adc87a2cffa49cc2686f3faebbcfa5cd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2073eb10df7fc5797772b2e6e93503d2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1Promise.html">Promise</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Promise.html#a2073eb10df7fc5797772b2e6e93503d2">operator=</a> (<a class="el" href="classfolly_1_1Promise.html">Promise</a> const &amp;)=delete</td></tr>
<tr class="separator:a2073eb10df7fc5797772b2e6e93503d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcb5b9b8ab3422af6626356964625cee"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Promise.html#adcb5b9b8ab3422af6626356964625cee">Promise</a> (<a class="el" href="classfolly_1_1Promise.html">Promise</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt; &amp;&amp;other) noexcept</td></tr>
<tr class="separator:adcb5b9b8ab3422af6626356964625cee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32e2057789f878a370cd917bb5ced106"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1Promise.html">Promise</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Promise.html#a32e2057789f878a370cd917bb5ced106">operator=</a> (<a class="el" href="classfolly_1_1Promise.html">Promise</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt; &amp;&amp;other) noexcept</td></tr>
<tr class="separator:a32e2057789f878a370cd917bb5ced106"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ac72dbffcd9dd3128b99605d7e285cc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1SemiFuture.html">SemiFuture</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Promise.html#a4ac72dbffcd9dd3128b99605d7e285cc">getSemiFuture</a> ()</td></tr>
<tr class="separator:a4ac72dbffcd9dd3128b99605d7e285cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa64a5fe13a4e69d6c02b9affd4691d38"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1Future.html">Future</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Promise.html#aa64a5fe13a4e69d6c02b9affd4691d38">getFuture</a> ()</td></tr>
<tr class="separator:aa64a5fe13a4e69d6c02b9affd4691d38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a67c82f0cb063faa49140177f074521"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Promise.html#a7a67c82f0cb063faa49140177f074521">setException</a> (<a class="el" href="classfolly_1_1exception__wrapper.html">exception_wrapper</a> ew)</td></tr>
<tr class="separator:a7a67c82f0cb063faa49140177f074521"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97ca0885d4378a099ec37ec0604add9b"><td class="memTemplParams" colspan="2">template&lt;class E &gt; </td></tr>
<tr class="memitem:a97ca0885d4378a099ec37ec0604add9b"><td class="memTemplItemLeft" align="right" valign="top">std::enable_if&lt; std::is_base_of&lt; std::exception, <a class="el" href="namespacefolly.html#a15c0704f46fecb8e6e6c8bce719138e7">E</a> &gt;::<a class="el" href="namespacefolly.html#af765fccfa9242184196b4906286ada49">value</a> &gt;::<a class="el" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">type</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1Promise.html#a97ca0885d4378a099ec37ec0604add9b">setException</a> (<a class="el" href="namespacefolly.html#a15c0704f46fecb8e6e6c8bce719138e7">E</a> const &amp;e)</td></tr>
<tr class="separator:a97ca0885d4378a099ec37ec0604add9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17a9720cfbd810f59e150378990b38a1"><td class="memTemplParams" colspan="2">template&lt;typename F &gt; </td></tr>
<tr class="memitem:a17a9720cfbd810f59e150378990b38a1"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1Promise.html#a17a9720cfbd810f59e150378990b38a1">setInterruptHandler</a> (F &amp;&amp;fn)</td></tr>
<tr class="separator:a17a9720cfbd810f59e150378990b38a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab9868d7a0cdb73e36687cb16b9a2fbb"><td class="memTemplParams" colspan="2">template&lt;class B  = T&gt; </td></tr>
<tr class="memitem:aab9868d7a0cdb73e36687cb16b9a2fbb"><td class="memTemplItemLeft" align="right" valign="top">std::enable_if&lt; std::is_same&lt; <a class="el" href="structfolly_1_1Unit.html">Unit</a>, <a class="el" href="structfolly_1_1B.html">B</a> &gt;::<a class="el" href="namespacefolly.html#af765fccfa9242184196b4906286ada49">value</a>, void &gt;::<a class="el" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">type</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1Promise.html#aab9868d7a0cdb73e36687cb16b9a2fbb">setValue</a> ()</td></tr>
<tr class="separator:aab9868d7a0cdb73e36687cb16b9a2fbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afceaf3f97b9eee1290703cad7d05022f"><td class="memTemplParams" colspan="2">template&lt;class M &gt; </td></tr>
<tr class="memitem:afceaf3f97b9eee1290703cad7d05022f"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1Promise.html#afceaf3f97b9eee1290703cad7d05022f">setValue</a> (<a class="el" href="Hazptr_8h.html#af085414af03fc96e8a2d23880396638e">M</a> &amp;&amp;<a class="el" href="namespacefolly.html#af765fccfa9242184196b4906286ada49">value</a>)</td></tr>
<tr class="separator:afceaf3f97b9eee1290703cad7d05022f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a630ee0a30f479ab51ee676cfc4974117"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Promise.html#a630ee0a30f479ab51ee676cfc4974117">setTry</a> (<a class="el" href="classfolly_1_1Try.html">Try</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt; &amp;&amp;t)</td></tr>
<tr class="separator:a630ee0a30f479ab51ee676cfc4974117"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b9fb894ce33cef66b38e2c7c85319f3"><td class="memTemplParams" colspan="2">template&lt;class F &gt; </td></tr>
<tr class="memitem:a7b9fb894ce33cef66b38e2c7c85319f3"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1Promise.html#a7b9fb894ce33cef66b38e2c7c85319f3">setWith</a> (F &amp;&amp;func)</td></tr>
<tr class="separator:a7b9fb894ce33cef66b38e2c7c85319f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24622a91351a1f774c33b3542d5aadb7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Promise.html#a24622a91351a1f774c33b3542d5aadb7">valid</a> () const noexcept</td></tr>
<tr class="separator:a24622a91351a1f774c33b3542d5aadb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3263ea821b78b738295100f2501a0f9d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Promise.html#a3263ea821b78b738295100f2501a0f9d">isFulfilled</a> () const noexcept</td></tr>
<tr class="separator:a3263ea821b78b738295100f2501a0f9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a534916c8e574d4fad2571501c0b60e19"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfolly_1_1Promise.html">Promise</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Promise.html#a534916c8e574d4fad2571501c0b60e19">makeEmpty</a> () noexcept</td></tr>
<tr class="separator:a534916c8e574d4fad2571501c0b60e19"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a35dc88431141f45bc336bbab82a68c6d"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Promise.html#a35dc88431141f45bc336bbab82a68c6d">Core</a> = <a class="el" href="classfolly_1_1futures_1_1detail_1_1Core.html">futures::detail::Core</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;</td></tr>
<tr class="separator:a35dc88431141f45bc336bbab82a68c6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a8077e30b4cb87bbba2031518b73c0f67"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1Promise.html#a35dc88431141f45bc336bbab82a68c6d">Core</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Promise.html#a8077e30b4cb87bbba2031518b73c0f67">getCore</a> ()</td></tr>
<tr class="separator:a8077e30b4cb87bbba2031518b73c0f67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bb7b76526f9805f31ef6458753282ff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1Promise.html#a35dc88431141f45bc336bbab82a68c6d">Core</a> const &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Promise.html#a6bb7b76526f9805f31ef6458753282ff">getCore</a> () const </td></tr>
<tr class="separator:a6bb7b76526f9805f31ef6458753282ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeef4cf3f49d485ef593553fabb865f70"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Promise.html#aeef4cf3f49d485ef593553fabb865f70">Promise</a> (<a class="el" href="structfolly_1_1futures_1_1detail_1_1EmptyConstruct.html">futures::detail::EmptyConstruct</a>) noexcept</td></tr>
<tr class="separator:aeef4cf3f49d485ef593553fabb865f70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b70f3622ca798920e1cb5ac7e0fa5fc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Promise.html#a7b70f3622ca798920e1cb5ac7e0fa5fc">throwIfFulfilled</a> () const </td></tr>
<tr class="separator:a7b70f3622ca798920e1cb5ac7e0fa5fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa47e9914b56d04d91979a0482cd0684f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Promise.html#aa47e9914b56d04d91979a0482cd0684f">detach</a> ()</td></tr>
<tr class="separator:aa47e9914b56d04d91979a0482cd0684f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a85743249526548e921d44aa7c29dd0cf"><td class="memTemplParams" colspan="2">template&lt;typename CoreT &gt; </td></tr>
<tr class="memitem:a85743249526548e921d44aa7c29dd0cf"><td class="memTemplItemLeft" align="right" valign="top">static CoreT &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1Promise.html#a85743249526548e921d44aa7c29dd0cf">getCoreImpl</a> (CoreT *core)</td></tr>
<tr class="separator:a85743249526548e921d44aa7c29dd0cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a771e754a14590fa3b61771a4cc79cc69"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Promise.html#a771e754a14590fa3b61771a4cc79cc69">retrieved_</a></td></tr>
<tr class="separator:a771e754a14590fa3b61771a4cc79cc69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a248c19960b5758191530d3c07e14f3bb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1Promise.html#a35dc88431141f45bc336bbab82a68c6d">Core</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Promise.html#a248c19960b5758191530d3c07e14f3bb">core_</a></td></tr>
<tr class="separator:a248c19960b5758191530d3c07e14f3bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a245b07f64333033d071b6d1a212a0fad"><td class="memTemplParams" colspan="2">template&lt;class &gt; </td></tr>
<tr class="memitem:a245b07f64333033d071b6d1a212a0fad"><td class="memTemplItemLeft" align="right" valign="top">class&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1Promise.html#a245b07f64333033d071b6d1a212a0fad">futures::detail::FutureBase</a></td></tr>
<tr class="separator:a245b07f64333033d071b6d1a212a0fad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94d24a2a8c22141181f4eff7a4b41257"><td class="memTemplParams" colspan="2">template&lt;class &gt; </td></tr>
<tr class="memitem:a94d24a2a8c22141181f4eff7a4b41257"><td class="memTemplItemLeft" align="right" valign="top">class&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1Promise.html#a94d24a2a8c22141181f4eff7a4b41257">SemiFuture</a></td></tr>
<tr class="separator:a94d24a2a8c22141181f4eff7a4b41257"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab033f7626ddfc7f1d62cb3d3952d166e"><td class="memTemplParams" colspan="2">template&lt;class &gt; </td></tr>
<tr class="memitem:ab033f7626ddfc7f1d62cb3d3952d166e"><td class="memTemplItemLeft" align="right" valign="top">class&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1Promise.html#ab033f7626ddfc7f1d62cb3d3952d166e">Future</a></td></tr>
<tr class="separator:ab033f7626ddfc7f1d62cb3d3952d166e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d99f8f40c6f4e9474726abcb2c88dd9"><td class="memTemplParams" colspan="2">template&lt;class , class &gt; </td></tr>
<tr class="memitem:a0d99f8f40c6f4e9474726abcb2c88dd9"><td class="memTemplItemLeft" align="right" valign="top">class&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1Promise.html#a0d99f8f40c6f4e9474726abcb2c88dd9">futures::detail::CoreCallbackState</a></td></tr>
<tr class="separator:a0d99f8f40c6f4e9474726abcb2c88dd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class T&gt;<br />
class folly::Promise&lt; T &gt;</h3>

<p>Promises and futures provide a potentially nonblocking mechanism to execute a producer/consumer operation concurrently, with threading/pools controlled via an executor. There are multiple potential patterns for using promises and futures including some that block the caller, though that is discouraged; it should be used only when necessary.</p>
<p>One typical pattern uses a series of calls to set up a small, limited program that...</p>
<ul>
<li>...performs the desired operations (based on a lambda)...</li>
<li>...on an asynchronously provided input (an exception or a value)...</li>
<li>...lazily, when that input is ready (without blocking the caller)...</li>
<li>...using appropriate execution resources (determined by the executor)...</li>
<li>...then after constructing the 'program,' launches the asynchronous producer.</li>
</ul>
<p>That usage pattern looks roughly like this:</p>
<p>auto [p, f] = makePromiseContract(executor); g = std::move(f).then([](MyValue&amp;&amp; x) { ...executor runs this code if/when a MyValue is ready... }); ...launch the async producer that eventually calls p.setResult()...</p>
<p>This is just one of many potential usage patterns. It has the desired property of being nonblocking to the caller. Of course the <code>.then()</code> code is deferred until the produced value (or exception) is ready, but no code actually blocks pending completion of other operations.</p>
<p>The promise/future mechanism is limited to a single object of some arbitrary type. It also supports a (logically) void result, i.e., in cases where the continuation/consumer (the <code>.then()</code> code if using the above pattern) is not expecting a value because the 'producer' is running for its side-effects.</p>
<p>The primary data movement is from producer to consumer, however <a class="el" href="classfolly_1_1Promise.html">Promise</a> and <a class="el" href="classfolly_1_1Future.html">Future</a> also provide a mechanism where the consumer can send an interruption message to the producer. The meaning and response to that interruption message is controlled by the promise; see <code><a class="el" href="classfolly_1_1Promise.html#a17a9720cfbd810f59e150378990b38a1">Promise::setInterruptHandler()</a></code>.</p>
<p>Neither <a class="el" href="classfolly_1_1Promise.html">Promise</a> nor <a class="el" href="classfolly_1_1Future.html">Future</a> is thread-safe. All internal interactions between a promise and its associated future are thread-safe, provided that callers otherwise honor the promise's contract and the future's contract.</p>
<p>Logically there are up to three threads (though in practice there are often fewer - one thread might take on more than one role):</p>
<ul>
<li>Set-up thread: thread used to construct the <a class="el" href="classfolly_1_1Promise.html">Promise</a>, and often also to set up the SemiFuture/Future.</li>
<li>Producer thread: thread that produces the result.</li>
<li>Consumer thread: thread in which the continuation is invoked (a continuation is a callback provided to <code>.then</code> or to a variant).</li>
</ul>
<p>For description purposes, the term 'shared state' is used to describe the logical state shared by the promise and the future. This 'third object' represents things like whether the result has been fulfilled, the value or exception in that result, and the data needed to handle interruption requests.</p>
<p><a class="el" href="structA.html">A</a> promise can be in various logical states:</p>
<ul>
<li>valid vs. invalid (has vs. does not have a shared state, respectfully).</li>
<li>fulfilled vs. unfulfilled (an invalid promise is always fulfilled; a valid promise is fulfilled if the shared-state has a result).</li>
</ul>
<p><a class="el" href="structA.html">A</a> promise <code>p</code> may optionally have an associated future. This future, if it exists, may be either a <a class="el" href="classfolly_1_1SemiFuture.html">SemiFuture</a> or a <a class="el" href="classfolly_1_1Future.html">Future</a>, and is defined as the future (if any) that holds the same shared state as promise <code>p</code>. The associated future is initially the future returned from <code>p.getFuture()</code> or <code>p.getSemiFuture()</code>, but various operations may transfer the shared state from one future to another. </p>

<p>Definition at line <a class="el" href="Future-pre_8h_source.html#l00023">23</a> of file <a class="el" href="Future-pre_8h_source.html">Future-pre.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a35dc88431141f45bc336bbab82a68c6d"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classfolly_1_1Promise.html">folly::Promise</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::<a class="el" href="classfolly_1_1Promise.html#a35dc88431141f45bc336bbab82a68c6d">Core</a> =  <a class="el" href="classfolly_1_1futures_1_1detail_1_1Core.html">futures::detail::Core</a>&lt;<a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="futures_2Promise_8h_source.html#l00414">414</a> of file <a class="el" href="futures_2Promise_8h_source.html">Promise.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a44c9851847478b51c47ffb31c3e28454"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1Promise.html">folly::Promise</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::<a class="el" href="classfolly_1_1Promise.html">Promise</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructs a valid but unfulfilled promise.</p>
<p>Postconditions:</p>
<ul>
<li><code><a class="el" href="classfolly_1_1Promise.html#a24622a91351a1f774c33b3542d5aadb7">valid()</a> == true</code> (it will have a shared state)</li>
<li><code><a class="el" href="classfolly_1_1Promise.html#a3263ea821b78b738295100f2501a0f9d">isFulfilled()</a> == false</code> (its shared state won't have a result) </li>
</ul>

<p>Definition at line <a class="el" href="futures_2Promise-inl_8h_source.html#l00045">45</a> of file <a class="el" href="futures_2Promise-inl_8h_source.html">Promise-inl.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;: <a class="code" href="classfolly_1_1Promise.html#a771e754a14590fa3b61771a4cc79cc69">retrieved_</a>(<span class="keyword">false</span>), <a class="code" href="classfolly_1_1Promise.html#a248c19960b5758191530d3c07e14f3bb">core_</a>(<a class="code" href="classfolly_1_1futures_1_1detail_1_1Core.html#a02967cbe1562fe123bc4565bfccfce57">Core::make</a>()) {}</div><div class="ttc" id="classfolly_1_1Promise_html_a248c19960b5758191530d3c07e14f3bb"><div class="ttname"><a href="classfolly_1_1Promise.html#a248c19960b5758191530d3c07e14f3bb">folly::Promise::core_</a></div><div class="ttdeci">Core * core_</div><div class="ttdef"><b>Definition:</b> <a href="futures_2Promise_8h_source.html#l00438">Promise.h:438</a></div></div>
<div class="ttc" id="classfolly_1_1Promise_html_a771e754a14590fa3b61771a4cc79cc69"><div class="ttname"><a href="classfolly_1_1Promise.html#a771e754a14590fa3b61771a4cc79cc69">folly::Promise::retrieved_</a></div><div class="ttdeci">bool retrieved_</div><div class="ttdef"><b>Definition:</b> <a href="futures_2Promise_8h_source.html#l00412">Promise.h:412</a></div></div>
<div class="ttc" id="classfolly_1_1futures_1_1detail_1_1Core_html_a02967cbe1562fe123bc4565bfccfce57"><div class="ttname"><a href="classfolly_1_1futures_1_1detail_1_1Core.html#a02967cbe1562fe123bc4565bfccfce57">folly::futures::detail::Core::make</a></div><div class="ttdeci">static Core * make()</div><div class="ttdoc">State will be Start. </div><div class="ttdef"><b>Definition:</b> <a href="futures_2detail_2Core_8h_source.html#l00205">Core.h:205</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa5305591189ce8dd10895f679d518cae"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1Promise.html">folly::Promise</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::~<a class="el" href="classfolly_1_1Promise.html">Promise</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Postconditions:</p>
<ul>
<li>If <code><a class="el" href="classfolly_1_1Promise.html#a24622a91351a1f774c33b3542d5aadb7">valid()</a></code> and <code>!isFulfilled()</code>, the associated future (if any) will be completed with a <code><a class="el" href="classfolly_1_1BrokenPromise.html">BrokenPromise</a></code> exception <em>as if</em> by <code>setException(...)</code>.</li>
<li>If <code><a class="el" href="classfolly_1_1Promise.html#a24622a91351a1f774c33b3542d5aadb7">valid()</a></code>, releases, possibly destroying, the shared state. </li>
</ul>

<p>Definition at line <a class="el" href="futures_2Promise-inl_8h_source.html#l00072">72</a> of file <a class="el" href="futures_2Promise-inl_8h_source.html">Promise-inl.h</a>.</p>

<p>References <a class="el" href="futures_2Promise-inl_8h_source.html#l00077">folly::Promise&lt; T &gt;::detach()</a>.</p>
<div class="fragment"><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                     {</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <a class="code" href="classfolly_1_1Promise.html#aa47e9914b56d04d91979a0482cd0684f">detach</a>();</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;}</div><div class="ttc" id="classfolly_1_1Promise_html_aa47e9914b56d04d91979a0482cd0684f"><div class="ttname"><a href="classfolly_1_1Promise.html#aa47e9914b56d04d91979a0482cd0684f">folly::Promise::detach</a></div><div class="ttdeci">void detach()</div><div class="ttdef"><b>Definition:</b> <a href="futures_2Promise-inl_8h_source.html#l00077">Promise-inl.h:77</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adc87a2cffa49cc2686f3faebbcfa5cd6"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1Promise.html">folly::Promise</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::<a class="el" href="classfolly_1_1Promise.html">Promise</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1Promise.html">Promise</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt; const &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="adcb5b9b8ab3422af6626356964625cee"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1Promise.html">folly::Promise</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::<a class="el" href="classfolly_1_1Promise.html">Promise</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1Promise.html">Promise</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt; &amp;&amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Move ctor</p>
<p>Postconditions:</p>
<ul>
<li><code>this</code> will have whatever shared-state was previously held by <code>other</code> (if any)</li>
<li><code>other.valid()</code> will be false (<code>other</code> will not have any shared state) </li>
</ul>

<p>Definition at line <a class="el" href="futures_2Promise-inl_8h_source.html#l00048">48</a> of file <a class="el" href="futures_2Promise-inl_8h_source.html">Promise-inl.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    : <a class="code" href="classfolly_1_1Promise.html#a771e754a14590fa3b61771a4cc79cc69">retrieved_</a>(<a class="code" href="namespacefolly.html#ab192e7aacc86b36de9b85fa7c16c3f5b">exchange</a>(other.retrieved_, <span class="keyword">false</span>)),</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;      <a class="code" href="classfolly_1_1Promise.html#a248c19960b5758191530d3c07e14f3bb">core_</a>(<a class="code" href="namespacefolly.html#ab192e7aacc86b36de9b85fa7c16c3f5b">exchange</a>(other.core_, <span class="keyword">nullptr</span>)) {}</div><div class="ttc" id="classfolly_1_1Promise_html_a248c19960b5758191530d3c07e14f3bb"><div class="ttname"><a href="classfolly_1_1Promise.html#a248c19960b5758191530d3c07e14f3bb">folly::Promise::core_</a></div><div class="ttdeci">Core * core_</div><div class="ttdef"><b>Definition:</b> <a href="futures_2Promise_8h_source.html#l00438">Promise.h:438</a></div></div>
<div class="ttc" id="namespacefolly_html_ab192e7aacc86b36de9b85fa7c16c3f5b"><div class="ttname"><a href="namespacefolly.html#ab192e7aacc86b36de9b85fa7c16c3f5b">folly::exchange</a></div><div class="ttdeci">T exchange(T &amp;obj, U &amp;&amp;new_value)</div><div class="ttdef"><b>Definition:</b> <a href="Utility_8h_source.html#l00120">Utility.h:120</a></div></div>
<div class="ttc" id="classfolly_1_1Promise_html_a771e754a14590fa3b61771a4cc79cc69"><div class="ttname"><a href="classfolly_1_1Promise.html#a771e754a14590fa3b61771a4cc79cc69">folly::Promise::retrieved_</a></div><div class="ttdeci">bool retrieved_</div><div class="ttdef"><b>Definition:</b> <a href="futures_2Promise_8h_source.html#l00412">Promise.h:412</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aeef4cf3f49d485ef593553fabb865f70"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1Promise.html">folly::Promise</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::<a class="el" href="classfolly_1_1Promise.html">Promise</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfolly_1_1futures_1_1detail_1_1EmptyConstruct.html">futures::detail::EmptyConstruct</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span><span class="mlabel">private</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="futures_2Promise-inl_8h_source.html#l00068">68</a> of file <a class="el" href="futures_2Promise-inl_8h_source.html">Promise-inl.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    : <a class="code" href="classfolly_1_1Promise.html#a771e754a14590fa3b61771a4cc79cc69">retrieved_</a>(<span class="keyword">false</span>), <a class="code" href="classfolly_1_1Promise.html#a248c19960b5758191530d3c07e14f3bb">core_</a>(<span class="keyword">nullptr</span>) {}</div><div class="ttc" id="classfolly_1_1Promise_html_a248c19960b5758191530d3c07e14f3bb"><div class="ttname"><a href="classfolly_1_1Promise.html#a248c19960b5758191530d3c07e14f3bb">folly::Promise::core_</a></div><div class="ttdeci">Core * core_</div><div class="ttdef"><b>Definition:</b> <a href="futures_2Promise_8h_source.html#l00438">Promise.h:438</a></div></div>
<div class="ttc" id="classfolly_1_1Promise_html_a771e754a14590fa3b61771a4cc79cc69"><div class="ttname"><a href="classfolly_1_1Promise.html#a771e754a14590fa3b61771a4cc79cc69">folly::Promise::retrieved_</a></div><div class="ttdeci">bool retrieved_</div><div class="ttdef"><b>Definition:</b> <a href="futures_2Promise_8h_source.html#l00412">Promise.h:412</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aa47e9914b56d04d91979a0482cd0684f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classfolly_1_1Promise.html">folly::Promise</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::detach </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="futures_2Promise-inl_8h_source.html#l00077">77</a> of file <a class="el" href="futures_2Promise-inl_8h_source.html">Promise-inl.h</a>.</p>

<p>References <a class="el" href="futures_2Promise_8h_source.html#l00438">folly::Promise&lt; T &gt;::core_</a>, <a class="el" href="futures_2Promise-inl_8h_source.html#l00030">folly::futures::detail::coreDetachPromiseMaybeWithResult()</a>, <a class="el" href="futures_2detail_2Core_8h_source.html#l00409">folly::futures::detail::Core&lt; T &gt;::detachFuture()</a>, and <a class="el" href="futures_2Promise_8h_source.html#l00412">folly::Promise&lt; T &gt;::retrieved_</a>.</p>

<p>Referenced by <a class="el" href="futures_2Promise-inl_8h_source.html#l00053">folly::Promise&lt; T &gt;::operator=()</a>, and <a class="el" href="futures_2Promise-inl_8h_source.html#l00072">folly::Promise&lt; T &gt;::~Promise()</a>.</p>
<div class="fragment"><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                        {</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1Promise.html#a248c19960b5758191530d3c07e14f3bb">core_</a>) {</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classfolly_1_1Promise.html#a771e754a14590fa3b61771a4cc79cc69">retrieved_</a>) {</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;      <a class="code" href="classfolly_1_1Promise.html#a248c19960b5758191530d3c07e14f3bb">core_</a>-&gt;<a class="code" href="classfolly_1_1futures_1_1detail_1_1Core.html#a3656078af041f1a517115e7ab86813bb">detachFuture</a>();</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    }</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <a class="code" href="namespacefolly_1_1futures_1_1detail.html#a24fcf7a79abf3db58df49363b4f31329">futures::detail::coreDetachPromiseMaybeWithResult</a>(*<a class="code" href="classfolly_1_1Promise.html#a248c19960b5758191530d3c07e14f3bb">core_</a>);</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="classfolly_1_1Promise.html#a248c19960b5758191530d3c07e14f3bb">core_</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  }</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;}</div><div class="ttc" id="namespacefolly_1_1futures_1_1detail_html_a24fcf7a79abf3db58df49363b4f31329"><div class="ttname"><a href="namespacefolly_1_1futures_1_1detail.html#a24fcf7a79abf3db58df49363b4f31329">folly::futures::detail::coreDetachPromiseMaybeWithResult</a></div><div class="ttdeci">void coreDetachPromiseMaybeWithResult(Core&lt; T &gt; &amp;core)</div><div class="ttdef"><b>Definition:</b> <a href="futures_2Promise-inl_8h_source.html#l00030">Promise-inl.h:30</a></div></div>
<div class="ttc" id="classfolly_1_1futures_1_1detail_1_1Core_html_a3656078af041f1a517115e7ab86813bb"><div class="ttname"><a href="classfolly_1_1futures_1_1detail_1_1Core.html#a3656078af041f1a517115e7ab86813bb">folly::futures::detail::Core::detachFuture</a></div><div class="ttdeci">void detachFuture() noexcept</div><div class="ttdef"><b>Definition:</b> <a href="futures_2detail_2Core_8h_source.html#l00409">Core.h:409</a></div></div>
<div class="ttc" id="classfolly_1_1Promise_html_a248c19960b5758191530d3c07e14f3bb"><div class="ttname"><a href="classfolly_1_1Promise.html#a248c19960b5758191530d3c07e14f3bb">folly::Promise::core_</a></div><div class="ttdeci">Core * core_</div><div class="ttdef"><b>Definition:</b> <a href="futures_2Promise_8h_source.html#l00438">Promise.h:438</a></div></div>
<div class="ttc" id="classfolly_1_1Promise_html_a771e754a14590fa3b61771a4cc79cc69"><div class="ttname"><a href="classfolly_1_1Promise.html#a771e754a14590fa3b61771a4cc79cc69">folly::Promise::retrieved_</a></div><div class="ttdeci">bool retrieved_</div><div class="ttdef"><b>Definition:</b> <a href="futures_2Promise_8h_source.html#l00412">Promise.h:412</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8077e30b4cb87bbba2031518b73c0f67"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1Promise.html#a35dc88431141f45bc336bbab82a68c6d">Core</a>&amp; <a class="el" href="classfolly_1_1Promise.html">folly::Promise</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::getCore </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="futures_2Promise_8h_source.html#l00421">421</a> of file <a class="el" href="futures_2Promise_8h_source.html">Promise.h</a>.</p>

<p>Referenced by <a class="el" href="futures_2Promise-inl_8h_source.html#l00088">folly::Promise&lt; T &gt;::getSemiFuture()</a>, <a class="el" href="futures_2Promise-inl_8h_source.html#l00117">folly::Promise&lt; T &gt;::setInterruptHandler()</a>, and <a class="el" href="futures_2Promise-inl_8h_source.html#l00061">folly::Promise&lt; T &gt;::throwIfFulfilled()</a>.</p>
<div class="fragment"><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                  {</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1Promise.html#a85743249526548e921d44aa7c29dd0cf">getCoreImpl</a>(<a class="code" href="classfolly_1_1Promise.html#a248c19960b5758191530d3c07e14f3bb">core_</a>);</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  }</div><div class="ttc" id="classfolly_1_1Promise_html_a85743249526548e921d44aa7c29dd0cf"><div class="ttname"><a href="classfolly_1_1Promise.html#a85743249526548e921d44aa7c29dd0cf">folly::Promise::getCoreImpl</a></div><div class="ttdeci">static CoreT &amp; getCoreImpl(CoreT *core)</div><div class="ttdef"><b>Definition:</b> <a href="futures_2Promise_8h_source.html#l00429">Promise.h:429</a></div></div>
<div class="ttc" id="classfolly_1_1Promise_html_a248c19960b5758191530d3c07e14f3bb"><div class="ttname"><a href="classfolly_1_1Promise.html#a248c19960b5758191530d3c07e14f3bb">folly::Promise::core_</a></div><div class="ttdeci">Core * core_</div><div class="ttdef"><b>Definition:</b> <a href="futures_2Promise_8h_source.html#l00438">Promise.h:438</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6bb7b76526f9805f31ef6458753282ff"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1Promise.html#a35dc88431141f45bc336bbab82a68c6d">Core</a> const&amp; <a class="el" href="classfolly_1_1Promise.html">folly::Promise</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::getCore </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="futures_2Promise_8h_source.html#l00424">424</a> of file <a class="el" href="futures_2Promise_8h_source.html">Promise.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                              {</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1Promise.html#a85743249526548e921d44aa7c29dd0cf">getCoreImpl</a>(<a class="code" href="classfolly_1_1Promise.html#a248c19960b5758191530d3c07e14f3bb">core_</a>);</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  }</div><div class="ttc" id="classfolly_1_1Promise_html_a85743249526548e921d44aa7c29dd0cf"><div class="ttname"><a href="classfolly_1_1Promise.html#a85743249526548e921d44aa7c29dd0cf">folly::Promise::getCoreImpl</a></div><div class="ttdeci">static CoreT &amp; getCoreImpl(CoreT *core)</div><div class="ttdef"><b>Definition:</b> <a href="futures_2Promise_8h_source.html#l00429">Promise.h:429</a></div></div>
<div class="ttc" id="classfolly_1_1Promise_html_a248c19960b5758191530d3c07e14f3bb"><div class="ttname"><a href="classfolly_1_1Promise.html#a248c19960b5758191530d3c07e14f3bb">folly::Promise::core_</a></div><div class="ttdeci">Core * core_</div><div class="ttdef"><b>Definition:</b> <a href="futures_2Promise_8h_source.html#l00438">Promise.h:438</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a85743249526548e921d44aa7c29dd0cf"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
<div class="memtemplate">
template&lt;typename CoreT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static CoreT&amp; <a class="el" href="classfolly_1_1Promise.html">folly::Promise</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::getCoreImpl </td>
          <td>(</td>
          <td class="paramtype">CoreT *&#160;</td>
          <td class="paramname"><em>core</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="futures_2Promise_8h_source.html#l00429">429</a> of file <a class="el" href="futures_2Promise_8h_source.html">Promise.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                                         {</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordflow">if</span> (!core) {</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      throw_exception&lt;PromiseInvalid&gt;();</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    }</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordflow">return</span> *core;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa64a5fe13a4e69d6c02b9affd4691d38"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1Future.html">Future</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt; <a class="el" href="classfolly_1_1Promise.html">folly::Promise</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::getFuture </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a <a class="el" href="classfolly_1_1Future.html">Future</a> associated with this <a class="el" href="classfolly_1_1Promise.html">Promise</a>, sharing the same shared state as <code>this</code>.</p>
<p>Preconditions:</p>
<ul>
<li><code><a class="el" href="classfolly_1_1Promise.html#a24622a91351a1f774c33b3542d5aadb7">valid()</a> == true</code> (else throws <a class="el" href="classfolly_1_1PromiseInvalid.html">PromiseInvalid</a>)</li>
<li>neither <a class="el" href="classfolly_1_1Promise.html#a4ac72dbffcd9dd3128b99605d7e285cc">getSemiFuture()</a> nor <a class="el" href="classfolly_1_1Promise.html#aa64a5fe13a4e69d6c02b9affd4691d38">getFuture()</a> may have been called previously on <code>this</code> <a class="el" href="classfolly_1_1Promise.html">Promise</a> (else throws <a class="el" href="classfolly_1_1FutureAlreadyRetrieved.html">FutureAlreadyRetrieved</a>)</li>
</ul>
<p>Postconditions:</p>
<ul>
<li><code>RESULT.valid() == true</code></li>
<li>RESULT will share the same shared-state as <code>this</code></li>
</ul>
<p>DEPRECATED: use <code><a class="el" href="namespacefolly.html#a54f7147bf9bdc2dd0bf8f3fd166fe8e0">folly::makePromiseContract()</a></code> instead. If you can't use that, use <code>this-&gt;<a class="el" href="classfolly_1_1Promise.html#a4ac72dbffcd9dd3128b99605d7e285cc">getSemiFuture()</a></code> then get a <a class="el" href="classfolly_1_1Future.html">Future</a> by calling <code>.<a class="el" href="namespacefolly.html#ad8577f68fd0aaeeb5a563c9cb8fe0d49">via()</a></code> with an appropriate executor. </p>

<p>Definition at line <a class="el" href="futures_2Promise-inl_8h_source.html#l00097">97</a> of file <a class="el" href="futures_2Promise-inl_8h_source.html">Promise-inl.h</a>.</p>

<p>References <a class="el" href="futures_2Promise-inl_8h_source.html#l00088">folly::Promise&lt; T &gt;::getSemiFuture()</a>, <a class="el" href="InlineExecutor_8h_source.html#l00033">folly::InlineExecutor::instance()</a>, <a class="el" href="ClientProtocol_8cpp_source.html#l00777">type</a>, and <a class="el" href="Conv_8cpp_source.html#l00050">value</a>.</p>

<p>Referenced by <a class="el" href="BatchDispatcher_8h_source.html#l00083">folly::fibers::BatchDispatcher&lt; ValueT, ResultT, ExecutorT &gt;::add()</a>, <a class="el" href="FutureExecutor_8h_source.html#l00044">folly::FutureExecutor&lt; ExecutorImpl &gt;::addFuture()</a>, <a class="el" href="FiberManager-inl_8h_source.html#l00025">folly::fibers::FiberManager::addTaskFuture()</a>, <a class="el" href="FiberManager-inl_8h_source.html#l00041">folly::fibers::FiberManager::addTaskRemoteFuture()</a>, <a class="el" href="ServiceTest_8cpp_source.html#l00260">wangle::TimekeeperTester::after()</a>, <a class="el" href="ServiceTest_8cpp_source.html#l00267">wangle::TimekeeperTester::at()</a>, <a class="el" href="futures_2test_2Benchmark_8cpp_source.html#l00049">BENCHMARK_RELATIVE()</a>, <a class="el" href="ClientBootstrap_8h_source.html#l00099">wangle::ClientBootstrap&lt; DefaultPipeline &gt;::connect()</a>, <a class="el" href="futures_2test_2Benchmark_8cpp_source.html#l00340">fGen()</a>, <a class="el" href="simple_8h_source.html#l00025">folly::python::test::future_getValueX5()</a>, <a class="el" href="AsyncSSLSocketTest2_8cpp_source.html#l00086">folly::AttachDetachClient::getFuture()</a>, <a class="el" href="ClientDispatcher_8h_source.html#l00113">wangle::PipelinedClientDispatcher&lt; Pipeline, Req, Resp &gt;::operator()()</a>, <a class="el" href="HTTPDownstreamSessionTest_8cpp_source.html#l00130">HTTPDownstreamTest&lt; SPDY3_1CodecPair &gt;::sendRequestLater()</a>, <a class="el" href="CollectTest_8cpp_source.html#l00682">TEST()</a>, <a class="el" href="ObservingHandlerTest_8cpp_source.html#l00123">TEST_F()</a>, <a class="el" href="AsyncFizzServerTest_8cpp_source.html#l00266">fizz::server::test::TEST_F()</a>, <a class="el" href="FizzBaseTest_8cpp_source.html#l00358">fizz::test::TEST_F()</a>, and <a class="el" href="Future-inl_8h_source.html#l01881">folly::unorderedReduce()</a>.</p>
<div class="fragment"><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                                {</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="comment">// An InlineExecutor approximates the old behaviour of continuations</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="comment">// running inine on setting the value of the promise.</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1Promise.html#a4ac72dbffcd9dd3128b99605d7e285cc">getSemiFuture</a>().via(&amp;<a class="code" href="classfolly_1_1InlineExecutor.html#a43a04108e86354efaab1a82250e72c5e">InlineExecutor::instance</a>());</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;}</div><div class="ttc" id="classfolly_1_1InlineExecutor_html_a43a04108e86354efaab1a82250e72c5e"><div class="ttname"><a href="classfolly_1_1InlineExecutor.html#a43a04108e86354efaab1a82250e72c5e">folly::InlineExecutor::instance</a></div><div class="ttdeci">FOLLY_ATTR_VISIBILITY_HIDDEN static FOLLY_ALWAYS_INLINE InlineExecutor &amp; instance() noexcept</div><div class="ttdef"><b>Definition:</b> <a href="InlineExecutor_8h_source.html#l00033">InlineExecutor.h:33</a></div></div>
<div class="ttc" id="classfolly_1_1Promise_html_a4ac72dbffcd9dd3128b99605d7e285cc"><div class="ttname"><a href="classfolly_1_1Promise.html#a4ac72dbffcd9dd3128b99605d7e285cc">folly::Promise::getSemiFuture</a></div><div class="ttdeci">SemiFuture&lt; T &gt; getSemiFuture()</div><div class="ttdef"><b>Definition:</b> <a href="futures_2Promise-inl_8h_source.html#l00088">Promise-inl.h:88</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4ac72dbffcd9dd3128b99605d7e285cc"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1SemiFuture.html">SemiFuture</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt; <a class="el" href="classfolly_1_1Promise.html">folly::Promise</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::getSemiFuture </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a <a class="el" href="classfolly_1_1SemiFuture.html">SemiFuture</a> associated with this <a class="el" href="classfolly_1_1Promise.html">Promise</a>, sharing the same shared state as <code>this</code>.</p>
<p>Preconditions:</p>
<ul>
<li><code><a class="el" href="classfolly_1_1Promise.html#a24622a91351a1f774c33b3542d5aadb7">valid()</a> == true</code> (else throws <a class="el" href="classfolly_1_1PromiseInvalid.html">PromiseInvalid</a>)</li>
<li>neither <a class="el" href="classfolly_1_1Promise.html#a4ac72dbffcd9dd3128b99605d7e285cc">getSemiFuture()</a> nor <a class="el" href="classfolly_1_1Promise.html#aa64a5fe13a4e69d6c02b9affd4691d38">getFuture()</a> may have been called previously on <code>this</code> <a class="el" href="classfolly_1_1Promise.html">Promise</a> (else throws <a class="el" href="classfolly_1_1FutureAlreadyRetrieved.html">FutureAlreadyRetrieved</a>)</li>
</ul>
<p>Postconditions:</p>
<ul>
<li><code>RESULT.valid() == true</code></li>
<li>RESULT will share the same shared-state as <code>this</code></li>
</ul>
<p>DEPRECATED: use <code><a class="el" href="namespacefolly.html#a54f7147bf9bdc2dd0bf8f3fd166fe8e0">folly::makePromiseContract()</a></code> instead. </p>

<p>Definition at line <a class="el" href="futures_2Promise-inl_8h_source.html#l00088">88</a> of file <a class="el" href="futures_2Promise-inl_8h_source.html">Promise-inl.h</a>.</p>

<p>References <a class="el" href="futures_2Promise_8h_source.html#l00421">folly::Promise&lt; T &gt;::getCore()</a>, and <a class="el" href="futures_2Promise_8h_source.html#l00412">folly::Promise&lt; T &gt;::retrieved_</a>.</p>

<p>Referenced by <a class="el" href="Future-inl_8h_source.html#l00376">folly::futures::detail::chainExecutor()</a>, <a class="el" href="Future-inl_8h_source.html#l01618">folly::collectAny()</a>, <a class="el" href="futures_2Promise-inl_8h_source.html#l00097">folly::Promise&lt; T &gt;::getFuture()</a>, <a class="el" href="Future-inl_8h_source.html#l01131">folly::Future&lt; T &gt;::onError()</a>, <a class="el" href="Future-inl_8h_source.html#l01213">folly::Future&lt; T &gt;::onTimeout()</a>, <a class="el" href="FutureSplitterTest_8cpp_source.html#l00022">TEST()</a>, <a class="el" href="Future-inl_8h_source.html#l00311">folly::futures::detail::FutureBase&lt; T &gt;::thenImplementation()</a>, <a class="el" href="Future-inl_8h_source.html#l01024">folly::Future&lt; T &gt;::via()</a>, <a class="el" href="Future-inl_8h_source.html#l02106">folly::SemiFuture&lt; T &gt;::wait()</a>, and <a class="el" href="Future-inl_8h_source.html#l02004">folly::futures::detail::waitImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                                        {</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1Promise.html#a771e754a14590fa3b61771a4cc79cc69">retrieved_</a>) {</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    throw_exception&lt;FutureAlreadyRetrieved&gt;();</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  }</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <a class="code" href="classfolly_1_1Promise.html#a771e754a14590fa3b61771a4cc79cc69">retrieved_</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="keywordflow">return</span> SemiFuture&lt;T&gt;(&amp;<a class="code" href="classfolly_1_1Promise.html#a8077e30b4cb87bbba2031518b73c0f67">getCore</a>());</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;}</div><div class="ttc" id="classfolly_1_1Promise_html_a8077e30b4cb87bbba2031518b73c0f67"><div class="ttname"><a href="classfolly_1_1Promise.html#a8077e30b4cb87bbba2031518b73c0f67">folly::Promise::getCore</a></div><div class="ttdeci">Core &amp; getCore()</div><div class="ttdef"><b>Definition:</b> <a href="futures_2Promise_8h_source.html#l00421">Promise.h:421</a></div></div>
<div class="ttc" id="classfolly_1_1Promise_html_a771e754a14590fa3b61771a4cc79cc69"><div class="ttname"><a href="classfolly_1_1Promise.html#a771e754a14590fa3b61771a4cc79cc69">folly::Promise::retrieved_</a></div><div class="ttdeci">bool retrieved_</div><div class="ttdef"><b>Definition:</b> <a href="futures_2Promise_8h_source.html#l00412">Promise.h:412</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3263ea821b78b738295100f2501a0f9d"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classfolly_1_1Promise.html">folly::Promise</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::isFulfilled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>True if either this promise was fulfilled or is invalid.</p>
<ul>
<li>True if <code>!valid()</code></li>
<li>True if <code><a class="el" href="classfolly_1_1Promise.html#a24622a91351a1f774c33b3542d5aadb7">valid()</a></code> and this was fulfilled (a prior call to <code><a class="el" href="classfolly_1_1Promise.html#aab9868d7a0cdb73e36687cb16b9a2fbb">setValue()</a></code>, <code><a class="el" href="classfolly_1_1Promise.html#a630ee0a30f479ab51ee676cfc4974117">setTry()</a></code>, <code><a class="el" href="classfolly_1_1Promise.html#a7a67c82f0cb063faa49140177f074521">setException()</a></code>, or <code><a class="el" href="classfolly_1_1Promise.html#a7b9fb894ce33cef66b38e2c7c85319f3">setWith()</a></code>) </li>
</ul>

<p>Definition at line <a class="el" href="futures_2Promise-inl_8h_source.html#l00143">143</a> of file <a class="el" href="futures_2Promise-inl_8h_source.html">Promise-inl.h</a>.</p>

<p>References <a class="el" href="futures_2Promise_8h_source.html#l00438">folly::Promise&lt; T &gt;::core_</a>, and <a class="el" href="futures_2detail_2Core_8h_source.html#l00242">folly::futures::detail::Core&lt; T &gt;::hasResult()</a>.</p>

<p>Referenced by <a class="el" href="PromiseTest_8cpp_source.html#l00341">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                                            {</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1Promise.html#a248c19960b5758191530d3c07e14f3bb">core_</a>) {</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1Promise.html#a248c19960b5758191530d3c07e14f3bb">core_</a>-&gt;<a class="code" href="classfolly_1_1futures_1_1detail_1_1Core.html#a07e27530b8d4f76657f8bad2889f744f">hasResult</a>();</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  }</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;}</div><div class="ttc" id="classfolly_1_1Promise_html_a248c19960b5758191530d3c07e14f3bb"><div class="ttname"><a href="classfolly_1_1Promise.html#a248c19960b5758191530d3c07e14f3bb">folly::Promise::core_</a></div><div class="ttdeci">Core * core_</div><div class="ttdef"><b>Definition:</b> <a href="futures_2Promise_8h_source.html#l00438">Promise.h:438</a></div></div>
<div class="ttc" id="classfolly_1_1futures_1_1detail_1_1Core_html_a07e27530b8d4f76657f8bad2889f744f"><div class="ttname"><a href="classfolly_1_1futures_1_1detail_1_1Core.html#a07e27530b8d4f76657f8bad2889f744f">folly::futures::detail::Core::hasResult</a></div><div class="ttdeci">bool hasResult() const noexcept</div><div class="ttdef"><b>Definition:</b> <a href="futures_2detail_2Core_8h_source.html#l00242">Core.h:242</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a534916c8e574d4fad2571501c0b60e19"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1Promise.html">Promise</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt; <a class="el" href="classfolly_1_1Promise.html">folly::Promise</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::makeEmpty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns an invalid promise.</p>
<p>Postconditions:</p>
<ul>
<li><code>RESULT.valid() == false</code></li>
<li><code>RESULT.isFulfilled() == true</code> </li>
</ul>

<p>Definition at line <a class="el" href="futures_2Promise-inl_8h_source.html#l00040">40</a> of file <a class="el" href="futures_2Promise-inl_8h_source.html">Promise-inl.h</a>.</p>

<p>Referenced by <a class="el" href="PromiseTest_8cpp_source.html#l00029">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;                                          {</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <span class="keywordflow">return</span> Promise&lt;T&gt;(futures::detail::EmptyConstruct{});</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2073eb10df7fc5797772b2e6e93503d2"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1Promise.html">Promise</a>&amp; <a class="el" href="classfolly_1_1Promise.html">folly::Promise</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1Promise.html">Promise</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt; const &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a32e2057789f878a370cd917bb5ced106"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1Promise.html">Promise</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt; &amp; <a class="el" href="classfolly_1_1Promise.html">folly::Promise</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1Promise.html">Promise</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt; &amp;&amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Move assignment</p>
<p>Postconditions:</p>
<ul>
<li>If <code><a class="el" href="classfolly_1_1Promise.html#a24622a91351a1f774c33b3542d5aadb7">valid()</a></code> and <code>!isFulfilled()</code>, the associated future (if any) will be completed with a <code><a class="el" href="classfolly_1_1BrokenPromise.html">BrokenPromise</a></code> exception <em>as if</em> by <code>setException(...)</code>.</li>
<li>If <code><a class="el" href="classfolly_1_1Promise.html#a24622a91351a1f774c33b3542d5aadb7">valid()</a></code>, releases, possibly destroying, the original shared state.</li>
<li><code>this</code> will have whatever shared-state was previously held by <code>other</code> (if any)</li>
<li><code>other.valid()</code> will be false (<code>other</code> will not have any shared state) </li>
</ul>

<p>Definition at line <a class="el" href="futures_2Promise-inl_8h_source.html#l00053">53</a> of file <a class="el" href="futures_2Promise-inl_8h_source.html">Promise-inl.h</a>.</p>

<p>References <a class="el" href="futures_2Promise_8h_source.html#l00438">folly::Promise&lt; T &gt;::core_</a>, <a class="el" href="futures_2Promise-inl_8h_source.html#l00077">folly::Promise&lt; T &gt;::detach()</a>, <a class="el" href="Utility_8h_source.html#l00120">folly::exchange()</a>, and <a class="el" href="futures_2Promise_8h_source.html#l00412">folly::Promise&lt; T &gt;::retrieved_</a>.</p>
<div class="fragment"><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                                                             {</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <a class="code" href="classfolly_1_1Promise.html#aa47e9914b56d04d91979a0482cd0684f">detach</a>();</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <a class="code" href="classfolly_1_1Promise.html#a771e754a14590fa3b61771a4cc79cc69">retrieved_</a> = <a class="code" href="namespacefolly.html#ab192e7aacc86b36de9b85fa7c16c3f5b">exchange</a>(other.retrieved_, <span class="keyword">false</span>);</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <a class="code" href="classfolly_1_1Promise.html#a248c19960b5758191530d3c07e14f3bb">core_</a> = <a class="code" href="namespacefolly.html#ab192e7aacc86b36de9b85fa7c16c3f5b">exchange</a>(other.core_, <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;}</div><div class="ttc" id="classfolly_1_1Promise_html_a248c19960b5758191530d3c07e14f3bb"><div class="ttname"><a href="classfolly_1_1Promise.html#a248c19960b5758191530d3c07e14f3bb">folly::Promise::core_</a></div><div class="ttdeci">Core * core_</div><div class="ttdef"><b>Definition:</b> <a href="futures_2Promise_8h_source.html#l00438">Promise.h:438</a></div></div>
<div class="ttc" id="classfolly_1_1Promise_html_aa47e9914b56d04d91979a0482cd0684f"><div class="ttname"><a href="classfolly_1_1Promise.html#aa47e9914b56d04d91979a0482cd0684f">folly::Promise::detach</a></div><div class="ttdeci">void detach()</div><div class="ttdef"><b>Definition:</b> <a href="futures_2Promise-inl_8h_source.html#l00077">Promise-inl.h:77</a></div></div>
<div class="ttc" id="namespacefolly_html_ab192e7aacc86b36de9b85fa7c16c3f5b"><div class="ttname"><a href="namespacefolly.html#ab192e7aacc86b36de9b85fa7c16c3f5b">folly::exchange</a></div><div class="ttdeci">T exchange(T &amp;obj, U &amp;&amp;new_value)</div><div class="ttdef"><b>Definition:</b> <a href="Utility_8h_source.html#l00120">Utility.h:120</a></div></div>
<div class="ttc" id="classfolly_1_1Promise_html_a771e754a14590fa3b61771a4cc79cc69"><div class="ttname"><a href="classfolly_1_1Promise.html#a771e754a14590fa3b61771a4cc79cc69">folly::Promise::retrieved_</a></div><div class="ttdeci">bool retrieved_</div><div class="ttdef"><b>Definition:</b> <a href="futures_2Promise_8h_source.html#l00412">Promise.h:412</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7a67c82f0cb063faa49140177f074521"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classfolly_1_1Promise.html">folly::Promise</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::setException </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1exception__wrapper.html">exception_wrapper</a>&#160;</td>
          <td class="paramname"><em>ew</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fulfill the <a class="el" href="classfolly_1_1Promise.html">Promise</a> with an <a class="el" href="classfolly_1_1exception__wrapper.html">exception_wrapper</a>.</p>
<p>Sample usage:</p>
<p>Promise&lt;MyValue&gt; p = ... ... auto const ep = std::exception_ptr(); auto const ew = exception_wrapper::from_exception_ptr(ep); p.setException(ew);</p>
<p>Functionally equivalent to <code>setTry(<a class="el" href="classfolly_1_1Try.html">Try</a>&lt;T&gt;(std::move(ew)))</code></p>
<p>Preconditions:</p>
<ul>
<li><code><a class="el" href="classfolly_1_1Promise.html#a24622a91351a1f774c33b3542d5aadb7">valid()</a> == true</code> (else throws <a class="el" href="classfolly_1_1PromiseInvalid.html">PromiseInvalid</a>)</li>
<li><code><a class="el" href="classfolly_1_1Promise.html#a3263ea821b78b738295100f2501a0f9d">isFulfilled()</a> == false</code> (else throws <a class="el" href="classfolly_1_1PromiseAlreadySatisfied.html">PromiseAlreadySatisfied</a>)</li>
</ul>
<p>Postconditions:</p>
<ul>
<li><code><a class="el" href="classfolly_1_1Promise.html#a3263ea821b78b738295100f2501a0f9d">isFulfilled()</a> == true</code></li>
<li><code><a class="el" href="classfolly_1_1Promise.html#a24622a91351a1f774c33b3542d5aadb7">valid()</a> == true</code> (unchanged)</li>
<li>The associated future (if any) will complete with the exception. </li>
</ul>

<p>Definition at line <a class="el" href="futures_2Promise-inl_8h_source.html#l00111">111</a> of file <a class="el" href="futures_2Promise-inl_8h_source.html">Promise-inl.h</a>.</p>

<p>References <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>, and <a class="el" href="futures_2Promise-inl_8h_source.html#l00122">folly::Promise&lt; T &gt;::setTry()</a>.</p>

<p>Referenced by <a class="el" href="AsyncSSLSocketTest2_8cpp_source.html#l00156">folly::AttachDetachClient::readErr()</a>, <a class="el" href="futures_2Promise-inl_8h_source.html#l00106">folly::Promise&lt; T &gt;::setException()</a>, <a class="el" href="CollectTest_8cpp_source.html#l00723">TEST()</a>, <a class="el" href="ObservingHandlerTest_8cpp_source.html#l00147">TEST_F()</a>, and <a class="el" href="AsyncSocketHandler_8h_source.html#l00197">wangle::AsyncSocketHandler::WriteCallback::writeErr()</a>.</p>
<div class="fragment"><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                                                  {</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <a class="code" href="classfolly_1_1Promise.html#a630ee0a30f479ab51ee676cfc4974117">setTry</a>(Try&lt;T&gt;(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(ew)));</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;}</div><div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="classfolly_1_1Promise_html_a630ee0a30f479ab51ee676cfc4974117"><div class="ttname"><a href="classfolly_1_1Promise.html#a630ee0a30f479ab51ee676cfc4974117">folly::Promise::setTry</a></div><div class="ttdeci">void setTry(Try&lt; T &gt; &amp;&amp;t)</div><div class="ttdef"><b>Definition:</b> <a href="futures_2Promise-inl_8h_source.html#l00122">Promise-inl.h:122</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a97ca0885d4378a099ec37ec0604add9b"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<div class="memtemplate">
template&lt;class E &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::enable_if&lt; std::is_base_of&lt; std::exception, <a class="el" href="namespacefolly.html#a15c0704f46fecb8e6e6c8bce719138e7">E</a> &gt;::<a class="el" href="namespacefolly.html#af765fccfa9242184196b4906286ada49">value</a> &gt;::<a class="el" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">type</a> <a class="el" href="classfolly_1_1Promise.html">folly::Promise</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::setException </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacefolly.html#a15c0704f46fecb8e6e6c8bce719138e7">E</a> const &amp;&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fulfill the <a class="el" href="classfolly_1_1Promise.html">Promise</a> with exception <code>e</code> <em>as if</em> by <code>setException(make_exception_wrapper&lt;E&gt;(e))</code>.</p>
<p>Please see <code><a class="el" href="classfolly_1_1Promise.html#a7a67c82f0cb063faa49140177f074521">setException(exception_wrapper)</a></code> for semantics/contract. </p>

<p>Definition at line <a class="el" href="futures_2Promise-inl_8h_source.html#l00106">106</a> of file <a class="el" href="futures_2Promise-inl_8h_source.html">Promise-inl.h</a>.</p>

<p>References <a class="el" href="futures_2Promise-inl_8h_source.html#l00111">folly::Promise&lt; T &gt;::setException()</a>.</p>
<div class="fragment"><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                                   {</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <a class="code" href="classfolly_1_1Promise.html#a7a67c82f0cb063faa49140177f074521">setException</a>(make_exception_wrapper&lt;E&gt;(e));</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;}</div><div class="ttc" id="classfolly_1_1Promise_html_a7a67c82f0cb063faa49140177f074521"><div class="ttname"><a href="classfolly_1_1Promise.html#a7a67c82f0cb063faa49140177f074521">folly::Promise::setException</a></div><div class="ttdeci">void setException(exception_wrapper ew)</div><div class="ttdef"><b>Definition:</b> <a href="futures_2Promise-inl_8h_source.html#l00111">Promise-inl.h:111</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a17a9720cfbd810f59e150378990b38a1"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<div class="memtemplate">
template&lt;typename F &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classfolly_1_1Promise.html">folly::Promise</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::setInterruptHandler </td>
          <td>(</td>
          <td class="paramtype">F &amp;&amp;&#160;</td>
          <td class="paramname"><em>fn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets a handler for the producer to receive a (logical) interruption request (exception) sent from the consumer via <code>future.raise()</code>.</p>
<p>Details: The consumer calls <code>future.raise()</code> when it wishes to send a logical interruption message (an exception), and that exception/message is passed to <code>fn()</code>. The thread used to call <code>fn()</code> depends on timing (see Postconditions for threading details).</p>
<p>Handler <code>fn()</code> can do anything you want, but if you bother to set one then you probably will want to (more or less immediately) fulfill the promise with an exception (or other special value) indicating how the interrupt was handled.</p>
<p>This call silently does nothing if <code><a class="el" href="classfolly_1_1Promise.html#a3263ea821b78b738295100f2501a0f9d">isFulfilled()</a></code>.</p>
<p>Preconditions:</p>
<ul>
<li><code><a class="el" href="classfolly_1_1Promise.html#a24622a91351a1f774c33b3542d5aadb7">valid()</a> == true</code> (else throws <a class="el" href="classfolly_1_1PromiseInvalid.html">PromiseInvalid</a>)</li>
<li><code>fn</code> must be copyable and must be invocable with <code><a class="el" href="classfolly_1_1exception__wrapper.html">exception_wrapper</a> const&amp;</code></li>
<li>the code within <code>fn()</code> must be safe to run either synchronously within the <code><a class="el" href="classfolly_1_1Promise.html#a17a9720cfbd810f59e150378990b38a1">setInterruptHandler()</a></code> call or asynchronously within the consumer thread's call to <code>future.raise()</code>.</li>
<li>the code within <code>fn()</code> must also be safe to run after this promise is fulfilled; this may have lifetime/race-case ramifications, e.g., if the code of <code>fn()</code> might access producer-resources that will be destroyed, then the destruction of those producer-resources must be deferred beyond the moment when this promise is fulfilled.</li>
</ul>
<p>Postconditions:</p>
<ul>
<li>if the consumer calls <code>future.raise()</code> early enough (up to a particular moment within the <code><a class="el" href="classfolly_1_1Promise.html#a17a9720cfbd810f59e150378990b38a1">setInterruptHandler()</a></code> call), <code>fn()</code> will be called synchronously (in the current thread, during this call).</li>
<li>if the consumer calls <code>future.raise()</code> after that moment within <code><a class="el" href="classfolly_1_1Promise.html#a17a9720cfbd810f59e150378990b38a1">setInterruptHandler()</a></code> but before this promise is fulfilled, <code>fn()</code> will be called asynchronously (in the consumer's thread, within the call to <code>future.raise()</code>).</li>
<li>if the consumer calls <code>future.raise()</code> after this promise is fulfilled, <code>fn()</code> may or may not be called at all, and if it is called, it will be called asynchronously (within the consumer's call to <code>future.raise()</code>).</li>
</ul>
<p>IMPORTANT: <code>fn()</code> should return quickly since it could block this call to <code>promise.setInterruptHandler()</code> and/or a concurrent call to <code>future.raise()</code>. Those two functions contend on the same lock; those calls could block if <code>fn()</code> is invoked within one of those while the lock is held. </p>

<p>Definition at line <a class="el" href="futures_2Promise-inl_8h_source.html#l00117">117</a> of file <a class="el" href="futures_2Promise-inl_8h_source.html">Promise-inl.h</a>.</p>

<p>References <a class="el" href="futures_2Promise_8h_source.html#l00421">folly::Promise&lt; T &gt;::getCore()</a>, and <a class="el" href="futures_2detail_2Core_8h_source.html#l00483">folly::futures::detail::Core&lt; T &gt;::setInterruptHandler()</a>.</p>

<p>Referenced by <a class="el" href="InterruptTest_8cpp_source.html#l00024">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                                           {</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <a class="code" href="classfolly_1_1Promise.html#a8077e30b4cb87bbba2031518b73c0f67">getCore</a>().<a class="code" href="classfolly_1_1futures_1_1detail_1_1Core.html#a3fd0ed05adf82ff8583756eaaed33f98">setInterruptHandler</a>(std::forward&lt;F&gt;(fn));</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;}</div><div class="ttc" id="classfolly_1_1futures_1_1detail_1_1Core_html_a3fd0ed05adf82ff8583756eaaed33f98"><div class="ttname"><a href="classfolly_1_1futures_1_1detail_1_1Core.html#a3fd0ed05adf82ff8583756eaaed33f98">folly::futures::detail::Core::setInterruptHandler</a></div><div class="ttdeci">void setInterruptHandler(F &amp;&amp;fn)</div><div class="ttdef"><b>Definition:</b> <a href="futures_2detail_2Core_8h_source.html#l00483">Core.h:483</a></div></div>
<div class="ttc" id="classfolly_1_1Promise_html_a8077e30b4cb87bbba2031518b73c0f67"><div class="ttname"><a href="classfolly_1_1Promise.html#a8077e30b4cb87bbba2031518b73c0f67">folly::Promise::getCore</a></div><div class="ttdeci">Core &amp; getCore()</div><div class="ttdef"><b>Definition:</b> <a href="futures_2Promise_8h_source.html#l00421">Promise.h:421</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a630ee0a30f479ab51ee676cfc4974117"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classfolly_1_1Promise.html">folly::Promise</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::setTry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1Try.html">Try</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt; &amp;&amp;&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fulfill the <a class="el" href="classfolly_1_1Promise.html">Promise</a> with the specified <a class="el" href="classfolly_1_1Try.html">Try</a> (value or exception).</p>
<p>Preconditions:</p>
<ul>
<li><code><a class="el" href="classfolly_1_1Promise.html#a24622a91351a1f774c33b3542d5aadb7">valid()</a> == true</code> (else throws <a class="el" href="classfolly_1_1PromiseInvalid.html">PromiseInvalid</a>)</li>
<li><code><a class="el" href="classfolly_1_1Promise.html#a3263ea821b78b738295100f2501a0f9d">isFulfilled()</a> == false</code> (else throws <a class="el" href="classfolly_1_1PromiseAlreadySatisfied.html">PromiseAlreadySatisfied</a>)</li>
</ul>
<p>Postconditions:</p>
<ul>
<li><code><a class="el" href="classfolly_1_1Promise.html#a3263ea821b78b738295100f2501a0f9d">isFulfilled()</a> == true</code></li>
<li><code><a class="el" href="classfolly_1_1Promise.html#a24622a91351a1f774c33b3542d5aadb7">valid()</a> == true</code> (unchanged)</li>
<li>The associated future will see the result, e.g., in its continuation. </li>
</ul>

<p>Definition at line <a class="el" href="futures_2Promise-inl_8h_source.html#l00122">122</a> of file <a class="el" href="futures_2Promise-inl_8h_source.html">Promise-inl.h</a>.</p>

<p>References <a class="el" href="futures_2Promise_8h_source.html#l00438">folly::Promise&lt; T &gt;::core_</a>, <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>, <a class="el" href="futures_2detail_2Core_8h_source.html#l00376">folly::futures::detail::Core&lt; T &gt;::setResult()</a>, <a class="el" href="extension__operators_8h_source.html#l00048">folly::pushmi::detail::t</a>, and <a class="el" href="futures_2Promise-inl_8h_source.html#l00061">folly::Promise&lt; T &gt;::throwIfFulfilled()</a>.</p>

<p>Referenced by <a class="el" href="FutureExecutor_8h_source.html#l00044">folly::FutureExecutor&lt; ExecutorImpl &gt;::addFuture()</a>, <a class="el" href="FiberManager-inl_8h_source.html#l00025">folly::fibers::FiberManager::addTaskFuture()</a>, <a class="el" href="FiberManager-inl_8h_source.html#l00041">folly::fibers::FiberManager::addTaskRemoteFuture()</a>, <a class="el" href="Future-inl_8h_source.html#l01213">folly::Future&lt; T &gt;::onTimeout()</a>, <a class="el" href="futures_2Promise-inl_8h_source.html#l00111">folly::Promise&lt; T &gt;::setException()</a>, <a class="el" href="futures_2Promise-inl_8h_source.html#l00129">folly::Promise&lt; T &gt;::setValue()</a>, <a class="el" href="futures_2Promise-inl_8h_source.html#l00137">folly::Promise&lt; T &gt;::setWith()</a>, <a class="el" href="AsyncFileWriterTest_8cpp_source.html#l00215">TEST()</a>, <a class="el" href="Future-inl_8h_source.html#l01024">folly::Future&lt; T &gt;::via()</a>, and <a class="el" href="Future-inl_8h_source.html#l02004">folly::futures::detail::waitImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                                  {</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <a class="code" href="classfolly_1_1Promise.html#a7b70f3622ca798920e1cb5ac7e0fa5fc">throwIfFulfilled</a>();</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <a class="code" href="classfolly_1_1Promise.html#a248c19960b5758191530d3c07e14f3bb">core_</a>-&gt;<a class="code" href="classfolly_1_1futures_1_1detail_1_1Core.html#a21ba44f773e17a122997206c2324560c">setResult</a>(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(<a class="code" href="namespacefolly_1_1pushmi_1_1detail.html#a83db2e678e3a0679ce63d24026fcf5ff">t</a>));</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;}</div><div class="ttc" id="classfolly_1_1Promise_html_a7b70f3622ca798920e1cb5ac7e0fa5fc"><div class="ttname"><a href="classfolly_1_1Promise.html#a7b70f3622ca798920e1cb5ac7e0fa5fc">folly::Promise::throwIfFulfilled</a></div><div class="ttdeci">void throwIfFulfilled() const </div><div class="ttdef"><b>Definition:</b> <a href="futures_2Promise-inl_8h_source.html#l00061">Promise-inl.h:61</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="classfolly_1_1Promise_html_a248c19960b5758191530d3c07e14f3bb"><div class="ttname"><a href="classfolly_1_1Promise.html#a248c19960b5758191530d3c07e14f3bb">folly::Promise::core_</a></div><div class="ttdeci">Core * core_</div><div class="ttdef"><b>Definition:</b> <a href="futures_2Promise_8h_source.html#l00438">Promise.h:438</a></div></div>
<div class="ttc" id="classfolly_1_1futures_1_1detail_1_1Core_html_a21ba44f773e17a122997206c2324560c"><div class="ttname"><a href="classfolly_1_1futures_1_1detail_1_1Core.html#a21ba44f773e17a122997206c2324560c">folly::futures::detail::Core::setResult</a></div><div class="ttdeci">void setResult(Try&lt; T &gt; &amp;&amp;t)</div><div class="ttdef"><b>Definition:</b> <a href="futures_2detail_2Core_8h_source.html#l00376">Core.h:376</a></div></div>
<div class="ttc" id="namespacefolly_1_1pushmi_1_1detail_html_a83db2e678e3a0679ce63d24026fcf5ff"><div class="ttname"><a href="namespacefolly_1_1pushmi_1_1detail.html#a83db2e678e3a0679ce63d24026fcf5ff">folly::pushmi::detail::t</a></div><div class="ttdeci">requires Tuple &amp;&amp; t</div><div class="ttdef"><b>Definition:</b> <a href="extension__operators_8h_source.html#l00048">extension_operators.h:48</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aab9868d7a0cdb73e36687cb16b9a2fbb"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
<div class="memtemplate">
template&lt;class B  = T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::enable_if&lt;std::is_same&lt;<a class="el" href="structfolly_1_1Unit.html">Unit</a>, <a class="el" href="structfolly_1_1B.html">B</a>&gt;::<a class="el" href="namespacefolly.html#af765fccfa9242184196b4906286ada49">value</a>, void&gt;::<a class="el" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">type</a> <a class="el" href="classfolly_1_1Promise.html">folly::Promise</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::setValue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Fulfills a (logically) void <a class="el" href="classfolly_1_1Promise.html">Promise</a>, that is, Promise&lt;Unit&gt;. (If you want a void-promise, use Promise&lt;Unit&gt;, not Promise&lt;void&gt;.)</p>
<p>Preconditions:</p>
<ul>
<li><code><a class="el" href="classfolly_1_1Promise.html#a24622a91351a1f774c33b3542d5aadb7">valid()</a> == true</code> (else throws <a class="el" href="classfolly_1_1PromiseInvalid.html">PromiseInvalid</a>)</li>
<li><code><a class="el" href="classfolly_1_1Promise.html#a3263ea821b78b738295100f2501a0f9d">isFulfilled()</a> == false</code> (else throws <a class="el" href="classfolly_1_1PromiseAlreadySatisfied.html">PromiseAlreadySatisfied</a>)</li>
</ul>
<p>Postconditions:</p>
<ul>
<li><code><a class="el" href="classfolly_1_1Promise.html#a3263ea821b78b738295100f2501a0f9d">isFulfilled()</a> == true</code></li>
<li><code><a class="el" href="classfolly_1_1Promise.html#a24622a91351a1f774c33b3542d5aadb7">valid()</a> == true</code> (unchanged) </li>
</ul>

<p>Definition at line <a class="el" href="futures_2Promise_8h_source.html#l00326">326</a> of file <a class="el" href="futures_2Promise_8h_source.html">Promise.h</a>.</p>

<p>Referenced by <a class="el" href="futures_2test_2Benchmark_8cpp_source.html#l00049">BENCHMARK_RELATIVE()</a>, <a class="el" href="futures_2test_2Benchmark_8cpp_source.html#l00340">fGen()</a>, <a class="el" href="AsyncSSLSocketTest2_8cpp_source.html#l00161">folly::AttachDetachClient::readDataAvailable()</a>, <a class="el" href="CollectTest_8cpp_source.html#l00682">TEST()</a>, <a class="el" href="ObservingHandlerTest_8cpp_source.html#l00123">TEST_F()</a>, <a class="el" href="AsyncFizzServerTest_8cpp_source.html#l00266">fizz::server::test::TEST_F()</a>, <a class="el" href="FizzBaseTest_8cpp_source.html#l00358">fizz::test::TEST_F()</a>, and <a class="el" href="AsyncSocketHandler_8h_source.html#l00192">wangle::AsyncSocketHandler::WriteCallback::writeSuccess()</a>.</p>
<div class="fragment"><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                                                                       {</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <a class="code" href="classfolly_1_1Promise.html#a630ee0a30f479ab51ee676cfc4974117">setTry</a>(Try&lt;T&gt;(<a class="code" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>()));</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  }</div><div class="ttc" id="namespacefolly_html_a0652a9c51b69e7a13d40ccbcb139bc55"><div class="ttname"><a href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">folly::T</a></div><div class="ttdeci">folly::std T</div></div>
<div class="ttc" id="classfolly_1_1Promise_html_a630ee0a30f479ab51ee676cfc4974117"><div class="ttname"><a href="classfolly_1_1Promise.html#a630ee0a30f479ab51ee676cfc4974117">folly::Promise::setTry</a></div><div class="ttdeci">void setTry(Try&lt; T &gt; &amp;&amp;t)</div><div class="ttdef"><b>Definition:</b> <a href="futures_2Promise-inl_8h_source.html#l00122">Promise-inl.h:122</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afceaf3f97b9eee1290703cad7d05022f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<div class="memtemplate">
template&lt;class M &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classfolly_1_1Promise.html">folly::Promise</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::setValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Hazptr_8h.html#af085414af03fc96e8a2d23880396638e">M</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fulfill the <a class="el" href="classfolly_1_1Promise.html">Promise</a> with the specified value using perfect forwarding.</p>
<p>Functionally equivalent to <code>setTry(<a class="el" href="classfolly_1_1Try.html">Try</a>&lt;T&gt;(std::forward&lt;M&gt;(value)))</code></p>
<p>Preconditions:</p>
<ul>
<li><code><a class="el" href="classfolly_1_1Promise.html#a24622a91351a1f774c33b3542d5aadb7">valid()</a> == true</code> (else throws <a class="el" href="classfolly_1_1PromiseInvalid.html">PromiseInvalid</a>)</li>
<li><code><a class="el" href="classfolly_1_1Promise.html#a3263ea821b78b738295100f2501a0f9d">isFulfilled()</a> == false</code> (else throws <a class="el" href="classfolly_1_1PromiseAlreadySatisfied.html">PromiseAlreadySatisfied</a>)</li>
</ul>
<p>Postconditions:</p>
<ul>
<li><code><a class="el" href="classfolly_1_1Promise.html#a3263ea821b78b738295100f2501a0f9d">isFulfilled()</a> == true</code></li>
<li><code><a class="el" href="classfolly_1_1Promise.html#a24622a91351a1f774c33b3542d5aadb7">valid()</a> == true</code> (unchanged)</li>
<li>The associated future will see the value, e.g., in its continuation. </li>
</ul>

<p>Definition at line <a class="el" href="futures_2Promise-inl_8h_source.html#l00129">129</a> of file <a class="el" href="futures_2Promise-inl_8h_source.html">Promise-inl.h</a>.</p>

<p>References <a class="el" href="futures_2Promise-inl_8h_source.html#l00122">folly::Promise&lt; T &gt;::setTry()</a>, and <a class="el" href="Conv_8cpp_source.html#l00050">value</a>.</p>
<div class="fragment"><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                               {</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  static_assert(!<a class="code" href="Conv_8cpp.html#a2f6ac1714c34743067351b0d2a64162b">std::is_same&lt;T, void&gt;::value</a>, <span class="stringliteral">&quot;Use setValue() instead&quot;</span>);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <a class="code" href="classfolly_1_1Promise.html#a630ee0a30f479ab51ee676cfc4974117">setTry</a>(Try&lt;T&gt;(std::forward&lt;M&gt;(<a class="code" href="namespacefolly_1_1pushmi.html">v</a>)));</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;}</div><div class="ttc" id="namespacefolly_1_1pushmi_html"><div class="ttname"><a href="namespacefolly_1_1pushmi.html">folly::pushmi</a></div><div class="ttdef"><b>Definition:</b> <a href="boosters_8h_source.html#l00030">boosters.h:30</a></div></div>
<div class="ttc" id="classfolly_1_1Promise_html_a630ee0a30f479ab51ee676cfc4974117"><div class="ttname"><a href="classfolly_1_1Promise.html#a630ee0a30f479ab51ee676cfc4974117">folly::Promise::setTry</a></div><div class="ttdeci">void setTry(Try&lt; T &gt; &amp;&amp;t)</div><div class="ttdef"><b>Definition:</b> <a href="futures_2Promise-inl_8h_source.html#l00122">Promise-inl.h:122</a></div></div>
<div class="ttc" id="Conv_8cpp_html_a2f6ac1714c34743067351b0d2a64162b"><div class="ttname"><a href="Conv_8cpp.html#a2f6ac1714c34743067351b0d2a64162b">value</a></div><div class="ttdeci">static const char *const value</div><div class="ttdef"><b>Definition:</b> <a href="Conv_8cpp_source.html#l00050">Conv.cpp:50</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7b9fb894ce33cef66b38e2c7c85319f3"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<div class="memtemplate">
template&lt;class F &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classfolly_1_1Promise.html">folly::Promise</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::setWith </td>
          <td>(</td>
          <td class="paramtype">F &amp;&amp;&#160;</td>
          <td class="paramname"><em>func</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fulfill this <a class="el" href="classfolly_1_1Promise.html">Promise</a> with the result of a function that takes no arguments and returns something implicitly convertible to T.</p>
<p>Example:</p>
<p>p.setWith([] { do something that may throw; return a T; });</p>
<p>Functionally equivalent to <code>setTry(makeTryWith(static_cast&lt;F&amp;&amp;&gt;(func)));</code></p>
<p>Preconditions:</p>
<ul>
<li><code><a class="el" href="classfolly_1_1Promise.html#a24622a91351a1f774c33b3542d5aadb7">valid()</a> == true</code> (else throws <a class="el" href="classfolly_1_1PromiseInvalid.html">PromiseInvalid</a>)</li>
<li><code><a class="el" href="classfolly_1_1Promise.html#a3263ea821b78b738295100f2501a0f9d">isFulfilled()</a> == false</code> (else throws <a class="el" href="classfolly_1_1PromiseAlreadySatisfied.html">PromiseAlreadySatisfied</a>)</li>
</ul>
<p>Postconditions:</p>
<ul>
<li><code>func()</code> will be run synchronously (in this thread, during this call)</li>
<li>If <code>func()</code> returns, the return value will be captured as if via <code><a class="el" href="classfolly_1_1Promise.html#aab9868d7a0cdb73e36687cb16b9a2fbb">setValue()</a></code></li>
<li>If <code>func()</code> throws, the exception will be captured as if via <code><a class="el" href="classfolly_1_1Promise.html#a7a67c82f0cb063faa49140177f074521">setException()</a></code></li>
<li><code><a class="el" href="classfolly_1_1Promise.html#a3263ea821b78b738295100f2501a0f9d">isFulfilled()</a> == true</code></li>
<li><code><a class="el" href="classfolly_1_1Promise.html#a24622a91351a1f774c33b3542d5aadb7">valid()</a> == true</code> (unchanged)</li>
<li>The associated future will see the result, e.g., in its continuation. </li>
</ul>

<p>Definition at line <a class="el" href="futures_2Promise-inl_8h_source.html#l00137">137</a> of file <a class="el" href="futures_2Promise-inl_8h_source.html">Promise-inl.h</a>.</p>

<p>References <a class="el" href="Try-inl_8h_source.html#l00223">folly::makeTryWith()</a>, <a class="el" href="futures_2Promise-inl_8h_source.html#l00122">folly::Promise&lt; T &gt;::setTry()</a>, and <a class="el" href="futures_2Promise-inl_8h_source.html#l00061">folly::Promise&lt; T &gt;::throwIfFulfilled()</a>.</p>

<p>Referenced by <a class="el" href="FutureExecutor_8h_source.html#l00069">folly::FutureExecutor&lt; ExecutorImpl &gt;::addFuture()</a>, <a class="el" href="simple_8h_source.html#l00025">folly::python::test::future_getValueX5()</a>, and <a class="el" href="FutureTest_8cpp_source.html#l01335">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                                 {</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <a class="code" href="classfolly_1_1Promise.html#a7b70f3622ca798920e1cb5ac7e0fa5fc">throwIfFulfilled</a>();</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <a class="code" href="classfolly_1_1Promise.html#a630ee0a30f479ab51ee676cfc4974117">setTry</a>(<a class="code" href="namespacefolly.html#a672e670d53d388e2407291c730ddd493">makeTryWith</a>(std::forward&lt;F&gt;(func)));</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;}</div><div class="ttc" id="classfolly_1_1Promise_html_a7b70f3622ca798920e1cb5ac7e0fa5fc"><div class="ttname"><a href="classfolly_1_1Promise.html#a7b70f3622ca798920e1cb5ac7e0fa5fc">folly::Promise::throwIfFulfilled</a></div><div class="ttdeci">void throwIfFulfilled() const </div><div class="ttdef"><b>Definition:</b> <a href="futures_2Promise-inl_8h_source.html#l00061">Promise-inl.h:61</a></div></div>
<div class="ttc" id="classfolly_1_1Promise_html_a630ee0a30f479ab51ee676cfc4974117"><div class="ttname"><a href="classfolly_1_1Promise.html#a630ee0a30f479ab51ee676cfc4974117">folly::Promise::setTry</a></div><div class="ttdeci">void setTry(Try&lt; T &gt; &amp;&amp;t)</div><div class="ttdef"><b>Definition:</b> <a href="futures_2Promise-inl_8h_source.html#l00122">Promise-inl.h:122</a></div></div>
<div class="ttc" id="namespacefolly_html_a672e670d53d388e2407291c730ddd493"><div class="ttname"><a href="namespacefolly.html#a672e670d53d388e2407291c730ddd493">folly::makeTryWith</a></div><div class="ttdeci">std::enable_if&lt; !std::is_same&lt; invoke_result_t&lt; F &gt;, void &gt;::value, Try&lt; invoke_result_t&lt; F &gt; &gt; &gt;::type makeTryWith(F &amp;&amp;f)</div><div class="ttdef"><b>Definition:</b> <a href="Try-inl_8h_source.html#l00223">Try-inl.h:223</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7b70f3622ca798920e1cb5ac7e0fa5fc"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classfolly_1_1Promise.html">folly::Promise</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::throwIfFulfilled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="futures_2Promise-inl_8h_source.html#l00061">61</a> of file <a class="el" href="futures_2Promise-inl_8h_source.html">Promise-inl.h</a>.</p>

<p>References <a class="el" href="futures_2Promise_8h_source.html#l00421">folly::Promise&lt; T &gt;::getCore()</a>.</p>

<p>Referenced by <a class="el" href="futures_2Promise-inl_8h_source.html#l00122">folly::Promise&lt; T &gt;::setTry()</a>, and <a class="el" href="futures_2Promise-inl_8h_source.html#l00137">folly::Promise&lt; T &gt;::setWith()</a>.</p>
<div class="fragment"><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                                        {</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1Promise.html#a8077e30b4cb87bbba2031518b73c0f67">getCore</a>().hasResult()) {</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    throw_exception&lt;PromiseAlreadySatisfied&gt;();</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  }</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;}</div><div class="ttc" id="classfolly_1_1Promise_html_a8077e30b4cb87bbba2031518b73c0f67"><div class="ttname"><a href="classfolly_1_1Promise.html#a8077e30b4cb87bbba2031518b73c0f67">folly::Promise::getCore</a></div><div class="ttdeci">Core &amp; getCore()</div><div class="ttdef"><b>Definition:</b> <a href="futures_2Promise_8h_source.html#l00421">Promise.h:421</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a24622a91351a1f774c33b3542d5aadb7"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classfolly_1_1Promise.html">folly::Promise</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::valid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>true if this has a shared state; false if this has been consumed/moved-out. </p>

<p>Definition at line <a class="el" href="futures_2Promise_8h_source.html#l00390">390</a> of file <a class="el" href="futures_2Promise_8h_source.html">Promise.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                              {</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1Promise.html#a248c19960b5758191530d3c07e14f3bb">core_</a> != <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  }</div><div class="ttc" id="classfolly_1_1Promise_html_a248c19960b5758191530d3c07e14f3bb"><div class="ttname"><a href="classfolly_1_1Promise.html#a248c19960b5758191530d3c07e14f3bb">folly::Promise::core_</a></div><div class="ttdeci">Core * core_</div><div class="ttdef"><b>Definition:</b> <a href="futures_2Promise_8h_source.html#l00438">Promise.h:438</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="ab033f7626ddfc7f1d62cb3d3952d166e"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
<div class="memtemplate">
template&lt;class &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classfolly_1_1Future.html">Future</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="futures_2Promise_8h_source.html#l00407">407</a> of file <a class="el" href="futures_2Promise_8h_source.html">Promise.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0d99f8f40c6f4e9474726abcb2c88dd9"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
<div class="memtemplate">
template&lt;class , class &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classfolly_1_1futures_1_1detail_1_1CoreCallbackState.html">futures::detail::CoreCallbackState</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="futures_2Promise_8h_source.html#l00409">409</a> of file <a class="el" href="futures_2Promise_8h_source.html">Promise.h</a>.</p>

</div>
</div>
<a class="anchor" id="a245b07f64333033d071b6d1a212a0fad"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
<div class="memtemplate">
template&lt;class &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classfolly_1_1futures_1_1detail_1_1FutureBase.html">futures::detail::FutureBase</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="futures_2Promise_8h_source.html#l00403">403</a> of file <a class="el" href="futures_2Promise_8h_source.html">Promise.h</a>.</p>

</div>
</div>
<a class="anchor" id="a94d24a2a8c22141181f4eff7a4b41257"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
<div class="memtemplate">
template&lt;class &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classfolly_1_1SemiFuture.html">SemiFuture</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="futures_2Promise_8h_source.html#l00405">405</a> of file <a class="el" href="futures_2Promise_8h_source.html">Promise.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a248c19960b5758191530d3c07e14f3bb"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1Promise.html#a35dc88431141f45bc336bbab82a68c6d">Core</a>* <a class="el" href="classfolly_1_1Promise.html">folly::Promise</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::core_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="futures_2Promise_8h_source.html#l00438">438</a> of file <a class="el" href="futures_2Promise_8h_source.html">Promise.h</a>.</p>

<p>Referenced by <a class="el" href="Future-inl_8h_source.html#l00376">folly::futures::detail::chainExecutor()</a>, <a class="el" href="futures_2Promise-inl_8h_source.html#l00077">folly::Promise&lt; T &gt;::detach()</a>, <a class="el" href="futures_2Promise-inl_8h_source.html#l00143">folly::Promise&lt; T &gt;::isFulfilled()</a>, <a class="el" href="Future-inl_8h_source.html#l01131">folly::Future&lt; T &gt;::onError()</a>, <a class="el" href="futures_2Promise-inl_8h_source.html#l00053">folly::Promise&lt; T &gt;::operator=()</a>, <a class="el" href="futures_2Promise-inl_8h_source.html#l00122">folly::Promise&lt; T &gt;::setTry()</a>, and <a class="el" href="Future-inl_8h_source.html#l00311">folly::futures::detail::FutureBase&lt; T &gt;::thenImplementation()</a>.</p>

</div>
</div>
<a class="anchor" id="a771e754a14590fa3b61771a4cc79cc69"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classfolly_1_1Promise.html">folly::Promise</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::retrieved_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="futures_2Promise_8h_source.html#l00412">412</a> of file <a class="el" href="futures_2Promise_8h_source.html">Promise.h</a>.</p>

<p>Referenced by <a class="el" href="futures_2Promise-inl_8h_source.html#l00077">folly::Promise&lt; T &gt;::detach()</a>, <a class="el" href="futures_2Promise-inl_8h_source.html#l00088">folly::Promise&lt; T &gt;::getSemiFuture()</a>, and <a class="el" href="futures_2Promise-inl_8h_source.html#l00053">folly::Promise&lt; T &gt;::operator=()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>proxygen/folly/folly/futures/<a class="el" href="Future-pre_8h_source.html">Future-pre.h</a></li>
<li>proxygen/folly/folly/futures/<a class="el" href="futures_2Promise_8h_source.html">Promise.h</a></li>
<li>proxygen/folly/folly/futures/<a class="el" href="futures_2Promise-inl_8h_source.html">Promise-inl.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefolly.html">folly</a></li><li class="navelem"><a class="el" href="classfolly_1_1Promise.html">Promise</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
