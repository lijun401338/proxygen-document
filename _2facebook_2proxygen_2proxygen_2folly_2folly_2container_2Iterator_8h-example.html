<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>proxygen: /facebook/proxygen/proxygen/folly/folly/container/Iterator.h</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">proxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_2facebook_2proxygen_2proxygen_2folly_2folly_2container_2Iterator_8h-example.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">/facebook/proxygen/proxygen/folly/folly/container/Iterator.h</div>  </div>
</div><!--header-->
<div class="contents">
<p>Pack arguments in a tuple for assignment to a <a class="el" href="namespacefolly.html#a0c22c14e6532aab8e4a1175d22cb060f">folly::emplace_iterator</a>, <a class="el" href="namespacefolly.html#ae0eefad6af096b2bf8111b4c547d25b1">folly::front_emplace_iterator</a>, or <a class="el" href="namespacefolly.html#a0e43f7490c6ffd2b0a162657812ba9b7">folly::back_emplace_iterator</a>. The iterator's operator= will unpack the tuple and pass the unpacked arguments to the container's emplace function, which in turn forwards the arguments to the (multi-argument) constructor of the target class.</p>
<p>Argument tuples generated with <a class="el" href="namespacefolly.html#af134259d485a885621c247b0a467f87f">folly::make_emplace_args</a> will be unpacked before being passed to the container's emplace function, even for iterators where implicit_unpack is set to false (so they will not implicitly unpack std::pair or std::tuple arguments to operator=).</p>
<p>Arguments are copied (lvalues) or moved (rvalues). To avoid copies and moves, wrap references using std::ref(), std::cref(), and <a class="el" href="namespacefolly.html#ae85a02cd29ad60ca50d109b317dd86b7">folly::rref()</a>. Beware of dangling references, especially references to temporary objects created with <a class="el" href="namespacefolly.html#ae85a02cd29ad60ca50d109b317dd86b7">folly::rref()</a>.</p>
<p>Note that an argument pack created with <a class="el" href="namespacefolly.html#af134259d485a885621c247b0a467f87f">folly::make_emplace_args</a> is different from an argument pack created with std::make_pair or std::make_tuple. Specifically, passing a std::pair&amp;&amp; or std::tuple&amp;&amp; to an emplace iterator's operator= will pass rvalue references to all fields of that tuple to the container's emplace function, while passing an emplace_args&amp;&amp; to operator= will cast those field references to the exact argument types as passed to <a class="el" href="namespacefolly.html#af134259d485a885621c247b0a467f87f">folly::make_emplace_args</a> previously. If all arguments have been wrapped by std::reference_wrappers or folly::rvalue_reference_wrappers, the result will be the same as if the container's emplace function had been called directly (perfect forwarding), with no temporary copies of the arguments.</p>
<p><a class="el" href="namespacefolly.html#ae85a02cd29ad60ca50d109b317dd86b7">folly::rref</a></p>
<p>class <a class="el" href="classWidget.html">Widget</a> { <a class="el" href="classWidget.html">Widget(int, int)</a>; }; std::vector&lt;Widget&gt; makeWidgets(const std::vector&lt;int&gt;&amp; in) { std::vector&lt;Widget&gt; out; std::transform( <a class="el" href="namespacefolly_1_1test.html#a8dadea8eef3a86a23af2016a11e75afc">in.begin()</a>, <a class="el" href="namespacefolly_1_1test.html#a0917528775d48fd53a51907e08c14adf">in.end()</a>, folly::back_emplacer(out), [](int i) { return folly::make_emplace_args(i, i); }); return out; }</p>
<div class="fragment"><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment"> * Copyright 2017-present Facebook, Inc.</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span></div><div class="line"><span class="comment"> * you may not use this file except in compliance with the License.</span></div><div class="line"><span class="comment"> * You may obtain a copy of the License at</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> *   http://www.apache.org/licenses/LICENSE-2.0</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * Unless required by applicable law or agreed to in writing, software</span></div><div class="line"><span class="comment"> * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></div><div class="line"><span class="comment"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></div><div class="line"><span class="comment"> * See the License for the specific language governing permissions and</span></div><div class="line"><span class="comment"> * limitations under the License.</span></div><div class="line"><span class="comment"> */</span></div><div class="line"></div><div class="line"><span class="preprocessor">#pragma once</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;functional&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;iterator&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;memory&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;tuple&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;type_traits&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;utility&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="Utility_8h.html">folly/Utility.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="RValueReferenceWrapper_8h.html">folly/lang/RValueReferenceWrapper.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">namespace </span><a class="code" href="namespacefolly.html">folly</a> {</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span>... <a name="a0"></a><a class="code" href="namespacetesting.html#a5c05ce51adb5247166a739c6a17f0880">Args</a>&gt;</div><div class="line"><span class="keyword">struct </span>emplace_args : <span class="keyword">public</span> std::tuple&lt;std::decay_t&lt;Args&gt;...&gt; {</div><div class="line">  <span class="keyword">using</span> <a name="a1"></a><a class="code" href="structfolly_1_1emplace__args.html#a8913c192e7731a909593e67940d4c32d">storage_type</a> = std::tuple&lt;std::decay_t&lt;Args&gt;...&gt;;</div><div class="line">  <span class="keyword">using</span> storage_type::storage_type;</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span>... <a class="code" href="namespacetesting.html#a5c05ce51adb5247166a739c6a17f0880">Args</a>&gt;</div><div class="line">emplace_args&lt;<a class="code" href="namespacetesting.html#a5c05ce51adb5247166a739c6a17f0880">Args</a>...&gt; <a name="a2"></a><a class="code" href="namespacefolly.html#af134259d485a885621c247b0a467f87f">make_emplace_args</a>(<a class="code" href="namespacetesting.html#a5c05ce51adb5247166a739c6a17f0880">Args</a>&amp;&amp;... args) <a name="a3"></a><a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a>(</div><div class="line">    <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a>(emplace_args&lt;Args...&gt;(std::forward&lt;Args&gt;(args)...))) {</div><div class="line">  <span class="keywordflow">return</span> emplace_args&lt;<a class="code" href="namespacetesting.html#a5c05ce51adb5247166a739c6a17f0880">Args</a>...&gt;(std::forward&lt;Args&gt;(args)...);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">namespace </span><a class="code" href="namespacedetail.html">detail</a> {</div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Arg&gt;</div><div class="line">decltype(<span class="keyword">auto</span>) <a name="a4"></a><a class="code" href="namespacefolly_1_1detail.html#a3c1f443fb06a1b4ca1a6758fc1b47bd7">unwrap_emplace_arg</a>(Arg&amp;&amp; arg) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> {</div><div class="line">  <span class="keywordflow">return</span> std::forward&lt;Arg&gt;(arg);</div><div class="line">}</div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Arg&gt;</div><div class="line">decltype(<span class="keyword">auto</span>) <a class="code" href="namespacefolly_1_1detail.html#a3c1f443fb06a1b4ca1a6758fc1b47bd7">unwrap_emplace_arg</a>(std::reference_wrapper&lt;Arg&gt; arg) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> {</div><div class="line">  <span class="keywordflow">return</span> arg.get();</div><div class="line">}</div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Arg&gt;</div><div class="line">decltype(<span class="keyword">auto</span>) <a class="code" href="namespacefolly_1_1detail.html#a3c1f443fb06a1b4ca1a6758fc1b47bd7">unwrap_emplace_arg</a>(</div><div class="line">    <a name="_a5"></a><a class="code" href="classfolly_1_1rvalue__reference__wrapper.html">folly::rvalue_reference_wrapper&lt;Arg&gt;</a> arg) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> {</div><div class="line">  <span class="keywordflow">return</span> <a name="a6"></a><a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(arg).get();</div><div class="line">}</div><div class="line">} <span class="comment">// namespace detail</span></div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span> I, <span class="keyword">typename</span>... <a class="code" href="namespacetesting.html#a5c05ce51adb5247166a739c6a17f0880">Args</a>&gt;</div><div class="line">decltype(<span class="keyword">auto</span>) <a name="a7"></a><a class="code" href="namespacefolly.html#a104e8061849764068e6f84566dd41fc1">get_emplace_arg</a>(emplace_args&lt;Args...&gt;&amp;&amp; args) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> {</div><div class="line">  <span class="keyword">using</span> Out = std::tuple&lt;<a class="code" href="namespacetesting.html#a5c05ce51adb5247166a739c6a17f0880">Args</a>...&gt;;</div><div class="line">  <span class="keywordflow">return</span> <a class="code" href="namespacefolly_1_1detail.html#a3c1f443fb06a1b4ca1a6758fc1b47bd7">detail::unwrap_emplace_arg</a>(</div><div class="line">      std::forward&lt;std::tuple_element_t&lt;I, Out&gt;&gt;(std::get&lt;I&gt;(args)));</div><div class="line">}</div><div class="line"><span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span> I, <span class="keyword">typename</span>... <a class="code" href="namespacetesting.html#a5c05ce51adb5247166a739c6a17f0880">Args</a>&gt;</div><div class="line">decltype(<span class="keyword">auto</span>) <a class="code" href="namespacefolly.html#a104e8061849764068e6f84566dd41fc1">get_emplace_arg</a>(emplace_args&lt;Args...&gt;&amp; args) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> {</div><div class="line">  <span class="keywordflow">return</span> <a class="code" href="namespacefolly_1_1detail.html#a3c1f443fb06a1b4ca1a6758fc1b47bd7">detail::unwrap_emplace_arg</a>(std::get&lt;I&gt;(args));</div><div class="line">}</div><div class="line"><span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span> I, <span class="keyword">typename</span>... <a class="code" href="namespacetesting.html#a5c05ce51adb5247166a739c6a17f0880">Args</a>&gt;</div><div class="line">decltype(<span class="keyword">auto</span>) <a class="code" href="namespacefolly.html#a104e8061849764068e6f84566dd41fc1">get_emplace_arg</a>(<span class="keyword">const</span> emplace_args&lt;Args...&gt;&amp; args) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> {</div><div class="line">  <span class="keywordflow">return</span> <a class="code" href="namespacefolly_1_1detail.html#a3c1f443fb06a1b4ca1a6758fc1b47bd7">detail::unwrap_emplace_arg</a>(std::get&lt;I&gt;(args));</div><div class="line">}</div><div class="line"><span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span> I, <span class="keyword">typename</span> Args&gt;</div><div class="line">decltype(<span class="keyword">auto</span>) <a class="code" href="namespacefolly.html#a104e8061849764068e6f84566dd41fc1">get_emplace_arg</a>(<a class="code" href="namespacetesting.html#a5c05ce51adb5247166a739c6a17f0880">Args</a>&amp;&amp; args) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> {</div><div class="line">  <span class="keywordflow">return</span> std::get&lt;I&gt;(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(args));</div><div class="line">}</div><div class="line"><span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span> I, <span class="keyword">typename</span> Args&gt;</div><div class="line">decltype(<span class="keyword">auto</span>) <a class="code" href="namespacefolly.html#a104e8061849764068e6f84566dd41fc1">get_emplace_arg</a>(<a class="code" href="namespacetesting.html#a5c05ce51adb5247166a739c6a17f0880">Args</a>&amp; args) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> {</div><div class="line">  <span class="keywordflow">return</span> std::get&lt;I&gt;(args);</div><div class="line">}</div><div class="line"><span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span> I, <span class="keyword">typename</span> Args&gt;</div><div class="line">decltype(<span class="keyword">auto</span>) <a class="code" href="namespacefolly.html#a104e8061849764068e6f84566dd41fc1">get_emplace_arg</a>(<span class="keyword">const</span> <a class="code" href="namespacetesting.html#a5c05ce51adb5247166a739c6a17f0880">Args</a>&amp; args) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> {</div><div class="line">  <span class="keywordflow">return</span> std::get&lt;I&gt;(args);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">namespace </span><a class="code" href="namespacedetail.html">detail</a> {</div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Container&gt;</div><div class="line"><span class="keyword">struct </span>Emplace {</div><div class="line">  Emplace(Container&amp; <a name="a8"></a><a class="code" href="OptionalTest_8cpp.html#adc08ed1554f35803d229aeaf11216b3f">c</a>, <span class="keyword">typename</span> Container::iterator <a name="a9"></a><a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>)</div><div class="line">      : container(std::addressof(c)), iter(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(i)) {}</div><div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span>... <a class="code" href="namespacetesting.html#a5c05ce51adb5247166a739c6a17f0880">Args</a>&gt;</div><div class="line">  <span class="keywordtype">void</span> emplace(<a class="code" href="namespacetesting.html#a5c05ce51adb5247166a739c6a17f0880">Args</a>&amp;&amp;... args) {</div><div class="line">    iter = container-&gt;emplace(iter, std::forward&lt;Args&gt;(args)...);</div><div class="line">    ++iter;</div><div class="line">  }</div><div class="line">  Container* container;</div><div class="line">  <span class="keyword">typename</span> Container::iterator iter;</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Container&gt;</div><div class="line"><span class="keyword">struct </span>EmplaceHint {</div><div class="line">  EmplaceHint(Container&amp; <a class="code" href="OptionalTest_8cpp.html#adc08ed1554f35803d229aeaf11216b3f">c</a>, <span class="keyword">typename</span> Container::iterator <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>)</div><div class="line">      : container(std::addressof(c)), iter(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(i)) {}</div><div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span>... <a class="code" href="namespacetesting.html#a5c05ce51adb5247166a739c6a17f0880">Args</a>&gt;</div><div class="line">  <span class="keywordtype">void</span> emplace(<a class="code" href="namespacetesting.html#a5c05ce51adb5247166a739c6a17f0880">Args</a>&amp;&amp;... args) {</div><div class="line">    iter = container-&gt;emplace_hint(iter, std::forward&lt;Args&gt;(args)...);</div><div class="line">    ++iter;</div><div class="line">  }</div><div class="line">  Container* container;</div><div class="line">  <span class="keyword">typename</span> Container::iterator iter;</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Container&gt;</div><div class="line"><span class="keyword">struct </span>EmplaceFront {</div><div class="line">  <span class="keyword">explicit</span> EmplaceFront(Container&amp; <a class="code" href="OptionalTest_8cpp.html#adc08ed1554f35803d229aeaf11216b3f">c</a>) : container(std::addressof(c)) {}</div><div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span>... <a class="code" href="namespacetesting.html#a5c05ce51adb5247166a739c6a17f0880">Args</a>&gt;</div><div class="line">  <span class="keywordtype">void</span> emplace(<a class="code" href="namespacetesting.html#a5c05ce51adb5247166a739c6a17f0880">Args</a>&amp;&amp;... args) {</div><div class="line">    container-&gt;emplace_front(std::forward&lt;Args&gt;(args)...);</div><div class="line">  }</div><div class="line">  Container* container;</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Container&gt;</div><div class="line"><span class="keyword">struct </span>EmplaceBack {</div><div class="line">  <span class="keyword">explicit</span> EmplaceBack(Container&amp; <a class="code" href="OptionalTest_8cpp.html#adc08ed1554f35803d229aeaf11216b3f">c</a>) : container(std::addressof(c)) {}</div><div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span>... <a class="code" href="namespacetesting.html#a5c05ce51adb5247166a739c6a17f0880">Args</a>&gt;</div><div class="line">  <span class="keywordtype">void</span> emplace(<a class="code" href="namespacetesting.html#a5c05ce51adb5247166a739c6a17f0880">Args</a>&amp;&amp;... args) {</div><div class="line">    container-&gt;emplace_back(std::forward&lt;Args&gt;(args)...);</div><div class="line">  }</div><div class="line">  Container* container;</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Derived, <span class="keyword">typename</span> EmplaceImpl, <span class="keywordtype">bool</span> implicit_unpack&gt;</div><div class="line"><span class="keyword">class </span>emplace_iterator_base;</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Derived, <span class="keyword">typename</span> EmplaceImpl&gt;</div><div class="line"><span class="keyword">class </span>emplace_iterator_base&lt;Derived, EmplaceImpl, false&gt;</div><div class="line">    : <span class="keyword">protected</span> EmplaceImpl <span class="comment">/* protected implementation inheritance */</span> {</div><div class="line"> <span class="keyword">public</span>:</div><div class="line">  <span class="comment">// Iterator traits.</span></div><div class="line">  <span class="keyword">using</span> iterator_category = std::output_iterator_tag;</div><div class="line">  <span class="keyword">using</span> value_type = void;</div><div class="line">  <span class="keyword">using</span> difference_type = void;</div><div class="line">  <span class="keyword">using</span> pointer = void;</div><div class="line">  <span class="keyword">using</span> reference = void;</div><div class="line">  <span class="keyword">using</span> container_type =</div><div class="line">      std::remove_reference_t&lt;decltype(*EmplaceImpl::container)&gt;;</div><div class="line"></div><div class="line">  <span class="keyword">using</span> EmplaceImpl::EmplaceImpl;</div><div class="line"></div><div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line">  Derived&amp; operator=(<a name="a10"></a><a class="code" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>&amp;&amp; arg) {</div><div class="line">    this-&gt;emplace(std::forward&lt;T&gt;(arg));</div><div class="line">    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>Derived&amp;<span class="keyword">&gt;</span>(*this);</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span>... <a class="code" href="namespacetesting.html#a5c05ce51adb5247166a739c6a17f0880">Args</a>&gt;</div><div class="line">  Derived&amp; operator=(emplace_args&lt;Args...&gt;&amp; args) {</div><div class="line">    <span class="keywordflow">return</span> unpackAndEmplace(args, index_sequence_for&lt;Args...&gt;{});</div><div class="line">  }</div><div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span>... <a class="code" href="namespacetesting.html#a5c05ce51adb5247166a739c6a17f0880">Args</a>&gt;</div><div class="line">  Derived&amp; operator=(<span class="keyword">const</span> emplace_args&lt;Args...&gt;&amp; args) {</div><div class="line">    <span class="keywordflow">return</span> unpackAndEmplace(args, index_sequence_for&lt;Args...&gt;{});</div><div class="line">  }</div><div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span>... <a class="code" href="namespacetesting.html#a5c05ce51adb5247166a739c6a17f0880">Args</a>&gt;</div><div class="line">  Derived&amp; operator=(emplace_args&lt;Args...&gt;&amp;&amp; args) {</div><div class="line">    <span class="keywordflow">return</span> unpackAndEmplace(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(args), index_sequence_for&lt;Args...&gt;{});</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="comment">// No-ops.</span></div><div class="line">  Derived&amp; operator*() {</div><div class="line">    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>Derived&amp;<span class="keyword">&gt;</span>(*this);</div><div class="line">  }</div><div class="line">  Derived&amp; operator++() {</div><div class="line">    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>Derived&amp;<span class="keyword">&gt;</span>(*this);</div><div class="line">  }</div><div class="line">  Derived&amp; operator++(<span class="keywordtype">int</span>) {</div><div class="line">    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>Derived&amp;<span class="keyword">&gt;</span>(*this);</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="comment">// We need all of these explicit defaults because the custom operator=</span></div><div class="line">  <span class="comment">// overloads disable implicit generation of these functions.</span></div><div class="line">  emplace_iterator_base(<span class="keyword">const</span> emplace_iterator_base&amp;) = <span class="keywordflow">default</span>;</div><div class="line">  emplace_iterator_base(emplace_iterator_base&amp;&amp;) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> = <span class="keywordflow">default</span>;</div><div class="line">  emplace_iterator_base&amp; operator=(emplace_iterator_base&amp;) = <span class="keywordflow">default</span>;</div><div class="line">  emplace_iterator_base&amp; operator=(<span class="keyword">const</span> emplace_iterator_base&amp;) = <span class="keywordflow">default</span>;</div><div class="line">  emplace_iterator_base&amp; operator=(emplace_iterator_base&amp;&amp;) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> = <span class="keywordflow">default</span>;</div><div class="line"></div><div class="line"> <span class="keyword">protected</span>:</div><div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> <a class="code" href="namespacetesting.html#a5c05ce51adb5247166a739c6a17f0880">Args</a>, std::size_t... I&gt;</div><div class="line">  Derived&amp; unpackAndEmplace(<a class="code" href="namespacetesting.html#a5c05ce51adb5247166a739c6a17f0880">Args</a>&amp; args, index_sequence&lt;I...&gt;) {</div><div class="line">    this-&gt;emplace(get_emplace_arg&lt;I&gt;(args)...);</div><div class="line">    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>Derived&amp;<span class="keyword">&gt;</span>(*this);</div><div class="line">  }</div><div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> <a class="code" href="namespacetesting.html#a5c05ce51adb5247166a739c6a17f0880">Args</a>, std::size_t... I&gt;</div><div class="line">  Derived&amp; unpackAndEmplace(<span class="keyword">const</span> <a class="code" href="namespacetesting.html#a5c05ce51adb5247166a739c6a17f0880">Args</a>&amp; args, index_sequence&lt;I...&gt;) {</div><div class="line">    this-&gt;emplace(get_emplace_arg&lt;I&gt;(args)...);</div><div class="line">    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>Derived&amp;<span class="keyword">&gt;</span>(*this);</div><div class="line">  }</div><div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> <a class="code" href="namespacetesting.html#a5c05ce51adb5247166a739c6a17f0880">Args</a>, std::size_t... I&gt;</div><div class="line">  Derived&amp; unpackAndEmplace(<a class="code" href="namespacetesting.html#a5c05ce51adb5247166a739c6a17f0880">Args</a>&amp;&amp; args, index_sequence&lt;I...&gt;) {</div><div class="line">    this-&gt;emplace(get_emplace_arg&lt;I&gt;(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(args))...);</div><div class="line">    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>Derived&amp;<span class="keyword">&gt;</span>(*this);</div><div class="line">  }</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Derived, <span class="keyword">typename</span> EmplaceImpl&gt;</div><div class="line"><span class="keyword">class </span>emplace_iterator_base&lt;Derived, EmplaceImpl, true&gt;</div><div class="line">    : <span class="keyword">public</span> emplace_iterator_base&lt;Derived, EmplaceImpl, false&gt; {</div><div class="line"> <span class="keyword">private</span>:</div><div class="line">  <span class="keyword">using</span> <a name="a11"></a><a class="code" href="DeterministicScheduleTest_8cpp.html#a2e6dedc5035575feb2f1b9a4a0901c91">Base</a> = emplace_iterator_base&lt;Derived, EmplaceImpl, false&gt;;</div><div class="line"></div><div class="line"> <span class="keyword">public</span>:</div><div class="line">  <span class="keyword">using</span> <a class="code" href="DeterministicScheduleTest_8cpp.html#a2e6dedc5035575feb2f1b9a4a0901c91">Base::Base</a>;</div><div class="line">  <span class="keyword">using</span> Base::operator=;</div><div class="line"></div><div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span>... <a class="code" href="namespacetesting.html#a5c05ce51adb5247166a739c6a17f0880">Args</a>&gt;</div><div class="line">  Derived&amp; operator=(std::pair&lt;Args...&gt;&amp; args) {</div><div class="line">    <span class="keywordflow">return</span> this-&gt;unpackAndEmplace(args, index_sequence_for&lt;Args...&gt;{});</div><div class="line">  }</div><div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span>... <a class="code" href="namespacetesting.html#a5c05ce51adb5247166a739c6a17f0880">Args</a>&gt;</div><div class="line">  Derived&amp; operator=(<span class="keyword">const</span> std::pair&lt;Args...&gt;&amp; args) {</div><div class="line">    <span class="keywordflow">return</span> this-&gt;unpackAndEmplace(args, index_sequence_for&lt;Args...&gt;{});</div><div class="line">  }</div><div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span>... <a class="code" href="namespacetesting.html#a5c05ce51adb5247166a739c6a17f0880">Args</a>&gt;</div><div class="line">  Derived&amp; operator=(std::pair&lt;Args...&gt;&amp;&amp; args) {</div><div class="line">    <span class="keywordflow">return</span> this-&gt;unpackAndEmplace(</div><div class="line">        <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(args), index_sequence_for&lt;Args...&gt;{});</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span>... <a class="code" href="namespacetesting.html#a5c05ce51adb5247166a739c6a17f0880">Args</a>&gt;</div><div class="line">  Derived&amp; operator=(std::tuple&lt;Args...&gt;&amp; args) {</div><div class="line">    <span class="keywordflow">return</span> this-&gt;unpackAndEmplace(args, index_sequence_for&lt;Args...&gt;{});</div><div class="line">  }</div><div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span>... <a class="code" href="namespacetesting.html#a5c05ce51adb5247166a739c6a17f0880">Args</a>&gt;</div><div class="line">  Derived&amp; operator=(<span class="keyword">const</span> std::tuple&lt;Args...&gt;&amp; args) {</div><div class="line">    <span class="keywordflow">return</span> this-&gt;unpackAndEmplace(args, index_sequence_for&lt;Args...&gt;{});</div><div class="line">  }</div><div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span>... <a class="code" href="namespacetesting.html#a5c05ce51adb5247166a739c6a17f0880">Args</a>&gt;</div><div class="line">  Derived&amp; operator=(std::tuple&lt;Args...&gt;&amp;&amp; args) {</div><div class="line">    <span class="keywordflow">return</span> this-&gt;unpackAndEmplace(</div><div class="line">        <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(args), index_sequence_for&lt;Args...&gt;{});</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="comment">// We need all of these explicit defaults because the custom operator=</span></div><div class="line">  <span class="comment">// overloads disable implicit generation of these functions.</span></div><div class="line">  emplace_iterator_base(<span class="keyword">const</span> emplace_iterator_base&amp;) = <span class="keywordflow">default</span>;</div><div class="line">  emplace_iterator_base(emplace_iterator_base&amp;&amp;) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> = <span class="keywordflow">default</span>;</div><div class="line">  emplace_iterator_base&amp; operator=(emplace_iterator_base&amp;) = <span class="keywordflow">default</span>;</div><div class="line">  emplace_iterator_base&amp; operator=(<span class="keyword">const</span> emplace_iterator_base&amp;) = <span class="keywordflow">default</span>;</div><div class="line">  emplace_iterator_base&amp; operator=(emplace_iterator_base&amp;&amp;) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> = <span class="keywordflow">default</span>;</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;</div><div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">typename</span>&gt; <span class="keyword">class </span>EmplaceImplT,</div><div class="line">    <span class="keyword">typename</span> Container,</div><div class="line">    <span class="keywordtype">bool</span> implicit_unpack&gt;</div><div class="line"><span class="keyword">class </span>emplace_iterator_impl</div><div class="line">    : <span class="keyword">public</span> emplace_iterator_base&lt;</div><div class="line">          emplace_iterator_impl&lt;EmplaceImplT, Container, implicit_unpack&gt;,</div><div class="line">          EmplaceImplT&lt;Container&gt;,</div><div class="line">          implicit_unpack&gt; {</div><div class="line"> <span class="keyword">private</span>:</div><div class="line">  <span class="keyword">using</span> <a class="code" href="DeterministicScheduleTest_8cpp.html#a2e6dedc5035575feb2f1b9a4a0901c91">Base</a> = emplace_iterator_base&lt;</div><div class="line">      emplace_iterator_impl,</div><div class="line">      EmplaceImplT&lt;Container&gt;,</div><div class="line">      implicit_unpack&gt;;</div><div class="line"></div><div class="line"> <span class="keyword">public</span>:</div><div class="line">  <span class="keyword">using</span> <a class="code" href="DeterministicScheduleTest_8cpp.html#a2e6dedc5035575feb2f1b9a4a0901c91">Base::Base</a>;</div><div class="line">  <span class="keyword">using</span> Base::operator=;</div><div class="line"></div><div class="line">  <span class="comment">// We need all of these explicit defaults because the custom operator=</span></div><div class="line">  <span class="comment">// overloads disable implicit generation of these functions.</span></div><div class="line">  emplace_iterator_impl(<span class="keyword">const</span> emplace_iterator_impl&amp;) = <span class="keywordflow">default</span>;</div><div class="line">  emplace_iterator_impl(emplace_iterator_impl&amp;&amp;) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> = <span class="keywordflow">default</span>;</div><div class="line">  emplace_iterator_impl&amp; operator=(emplace_iterator_impl&amp;) = <span class="keywordflow">default</span>;</div><div class="line">  emplace_iterator_impl&amp; operator=(<span class="keyword">const</span> emplace_iterator_impl&amp;) = <span class="keywordflow">default</span>;</div><div class="line">  emplace_iterator_impl&amp; operator=(emplace_iterator_impl&amp;&amp;) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> = <span class="keywordflow">default</span>;</div><div class="line">};</div><div class="line">} <span class="comment">// namespace detail</span></div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Container, <span class="keywordtype">bool</span> implicit_unpack = true&gt;</div><div class="line"><span class="keyword">using</span> <a name="a12"></a><a class="code" href="namespacefolly.html#a0c22c14e6532aab8e4a1175d22cb060f">emplace_iterator</a> =</div><div class="line">    detail::emplace_iterator_impl&lt;detail::Emplace, Container, implicit_unpack&gt;;</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Container, <span class="keywordtype">bool</span> implicit_unpack = true&gt;</div><div class="line"><span class="keyword">using</span> <a name="a13"></a><a class="code" href="namespacefolly.html#acfc0b90f76d7410281bb8ba9cb463bd8">hint_emplace_iterator</a> = detail::</div><div class="line">    emplace_iterator_impl&lt;detail::EmplaceHint, Container, implicit_unpack&gt;;</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Container, <span class="keywordtype">bool</span> implicit_unpack = true&gt;</div><div class="line"><span class="keyword">using</span> <a name="a14"></a><a class="code" href="namespacefolly.html#ae0eefad6af096b2bf8111b4c547d25b1">front_emplace_iterator</a> = detail::</div><div class="line">    emplace_iterator_impl&lt;detail::EmplaceFront, Container, implicit_unpack&gt;;</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Container, <span class="keywordtype">bool</span> implicit_unpack = true&gt;</div><div class="line"><span class="keyword">using</span> <a name="a15"></a><a class="code" href="namespacefolly.html#a0e43f7490c6ffd2b0a162657812ba9b7">back_emplace_iterator</a> = detail::</div><div class="line">    emplace_iterator_impl&lt;detail::EmplaceBack, Container, implicit_unpack&gt;;</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keywordtype">bool</span> implicit_unpack = true, <span class="keyword">typename</span> Container&gt;</div><div class="line">emplace_iterator&lt;Container, implicit_unpack&gt; <a name="a16"></a><a class="code" href="namespacefolly.html#a3ce5b00843a1365825f80c7c7d09eedd">emplacer</a>(</div><div class="line">    Container&amp; <a class="code" href="OptionalTest_8cpp.html#adc08ed1554f35803d229aeaf11216b3f">c</a>,</div><div class="line">    <span class="keyword">typename</span> Container::iterator <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line">  <span class="keywordflow">return</span> emplace_iterator&lt;Container, implicit_unpack&gt;(<a class="code" href="OptionalTest_8cpp.html#adc08ed1554f35803d229aeaf11216b3f">c</a>, <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(i));</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keywordtype">bool</span> implicit_unpack = true, <span class="keyword">typename</span> Container&gt;</div><div class="line">hint_emplace_iterator&lt;Container, implicit_unpack&gt; <a name="a17"></a><a class="code" href="namespacefolly.html#a72cc4fe8a60748526ca50cf0258a5d45">hint_emplacer</a>(</div><div class="line">    Container&amp; c,</div><div class="line">    <span class="keyword">typename</span> Container::iterator i) {</div><div class="line">  <span class="keywordflow">return</span> hint_emplace_iterator&lt;Container, implicit_unpack&gt;(<a class="code" href="OptionalTest_8cpp.html#adc08ed1554f35803d229aeaf11216b3f">c</a>, <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(i));</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keywordtype">bool</span> implicit_unpack = true, <span class="keyword">typename</span> Container&gt;</div><div class="line">front_emplace_iterator&lt;Container, implicit_unpack&gt; <a name="a18"></a><a class="code" href="namespacefolly.html#a4129f0a9fd170fb5a2deb062eba4ffd3">front_emplacer</a>(</div><div class="line">    Container&amp; c) {</div><div class="line">  <span class="keywordflow">return</span> front_emplace_iterator&lt;Container, implicit_unpack&gt;(<a class="code" href="OptionalTest_8cpp.html#adc08ed1554f35803d229aeaf11216b3f">c</a>);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">template</span> &lt;<span class="keywordtype">bool</span> implicit_unpack = true, <span class="keyword">typename</span> Container&gt;</div><div class="line">back_emplace_iterator&lt;Container, implicit_unpack&gt; <a name="a19"></a><a class="code" href="namespacefolly.html#aaddfe9d67b55db64d69a1ca36bf9294c">back_emplacer</a>(Container&amp; c) {</div><div class="line">  <span class="keywordflow">return</span> back_emplace_iterator&lt;Container, implicit_unpack&gt;(<a class="code" href="OptionalTest_8cpp.html#adc08ed1554f35803d229aeaf11216b3f">c</a>);</div><div class="line">}</div><div class="line">} <span class="comment">// namespace folly</span></div></div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
