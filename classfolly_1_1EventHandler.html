<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>proxygen: folly::EventHandler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">proxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classfolly_1_1EventHandler.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classfolly_1_1EventHandler-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">folly::EventHandler Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="EventHandler_8h_source.html">EventHandler.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for folly::EventHandler:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classfolly_1_1EventHandler.png" usemap="#folly::EventHandler_map" alt=""/>
  <map id="folly::EventHandler_map" name="folly::EventHandler_map">
<area href="classEventHandlerMock.html" alt="EventHandlerMock" shape="rect" coords="298,112,586,136"/>
<area href="classfizz_1_1tool_1_1TerminalInputHandler.html" alt="fizz::tool::TerminalInputHandler" shape="rect" coords="298,168,586,192"/>
<area href="classfolly_1_1AsyncPipeReader.html" alt="folly::AsyncPipeReader" shape="rect" coords="298,224,586,248"/>
<area href="classfolly_1_1AsyncPipeWriter.html" alt="folly::AsyncPipeWriter" shape="rect" coords="298,280,586,304"/>
<area href="structfolly_1_1AsyncServerSocket_1_1ServerEventHandler.html" alt="folly::AsyncServerSocket::ServerEventHandler" shape="rect" coords="298,336,586,360"/>
<area href="classfolly_1_1AsyncSocket_1_1IoHandler.html" alt="folly::AsyncSocket::IoHandler" shape="rect" coords="298,392,586,416"/>
<area href="classfolly_1_1AsyncUDPSocket.html" alt="folly::AsyncUDPSocket" shape="rect" coords="298,448,586,472"/>
<area href="classfolly_1_1NotificationQueue_1_1Consumer.html" alt="folly::NotificationQueue&lt; MessageT &gt;::Consumer" shape="rect" coords="298,504,586,528"/>
<area href="classPipeHandler.html" alt="PipeHandler" shape="rect" coords="298,560,586,584"/>
<area href="classTerminateTestCallback.html" alt="TerminateTestCallback" shape="rect" coords="298,616,586,640"/>
<area href="classTestHandler.html" alt="TestHandler" shape="rect" coords="298,672,586,696"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a03ecfc8fd68fa86b693c1e56148e862c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventHandler.html#a03ecfc8fd68fa86b693c1e56148e862c">EventFlags</a> { <br />
&#160;&#160;<a class="el" href="classfolly_1_1EventHandler.html#a03ecfc8fd68fa86b693c1e56148e862ca09eafb954636d468c193f04022deff75">NONE</a> = 0, 
<a class="el" href="classfolly_1_1EventHandler.html#a03ecfc8fd68fa86b693c1e56148e862ca7b6303958f6418301a09e7ee402eae8f">READ</a> = EV_READ, 
<a class="el" href="classfolly_1_1EventHandler.html#a03ecfc8fd68fa86b693c1e56148e862caa0e284efead463f0bb88c334f9635565">WRITE</a> = EV_WRITE, 
<a class="el" href="classfolly_1_1EventHandler.html#a03ecfc8fd68fa86b693c1e56148e862ca4df957490633f5e01495bda435572dc6">READ_WRITE</a> = (READ | WRITE), 
<br />
&#160;&#160;<a class="el" href="classfolly_1_1EventHandler.html#a03ecfc8fd68fa86b693c1e56148e862ca60be439c6bcefd5e64997f8f4d05a572">PERSIST</a> = EV_PERSIST
<br />
 }</td></tr>
<tr class="separator:a03ecfc8fd68fa86b693c1e56148e862c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2cd20fe2b2de66d1d4cd1e080d33091a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventHandler.html#a2cd20fe2b2de66d1d4cd1e080d33091a">EventHandler</a> (<a class="el" href="classfolly_1_1EventBase.html">EventBase</a> *eventBase, int fd)</td></tr>
<tr class="separator:a2cd20fe2b2de66d1d4cd1e080d33091a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9684b77f38cf743c581df2f19ac73d11"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventHandler.html#a9684b77f38cf743c581df2f19ac73d11">EventHandler</a> (<a class="el" href="classfolly_1_1EventBase.html">EventBase</a> *eventBase=<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>, <a class="el" href="structfolly_1_1NetworkSocket.html">NetworkSocket</a> fd=<a class="el" href="structfolly_1_1NetworkSocket.html">NetworkSocket</a>())</td></tr>
<tr class="separator:a9684b77f38cf743c581df2f19ac73d11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95e2ff198495150663772d465eb76e19"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventHandler.html#a95e2ff198495150663772d465eb76e19">~EventHandler</a> ()</td></tr>
<tr class="separator:a95e2ff198495150663772d465eb76e19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63d05aa25d4c6df8062dc54f86c0a501"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventHandler.html#a63d05aa25d4c6df8062dc54f86c0a501">handlerReady</a> (<a class="el" href="ConstexprMathBenchmark_8cpp.html#a5a8b2dc9e45a9ee81a94ef304fb62505">uint16_t</a> events) noexcept=0</td></tr>
<tr class="separator:a63d05aa25d4c6df8062dc54f86c0a501"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a202afaf81f9a36978938fd39e8e2fb87"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventHandler.html#a202afaf81f9a36978938fd39e8e2fb87">registerHandler</a> (<a class="el" href="ConstexprMathBenchmark_8cpp.html#a5a8b2dc9e45a9ee81a94ef304fb62505">uint16_t</a> events)</td></tr>
<tr class="separator:a202afaf81f9a36978938fd39e8e2fb87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72e295058c1ffc6a8506120c061dc991"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventHandler.html#a72e295058c1ffc6a8506120c061dc991">unregisterHandler</a> ()</td></tr>
<tr class="separator:a72e295058c1ffc6a8506120c061dc991"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98f877e37f8e1d74e562c9ce14e5853f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventHandler.html#a98f877e37f8e1d74e562c9ce14e5853f">isHandlerRegistered</a> () const </td></tr>
<tr class="separator:a98f877e37f8e1d74e562c9ce14e5853f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a232288a0b6f89ab52ace581e9efe60c6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventHandler.html#a232288a0b6f89ab52ace581e9efe60c6">attachEventBase</a> (<a class="el" href="classfolly_1_1EventBase.html">EventBase</a> *eventBase)</td></tr>
<tr class="separator:a232288a0b6f89ab52ace581e9efe60c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad88a36559181920dce709d1836108eab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventHandler.html#ad88a36559181920dce709d1836108eab">detachEventBase</a> ()</td></tr>
<tr class="separator:ad88a36559181920dce709d1836108eab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef72fafbedd426fb96c4dd46b6d85395"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventHandler.html#aef72fafbedd426fb96c4dd46b6d85395">changeHandlerFD</a> (int fd)</td></tr>
<tr class="separator:aef72fafbedd426fb96c4dd46b6d85395"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3368fb7865fc56b81ed500fd483a7523"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventHandler.html#a3368fb7865fc56b81ed500fd483a7523">changeHandlerFD</a> (<a class="el" href="structfolly_1_1NetworkSocket.html">NetworkSocket</a> fd)</td></tr>
<tr class="separator:a3368fb7865fc56b81ed500fd483a7523"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f0c0d20c737730108c8427f1a5b0115"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventHandler.html#a9f0c0d20c737730108c8427f1a5b0115">initHandler</a> (<a class="el" href="classfolly_1_1EventBase.html">EventBase</a> *eventBase, int fd)</td></tr>
<tr class="separator:a9f0c0d20c737730108c8427f1a5b0115"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f7bfbd48a1dec9fe024f1e1d2e83374"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventHandler.html#a9f7bfbd48a1dec9fe024f1e1d2e83374">initHandler</a> (<a class="el" href="classfolly_1_1EventBase.html">EventBase</a> *eventBase, <a class="el" href="structfolly_1_1NetworkSocket.html">NetworkSocket</a> fd)</td></tr>
<tr class="separator:a9f7bfbd48a1dec9fe024f1e1d2e83374"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aded93c9ccbcb9fb992da83cd410cc4f1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a5a8b2dc9e45a9ee81a94ef304fb62505">uint16_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventHandler.html#aded93c9ccbcb9fb992da83cd410cc4f1">getRegisteredEvents</a> () const </td></tr>
<tr class="separator:aded93c9ccbcb9fb992da83cd410cc4f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a8d838790a5b3ff9f7b074378f6cae2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventHandler.html#a4a8d838790a5b3ff9f7b074378f6cae2">registerInternalHandler</a> (<a class="el" href="ConstexprMathBenchmark_8cpp.html#a5a8b2dc9e45a9ee81a94ef304fb62505">uint16_t</a> events)</td></tr>
<tr class="separator:a4a8d838790a5b3ff9f7b074378f6cae2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef0e13ff8b995fd00e5ea260a7d49b3e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventHandler.html#aef0e13ff8b995fd00e5ea260a7d49b3e">isPending</a> () const </td></tr>
<tr class="separator:aef0e13ff8b995fd00e5ea260a7d49b3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a305985eceb83a71d60556f93c04597b4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventHandler.html#a305985eceb83a71d60556f93c04597b4">registerImpl</a> (<a class="el" href="ConstexprMathBenchmark_8cpp.html#a5a8b2dc9e45a9ee81a94ef304fb62505">uint16_t</a> events, bool internal)</td></tr>
<tr class="separator:a305985eceb83a71d60556f93c04597b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a760754c60fb6c2057ecb1c77421a6e57"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventHandler.html#a760754c60fb6c2057ecb1c77421a6e57">ensureNotRegistered</a> (const char *fn)</td></tr>
<tr class="separator:a760754c60fb6c2057ecb1c77421a6e57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1eba4ff0c432e0cedd412ac5aefebd8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventHandler.html#ac1eba4ff0c432e0cedd412ac5aefebd8">setEventBase</a> (<a class="el" href="classfolly_1_1EventBase.html">EventBase</a> *eventBase)</td></tr>
<tr class="separator:ac1eba4ff0c432e0cedd412ac5aefebd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:adaf2ce5d92b0d7c90dfce61086826034"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventHandler.html#adaf2ce5d92b0d7c90dfce61086826034">libeventCallback</a> (<a class="el" href="namespacefolly.html#a9652a04072ad79dde87673132f84ee60">libevent_fd_t</a> fd, short events, void *arg)</td></tr>
<tr class="separator:adaf2ce5d92b0d7c90dfce61086826034"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a9a1835bab30850a60e7ae4a7429974dd"><td class="memItemLeft" align="right" valign="top">struct event&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventHandler.html#a9a1835bab30850a60e7ae4a7429974dd">event_</a></td></tr>
<tr class="separator:a9a1835bab30850a60e7ae4a7429974dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cb889d27bc5fac9d7eacc43a16449ce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1EventBase.html">EventBase</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventHandler.html#a4cb889d27bc5fac9d7eacc43a16449ce">eventBase_</a></td></tr>
<tr class="separator:a4cb889d27bc5fac9d7eacc43a16449ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="classfolly_1_1EventHandler.html">EventHandler</a> class is used to asynchronously wait for events on a file descriptor.</p>
<p>Users that wish to wait on I/O events should derive from <a class="el" href="classfolly_1_1EventHandler.html">EventHandler</a> and implement the <a class="el" href="classfolly_1_1EventHandler.html#a63d05aa25d4c6df8062dc54f86c0a501">handlerReady()</a> method. </p>

<p>Definition at line <a class="el" href="EventHandler_8h_source.html#l00039">39</a> of file <a class="el" href="EventHandler_8h_source.html">EventHandler.h</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="a03ecfc8fd68fa86b693c1e56148e862c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classfolly_1_1EventHandler.html#a03ecfc8fd68fa86b693c1e56148e862c">folly::EventHandler::EventFlags</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a03ecfc8fd68fa86b693c1e56148e862ca09eafb954636d468c193f04022deff75"></a>NONE&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a03ecfc8fd68fa86b693c1e56148e862ca7b6303958f6418301a09e7ee402eae8f"></a>READ&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a03ecfc8fd68fa86b693c1e56148e862caa0e284efead463f0bb88c334f9635565"></a>WRITE&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a03ecfc8fd68fa86b693c1e56148e862ca4df957490633f5e01495bda435572dc6"></a>READ_WRITE&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a03ecfc8fd68fa86b693c1e56148e862ca60be439c6bcefd5e64997f8f4d05a572"></a>PERSIST&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="EventHandler_8h_source.html#l00041">41</a> of file <a class="el" href="EventHandler_8h_source.html">EventHandler.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;                  {</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <a class="code" href="classfolly_1_1EventHandler.html#a03ecfc8fd68fa86b693c1e56148e862ca09eafb954636d468c193f04022deff75">NONE</a> = 0,</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <a class="code" href="classfolly_1_1EventHandler.html#a03ecfc8fd68fa86b693c1e56148e862ca7b6303958f6418301a09e7ee402eae8f">READ</a> = EV_READ,</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <a class="code" href="classfolly_1_1EventHandler.html#a03ecfc8fd68fa86b693c1e56148e862caa0e284efead463f0bb88c334f9635565">WRITE</a> = EV_WRITE,</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <a class="code" href="classfolly_1_1EventHandler.html#a03ecfc8fd68fa86b693c1e56148e862ca4df957490633f5e01495bda435572dc6">READ_WRITE</a> = (<a class="code" href="classfolly_1_1EventHandler.html#a03ecfc8fd68fa86b693c1e56148e862ca7b6303958f6418301a09e7ee402eae8f">READ</a> | <a class="code" href="classfolly_1_1EventHandler.html#a03ecfc8fd68fa86b693c1e56148e862caa0e284efead463f0bb88c334f9635565">WRITE</a>),</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <a class="code" href="classfolly_1_1EventHandler.html#a03ecfc8fd68fa86b693c1e56148e862ca60be439c6bcefd5e64997f8f4d05a572">PERSIST</a> = EV_PERSIST,</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">// Temporary flag until EPOLLPRI is upstream on libevent.</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;#ifdef EV_PRI</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    PRI = EV_PRI,</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;#endif</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  };</div><div class="ttc" id="classfolly_1_1EventHandler_html_a03ecfc8fd68fa86b693c1e56148e862ca4df957490633f5e01495bda435572dc6"><div class="ttname"><a href="classfolly_1_1EventHandler.html#a03ecfc8fd68fa86b693c1e56148e862ca4df957490633f5e01495bda435572dc6">folly::EventHandler::READ_WRITE</a></div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8h_source.html#l00045">EventHandler.h:45</a></div></div>
<div class="ttc" id="classfolly_1_1EventHandler_html_a03ecfc8fd68fa86b693c1e56148e862ca60be439c6bcefd5e64997f8f4d05a572"><div class="ttname"><a href="classfolly_1_1EventHandler.html#a03ecfc8fd68fa86b693c1e56148e862ca60be439c6bcefd5e64997f8f4d05a572">folly::EventHandler::PERSIST</a></div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8h_source.html#l00046">EventHandler.h:46</a></div></div>
<div class="ttc" id="classfolly_1_1EventHandler_html_a03ecfc8fd68fa86b693c1e56148e862ca09eafb954636d468c193f04022deff75"><div class="ttname"><a href="classfolly_1_1EventHandler.html#a03ecfc8fd68fa86b693c1e56148e862ca09eafb954636d468c193f04022deff75">folly::EventHandler::NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8h_source.html#l00042">EventHandler.h:42</a></div></div>
<div class="ttc" id="classfolly_1_1EventHandler_html_a03ecfc8fd68fa86b693c1e56148e862caa0e284efead463f0bb88c334f9635565"><div class="ttname"><a href="classfolly_1_1EventHandler.html#a03ecfc8fd68fa86b693c1e56148e862caa0e284efead463f0bb88c334f9635565">folly::EventHandler::WRITE</a></div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8h_source.html#l00044">EventHandler.h:44</a></div></div>
<div class="ttc" id="classfolly_1_1EventHandler_html_a03ecfc8fd68fa86b693c1e56148e862ca7b6303958f6418301a09e7ee402eae8f"><div class="ttname"><a href="classfolly_1_1EventHandler.html#a03ecfc8fd68fa86b693c1e56148e862ca7b6303958f6418301a09e7ee402eae8f">folly::EventHandler::READ</a></div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8h_source.html#l00043">EventHandler.h:43</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a2cd20fe2b2de66d1d4cd1e080d33091a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">folly::EventHandler::EventHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1EventBase.html">EventBase</a> *&#160;</td>
          <td class="paramname"><em>eventBase</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a new <a class="el" href="classfolly_1_1EventHandler.html">EventHandler</a> object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eventBase</td><td>The <a class="el" href="classfolly_1_1EventBase.html">EventBase</a> to use to drive this event handler. This may be nullptr, in which case the <a class="el" href="classfolly_1_1EventBase.html">EventBase</a> must be set separately using <a class="el" href="classfolly_1_1EventHandler.html#a9f0c0d20c737730108c8427f1a5b0115">initHandler()</a> or <a class="el" href="classfolly_1_1EventHandler.html#a232288a0b6f89ab52ace581e9efe60c6">attachEventBase()</a> before the handler can be registered. </td></tr>
    <tr><td class="paramname">fd</td><td>The file descriptor that this <a class="el" href="classfolly_1_1EventHandler.html">EventHandler</a> will monitor. This may be -1, in which case the file descriptor must be set separately using <a class="el" href="classfolly_1_1EventHandler.html#a9f0c0d20c737730108c8427f1a5b0115">initHandler()</a> or <a class="el" href="classfolly_1_1EventHandler.html#aef72fafbedd426fb96c4dd46b6d85395">changeHandlerFD()</a> before the handler can be registered. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="EventHandler_8h_source.html#l00065">65</a> of file <a class="el" href="EventHandler_8h_source.html">EventHandler.h</a>.</p>

<p>References <a class="el" href="classfolly_1_1EventHandler.html#a63d05aa25d4c6df8062dc54f86c0a501">handlerReady()</a>, <a class="el" href="extension__points_8h_source.html#l00040">folly::pushmi::__adl::noexcept()</a>, <a class="el" href="ConstexprMathBenchmark_8cpp_source.html#l00182">uint16_t</a>, and <a class="el" href="EventHandler_8cpp_source.html#l00038">~EventHandler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;      : <a class="code" href="classfolly_1_1EventHandler.html#a2cd20fe2b2de66d1d4cd1e080d33091a">EventHandler</a>(eventBase, <a class="code" href="structfolly_1_1NetworkSocket.html#aa44e104db682e0c49568be093f9326fb">NetworkSocket::fromFd</a>(fd)) {}</div><div class="ttc" id="classfolly_1_1EventHandler_html_a2cd20fe2b2de66d1d4cd1e080d33091a"><div class="ttname"><a href="classfolly_1_1EventHandler.html#a2cd20fe2b2de66d1d4cd1e080d33091a">folly::EventHandler::EventHandler</a></div><div class="ttdeci">EventHandler(EventBase *eventBase, int fd)</div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8h_source.html#l00065">EventHandler.h:65</a></div></div>
<div class="ttc" id="structfolly_1_1NetworkSocket_html_aa44e104db682e0c49568be093f9326fb"><div class="ttname"><a href="structfolly_1_1NetworkSocket.html#aa44e104db682e0c49568be093f9326fb">folly::NetworkSocket::fromFd</a></div><div class="ttdeci">static NetworkSocket fromFd(int fd)</div><div class="ttdef"><b>Definition:</b> <a href="NetworkSocket_8h_source.html#l00044">NetworkSocket.h:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9684b77f38cf743c581df2f19ac73d11"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">folly::EventHandler::EventHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1EventBase.html">EventBase</a> *&#160;</td>
          <td class="paramname"><em>eventBase</em> = <code><a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfolly_1_1NetworkSocket.html">NetworkSocket</a>&#160;</td>
          <td class="paramname"><em>fd</em> = <code><a class="el" href="structfolly_1_1NetworkSocket.html">NetworkSocket</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventHandler_8cpp_source.html#l00025">25</a> of file <a class="el" href="EventHandler_8cpp_source.html">EventHandler.cpp</a>.</p>

<p>References <a class="el" href="EventHandler_8h_source.html#l00197">event_</a>, <a class="el" href="EventHandler_8h_source.html#l00198">eventBase_</a>, <a class="el" href="Event_8h_source.html#l00050">folly::folly_event_set()</a>, <a class="el" href="EventHandler_8cpp_source.html#l00148">libeventCallback()</a>, <a class="el" href="EventHandler_8cpp_source.html#l00168">setEventBase()</a>, and <a class="el" href="NetworkSocket_8h_source.html#l00049">folly::NetworkSocket::toFd()</a>.</p>
<div class="fragment"><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;                                                                 {</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;  <a class="code" href="namespacefolly.html#a969dbf5ae0717d73bb0e8db0e586578e">folly_event_set</a>(&amp;<a class="code" href="classfolly_1_1EventHandler.html#a9a1835bab30850a60e7ae4a7429974dd">event_</a>, fd.toFd(), 0, &amp;<a class="code" href="classfolly_1_1EventHandler.html#adaf2ce5d92b0d7c90dfce61086826034">EventHandler::libeventCallback</a>, <span class="keyword">this</span>);</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;  <span class="keywordflow">if</span> (eventBase != <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <a class="code" href="classfolly_1_1EventHandler.html#ac1eba4ff0c432e0cedd412ac5aefebd8">setEventBase</a>(eventBase);</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="comment">// Callers must set the EventBase and fd before using this timeout.</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="comment">// Set event_-&gt;ev_base to nullptr to ensure that this happens.</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <span class="comment">// (otherwise libevent will initialize it to the &quot;default&quot; event_base)</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <a class="code" href="classfolly_1_1EventHandler.html#a9a1835bab30850a60e7ae4a7429974dd">event_</a>.ev_base = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <a class="code" href="classfolly_1_1EventHandler.html#a4cb889d27bc5fac9d7eacc43a16449ce">eventBase_</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  }</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventHandler_html_a9a1835bab30850a60e7ae4a7429974dd"><div class="ttname"><a href="classfolly_1_1EventHandler.html#a9a1835bab30850a60e7ae4a7429974dd">folly::EventHandler::event_</a></div><div class="ttdeci">struct event event_</div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8h_source.html#l00197">EventHandler.h:197</a></div></div>
<div class="ttc" id="classfolly_1_1EventHandler_html_adaf2ce5d92b0d7c90dfce61086826034"><div class="ttname"><a href="classfolly_1_1EventHandler.html#adaf2ce5d92b0d7c90dfce61086826034">folly::EventHandler::libeventCallback</a></div><div class="ttdeci">static void libeventCallback(libevent_fd_t fd, short events, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8cpp_source.html#l00148">EventHandler.cpp:148</a></div></div>
<div class="ttc" id="classfolly_1_1EventHandler_html_ac1eba4ff0c432e0cedd412ac5aefebd8"><div class="ttname"><a href="classfolly_1_1EventHandler.html#ac1eba4ff0c432e0cedd412ac5aefebd8">folly::EventHandler::setEventBase</a></div><div class="ttdeci">void setEventBase(EventBase *eventBase)</div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8cpp_source.html#l00168">EventHandler.cpp:168</a></div></div>
<div class="ttc" id="namespacefolly_html_a969dbf5ae0717d73bb0e8db0e586578e"><div class="ttname"><a href="namespacefolly.html#a969dbf5ae0717d73bb0e8db0e586578e">folly::folly_event_set</a></div><div class="ttdeci">void folly_event_set(event *e, int fd, short s, EventSetCallback f, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="Event_8h_source.html#l00050">Event.h:50</a></div></div>
<div class="ttc" id="classfolly_1_1EventHandler_html_a4cb889d27bc5fac9d7eacc43a16449ce"><div class="ttname"><a href="classfolly_1_1EventHandler.html#a4cb889d27bc5fac9d7eacc43a16449ce">folly::EventHandler::eventBase_</a></div><div class="ttdeci">EventBase * eventBase_</div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8h_source.html#l00198">EventHandler.h:198</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a95e2ff198495150663772d465eb76e19"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">folly::EventHandler::~EventHandler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="classfolly_1_1EventHandler.html">EventHandler</a> destructor.</p>
<p>The event will be automatically unregistered if it is still registered. </p>

<p>Definition at line <a class="el" href="EventHandler_8cpp_source.html#l00038">38</a> of file <a class="el" href="EventHandler_8cpp_source.html">EventHandler.cpp</a>.</p>

<p>References <a class="el" href="EventHandler_8cpp_source.html#l00103">unregisterHandler()</a>.</p>

<p>Referenced by <a class="el" href="EventHandler_8h_source.html#l00065">EventHandler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;                            {</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  <a class="code" href="classfolly_1_1EventHandler.html#a72e295058c1ffc6a8506120c061dc991">unregisterHandler</a>();</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventHandler_html_a72e295058c1ffc6a8506120c061dc991"><div class="ttname"><a href="classfolly_1_1EventHandler.html#a72e295058c1ffc6a8506120c061dc991">folly::EventHandler::unregisterHandler</a></div><div class="ttdeci">void unregisterHandler()</div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8cpp_source.html#l00103">EventHandler.cpp:103</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a232288a0b6f89ab52ace581e9efe60c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void folly::EventHandler::attachEventBase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1EventBase.html">EventBase</a> *&#160;</td>
          <td class="paramname"><em>eventBase</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Attach the handler to a <a class="el" href="classfolly_1_1EventBase.html">EventBase</a>.</p>
<p>This may only be called if the handler is not currently attached to a <a class="el" href="classfolly_1_1EventBase.html">EventBase</a> (either by using the default constructor, or by calling <a class="el" href="classfolly_1_1EventHandler.html#ad88a36559181920dce709d1836108eab">detachEventBase()</a>).</p>
<p>This method must be invoked in the <a class="el" href="classfolly_1_1EventBase.html">EventBase</a>'s thread. </p>

<p>Definition at line <a class="el" href="EventHandler_8cpp_source.html#l00109">109</a> of file <a class="el" href="EventHandler_8cpp_source.html">EventHandler.cpp</a>.</p>

<p>References <a class="el" href="EventBase_8h_source.html#l00520">folly::EventBase::dcheckIsInEventBaseThread()</a>, <a class="el" href="EventHandler_8h_source.html#l00197">event_</a>, <a class="el" href="EventHandler_8h_source.html#l00112">isHandlerRegistered()</a>, and <a class="el" href="EventHandler_8cpp_source.html#l00168">setEventBase()</a>.</p>

<p>Referenced by <a class="el" href="AsyncUDPSocket_8cpp_source.html#l00546">folly::AsyncUDPSocket::attachEventBase()</a>, <a class="el" href="AsyncSocket_8cpp_source.html#l01500">folly::AsyncSocket::attachEventBase()</a>, and <a class="el" href="EventHandler_8h_source.html#l00112">isHandlerRegistered()</a>.</p>
<div class="fragment"><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                                                       {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="comment">// attachEventBase() may only be called on detached handlers</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  assert(<a class="code" href="classfolly_1_1EventHandler.html#a9a1835bab30850a60e7ae4a7429974dd">event_</a>.ev_base == <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  assert(!<a class="code" href="classfolly_1_1EventHandler.html#a98f877e37f8e1d74e562c9ce14e5853f">isHandlerRegistered</a>());</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="comment">// This must be invoked from the EventBase&#39;s thread</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  eventBase-&gt;dcheckIsInEventBaseThread();</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <a class="code" href="classfolly_1_1EventHandler.html#ac1eba4ff0c432e0cedd412ac5aefebd8">setEventBase</a>(eventBase);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventHandler_html_a9a1835bab30850a60e7ae4a7429974dd"><div class="ttname"><a href="classfolly_1_1EventHandler.html#a9a1835bab30850a60e7ae4a7429974dd">folly::EventHandler::event_</a></div><div class="ttdeci">struct event event_</div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8h_source.html#l00197">EventHandler.h:197</a></div></div>
<div class="ttc" id="classfolly_1_1EventHandler_html_ac1eba4ff0c432e0cedd412ac5aefebd8"><div class="ttname"><a href="classfolly_1_1EventHandler.html#ac1eba4ff0c432e0cedd412ac5aefebd8">folly::EventHandler::setEventBase</a></div><div class="ttdeci">void setEventBase(EventBase *eventBase)</div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8cpp_source.html#l00168">EventHandler.cpp:168</a></div></div>
<div class="ttc" id="classfolly_1_1EventHandler_html_a98f877e37f8e1d74e562c9ce14e5853f"><div class="ttname"><a href="classfolly_1_1EventHandler.html#a98f877e37f8e1d74e562c9ce14e5853f">folly::EventHandler::isHandlerRegistered</a></div><div class="ttdeci">bool isHandlerRegistered() const </div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8h_source.html#l00112">EventHandler.h:112</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aef72fafbedd426fb96c4dd46b6d85395"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::EventHandler::changeHandlerFD </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Change the file descriptor that this handler is associated with.</p>
<p>This may only be called when the handler is not currently registered. </p>

<p>Definition at line <a class="el" href="EventHandler_8h_source.html#l00143">143</a> of file <a class="el" href="EventHandler_8h_source.html">EventHandler.h</a>.</p>

<p>References <a class="el" href="NetworkSocket_8h_source.html#l00044">folly::NetworkSocket::fromFd()</a>.</p>

<p>Referenced by <a class="el" href="AsyncUDPSocket_8cpp_source.html#l00051">folly::AsyncUDPSocket::bind()</a>, <a class="el" href="AsyncPipe_8cpp_source.html#l00043">folly::AsyncPipeReader::close()</a>, <a class="el" href="AsyncPipe_8cpp_source.html#l00187">folly::AsyncPipeWriter::closeNow()</a>, <a class="el" href="AsyncSocket_8cpp_source.html#l01252">folly::AsyncSocket::closeNow()</a>, <a class="el" href="AsyncSocket_8cpp_source.html#l00431">folly::AsyncSocket::connect()</a>, <a class="el" href="AsyncSocket_8cpp_source.html#l00375">folly::AsyncSocket::detachFd()</a>, <a class="el" href="AsyncSocket_8cpp_source.html#l02019">folly::AsyncSocket::handleWrite()</a>, <a class="el" href="AsyncUDPSocket_8cpp_source.html#l00224">folly::AsyncUDPSocket::setFD()</a>, and <a class="el" href="AsyncSocket_8cpp_source.html#l02516">folly::AsyncSocket::startFail()</a>.</p>
<div class="fragment"><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                               {</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <a class="code" href="classfolly_1_1EventHandler.html#aef72fafbedd426fb96c4dd46b6d85395">changeHandlerFD</a>(<a class="code" href="structfolly_1_1NetworkSocket.html#aa44e104db682e0c49568be093f9326fb">NetworkSocket::fromFd</a>(fd));</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  }</div><div class="ttc" id="classfolly_1_1EventHandler_html_aef72fafbedd426fb96c4dd46b6d85395"><div class="ttname"><a href="classfolly_1_1EventHandler.html#aef72fafbedd426fb96c4dd46b6d85395">folly::EventHandler::changeHandlerFD</a></div><div class="ttdeci">void changeHandlerFD(int fd)</div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8h_source.html#l00143">EventHandler.h:143</a></div></div>
<div class="ttc" id="structfolly_1_1NetworkSocket_html_aa44e104db682e0c49568be093f9326fb"><div class="ttname"><a href="structfolly_1_1NetworkSocket.html#aa44e104db682e0c49568be093f9326fb">folly::NetworkSocket::fromFd</a></div><div class="ttdeci">static NetworkSocket fromFd(int fd)</div><div class="ttdef"><b>Definition:</b> <a href="NetworkSocket_8h_source.html#l00044">NetworkSocket.h:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3368fb7865fc56b81ed500fd483a7523"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void folly::EventHandler::changeHandlerFD </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfolly_1_1NetworkSocket.html">NetworkSocket</a>&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventHandler_8cpp_source.html#l00124">124</a> of file <a class="el" href="EventHandler_8cpp_source.html">EventHandler.cpp</a>.</p>

<p>References <a class="el" href="EventHandler_8cpp_source.html#l00138">ensureNotRegistered()</a>, <a class="el" href="EventHandler_8h_source.html#l00197">event_</a>, <a class="el" href="Event_8h_source.html#l00050">folly::folly_event_set()</a>, <a class="el" href="EventHandler_8cpp_source.html#l00148">libeventCallback()</a>, and <a class="el" href="NetworkSocket_8h_source.html#l00049">folly::NetworkSocket::toFd()</a>.</p>
<div class="fragment"><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                                                   {</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <a class="code" href="classfolly_1_1EventHandler.html#a760754c60fb6c2057ecb1c77421a6e57">ensureNotRegistered</a>(__func__);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="comment">// event_set() resets event_base.ev_base, so manually restore it afterwards</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keyword">struct </span>event_base* evb = <a class="code" href="classfolly_1_1EventHandler.html#a9a1835bab30850a60e7ae4a7429974dd">event_</a>.ev_base;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <a class="code" href="namespacefolly.html#a969dbf5ae0717d73bb0e8db0e586578e">folly_event_set</a>(&amp;<a class="code" href="classfolly_1_1EventHandler.html#a9a1835bab30850a60e7ae4a7429974dd">event_</a>, fd.toFd(), 0, &amp;<a class="code" href="classfolly_1_1EventHandler.html#adaf2ce5d92b0d7c90dfce61086826034">EventHandler::libeventCallback</a>, <span class="keyword">this</span>);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <a class="code" href="classfolly_1_1EventHandler.html#a9a1835bab30850a60e7ae4a7429974dd">event_</a>.ev_base = evb; <span class="comment">// don&#39;t use event_base_set(), since evb may be nullptr</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventHandler_html_a9a1835bab30850a60e7ae4a7429974dd"><div class="ttname"><a href="classfolly_1_1EventHandler.html#a9a1835bab30850a60e7ae4a7429974dd">folly::EventHandler::event_</a></div><div class="ttdeci">struct event event_</div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8h_source.html#l00197">EventHandler.h:197</a></div></div>
<div class="ttc" id="classfolly_1_1EventHandler_html_adaf2ce5d92b0d7c90dfce61086826034"><div class="ttname"><a href="classfolly_1_1EventHandler.html#adaf2ce5d92b0d7c90dfce61086826034">folly::EventHandler::libeventCallback</a></div><div class="ttdeci">static void libeventCallback(libevent_fd_t fd, short events, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8cpp_source.html#l00148">EventHandler.cpp:148</a></div></div>
<div class="ttc" id="namespacefolly_html_a969dbf5ae0717d73bb0e8db0e586578e"><div class="ttname"><a href="namespacefolly.html#a969dbf5ae0717d73bb0e8db0e586578e">folly::folly_event_set</a></div><div class="ttdeci">void folly_event_set(event *e, int fd, short s, EventSetCallback f, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="Event_8h_source.html#l00050">Event.h:50</a></div></div>
<div class="ttc" id="classfolly_1_1EventHandler_html_a760754c60fb6c2057ecb1c77421a6e57"><div class="ttname"><a href="classfolly_1_1EventHandler.html#a760754c60fb6c2057ecb1c77421a6e57">folly::EventHandler::ensureNotRegistered</a></div><div class="ttdeci">void ensureNotRegistered(const char *fn)</div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8cpp_source.html#l00138">EventHandler.cpp:138</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad88a36559181920dce709d1836108eab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void folly::EventHandler::detachEventBase </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Detach the handler from its <a class="el" href="classfolly_1_1EventBase.html">EventBase</a>.</p>
<p>This may only be called when the handler is not currently registered. Once detached, the handler may not be registered again until it is re-attached to a <a class="el" href="classfolly_1_1EventBase.html">EventBase</a> by calling <a class="el" href="classfolly_1_1EventHandler.html#a232288a0b6f89ab52ace581e9efe60c6">attachEventBase()</a>.</p>
<p>This method must be called from the current <a class="el" href="classfolly_1_1EventBase.html">EventBase</a>'s thread. </p>

<p>Definition at line <a class="el" href="EventHandler_8cpp_source.html#l00119">119</a> of file <a class="el" href="EventHandler_8cpp_source.html">EventHandler.cpp</a>.</p>

<p>References <a class="el" href="EventHandler_8cpp_source.html#l00138">ensureNotRegistered()</a>, and <a class="el" href="EventHandler_8h_source.html#l00197">event_</a>.</p>

<p>Referenced by <a class="el" href="AsyncUDPSocket_8cpp_source.html#l00539">folly::AsyncUDPSocket::detachEventBase()</a>, <a class="el" href="AsyncSocket_8cpp_source.html#l01519">folly::AsyncSocket::detachEventBase()</a>, and <a class="el" href="EventHandler_8h_source.html#l00112">isHandlerRegistered()</a>.</p>
<div class="fragment"><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                                   {</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <a class="code" href="classfolly_1_1EventHandler.html#a760754c60fb6c2057ecb1c77421a6e57">ensureNotRegistered</a>(__func__);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <a class="code" href="classfolly_1_1EventHandler.html#a9a1835bab30850a60e7ae4a7429974dd">event_</a>.ev_base = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventHandler_html_a9a1835bab30850a60e7ae4a7429974dd"><div class="ttname"><a href="classfolly_1_1EventHandler.html#a9a1835bab30850a60e7ae4a7429974dd">folly::EventHandler::event_</a></div><div class="ttdeci">struct event event_</div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8h_source.html#l00197">EventHandler.h:197</a></div></div>
<div class="ttc" id="classfolly_1_1EventHandler_html_a760754c60fb6c2057ecb1c77421a6e57"><div class="ttname"><a href="classfolly_1_1EventHandler.html#a760754c60fb6c2057ecb1c77421a6e57">folly::EventHandler::ensureNotRegistered</a></div><div class="ttdeci">void ensureNotRegistered(const char *fn)</div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8cpp_source.html#l00138">EventHandler.cpp:138</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a760754c60fb6c2057ecb1c77421a6e57"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::EventHandler::ensureNotRegistered </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventHandler_8cpp_source.html#l00138">138</a> of file <a class="el" href="EventHandler_8cpp_source.html">EventHandler.cpp</a>.</p>

<p>References <a class="el" href="EventHandler_8h_source.html#l00112">isHandlerRegistered()</a>.</p>

<p>Referenced by <a class="el" href="EventHandler_8cpp_source.html#l00124">changeHandlerFD()</a>, <a class="el" href="EventHandler_8cpp_source.html#l00119">detachEventBase()</a>, <a class="el" href="EventHandler_8cpp_source.html#l00132">initHandler()</a>, and <a class="el" href="EventHandler_8h_source.html#l00183">registerInternalHandler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                                                     {</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="comment">// Neither the EventBase nor file descriptor may be changed while the</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="comment">// handler is registered.  Treat it as a programmer bug and abort the program</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="comment">// if this requirement is violated.</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1EventHandler.html#a98f877e37f8e1d74e562c9ce14e5853f">isHandlerRegistered</a>()) {</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    LOG(ERROR) &lt;&lt; fn &lt;&lt; <span class="stringliteral">&quot; called on registered handler; aborting&quot;</span>;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    abort();</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  }</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventHandler_html_a98f877e37f8e1d74e562c9ce14e5853f"><div class="ttname"><a href="classfolly_1_1EventHandler.html#a98f877e37f8e1d74e562c9ce14e5853f">folly::EventHandler::isHandlerRegistered</a></div><div class="ttdeci">bool isHandlerRegistered() const </div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8h_source.html#l00112">EventHandler.h:112</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aded93c9ccbcb9fb992da83cd410cc4f1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a5a8b2dc9e45a9ee81a94ef304fb62505">uint16_t</a> folly::EventHandler::getRegisteredEvents </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the set of events that we're currently registered for. </p>

<p>Definition at line <a class="el" href="EventHandler_8h_source.html#l00165">165</a> of file <a class="el" href="EventHandler_8h_source.html">EventHandler.h</a>.</p>

<p>References <a class="el" href="EventHandler_8h_source.html#l00197">event_</a>, <a class="el" href="EventHandler_8h_source.html#l00112">isHandlerRegistered()</a>, and <a class="el" href="ConstexprMathBenchmark_8cpp_source.html#l00182">uint16_t</a>.</p>
<div class="fragment"><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                                       {</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="classfolly_1_1EventHandler.html#a98f877e37f8e1d74e562c9ce14e5853f">isHandlerRegistered</a>()) ? <a class="code" href="ConstexprMathBenchmark_8cpp.html#a5a8b2dc9e45a9ee81a94ef304fb62505">uint16_t</a>(<a class="code" href="classfolly_1_1EventHandler.html#a9a1835bab30850a60e7ae4a7429974dd">event_</a>.ev_events) : 0u;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  }</div><div class="ttc" id="classfolly_1_1EventHandler_html_a9a1835bab30850a60e7ae4a7429974dd"><div class="ttname"><a href="classfolly_1_1EventHandler.html#a9a1835bab30850a60e7ae4a7429974dd">folly::EventHandler::event_</a></div><div class="ttdeci">struct event event_</div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8h_source.html#l00197">EventHandler.h:197</a></div></div>
<div class="ttc" id="ConstexprMathBenchmark_8cpp_html_a5a8b2dc9e45a9ee81a94ef304fb62505"><div class="ttname"><a href="ConstexprMathBenchmark_8cpp.html#a5a8b2dc9e45a9ee81a94ef304fb62505">uint16_t</a></div><div class="ttdeci">uint16_t</div><div class="ttdef"><b>Definition:</b> <a href="ConstexprMathBenchmark_8cpp_source.html#l00182">ConstexprMathBenchmark.cpp:182</a></div></div>
<div class="ttc" id="classfolly_1_1EventHandler_html_a98f877e37f8e1d74e562c9ce14e5853f"><div class="ttname"><a href="classfolly_1_1EventHandler.html#a98f877e37f8e1d74e562c9ce14e5853f">folly::EventHandler::isHandlerRegistered</a></div><div class="ttdeci">bool isHandlerRegistered() const </div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8h_source.html#l00112">EventHandler.h:112</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a63d05aa25d4c6df8062dc54f86c0a501"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void folly::EventHandler::handlerReady </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a5a8b2dc9e45a9ee81a94ef304fb62505">uint16_t</a>&#160;</td>
          <td class="paramname"><em>events</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="classfolly_1_1EventHandler.html#a63d05aa25d4c6df8062dc54f86c0a501">handlerReady()</a> is invoked when the handler is ready.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">events</td><td><a class="el" href="structA.html">A</a> bitset indicating the events that are ready. </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classPipeHandler.html#ae8f5d41e31c7a1cb6c840909bd5de8cc">PipeHandler</a>, <a class="el" href="classTerminateTestCallback.html#af176ef631a2a0c46cc89754a63cb649a">TerminateTestCallback</a>, <a class="el" href="classfolly_1_1AsyncSocket_1_1IoHandler.html#a22a12d34753c6f1031733c06da6fba01">folly::AsyncSocket::IoHandler</a>, <a class="el" href="structfolly_1_1AsyncServerSocket_1_1ServerEventHandler.html#afbf81016772a67eacaa3acc86d01c0a4">folly::AsyncServerSocket::ServerEventHandler</a>, <a class="el" href="classPartialWriteHandler.html#a95714f345bf018046aba5b0680780577">PartialWriteHandler</a>, <a class="el" href="classPartialReadHandler.html#aab68e17da0787c06dd72f8b8d59a0542">PartialReadHandler</a>, <a class="el" href="classfolly_1_1AsyncUDPSocket.html#a83f8de4b9212b8819c8066244ce3ad03">folly::AsyncUDPSocket</a>, <a class="el" href="classfolly_1_1NotificationQueue_1_1Consumer.html#aa5304eecc250a89da1b1da79735b6002">folly::NotificationQueue&lt; MessageT &gt;::Consumer</a>, <a class="el" href="classfolly_1_1AsyncPipeWriter.html#a8c576f71dbd39c95fa2c6a44435cf93e">folly::AsyncPipeWriter</a>, <a class="el" href="classTestHandler.html#ac54043a942211462634e2437056cecbb">TestHandler</a>, <a class="el" href="classfolly_1_1AsyncPipeReader.html#a683a6d568bf99a55812958c98f9707a5">folly::AsyncPipeReader</a>, <a class="el" href="classfizz_1_1tool_1_1TerminalInputHandler.html#a6c77edb8d90fd26352ac35f195e382b4">fizz::tool::TerminalInputHandler</a>, and <a class="el" href="classEventHandlerMock.html#a8bfe339c693d0cdedaafb24b66c843c3">EventHandlerMock</a>.</p>

<p>Referenced by <a class="el" href="EventHandler_8h_source.html#l00065">EventHandler()</a>, and <a class="el" href="EventHandler_8cpp_source.html#l00148">libeventCallback()</a>.</p>

</div>
</div>
<a class="anchor" id="a9f0c0d20c737730108c8427f1a5b0115"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::EventHandler::initHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1EventBase.html">EventBase</a> *&#160;</td>
          <td class="paramname"><em>eventBase</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Attach the handler to a <a class="el" href="classfolly_1_1EventBase.html">EventBase</a>, and change the file descriptor.</p>
<p>This method may only be called if the handler is not currently attached to a <a class="el" href="classfolly_1_1EventBase.html">EventBase</a>. This is primarily intended to be used to initialize <a class="el" href="classfolly_1_1EventHandler.html">EventHandler</a> objects created using the default constructor. </p>

<p>Definition at line <a class="el" href="EventHandler_8h_source.html#l00156">156</a> of file <a class="el" href="EventHandler_8h_source.html">EventHandler.h</a>.</p>

<p>References <a class="el" href="NetworkSocket_8h_source.html#l00044">folly::NetworkSocket::fromFd()</a>.</p>
<div class="fragment"><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                                                 {</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <a class="code" href="classfolly_1_1EventHandler.html#a9f0c0d20c737730108c8427f1a5b0115">initHandler</a>(eventBase, <a class="code" href="structfolly_1_1NetworkSocket.html#aa44e104db682e0c49568be093f9326fb">NetworkSocket::fromFd</a>(fd));</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  }</div><div class="ttc" id="classfolly_1_1EventHandler_html_a9f0c0d20c737730108c8427f1a5b0115"><div class="ttname"><a href="classfolly_1_1EventHandler.html#a9f0c0d20c737730108c8427f1a5b0115">folly::EventHandler::initHandler</a></div><div class="ttdeci">void initHandler(EventBase *eventBase, int fd)</div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8h_source.html#l00156">EventHandler.h:156</a></div></div>
<div class="ttc" id="structfolly_1_1NetworkSocket_html_aa44e104db682e0c49568be093f9326fb"><div class="ttname"><a href="structfolly_1_1NetworkSocket.html#aa44e104db682e0c49568be093f9326fb">folly::NetworkSocket::fromFd</a></div><div class="ttdeci">static NetworkSocket fromFd(int fd)</div><div class="ttdef"><b>Definition:</b> <a href="NetworkSocket_8h_source.html#l00044">NetworkSocket.h:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9f7bfbd48a1dec9fe024f1e1d2e83374"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void folly::EventHandler::initHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1EventBase.html">EventBase</a> *&#160;</td>
          <td class="paramname"><em>eventBase</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfolly_1_1NetworkSocket.html">NetworkSocket</a>&#160;</td>
          <td class="paramname"><em>fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventHandler_8cpp_source.html#l00132">132</a> of file <a class="el" href="EventHandler_8cpp_source.html">EventHandler.cpp</a>.</p>

<p>References <a class="el" href="EventHandler_8cpp_source.html#l00138">ensureNotRegistered()</a>, <a class="el" href="EventHandler_8h_source.html#l00197">event_</a>, <a class="el" href="Event_8h_source.html#l00050">folly::folly_event_set()</a>, <a class="el" href="EventHandler_8cpp_source.html#l00148">libeventCallback()</a>, <a class="el" href="EventHandler_8cpp_source.html#l00168">setEventBase()</a>, and <a class="el" href="NetworkSocket_8h_source.html#l00049">folly::NetworkSocket::toFd()</a>.</p>
<div class="fragment"><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                                                                     {</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <a class="code" href="classfolly_1_1EventHandler.html#a760754c60fb6c2057ecb1c77421a6e57">ensureNotRegistered</a>(__func__);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <a class="code" href="namespacefolly.html#a969dbf5ae0717d73bb0e8db0e586578e">folly_event_set</a>(&amp;<a class="code" href="classfolly_1_1EventHandler.html#a9a1835bab30850a60e7ae4a7429974dd">event_</a>, fd.toFd(), 0, &amp;<a class="code" href="classfolly_1_1EventHandler.html#adaf2ce5d92b0d7c90dfce61086826034">EventHandler::libeventCallback</a>, <span class="keyword">this</span>);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <a class="code" href="classfolly_1_1EventHandler.html#ac1eba4ff0c432e0cedd412ac5aefebd8">setEventBase</a>(eventBase);</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventHandler_html_a9a1835bab30850a60e7ae4a7429974dd"><div class="ttname"><a href="classfolly_1_1EventHandler.html#a9a1835bab30850a60e7ae4a7429974dd">folly::EventHandler::event_</a></div><div class="ttdeci">struct event event_</div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8h_source.html#l00197">EventHandler.h:197</a></div></div>
<div class="ttc" id="classfolly_1_1EventHandler_html_adaf2ce5d92b0d7c90dfce61086826034"><div class="ttname"><a href="classfolly_1_1EventHandler.html#adaf2ce5d92b0d7c90dfce61086826034">folly::EventHandler::libeventCallback</a></div><div class="ttdeci">static void libeventCallback(libevent_fd_t fd, short events, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8cpp_source.html#l00148">EventHandler.cpp:148</a></div></div>
<div class="ttc" id="classfolly_1_1EventHandler_html_ac1eba4ff0c432e0cedd412ac5aefebd8"><div class="ttname"><a href="classfolly_1_1EventHandler.html#ac1eba4ff0c432e0cedd412ac5aefebd8">folly::EventHandler::setEventBase</a></div><div class="ttdeci">void setEventBase(EventBase *eventBase)</div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8cpp_source.html#l00168">EventHandler.cpp:168</a></div></div>
<div class="ttc" id="namespacefolly_html_a969dbf5ae0717d73bb0e8db0e586578e"><div class="ttname"><a href="namespacefolly.html#a969dbf5ae0717d73bb0e8db0e586578e">folly::folly_event_set</a></div><div class="ttdeci">void folly_event_set(event *e, int fd, short s, EventSetCallback f, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="Event_8h_source.html#l00050">Event.h:50</a></div></div>
<div class="ttc" id="classfolly_1_1EventHandler_html_a760754c60fb6c2057ecb1c77421a6e57"><div class="ttname"><a href="classfolly_1_1EventHandler.html#a760754c60fb6c2057ecb1c77421a6e57">folly::EventHandler::ensureNotRegistered</a></div><div class="ttdeci">void ensureNotRegistered(const char *fn)</div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8cpp_source.html#l00138">EventHandler.cpp:138</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a98f877e37f8e1d74e562c9ce14e5853f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::EventHandler::isHandlerRegistered </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns true if the handler is currently registered. </p>

<p>Definition at line <a class="el" href="EventHandler_8h_source.html#l00112">112</a> of file <a class="el" href="EventHandler_8h_source.html">EventHandler.h</a>.</p>

<p>References <a class="el" href="EventHandler_8cpp_source.html#l00109">attachEventBase()</a>, <a class="el" href="EventHandler_8cpp_source.html#l00119">detachEventBase()</a>, <a class="el" href="EventHandler_8h_source.html#l00197">event_</a>, and <a class="el" href="EventUtil_8h_source.html#l00051">folly::EventUtil::isEventRegistered()</a>.</p>

<p>Referenced by <a class="el" href="EventHandler_8cpp_source.html#l00109">attachEventBase()</a>, <a class="el" href="AsyncPipe_8cpp_source.html#l00177">folly::AsyncPipeWriter::closeOnEmpty()</a>, <a class="el" href="EventHandler_8cpp_source.html#l00138">ensureNotRegistered()</a>, <a class="el" href="EventHandler_8h_source.html#l00165">getRegisteredEvents()</a>, <a class="el" href="EventHandler_8cpp_source.html#l00042">registerImpl()</a>, <a class="el" href="AsyncPipe_8h_source.html#l00054">folly::AsyncPipeReader::setReadCB()</a>, <a class="el" href="EventHandler_8cpp_source.html#l00103">unregisterHandler()</a>, and <a class="el" href="AsyncPipe_8cpp_source.html#l00145">folly::AsyncPipeWriter::write()</a>.</p>
<div class="fragment"><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                                   {</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1EventUtil.html#aef962ab17b420d269fe20529a231f15c">EventUtil::isEventRegistered</a>(&amp;<a class="code" href="classfolly_1_1EventHandler.html#a9a1835bab30850a60e7ae4a7429974dd">event_</a>);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  }</div><div class="ttc" id="classfolly_1_1EventHandler_html_a9a1835bab30850a60e7ae4a7429974dd"><div class="ttname"><a href="classfolly_1_1EventHandler.html#a9a1835bab30850a60e7ae4a7429974dd">folly::EventHandler::event_</a></div><div class="ttdeci">struct event event_</div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8h_source.html#l00197">EventHandler.h:197</a></div></div>
<div class="ttc" id="classfolly_1_1EventUtil_html_aef962ab17b420d269fe20529a231f15c"><div class="ttname"><a href="classfolly_1_1EventUtil.html#aef962ab17b420d269fe20529a231f15c">folly::EventUtil::isEventRegistered</a></div><div class="ttdeci">static bool isEventRegistered(const struct event *ev)</div><div class="ttdef"><b>Definition:</b> <a href="EventUtil_8h_source.html#l00051">EventUtil.h:51</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aef0e13ff8b995fd00e5ea260a7d49b3e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::EventHandler::isPending </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventHandler_8cpp_source.html#l00173">173</a> of file <a class="el" href="EventHandler_8cpp_source.html">EventHandler.cpp</a>.</p>

<p>References <a class="el" href="EventHandler_8h_source.html#l00197">event_</a>, and <a class="el" href="EventUtil_8h_source.html#l00041">folly::event_ref_flags()</a>.</p>

<p>Referenced by <a class="el" href="AsyncSocket_8cpp_source.html#l01467">folly::AsyncSocket::isPending()</a>, and <a class="el" href="EventHandler_8h_source.html#l00183">registerInternalHandler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                                   {</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacefolly.html#af81a0169635117098ecb6e486f7ccc86">event_ref_flags</a>(&amp;<a class="code" href="classfolly_1_1EventHandler.html#a9a1835bab30850a60e7ae4a7429974dd">event_</a>) &amp; EVLIST_ACTIVE) {</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1EventHandler.html#a9a1835bab30850a60e7ae4a7429974dd">event_</a>.ev_res &amp; EV_READ) {</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    }</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  }</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventHandler_html_a9a1835bab30850a60e7ae4a7429974dd"><div class="ttname"><a href="classfolly_1_1EventHandler.html#a9a1835bab30850a60e7ae4a7429974dd">folly::EventHandler::event_</a></div><div class="ttdeci">struct event event_</div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8h_source.html#l00197">EventHandler.h:197</a></div></div>
<div class="ttc" id="namespacefolly_html_af81a0169635117098ecb6e486f7ccc86"><div class="ttname"><a href="namespacefolly.html#af81a0169635117098ecb6e486f7ccc86">folly::event_ref_flags</a></div><div class="ttdeci">auto event_ref_flags(struct event *ev) -&gt; decltype(std::ref(ev-&gt;ev_flags))</div><div class="ttdef"><b>Definition:</b> <a href="EventUtil_8h_source.html#l00041">EventUtil.h:41</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adaf2ce5d92b0d7c90dfce61086826034"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::EventHandler::libeventCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacefolly.html#a9652a04072ad79dde87673132f84ee60">libevent_fd_t</a>&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>events</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventHandler_8cpp_source.html#l00148">148</a> of file <a class="el" href="EventHandler_8cpp_source.html">EventHandler.cpp</a>.</p>

<p>References <a class="el" href="EventBase_8cpp_source.html#l00476">folly::EventBase::bumpHandlingTime()</a>, <a class="el" href="EventHandler_8h_source.html#l00197">event_</a>, <a class="el" href="EventHandler_8h_source.html#l00198">eventBase_</a>, <a class="el" href="EventBase_8h_source.html#l00609">folly::EventBase::getExecutionObserver()</a>, <a class="el" href="StackTraceTest_8cpp_source.html#l00074">handler()</a>, <a class="el" href="classfolly_1_1EventHandler.html#a63d05aa25d4c6df8062dc54f86c0a501">handlerReady()</a>, <a class="el" href="classfolly_1_1ExecutionObserver.html#ab422e3d97fc97b35004ee6ebe91dea6e">folly::ExecutionObserver::starting()</a>, and <a class="el" href="ConstexprMathBenchmark_8cpp_source.html#l00182">uint16_t</a>.</p>

<p>Referenced by <a class="el" href="EventHandler_8cpp_source.html#l00124">changeHandlerFD()</a>, <a class="el" href="EventHandler_8cpp_source.html#l00025">EventHandler()</a>, <a class="el" href="EventHandler_8cpp_source.html#l00132">initHandler()</a>, <a class="el" href="EventHandler_8cpp_source.html#l00042">registerImpl()</a>, and <a class="el" href="EventHandler_8h_source.html#l00183">registerInternalHandler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                                                                             {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <a class="code" href="classfolly_1_1EventHandler.html#a2cd20fe2b2de66d1d4cd1e080d33091a">EventHandler</a>* <a class="code" href="StackTraceTest_8cpp.html#afd64937145d5f5efc6c5f6b485f8e441">handler</a> = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classfolly_1_1EventHandler.html#a2cd20fe2b2de66d1d4cd1e080d33091a">EventHandler</a>*<span class="keyword">&gt;</span>(arg);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  assert(fd == handler-&gt;event_.ev_fd);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  (void)fd; <span class="comment">// prevent unused variable warnings</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="keyword">auto</span> observer = handler-&gt;eventBase_-&gt;getExecutionObserver();</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keywordflow">if</span> (observer) {</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    observer-&gt;starting(reinterpret_cast&lt;uintptr_t&gt;(handler));</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  }</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="comment">// this can&#39;t possibly fire if handler-&gt;eventBase_ is nullptr</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  handler-&gt;eventBase_-&gt;bumpHandlingTime();</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  handler-&gt;handlerReady(<a class="code" href="ConstexprMathBenchmark_8cpp.html#a5a8b2dc9e45a9ee81a94ef304fb62505">uint16_t</a>(events));</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="keywordflow">if</span> (observer) {</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    observer-&gt;stopped(reinterpret_cast&lt;uintptr_t&gt;(handler));</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  }</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;}</div><div class="ttc" id="StackTraceTest_8cpp_html_afd64937145d5f5efc6c5f6b485f8e441"><div class="ttname"><a href="StackTraceTest_8cpp.html#afd64937145d5f5efc6c5f6b485f8e441">handler</a></div><div class="ttdeci">void handler(int, siginfo_t *, void *)</div><div class="ttdef"><b>Definition:</b> <a href="StackTraceTest_8cpp_source.html#l00074">StackTraceTest.cpp:74</a></div></div>
<div class="ttc" id="classfolly_1_1EventHandler_html_a2cd20fe2b2de66d1d4cd1e080d33091a"><div class="ttname"><a href="classfolly_1_1EventHandler.html#a2cd20fe2b2de66d1d4cd1e080d33091a">folly::EventHandler::EventHandler</a></div><div class="ttdeci">EventHandler(EventBase *eventBase, int fd)</div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8h_source.html#l00065">EventHandler.h:65</a></div></div>
<div class="ttc" id="ConstexprMathBenchmark_8cpp_html_a5a8b2dc9e45a9ee81a94ef304fb62505"><div class="ttname"><a href="ConstexprMathBenchmark_8cpp.html#a5a8b2dc9e45a9ee81a94ef304fb62505">uint16_t</a></div><div class="ttdeci">uint16_t</div><div class="ttdef"><b>Definition:</b> <a href="ConstexprMathBenchmark_8cpp_source.html#l00182">ConstexprMathBenchmark.cpp:182</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a202afaf81f9a36978938fd39e8e2fb87"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::EventHandler::registerHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a5a8b2dc9e45a9ee81a94ef304fb62505">uint16_t</a>&#160;</td>
          <td class="paramname"><em>events</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Register the handler.</p>
<p>If the handler is already registered, the registration will be updated to wait on the new set of events.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">events</td><td><a class="el" href="structA.html">A</a> bitset specifying the events to monitor. If the PERSIST bit is set, the handler will remain registered even after <a class="el" href="classfolly_1_1EventHandler.html#a63d05aa25d4c6df8062dc54f86c0a501">handlerReady()</a> is called.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns true if the handler was successfully registered, or false if an error occurred. After an error, the handler is always unregistered, even if it was already registered prior to this call to <a class="el" href="classfolly_1_1EventHandler.html#a202afaf81f9a36978938fd39e8e2fb87">registerHandler()</a>. </dd></dl>

<p>Definition at line <a class="el" href="EventHandler_8h_source.html#l00100">100</a> of file <a class="el" href="EventHandler_8h_source.html">EventHandler.h</a>.</p>

<p>References <a class="el" href="EventHandler_8cpp_source.html#l00042">registerImpl()</a>, and <a class="el" href="EventHandler_8cpp_source.html#l00103">unregisterHandler()</a>.</p>

<p>Referenced by <a class="el" href="AsyncUDPSocket_8cpp_source.html#l00539">folly::AsyncUDPSocket::detachEventBase()</a>, <a class="el" href="AsyncPipe_8cpp_source.html#l00223">folly::AsyncPipeWriter::handleWrite()</a>, <a class="el" href="AsyncSocket_8cpp_source.html#l00630">folly::AsyncSocket::registerForConnectEvents()</a>, <a class="el" href="AsyncPipe_8h_source.html#l00054">folly::AsyncPipeReader::setReadCB()</a>, <a class="el" href="FizzCommandCommon_8cpp_source.html#l00049">fizz::tool::TerminalInputHandler::TerminalInputHandler()</a>, <a class="el" href="EventBaseTest_8cpp_source.html#l00187">TEST()</a>, <a class="el" href="EventHandlerTest_8cpp_source.html#l00085">TEST_F()</a>, <a class="el" href="AsyncSocket_8cpp_source.html#l02480">folly::AsyncSocket::updateEventRegistration()</a>, and <a class="el" href="AsyncUDPSocket_8cpp_source.html#l00497">folly::AsyncUDPSocket::updateRegistration()</a>.</p>
<div class="fragment"><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                                        {</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1EventHandler.html#a305985eceb83a71d60556f93c04597b4">registerImpl</a>(events, <span class="keyword">false</span>);</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  }</div><div class="ttc" id="classfolly_1_1EventHandler_html_a305985eceb83a71d60556f93c04597b4"><div class="ttname"><a href="classfolly_1_1EventHandler.html#a305985eceb83a71d60556f93c04597b4">folly::EventHandler::registerImpl</a></div><div class="ttdeci">bool registerImpl(uint16_t events, bool internal)</div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8cpp_source.html#l00042">EventHandler.cpp:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a305985eceb83a71d60556f93c04597b4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::EventHandler::registerImpl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a5a8b2dc9e45a9ee81a94ef304fb62505">uint16_t</a>&#160;</td>
          <td class="paramname"><em>events</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>internal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventHandler_8cpp_source.html#l00042">42</a> of file <a class="el" href="EventHandler_8cpp_source.html">EventHandler.cpp</a>.</p>

<p>References <a class="el" href="String_8cpp_source.html#l00463">folly::errnoStr()</a>, <a class="el" href="EventHandler_8h_source.html#l00197">event_</a>, <a class="el" href="EventUtil_8h_source.html#l00041">folly::event_ref_flags()</a>, <a class="el" href="EventHandler_8h_source.html#l00112">isHandlerRegistered()</a>, and <a class="el" href="EventHandler_8cpp_source.html#l00148">libeventCallback()</a>.</p>

<p>Referenced by <a class="el" href="EventHandler_8h_source.html#l00100">registerHandler()</a>, and <a class="el" href="EventHandler_8h_source.html#l00183">registerInternalHandler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                                                              {</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  assert(<a class="code" href="classfolly_1_1EventHandler.html#a9a1835bab30850a60e7ae4a7429974dd">event_</a>.ev_base != <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <span class="comment">// We have to unregister the event before we can change the event flags</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1EventHandler.html#a98f877e37f8e1d74e562c9ce14e5853f">isHandlerRegistered</a>()) {</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="comment">// If the new events are the same are the same as the already registered</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="comment">// flags, we don&#39;t have to do anything.  Just return.</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keyword">auto</span> <a class="code" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a> = <a class="code" href="namespacefolly.html#af81a0169635117098ecb6e486f7ccc86">event_ref_flags</a>(&amp;<a class="code" href="classfolly_1_1EventHandler.html#a9a1835bab30850a60e7ae4a7429974dd">event_</a>);</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordflow">if</span> (events == <a class="code" href="classfolly_1_1EventHandler.html#a9a1835bab30850a60e7ae4a7429974dd">event_</a>.ev_events &amp;&amp;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        static_cast&lt;bool&gt;(<a class="code" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a> &amp; EVLIST_INTERNAL) == <span class="keyword">internal</span>) {</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    }</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    event_del(&amp;<a class="code" href="classfolly_1_1EventHandler.html#a9a1835bab30850a60e7ae4a7429974dd">event_</a>);</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  }</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <span class="comment">// Update the event flags</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="comment">// Unfortunately, event_set() resets the event_base, so we have to remember</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="comment">// it before hand, then pass it back into event_base_set() afterwards</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="keyword">struct </span>event_base* evb = <a class="code" href="classfolly_1_1EventHandler.html#a9a1835bab30850a60e7ae4a7429974dd">event_</a>.ev_base;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  event_set(</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;      &amp;<a class="code" href="classfolly_1_1EventHandler.html#a9a1835bab30850a60e7ae4a7429974dd">event_</a>,</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;      <a class="code" href="classfolly_1_1EventHandler.html#a9a1835bab30850a60e7ae4a7429974dd">event_</a>.ev_fd,</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;      <span class="keywordtype">short</span>(events),</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;      &amp;<a class="code" href="classfolly_1_1EventHandler.html#adaf2ce5d92b0d7c90dfce61086826034">EventHandler::libeventCallback</a>,</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;      <span class="keyword">this</span>);</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  event_base_set(evb, &amp;<a class="code" href="classfolly_1_1EventHandler.html#a9a1835bab30850a60e7ae4a7429974dd">event_</a>);</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="comment">// Set EVLIST_INTERNAL if this is an internal event</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">internal</span>) {</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <a class="code" href="namespacefolly.html#af81a0169635117098ecb6e486f7ccc86">event_ref_flags</a>(&amp;<a class="code" href="classfolly_1_1EventHandler.html#a9a1835bab30850a60e7ae4a7429974dd">event_</a>) |= EVLIST_INTERNAL;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  }</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="comment">// Add the event.</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="comment">// Although libevent allows events to wait on both I/O and a timeout,</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="comment">// we intentionally don&#39;t allow an EventHandler to also use a timeout.</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="comment">// Callers must maintain a separate AsyncTimeout object if they want a</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="comment">// timeout.</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <span class="comment">// Otherwise, it is difficult to handle persistent events properly.  (The I/O</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="comment">// event and timeout may both fire together the same time around the event</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="comment">// loop.  Normally we would want to inform the caller of the I/O event first,</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="comment">// then the timeout.  However, it is difficult to do this properly since the</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="comment">// I/O callback could delete the EventHandler.)  Additionally, if a caller</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="comment">// uses the same struct event for both I/O and timeout, and they just want to</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="comment">// reschedule the timeout, libevent currently makes an epoll_ctl() call even</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="comment">// if the I/O event flags haven&#39;t changed.  Using a separate event struct is</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="comment">// therefore slightly more efficient in this case (although it does take up</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="comment">// more space).</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="keywordflow">if</span> (event_add(&amp;<a class="code" href="classfolly_1_1EventHandler.html#a9a1835bab30850a60e7ae4a7429974dd">event_</a>, <span class="keyword">nullptr</span>) &lt; 0) {</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    LOG(ERROR) &lt;&lt; <span class="stringliteral">&quot;EventBase: failed to register event handler for fd &quot;</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;               &lt;&lt; <a class="code" href="classfolly_1_1EventHandler.html#a9a1835bab30850a60e7ae4a7429974dd">event_</a>.ev_fd &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; <a class="code" href="namespacefolly.html#ad904a601e206bb84a84f7f68302ac92f">errnoStr</a>(errno);</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="comment">// Call event_del() to make sure the event is completely uninstalled</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    event_del(&amp;<a class="code" href="classfolly_1_1EventHandler.html#a9a1835bab30850a60e7ae4a7429974dd">event_</a>);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  }</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;}</div><div class="ttc" id="http__parser_8h_html_ab6b306ef981f5e21bb41ea2c2dbe8cd9"><div class="ttname"><a href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a></div><div class="ttdeci">flags</div><div class="ttdef"><b>Definition:</b> <a href="http__parser_8h_source.html#l00127">http_parser.h:127</a></div></div>
<div class="ttc" id="classfolly_1_1EventHandler_html_a9a1835bab30850a60e7ae4a7429974dd"><div class="ttname"><a href="classfolly_1_1EventHandler.html#a9a1835bab30850a60e7ae4a7429974dd">folly::EventHandler::event_</a></div><div class="ttdeci">struct event event_</div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8h_source.html#l00197">EventHandler.h:197</a></div></div>
<div class="ttc" id="classfolly_1_1EventHandler_html_adaf2ce5d92b0d7c90dfce61086826034"><div class="ttname"><a href="classfolly_1_1EventHandler.html#adaf2ce5d92b0d7c90dfce61086826034">folly::EventHandler::libeventCallback</a></div><div class="ttdeci">static void libeventCallback(libevent_fd_t fd, short events, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8cpp_source.html#l00148">EventHandler.cpp:148</a></div></div>
<div class="ttc" id="namespacefolly_html_af81a0169635117098ecb6e486f7ccc86"><div class="ttname"><a href="namespacefolly.html#af81a0169635117098ecb6e486f7ccc86">folly::event_ref_flags</a></div><div class="ttdeci">auto event_ref_flags(struct event *ev) -&gt; decltype(std::ref(ev-&gt;ev_flags))</div><div class="ttdef"><b>Definition:</b> <a href="EventUtil_8h_source.html#l00041">EventUtil.h:41</a></div></div>
<div class="ttc" id="namespacefolly_html_ad904a601e206bb84a84f7f68302ac92f"><div class="ttname"><a href="namespacefolly.html#ad904a601e206bb84a84f7f68302ac92f">folly::errnoStr</a></div><div class="ttdeci">fbstring errnoStr(int err)</div><div class="ttdef"><b>Definition:</b> <a href="String_8cpp_source.html#l00463">String.cpp:463</a></div></div>
<div class="ttc" id="classfolly_1_1EventHandler_html_a98f877e37f8e1d74e562c9ce14e5853f"><div class="ttname"><a href="classfolly_1_1EventHandler.html#a98f877e37f8e1d74e562c9ce14e5853f">folly::EventHandler::isHandlerRegistered</a></div><div class="ttdeci">bool isHandlerRegistered() const </div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8h_source.html#l00112">EventHandler.h:112</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4a8d838790a5b3ff9f7b074378f6cae2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::EventHandler::registerInternalHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a5a8b2dc9e45a9ee81a94ef304fb62505">uint16_t</a>&#160;</td>
          <td class="paramname"><em>events</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Register the handler as an internal event.</p>
<p>This event will not count as an active event for determining if the <a class="el" href="classfolly_1_1EventBase.html">EventBase</a> loop has more events to process. The <a class="el" href="classfolly_1_1EventBase.html">EventBase</a> loop runs only as long as there are active EventHandlers, however "internal" event handlers are not counted. Therefore this event handler will not prevent <a class="el" href="classfolly_1_1EventBase.html">EventBase</a> loop from exiting with no more work to do if there are no other non-internal event handlers registered.</p>
<p>This is intended to be used only in very rare cases by the internal <a class="el" href="classfolly_1_1EventBase.html">EventBase</a> code. This API is not guaranteed to remain stable or portable in the future. </p>

<p>Definition at line <a class="el" href="EventHandler_8h_source.html#l00183">183</a> of file <a class="el" href="EventHandler_8h_source.html">EventHandler.h</a>.</p>

<p>References <a class="el" href="EventHandler_8cpp_source.html#l00138">ensureNotRegistered()</a>, <a class="el" href="EventHandler_8cpp_source.html#l00173">isPending()</a>, <a class="el" href="EventHandler_8cpp_source.html#l00148">libeventCallback()</a>, <a class="el" href="EventHandler_8cpp_source.html#l00042">registerImpl()</a>, <a class="el" href="EventHandler_8cpp_source.html#l00168">setEventBase()</a>, and <a class="el" href="ConstexprMathBenchmark_8cpp_source.html#l00182">uint16_t</a>.</p>
<div class="fragment"><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                                                {</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1EventHandler.html#a305985eceb83a71d60556f93c04597b4">registerImpl</a>(events, <span class="keyword">true</span>);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  }</div><div class="ttc" id="classfolly_1_1EventHandler_html_a305985eceb83a71d60556f93c04597b4"><div class="ttname"><a href="classfolly_1_1EventHandler.html#a305985eceb83a71d60556f93c04597b4">folly::EventHandler::registerImpl</a></div><div class="ttdeci">bool registerImpl(uint16_t events, bool internal)</div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8cpp_source.html#l00042">EventHandler.cpp:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac1eba4ff0c432e0cedd412ac5aefebd8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::EventHandler::setEventBase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1EventBase.html">EventBase</a> *&#160;</td>
          <td class="paramname"><em>eventBase</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventHandler_8cpp_source.html#l00168">168</a> of file <a class="el" href="EventHandler_8cpp_source.html">EventHandler.cpp</a>.</p>

<p>References <a class="el" href="EventHandler_8h_source.html#l00197">event_</a>, <a class="el" href="EventHandler_8h_source.html#l00198">eventBase_</a>, and <a class="el" href="EventBase_8h_source.html#l00537">folly::EventBase::getLibeventBase()</a>.</p>

<p>Referenced by <a class="el" href="EventHandler_8cpp_source.html#l00109">attachEventBase()</a>, <a class="el" href="EventHandler_8cpp_source.html#l00025">EventHandler()</a>, <a class="el" href="EventHandler_8cpp_source.html#l00132">initHandler()</a>, and <a class="el" href="EventHandler_8h_source.html#l00183">registerInternalHandler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                                                    {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  event_base_set(eventBase-&gt;getLibeventBase(), &amp;<a class="code" href="classfolly_1_1EventHandler.html#a9a1835bab30850a60e7ae4a7429974dd">event_</a>);</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <a class="code" href="classfolly_1_1EventHandler.html#a4cb889d27bc5fac9d7eacc43a16449ce">eventBase_</a> = eventBase;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventHandler_html_a9a1835bab30850a60e7ae4a7429974dd"><div class="ttname"><a href="classfolly_1_1EventHandler.html#a9a1835bab30850a60e7ae4a7429974dd">folly::EventHandler::event_</a></div><div class="ttdeci">struct event event_</div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8h_source.html#l00197">EventHandler.h:197</a></div></div>
<div class="ttc" id="classfolly_1_1EventHandler_html_a4cb889d27bc5fac9d7eacc43a16449ce"><div class="ttname"><a href="classfolly_1_1EventHandler.html#a4cb889d27bc5fac9d7eacc43a16449ce">folly::EventHandler::eventBase_</a></div><div class="ttdeci">EventBase * eventBase_</div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8h_source.html#l00198">EventHandler.h:198</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a72e295058c1ffc6a8506120c061dc991"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void folly::EventHandler::unregisterHandler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unregister the handler, if it is registered. </p>

<p>Definition at line <a class="el" href="EventHandler_8cpp_source.html#l00103">103</a> of file <a class="el" href="EventHandler_8cpp_source.html">EventHandler.cpp</a>.</p>

<p>References <a class="el" href="EventHandler_8h_source.html#l00197">event_</a>, and <a class="el" href="EventHandler_8h_source.html#l00112">isHandlerRegistered()</a>.</p>

<p>Referenced by <a class="el" href="AsyncPipe_8cpp_source.html#l00043">folly::AsyncPipeReader::close()</a>, <a class="el" href="AsyncUDPSocket_8cpp_source.html#l00329">folly::AsyncUDPSocket::close()</a>, <a class="el" href="AsyncPipe_8cpp_source.html#l00187">folly::AsyncPipeWriter::closeNow()</a>, <a class="el" href="AsyncSocket_8cpp_source.html#l01519">folly::AsyncSocket::detachEventBase()</a>, <a class="el" href="AsyncPipe_8cpp_source.html#l00057">folly::AsyncPipeReader::handlerReady()</a>, <a class="el" href="AsyncPipe_8cpp_source.html#l00223">folly::AsyncPipeWriter::handleWrite()</a>, <a class="el" href="EventHandler_8h_source.html#l00100">registerHandler()</a>, <a class="el" href="AsyncPipe_8h_source.html#l00054">folly::AsyncPipeReader::setReadCB()</a>, <a class="el" href="AsyncSocket_8cpp_source.html#l02516">folly::AsyncSocket::startFail()</a>, <a class="el" href="EventBaseTest_8cpp_source.html#l00231">TEST()</a>, <a class="el" href="EventHandlerTest_8cpp_source.html#l00085">TEST_F()</a>, <a class="el" href="AsyncSocket_8cpp_source.html#l02480">folly::AsyncSocket::updateEventRegistration()</a>, and <a class="el" href="EventHandler_8cpp_source.html#l00038">~EventHandler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                                     {</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1EventHandler.html#a98f877e37f8e1d74e562c9ce14e5853f">isHandlerRegistered</a>()) {</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    event_del(&amp;<a class="code" href="classfolly_1_1EventHandler.html#a9a1835bab30850a60e7ae4a7429974dd">event_</a>);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  }</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventHandler_html_a9a1835bab30850a60e7ae4a7429974dd"><div class="ttname"><a href="classfolly_1_1EventHandler.html#a9a1835bab30850a60e7ae4a7429974dd">folly::EventHandler::event_</a></div><div class="ttdeci">struct event event_</div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8h_source.html#l00197">EventHandler.h:197</a></div></div>
<div class="ttc" id="classfolly_1_1EventHandler_html_a98f877e37f8e1d74e562c9ce14e5853f"><div class="ttname"><a href="classfolly_1_1EventHandler.html#a98f877e37f8e1d74e562c9ce14e5853f">folly::EventHandler::isHandlerRegistered</a></div><div class="ttdeci">bool isHandlerRegistered() const </div><div class="ttdef"><b>Definition:</b> <a href="EventHandler_8h_source.html#l00112">EventHandler.h:112</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a9a1835bab30850a60e7ae4a7429974dd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct event folly::EventHandler::event_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventHandler_8h_source.html#l00197">197</a> of file <a class="el" href="EventHandler_8h_source.html">EventHandler.h</a>.</p>

<p>Referenced by <a class="el" href="EventHandler_8cpp_source.html#l00109">attachEventBase()</a>, <a class="el" href="EventHandler_8cpp_source.html#l00124">changeHandlerFD()</a>, <a class="el" href="EventHandler_8cpp_source.html#l00119">detachEventBase()</a>, <a class="el" href="EventHandler_8cpp_source.html#l00025">EventHandler()</a>, <a class="el" href="EventHandler_8h_source.html#l00165">getRegisteredEvents()</a>, <a class="el" href="EventHandler_8cpp_source.html#l00132">initHandler()</a>, <a class="el" href="EventHandler_8h_source.html#l00112">isHandlerRegistered()</a>, <a class="el" href="EventHandler_8cpp_source.html#l00173">isPending()</a>, <a class="el" href="EventHandler_8cpp_source.html#l00148">libeventCallback()</a>, <a class="el" href="EventHandler_8cpp_source.html#l00042">registerImpl()</a>, <a class="el" href="EventHandler_8cpp_source.html#l00168">setEventBase()</a>, and <a class="el" href="EventHandler_8cpp_source.html#l00103">unregisterHandler()</a>.</p>

</div>
</div>
<a class="anchor" id="a4cb889d27bc5fac9d7eacc43a16449ce"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1EventBase.html">EventBase</a>* folly::EventHandler::eventBase_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventHandler_8h_source.html#l00198">198</a> of file <a class="el" href="EventHandler_8h_source.html">EventHandler.h</a>.</p>

<p>Referenced by <a class="el" href="EventHandler_8cpp_source.html#l00025">EventHandler()</a>, <a class="el" href="EventHandler_8cpp_source.html#l00148">libeventCallback()</a>, and <a class="el" href="EventHandler_8cpp_source.html#l00168">setEventBase()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>proxygen/folly/folly/io/async/<a class="el" href="EventHandler_8h_source.html">EventHandler.h</a></li>
<li>proxygen/folly/folly/io/async/<a class="el" href="EventHandler_8cpp_source.html">EventHandler.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefolly.html">folly</a></li><li class="navelem"><a class="el" href="classfolly_1_1EventHandler.html">EventHandler</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
