<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>proxygen: wangle::LengthFieldBasedFrameDecoder Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">proxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classwangle_1_1LengthFieldBasedFrameDecoder.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classwangle_1_1LengthFieldBasedFrameDecoder-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">wangle::LengthFieldBasedFrameDecoder Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="LengthFieldBasedFrameDecoder_8h_source.html">LengthFieldBasedFrameDecoder.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for wangle::LengthFieldBasedFrameDecoder:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classwangle_1_1LengthFieldBasedFrameDecoder.png" usemap="#wangle::LengthFieldBasedFrameDecoder_map" alt=""/>
  <map id="wangle::LengthFieldBasedFrameDecoder_map" name="wangle::LengthFieldBasedFrameDecoder_map">
<area href="classwangle_1_1ByteToMessageDecoder.html" alt="wangle::ByteToMessageDecoder&lt; M &gt;" shape="rect" coords="0,112,322,136"/>
<area href="classwangle_1_1InboundHandler.html" alt="wangle::InboundHandler&lt; folly::IOBufQueue &amp;, M &gt;" shape="rect" coords="0,56,322,80"/>
<area href="classwangle_1_1HandlerBase.html" alt="wangle::HandlerBase&lt; InboundHandlerContext&lt; M &gt; &gt;" shape="rect" coords="0,0,322,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9c9be9e600fa704409c4968de07f3bfa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a9c9be9e600fa704409c4968de07f3bfa">LengthFieldBasedFrameDecoder</a> (<a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> lengthFieldLength=4, <a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> maxFrameLength=UINT_MAX, <a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> lengthFieldOffset=0, <a class="el" href="ConstexprMathBenchmark_8cpp.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a> lengthAdjustment=0, <a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> initialBytesToStrip=4, bool networkByteOrder=true)</td></tr>
<tr class="separator:a9c9be9e600fa704409c4968de07f3bfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a867583ed2207e3070b9ff5aa663cd934"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a867583ed2207e3070b9ff5aa663cd934">decode</a> (<a class="el" href="classwangle_1_1ByteToMessageDecoder.html#adf3a157474d31d19f6b44e1d14cf20e6">Context</a> *ctx, <a class="el" href="classfolly_1_1IOBufQueue.html">folly::IOBufQueue</a> &amp;buf, std::unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">folly::IOBuf</a> &gt; &amp;result, size_t &amp;) override</td></tr>
<tr class="separator:a867583ed2207e3070b9ff5aa663cd934"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classwangle_1_1ByteToMessageDecoder"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classwangle_1_1ByteToMessageDecoder')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classwangle_1_1ByteToMessageDecoder.html">wangle::ByteToMessageDecoder&lt; M &gt;</a></td></tr>
<tr class="memitem:ab78ded1a690f128d9b0e1e64f7961e09 inherit pub_methods_classwangle_1_1ByteToMessageDecoder"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1ByteToMessageDecoder.html#ab78ded1a690f128d9b0e1e64f7961e09">decode</a> (<a class="el" href="classwangle_1_1ByteToMessageDecoder.html#adf3a157474d31d19f6b44e1d14cf20e6">Context</a> *ctx, <a class="el" href="classfolly_1_1IOBufQueue.html">folly::IOBufQueue</a> &amp;buf, <a class="el" href="Hazptr_8h.html#af085414af03fc96e8a2d23880396638e">M</a> &amp;result, size_t &amp;)=0</td></tr>
<tr class="separator:ab78ded1a690f128d9b0e1e64f7961e09 inherit pub_methods_classwangle_1_1ByteToMessageDecoder"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ad22f4b38c64760ab258e873ef69488 inherit pub_methods_classwangle_1_1ByteToMessageDecoder"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1ByteToMessageDecoder.html#a1ad22f4b38c64760ab258e873ef69488">transportActive</a> (<a class="el" href="classwangle_1_1ByteToMessageDecoder.html#adf3a157474d31d19f6b44e1d14cf20e6">Context</a> *ctx) override</td></tr>
<tr class="separator:a1ad22f4b38c64760ab258e873ef69488 inherit pub_methods_classwangle_1_1ByteToMessageDecoder"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45f07efdb12a3c77689fa0351844527c inherit pub_methods_classwangle_1_1ByteToMessageDecoder"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1ByteToMessageDecoder.html#a45f07efdb12a3c77689fa0351844527c">transportInactive</a> (<a class="el" href="classwangle_1_1ByteToMessageDecoder.html#adf3a157474d31d19f6b44e1d14cf20e6">Context</a> *ctx) override</td></tr>
<tr class="separator:a45f07efdb12a3c77689fa0351844527c inherit pub_methods_classwangle_1_1ByteToMessageDecoder"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aada6ac7eb064b40f1270505492773b08 inherit pub_methods_classwangle_1_1ByteToMessageDecoder"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1ByteToMessageDecoder.html#aada6ac7eb064b40f1270505492773b08">read</a> (<a class="el" href="classwangle_1_1ByteToMessageDecoder.html#adf3a157474d31d19f6b44e1d14cf20e6">Context</a> *ctx, <a class="el" href="classfolly_1_1IOBufQueue.html">folly::IOBufQueue</a> &amp;q) override</td></tr>
<tr class="separator:aada6ac7eb064b40f1270505492773b08 inherit pub_methods_classwangle_1_1ByteToMessageDecoder"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classwangle_1_1InboundHandler"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classwangle_1_1InboundHandler')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classwangle_1_1InboundHandler.html">wangle::InboundHandler&lt; folly::IOBufQueue &amp;, M &gt;</a></td></tr>
<tr class="memitem:acd08b9ed3e7f5d8a663d291c021929af inherit pub_methods_classwangle_1_1InboundHandler"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1InboundHandler.html#acd08b9ed3e7f5d8a663d291c021929af">~InboundHandler</a> () override=default</td></tr>
<tr class="separator:acd08b9ed3e7f5d8a663d291c021929af inherit pub_methods_classwangle_1_1InboundHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a461572e1fdd42bdee371670423fc683a inherit pub_methods_classwangle_1_1InboundHandler"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1InboundHandler.html#a461572e1fdd42bdee371670423fc683a">read</a> (<a class="el" href="classwangle_1_1InboundHandler.html#a7ea0059a2416a0917cbf56375601f941">Context</a> *ctx, <a class="el" href="classfolly_1_1IOBufQueue.html">folly::IOBufQueue</a> &amp;msg)=0</td></tr>
<tr class="separator:a461572e1fdd42bdee371670423fc683a inherit pub_methods_classwangle_1_1InboundHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b02d455caeb59039a3f1d08d57fe530 inherit pub_methods_classwangle_1_1InboundHandler"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1InboundHandler.html#a5b02d455caeb59039a3f1d08d57fe530">readEOF</a> (<a class="el" href="classwangle_1_1InboundHandler.html#a7ea0059a2416a0917cbf56375601f941">Context</a> *ctx)</td></tr>
<tr class="separator:a5b02d455caeb59039a3f1d08d57fe530 inherit pub_methods_classwangle_1_1InboundHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3ae023d6840f96028ce68d993a431df inherit pub_methods_classwangle_1_1InboundHandler"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1InboundHandler.html#ad3ae023d6840f96028ce68d993a431df">readException</a> (<a class="el" href="classwangle_1_1InboundHandler.html#a7ea0059a2416a0917cbf56375601f941">Context</a> *ctx, <a class="el" href="classfolly_1_1exception__wrapper.html">folly::exception_wrapper</a> e)</td></tr>
<tr class="separator:ad3ae023d6840f96028ce68d993a431df inherit pub_methods_classwangle_1_1InboundHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cb7c79111bccd95f6f01e5755ef826f inherit pub_methods_classwangle_1_1InboundHandler"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1InboundHandler.html#a2cb7c79111bccd95f6f01e5755ef826f">transportActive</a> (<a class="el" href="classwangle_1_1InboundHandler.html#a7ea0059a2416a0917cbf56375601f941">Context</a> *ctx)</td></tr>
<tr class="separator:a2cb7c79111bccd95f6f01e5755ef826f inherit pub_methods_classwangle_1_1InboundHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadccc430169bb46ea05f07522ca1aaef inherit pub_methods_classwangle_1_1InboundHandler"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1InboundHandler.html#aadccc430169bb46ea05f07522ca1aaef">transportInactive</a> (<a class="el" href="classwangle_1_1InboundHandler.html#a7ea0059a2416a0917cbf56375601f941">Context</a> *ctx)</td></tr>
<tr class="separator:aadccc430169bb46ea05f07522ca1aaef inherit pub_methods_classwangle_1_1InboundHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classwangle_1_1HandlerBase"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classwangle_1_1HandlerBase')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classwangle_1_1HandlerBase.html">wangle::HandlerBase&lt; InboundHandlerContext&lt; M &gt; &gt;</a></td></tr>
<tr class="memitem:ab4bcd5463d96cf5840151d136cd87832 inherit pub_methods_classwangle_1_1HandlerBase"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1HandlerBase.html#ab4bcd5463d96cf5840151d136cd87832">~HandlerBase</a> ()=default</td></tr>
<tr class="separator:ab4bcd5463d96cf5840151d136cd87832 inherit pub_methods_classwangle_1_1HandlerBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb9455866c813ebba1934eb89caec7da inherit pub_methods_classwangle_1_1HandlerBase"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1HandlerBase.html#afb9455866c813ebba1934eb89caec7da">attachPipeline</a> (<a class="el" href="classwangle_1_1InboundHandlerContext.html">InboundHandlerContext</a>&lt; <a class="el" href="Hazptr_8h.html#af085414af03fc96e8a2d23880396638e">M</a> &gt; *)</td></tr>
<tr class="separator:afb9455866c813ebba1934eb89caec7da inherit pub_methods_classwangle_1_1HandlerBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a139c063a4c7fd785b94450475554f00b inherit pub_methods_classwangle_1_1HandlerBase"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1HandlerBase.html#a139c063a4c7fd785b94450475554f00b">detachPipeline</a> (<a class="el" href="classwangle_1_1InboundHandlerContext.html">InboundHandlerContext</a>&lt; <a class="el" href="Hazptr_8h.html#af085414af03fc96e8a2d23880396638e">M</a> &gt; *)</td></tr>
<tr class="separator:a139c063a4c7fd785b94450475554f00b inherit pub_methods_classwangle_1_1HandlerBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3127336258e81e77f40bbb8437c8f7fc inherit pub_methods_classwangle_1_1HandlerBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classwangle_1_1InboundHandlerContext.html">InboundHandlerContext</a>&lt; <a class="el" href="Hazptr_8h.html#af085414af03fc96e8a2d23880396638e">M</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1HandlerBase.html#a3127336258e81e77f40bbb8437c8f7fc">getContext</a> ()</td></tr>
<tr class="separator:a3127336258e81e77f40bbb8437c8f7fc inherit pub_methods_classwangle_1_1HandlerBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:aa02b64db3e1f4801b9936840fe09219e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1LengthFieldBasedFrameDecoder.html#aa02b64db3e1f4801b9936840fe09219e">getUnadjustedFrameLength</a> (<a class="el" href="classfolly_1_1IOBufQueue.html">folly::IOBufQueue</a> &amp;buf, int offset, int length, bool networkByteOrder)</td></tr>
<tr class="separator:aa02b64db3e1f4801b9936840fe09219e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a0b2118e4e90f892f2487dfd56f5ba687"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a0b2118e4e90f892f2487dfd56f5ba687">lengthFieldLength_</a></td></tr>
<tr class="separator:a0b2118e4e90f892f2487dfd56f5ba687"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81bb5ae1a0bec7fd49ce5c47834e8909"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a81bb5ae1a0bec7fd49ce5c47834e8909">maxFrameLength_</a></td></tr>
<tr class="separator:a81bb5ae1a0bec7fd49ce5c47834e8909"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20b3ad9e5341126cb8b4711c415f040f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a20b3ad9e5341126cb8b4711c415f040f">lengthFieldOffset_</a></td></tr>
<tr class="separator:a20b3ad9e5341126cb8b4711c415f040f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d68c1d4629e10715c7e0a2b3b7c8604"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ConstexprMathBenchmark_8cpp.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a1d68c1d4629e10715c7e0a2b3b7c8604">lengthAdjustment_</a></td></tr>
<tr class="separator:a1d68c1d4629e10715c7e0a2b3b7c8604"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a8cc20903e3814a5f549d6fbb687866"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a4a8cc20903e3814a5f549d6fbb687866">initialBytesToStrip_</a></td></tr>
<tr class="separator:a4a8cc20903e3814a5f549d6fbb687866"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a232912d4965c2b5e1cfd060d1d5a1518"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a232912d4965c2b5e1cfd060d1d5a1518">networkByteOrder_</a></td></tr>
<tr class="separator:a232912d4965c2b5e1cfd060d1d5a1518"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fccdd024e9b038f76488238750e05c5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a0fccdd024e9b038f76488238750e05c5">lengthFieldEndOffset_</a></td></tr>
<tr class="separator:a0fccdd024e9b038f76488238750e05c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classwangle_1_1ByteToMessageDecoder"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classwangle_1_1ByteToMessageDecoder')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classwangle_1_1ByteToMessageDecoder.html">wangle::ByteToMessageDecoder&lt; M &gt;</a></td></tr>
<tr class="memitem:adf3a157474d31d19f6b44e1d14cf20e6 inherit pub_types_classwangle_1_1ByteToMessageDecoder"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classwangle_1_1InboundHandler.html">InboundHandler</a>&lt; <a class="el" href="classfolly_1_1IOBufQueue.html">folly::IOBufQueue</a> &amp;, <a class="el" href="Hazptr_8h.html#af085414af03fc96e8a2d23880396638e">M</a> &gt;::<a class="el" href="classwangle_1_1ByteToMessageDecoder.html#adf3a157474d31d19f6b44e1d14cf20e6">Context</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1ByteToMessageDecoder.html#adf3a157474d31d19f6b44e1d14cf20e6">Context</a></td></tr>
<tr class="separator:adf3a157474d31d19f6b44e1d14cf20e6 inherit pub_types_classwangle_1_1ByteToMessageDecoder"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_types_classwangle_1_1InboundHandler"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classwangle_1_1InboundHandler')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classwangle_1_1InboundHandler.html">wangle::InboundHandler&lt; folly::IOBufQueue &amp;, M &gt;</a></td></tr>
<tr class="memitem:af7e97dee2a29b51a25de9467a378c7af inherit pub_types_classwangle_1_1InboundHandler"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classfolly_1_1IOBufQueue.html">folly::IOBufQueue</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1InboundHandler.html#af7e97dee2a29b51a25de9467a378c7af">rin</a></td></tr>
<tr class="separator:af7e97dee2a29b51a25de9467a378c7af inherit pub_types_classwangle_1_1InboundHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acac33e34dd36a29038d0a29d4db0e3bb inherit pub_types_classwangle_1_1InboundHandler"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="Hazptr_8h.html#af085414af03fc96e8a2d23880396638e">M</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1InboundHandler.html#acac33e34dd36a29038d0a29d4db0e3bb">rout</a></td></tr>
<tr class="separator:acac33e34dd36a29038d0a29d4db0e3bb inherit pub_types_classwangle_1_1InboundHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7940156fd4e7f150851c5058f94a33a inherit pub_types_classwangle_1_1InboundHandler"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="structfolly_1_1Unit.html">folly::Unit</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1InboundHandler.html#ad7940156fd4e7f150851c5058f94a33a">win</a></td></tr>
<tr class="separator:ad7940156fd4e7f150851c5058f94a33a inherit pub_types_classwangle_1_1InboundHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a054a31da9a7db866c003b7bfcd2d0586 inherit pub_types_classwangle_1_1InboundHandler"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="structfolly_1_1Unit.html">folly::Unit</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1InboundHandler.html#a054a31da9a7db866c003b7bfcd2d0586">wout</a></td></tr>
<tr class="separator:a054a31da9a7db866c003b7bfcd2d0586 inherit pub_types_classwangle_1_1InboundHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ea0059a2416a0917cbf56375601f941 inherit pub_types_classwangle_1_1InboundHandler"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classwangle_1_1InboundHandlerContext.html">InboundHandlerContext</a>&lt; <a class="el" href="Hazptr_8h.html#af085414af03fc96e8a2d23880396638e">M</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1InboundHandler.html#a7ea0059a2416a0917cbf56375601f941">Context</a></td></tr>
<tr class="separator:a7ea0059a2416a0917cbf56375601f941 inherit pub_types_classwangle_1_1InboundHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_attribs_classwangle_1_1InboundHandler"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_classwangle_1_1InboundHandler')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="classwangle_1_1InboundHandler.html">wangle::InboundHandler&lt; folly::IOBufQueue &amp;, M &gt;</a></td></tr>
<tr class="memitem:a9a8bdd6929aedd5a91c313bb6d4494f8 inherit pub_static_attribs_classwangle_1_1InboundHandler"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="namespacewangle.html#ac9030d122d7bc579e810afc02bd6cb70">HandlerDir</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1InboundHandler.html#a9a8bdd6929aedd5a91c313bb6d4494f8">dir</a></td></tr>
<tr class="separator:a9a8bdd6929aedd5a91c313bb6d4494f8 inherit pub_static_attribs_classwangle_1_1InboundHandler"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="structA.html">A</a> decoder that splits the received IOBufs dynamically by the value of the length field in the message. It is particularly useful when you decode a binary message which has an integer header field that represents the length of the message body or the whole message.</p>
<p><a class="el" href="classwangle_1_1LengthFieldBasedFrameDecoder.html">LengthFieldBasedFrameDecoder</a> has many configuration parameters so that it can decode any message with a length field, which is often seen in proprietary client-server protocols. Here are some example that will give you the basic idea on which option does what.</p>
<p>2 bytes length field at offset 0, do not strip header</p>
<p>The value of the length field in this example is 12 (0x0C) which represents the length of "HELLO, WORLD". By default, the decoder assumes that the length field represents the number of the bytes that follows the length field. Therefore, it can be decoded with the simplistic parameter combination.</p>
<p>lengthFieldOffset = 0 lengthFieldLength = 2 lengthAdjustment = 0 initialBytesToStrip = 0 (= do not strip header)</p>
<p>BEFORE DECODE (14 bytes) AFTER DECODE (14 bytes) +-----&mdash;+-------------&mdash;+ +-----&mdash;+-------------&mdash;+ | Length | Actual Content |--&mdash;&gt;| Length | Actual Content | | 0x000C | "HELLO, WORLD" | | 0x000C | "HELLO, WORLD" | +-----&mdash;+-------------&mdash;+ +-----&mdash;+-------------&mdash;+</p>
<p>2 bytes length field at offset 0, strip header</p>
<p>Because we can get the length of the content by calling ioBuf-&gt;computeChainDataLength(), you might want to strip the length field by specifying initialBytesToStrip. In this example, we specified 2, that is same with the length of the length field, to strip the first two bytes.</p>
<p>lengthFieldOffset = 0 lengthFieldLength = 2 lengthAdjustment = 0 initialBytesToStrip = 2 (= the length of the Length field)</p>
<p>BEFORE DECODE (14 bytes) AFTER DECODE (12 bytes) +-----&mdash;+-------------&mdash;+ +-------------&mdash;+ | Length | Actual Content |--&mdash;&gt;| Actual Content | | 0x000C | "HELLO, WORLD" | | "HELLO, WORLD" | +-----&mdash;+-------------&mdash;+ +-------------&mdash;+</p>
<p>2 bytes length field at offset 0, do not strip header, the length field represents the length of the whole message</p>
<p>In most cases, the length field represents the length of the message body only, as shown in the previous examples. However, in some protocols, the length field represents the length of the whole message, including the message header. In such a case, we specify a non-zero lengthAdjustment. Because the length value in this example message is always greater than the body length by 2, we specify -2 as lengthAdjustment for compensation.</p>
<p>lengthFieldOffset = 0 lengthFieldLength = 2 lengthAdjustment = -2 (= the length of the Length field) initialBytesToStrip = 0</p>
<p>BEFORE DECODE (14 bytes) AFTER DECODE (14 bytes) +-----&mdash;+-------------&mdash;+ +-----&mdash;+-------------&mdash;+ | Length | Actual Content |--&mdash;&gt;| Length | Actual Content | | 0x000E | "HELLO, WORLD" | | 0x000E | "HELLO, WORLD" | +-----&mdash;+-------------&mdash;+ +-----&mdash;+-------------&mdash;+</p>
<p>3 bytes length field at the end of 5 bytes header, do not strip header</p>
<p>The following message is a simple variation of the first example. An extra header value is prepended to the message. lengthAdjustment is zero again because the decoder always takes the length of the prepended data into account during frame length calculation.</p>
<p>lengthFieldOffset = 2 (= the length of Header 1) lengthFieldLength = 3 lengthAdjustment = 0 initialBytesToStrip = 0</p>
<p>BEFORE DECODE (17 bytes) AFTER DECODE (17 bytes) +-------&mdash;+-------&mdash;+-------------&mdash;+ +-------&mdash;+-------&mdash;+-------------&mdash;+ | Header 1 | Length | Actual Content |--&mdash;&gt;| Header 1 | Length | Actual Content | | 0xCAFE | 0x00000C | "HELLO, WORLD" | | 0xCAFE | 0x00000C | "HELLO, WORLD" | +-------&mdash;+-------&mdash;+-------------&mdash;+ +-------&mdash;+-------&mdash;+-------------&mdash;+</p>
<p>3 bytes length field at the beginning of 5 bytes header, do not strip header</p>
<p>This is an advanced example that shows the case where there is an extra header between the length field and the message body. You have to specify a positive lengthAdjustment so that the decoder counts the extra header into the frame length calculation.</p>
<p>lengthFieldOffset = 0 lengthFieldLength = 3 lengthAdjustment = 2 (= the length of Header 1) initialBytesToStrip = 0</p>
<p>BEFORE DECODE (17 bytes) AFTER DECODE (17 bytes) +-------&mdash;+-------&mdash;+-------------&mdash;+ +-------&mdash;+-------&mdash;+-------------&mdash;+ | Length | Header 1 | Actual Content |--&mdash;&gt;| Length | Header 1 | Actual Content | | 0x00000C | 0xCAFE | "HELLO, WORLD" | | 0x00000C | 0xCAFE | "HELLO, WORLD" | +-------&mdash;+-------&mdash;+-------------&mdash;+ +-------&mdash;+-------&mdash;+-------------&mdash;+</p>
<p>2 bytes length field at offset 1 in the middle of 4 bytes header, strip the first header field and the length field</p>
<p>This is a combination of all the examples above. There are the prepended header before the length field and the extra header after the length field. The prepended header affects the lengthFieldOffset and the extra header affects the lengthAdjustment. We also specified a non-zero initialBytesToStrip to strip the length field and the prepended header from the frame. If you don't want to strip the prepended header, you could specify 0 for initialBytesToSkip.</p>
<p>lengthFieldOffset = 1 (= the length of HDR1) lengthFieldLength = 2 lengthAdjustment = 1 (= the length of HDR2) initialBytesToStrip = 3 (= the length of HDR1 + LEN)</p>
<p>BEFORE DECODE (16 bytes) AFTER DECODE (13 bytes) +---&mdash;+-----&mdash;+---&mdash;+-------------&mdash;+ +---&mdash;+-------------&mdash;+ | HDR1 | Length | HDR2 | Actual Content |--&mdash;&gt;| HDR2 | Actual Content | | 0xCA | 0x000C | 0xFE | "HELLO, WORLD" | | 0xFE | "HELLO, WORLD" | +---&mdash;+-----&mdash;+---&mdash;+-------------&mdash;+ +---&mdash;+-------------&mdash;+</p>
<p>2 bytes length field at offset 1 in the middle of 4 bytes header, strip the first header field and the length field, the length field represents the length of the whole message</p>
<p>Let's give another twist to the previous example. The only difference from the previous example is that the length field represents the length of the whole message instead of the message body, just like the third example. We have to count the length of HDR1 and Length into lengthAdjustment. Please note that we don't need to take the length of HDR2 into account because the length field already includes the whole header length.</p>
<p>lengthFieldOffset = 1 lengthFieldLength = 2 lengthAdjustment = -3 (= the length of HDR1 + LEN, negative) initialBytesToStrip = 3</p>
<p>BEFORE DECODE (16 bytes) AFTER DECODE (13 bytes) +---&mdash;+-----&mdash;+---&mdash;+-------------&mdash;+ +---&mdash;+-------------&mdash;+ | HDR1 | Length | HDR2 | Actual Content |--&mdash;&gt;| HDR2 | Actual Content | | 0xCA | 0x0010 | 0xFE | "HELLO, WORLD" | | 0xFE | "HELLO, WORLD" | +---&mdash;+-----&mdash;+---&mdash;+-------------&mdash;+ +---&mdash;+-------------&mdash;+</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classwangle_1_1LengthFieldPrepender.html">LengthFieldPrepender</a> </dd></dl>

<p>Definition at line <a class="el" href="LengthFieldBasedFrameDecoder_8h_source.html#l00183">183</a> of file <a class="el" href="LengthFieldBasedFrameDecoder_8h_source.html">LengthFieldBasedFrameDecoder.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a9c9be9e600fa704409c4968de07f3bfa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">wangle::LengthFieldBasedFrameDecoder::LengthFieldBasedFrameDecoder </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a>&#160;</td>
          <td class="paramname"><em>lengthFieldLength</em> = <code>4</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a>&#160;</td>
          <td class="paramname"><em>maxFrameLength</em> = <code>UINT_MAX</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a>&#160;</td>
          <td class="paramname"><em>lengthFieldOffset</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a>&#160;</td>
          <td class="paramname"><em>lengthAdjustment</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a>&#160;</td>
          <td class="paramname"><em>initialBytesToStrip</em> = <code>4</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>networkByteOrder</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="LengthFieldBasedFrameDecoder_8cpp_source.html#l00024">24</a> of file <a class="el" href="LengthFieldBasedFrameDecoder_8cpp_source.html">LengthFieldBasedFrameDecoder.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    : <a class="code" href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a0b2118e4e90f892f2487dfd56f5ba687">lengthFieldLength_</a>(lengthFieldLength)</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    , <a class="code" href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a81bb5ae1a0bec7fd49ce5c47834e8909">maxFrameLength_</a>(maxFrameLength)</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    , <a class="code" href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a20b3ad9e5341126cb8b4711c415f040f">lengthFieldOffset_</a>(lengthFieldOffset)</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    , <a class="code" href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a1d68c1d4629e10715c7e0a2b3b7c8604">lengthAdjustment_</a>(lengthAdjustment)</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    , <a class="code" href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a4a8cc20903e3814a5f549d6fbb687866">initialBytesToStrip_</a>(initialBytesToStrip)</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    , <a class="code" href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a232912d4965c2b5e1cfd060d1d5a1518">networkByteOrder_</a>(networkByteOrder)</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    , <a class="code" href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a0fccdd024e9b038f76488238750e05c5">lengthFieldEndOffset_</a>(lengthFieldOffset + lengthFieldLength) {</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  CHECK(maxFrameLength &gt; 0);</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  CHECK(lengthFieldOffset &lt;= maxFrameLength - lengthFieldLength);</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;}</div><div class="ttc" id="classwangle_1_1LengthFieldBasedFrameDecoder_html_a4a8cc20903e3814a5f549d6fbb687866"><div class="ttname"><a href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a4a8cc20903e3814a5f549d6fbb687866">wangle::LengthFieldBasedFrameDecoder::initialBytesToStrip_</a></div><div class="ttdeci">uint32_t initialBytesToStrip_</div><div class="ttdef"><b>Definition:</b> <a href="LengthFieldBasedFrameDecoder_8h_source.html#l00206">LengthFieldBasedFrameDecoder.h:206</a></div></div>
<div class="ttc" id="classwangle_1_1LengthFieldBasedFrameDecoder_html_a0fccdd024e9b038f76488238750e05c5"><div class="ttname"><a href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a0fccdd024e9b038f76488238750e05c5">wangle::LengthFieldBasedFrameDecoder::lengthFieldEndOffset_</a></div><div class="ttdeci">uint32_t lengthFieldEndOffset_</div><div class="ttdef"><b>Definition:</b> <a href="LengthFieldBasedFrameDecoder_8h_source.html#l00209">LengthFieldBasedFrameDecoder.h:209</a></div></div>
<div class="ttc" id="classwangle_1_1LengthFieldBasedFrameDecoder_html_a20b3ad9e5341126cb8b4711c415f040f"><div class="ttname"><a href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a20b3ad9e5341126cb8b4711c415f040f">wangle::LengthFieldBasedFrameDecoder::lengthFieldOffset_</a></div><div class="ttdeci">uint32_t lengthFieldOffset_</div><div class="ttdef"><b>Definition:</b> <a href="LengthFieldBasedFrameDecoder_8h_source.html#l00204">LengthFieldBasedFrameDecoder.h:204</a></div></div>
<div class="ttc" id="classwangle_1_1LengthFieldBasedFrameDecoder_html_a81bb5ae1a0bec7fd49ce5c47834e8909"><div class="ttname"><a href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a81bb5ae1a0bec7fd49ce5c47834e8909">wangle::LengthFieldBasedFrameDecoder::maxFrameLength_</a></div><div class="ttdeci">uint32_t maxFrameLength_</div><div class="ttdef"><b>Definition:</b> <a href="LengthFieldBasedFrameDecoder_8h_source.html#l00203">LengthFieldBasedFrameDecoder.h:203</a></div></div>
<div class="ttc" id="classwangle_1_1LengthFieldBasedFrameDecoder_html_a0b2118e4e90f892f2487dfd56f5ba687"><div class="ttname"><a href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a0b2118e4e90f892f2487dfd56f5ba687">wangle::LengthFieldBasedFrameDecoder::lengthFieldLength_</a></div><div class="ttdeci">uint32_t lengthFieldLength_</div><div class="ttdef"><b>Definition:</b> <a href="LengthFieldBasedFrameDecoder_8h_source.html#l00202">LengthFieldBasedFrameDecoder.h:202</a></div></div>
<div class="ttc" id="classwangle_1_1LengthFieldBasedFrameDecoder_html_a232912d4965c2b5e1cfd060d1d5a1518"><div class="ttname"><a href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a232912d4965c2b5e1cfd060d1d5a1518">wangle::LengthFieldBasedFrameDecoder::networkByteOrder_</a></div><div class="ttdeci">bool networkByteOrder_</div><div class="ttdef"><b>Definition:</b> <a href="LengthFieldBasedFrameDecoder_8h_source.html#l00207">LengthFieldBasedFrameDecoder.h:207</a></div></div>
<div class="ttc" id="classwangle_1_1LengthFieldBasedFrameDecoder_html_a1d68c1d4629e10715c7e0a2b3b7c8604"><div class="ttname"><a href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a1d68c1d4629e10715c7e0a2b3b7c8604">wangle::LengthFieldBasedFrameDecoder::lengthAdjustment_</a></div><div class="ttdeci">int32_t lengthAdjustment_</div><div class="ttdef"><b>Definition:</b> <a href="LengthFieldBasedFrameDecoder_8h_source.html#l00205">LengthFieldBasedFrameDecoder.h:205</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a867583ed2207e3070b9ff5aa663cd934"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool wangle::LengthFieldBasedFrameDecoder::decode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classwangle_1_1ByteToMessageDecoder.html#adf3a157474d31d19f6b44e1d14cf20e6">Context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfolly_1_1IOBufQueue.html">folly::IOBufQueue</a> &amp;&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classfolly_1_1IOBuf.html">folly::IOBuf</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="LengthFieldBasedFrameDecoder_8cpp_source.html#l00042">42</a> of file <a class="el" href="LengthFieldBasedFrameDecoder_8cpp_source.html">LengthFieldBasedFrameDecoder.cpp</a>.</p>

<p>References <a class="el" href="IOBufQueue_8h_source.html#l00492">folly::IOBufQueue::chainLength()</a>, <a class="el" href="LengthFieldBasedFrameDecoder_8cpp_source.html#l00088">getUnadjustedFrameLength()</a>, <a class="el" href="LengthFieldBasedFrameDecoder_8h_source.html#l00206">initialBytesToStrip_</a>, <a class="el" href="LengthFieldBasedFrameDecoder_8h_source.html#l00205">lengthAdjustment_</a>, <a class="el" href="LengthFieldBasedFrameDecoder_8h_source.html#l00209">lengthFieldEndOffset_</a>, <a class="el" href="LengthFieldBasedFrameDecoder_8h_source.html#l00202">lengthFieldLength_</a>, <a class="el" href="LengthFieldBasedFrameDecoder_8h_source.html#l00204">lengthFieldOffset_</a>, <a class="el" href="LengthFieldBasedFrameDecoder_8h_source.html#l00203">maxFrameLength_</a>, <a class="el" href="LengthFieldBasedFrameDecoder_8h_source.html#l00207">networkByteOrder_</a>, <a class="el" href="IOBufQueue_8h_source.html#l00420">folly::IOBufQueue::split()</a>, <a class="el" href="IOBufQueue_8cpp_source.html#l00255">folly::IOBufQueue::trimStart()</a>, <a class="el" href="IOBufQueue_8cpp_source.html#l00263">folly::IOBufQueue::trimStartAtMost()</a>, and <a class="el" href="ConstexprMathBenchmark_8cpp_source.html#l00190">uint64_t</a>.</p>
<div class="fragment"><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;                                                   {</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <span class="comment">// discarding too long frame</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <span class="keywordflow">if</span> (buf.<a class="code" href="classfolly_1_1IOBufQueue.html#ab900669d05341eb2d9ba80ed3a99b946">chainLength</a>() &lt; <a class="code" href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a0fccdd024e9b038f76488238750e05c5">lengthFieldEndOffset_</a>) {</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  }</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <a class="code" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> frameLength = <a class="code" href="classwangle_1_1LengthFieldBasedFrameDecoder.html#aa02b64db3e1f4801b9936840fe09219e">getUnadjustedFrameLength</a>(</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    buf, <a class="code" href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a20b3ad9e5341126cb8b4711c415f040f">lengthFieldOffset_</a>, <a class="code" href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a0b2118e4e90f892f2487dfd56f5ba687">lengthFieldLength_</a>, <a class="code" href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a232912d4965c2b5e1cfd060d1d5a1518">networkByteOrder_</a>);</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  frameLength += <a class="code" href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a1d68c1d4629e10715c7e0a2b3b7c8604">lengthAdjustment_</a> + <a class="code" href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a0fccdd024e9b038f76488238750e05c5">lengthFieldEndOffset_</a>;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="keywordflow">if</span> (frameLength &lt; lengthFieldEndOffset_) {</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    buf.<a class="code" href="classfolly_1_1IOBufQueue.html#aa6ff475209dcae92725212d15dac4991">trimStart</a>(lengthFieldEndOffset_);</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    ctx-&gt;fireReadException(folly::make_exception_wrapper&lt;std::runtime_error&gt;(</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                             <span class="stringliteral">&quot;Frame too small&quot;</span>));</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  }</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <span class="keywordflow">if</span> (frameLength &gt; <a class="code" href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a81bb5ae1a0bec7fd49ce5c47834e8909">maxFrameLength_</a>) {</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    buf.<a class="code" href="classfolly_1_1IOBufQueue.html#ac65ed1aabeae4b43328f34422c985f5a">trimStartAtMost</a>(frameLength);</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    ctx-&gt;fireReadException(folly::make_exception_wrapper&lt;std::runtime_error&gt;(</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                             <span class="stringliteral">&quot;Frame larger than &quot;</span> +</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                             folly::to&lt;std::string&gt;(<a class="code" href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a81bb5ae1a0bec7fd49ce5c47834e8909">maxFrameLength_</a>)));</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  }</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="keywordflow">if</span> (buf.<a class="code" href="classfolly_1_1IOBufQueue.html#ab900669d05341eb2d9ba80ed3a99b946">chainLength</a>() &lt; frameLength) {</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  }</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a4a8cc20903e3814a5f549d6fbb687866">initialBytesToStrip_</a> &gt; frameLength) {</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    buf.<a class="code" href="classfolly_1_1IOBufQueue.html#aa6ff475209dcae92725212d15dac4991">trimStart</a>(frameLength);</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    ctx-&gt;fireReadException(folly::make_exception_wrapper&lt;std::runtime_error&gt;(</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                             <span class="stringliteral">&quot;InitialBytesToSkip larger than frame&quot;</span>));</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  }</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  buf.<a class="code" href="classfolly_1_1IOBufQueue.html#aa6ff475209dcae92725212d15dac4991">trimStart</a>(<a class="code" href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a4a8cc20903e3814a5f549d6fbb687866">initialBytesToStrip_</a>);</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="keywordtype">int</span> actualFrameLength = frameLength - <a class="code" href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a4a8cc20903e3814a5f549d6fbb687866">initialBytesToStrip_</a>;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  result = buf.<a class="code" href="classfolly_1_1IOBufQueue.html#aa3184799f5145a867a3d2c3c54b932a6">split</a>(actualFrameLength);</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOBufQueue_html_aa3184799f5145a867a3d2c3c54b932a6"><div class="ttname"><a href="classfolly_1_1IOBufQueue.html#aa3184799f5145a867a3d2c3c54b932a6">folly::IOBufQueue::split</a></div><div class="ttdeci">std::unique_ptr&lt; folly::IOBuf &gt; split(size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="IOBufQueue_8h_source.html#l00420">IOBufQueue.h:420</a></div></div>
<div class="ttc" id="classfolly_1_1IOBufQueue_html_ab900669d05341eb2d9ba80ed3a99b946"><div class="ttname"><a href="classfolly_1_1IOBufQueue.html#ab900669d05341eb2d9ba80ed3a99b946">folly::IOBufQueue::chainLength</a></div><div class="ttdeci">size_t chainLength() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBufQueue_8h_source.html#l00492">IOBufQueue.h:492</a></div></div>
<div class="ttc" id="classwangle_1_1LengthFieldBasedFrameDecoder_html_a4a8cc20903e3814a5f549d6fbb687866"><div class="ttname"><a href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a4a8cc20903e3814a5f549d6fbb687866">wangle::LengthFieldBasedFrameDecoder::initialBytesToStrip_</a></div><div class="ttdeci">uint32_t initialBytesToStrip_</div><div class="ttdef"><b>Definition:</b> <a href="LengthFieldBasedFrameDecoder_8h_source.html#l00206">LengthFieldBasedFrameDecoder.h:206</a></div></div>
<div class="ttc" id="classwangle_1_1LengthFieldBasedFrameDecoder_html_a0fccdd024e9b038f76488238750e05c5"><div class="ttname"><a href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a0fccdd024e9b038f76488238750e05c5">wangle::LengthFieldBasedFrameDecoder::lengthFieldEndOffset_</a></div><div class="ttdeci">uint32_t lengthFieldEndOffset_</div><div class="ttdef"><b>Definition:</b> <a href="LengthFieldBasedFrameDecoder_8h_source.html#l00209">LengthFieldBasedFrameDecoder.h:209</a></div></div>
<div class="ttc" id="classfolly_1_1IOBufQueue_html_ac65ed1aabeae4b43328f34422c985f5a"><div class="ttname"><a href="classfolly_1_1IOBufQueue.html#ac65ed1aabeae4b43328f34422c985f5a">folly::IOBufQueue::trimStartAtMost</a></div><div class="ttdeci">size_t trimStartAtMost(size_t amount)</div><div class="ttdef"><b>Definition:</b> <a href="IOBufQueue_8cpp_source.html#l00263">IOBufQueue.cpp:263</a></div></div>
<div class="ttc" id="classwangle_1_1LengthFieldBasedFrameDecoder_html_a20b3ad9e5341126cb8b4711c415f040f"><div class="ttname"><a href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a20b3ad9e5341126cb8b4711c415f040f">wangle::LengthFieldBasedFrameDecoder::lengthFieldOffset_</a></div><div class="ttdeci">uint32_t lengthFieldOffset_</div><div class="ttdef"><b>Definition:</b> <a href="LengthFieldBasedFrameDecoder_8h_source.html#l00204">LengthFieldBasedFrameDecoder.h:204</a></div></div>
<div class="ttc" id="classwangle_1_1LengthFieldBasedFrameDecoder_html_a81bb5ae1a0bec7fd49ce5c47834e8909"><div class="ttname"><a href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a81bb5ae1a0bec7fd49ce5c47834e8909">wangle::LengthFieldBasedFrameDecoder::maxFrameLength_</a></div><div class="ttdeci">uint32_t maxFrameLength_</div><div class="ttdef"><b>Definition:</b> <a href="LengthFieldBasedFrameDecoder_8h_source.html#l00203">LengthFieldBasedFrameDecoder.h:203</a></div></div>
<div class="ttc" id="classwangle_1_1LengthFieldBasedFrameDecoder_html_a0b2118e4e90f892f2487dfd56f5ba687"><div class="ttname"><a href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a0b2118e4e90f892f2487dfd56f5ba687">wangle::LengthFieldBasedFrameDecoder::lengthFieldLength_</a></div><div class="ttdeci">uint32_t lengthFieldLength_</div><div class="ttdef"><b>Definition:</b> <a href="LengthFieldBasedFrameDecoder_8h_source.html#l00202">LengthFieldBasedFrameDecoder.h:202</a></div></div>
<div class="ttc" id="classwangle_1_1LengthFieldBasedFrameDecoder_html_a232912d4965c2b5e1cfd060d1d5a1518"><div class="ttname"><a href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a232912d4965c2b5e1cfd060d1d5a1518">wangle::LengthFieldBasedFrameDecoder::networkByteOrder_</a></div><div class="ttdeci">bool networkByteOrder_</div><div class="ttdef"><b>Definition:</b> <a href="LengthFieldBasedFrameDecoder_8h_source.html#l00207">LengthFieldBasedFrameDecoder.h:207</a></div></div>
<div class="ttc" id="classwangle_1_1LengthFieldBasedFrameDecoder_html_aa02b64db3e1f4801b9936840fe09219e"><div class="ttname"><a href="classwangle_1_1LengthFieldBasedFrameDecoder.html#aa02b64db3e1f4801b9936840fe09219e">wangle::LengthFieldBasedFrameDecoder::getUnadjustedFrameLength</a></div><div class="ttdeci">uint64_t getUnadjustedFrameLength(folly::IOBufQueue &amp;buf, int offset, int length, bool networkByteOrder)</div><div class="ttdef"><b>Definition:</b> <a href="LengthFieldBasedFrameDecoder_8cpp_source.html#l00088">LengthFieldBasedFrameDecoder.cpp:88</a></div></div>
<div class="ttc" id="ConstexprMathBenchmark_8cpp_html_a5dc34568a989dd90728a4ed499cd9fab"><div class="ttname"><a href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a></div><div class="ttdeci">uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ConstexprMathBenchmark_8cpp_source.html#l00190">ConstexprMathBenchmark.cpp:190</a></div></div>
<div class="ttc" id="classfolly_1_1IOBufQueue_html_aa6ff475209dcae92725212d15dac4991"><div class="ttname"><a href="classfolly_1_1IOBufQueue.html#aa6ff475209dcae92725212d15dac4991">folly::IOBufQueue::trimStart</a></div><div class="ttdeci">void trimStart(size_t amount)</div><div class="ttdef"><b>Definition:</b> <a href="IOBufQueue_8cpp_source.html#l00255">IOBufQueue.cpp:255</a></div></div>
<div class="ttc" id="classwangle_1_1LengthFieldBasedFrameDecoder_html_a1d68c1d4629e10715c7e0a2b3b7c8604"><div class="ttname"><a href="classwangle_1_1LengthFieldBasedFrameDecoder.html#a1d68c1d4629e10715c7e0a2b3b7c8604">wangle::LengthFieldBasedFrameDecoder::lengthAdjustment_</a></div><div class="ttdeci">int32_t lengthAdjustment_</div><div class="ttdef"><b>Definition:</b> <a href="LengthFieldBasedFrameDecoder_8h_source.html#l00205">LengthFieldBasedFrameDecoder.h:205</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa02b64db3e1f4801b9936840fe09219e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> wangle::LengthFieldBasedFrameDecoder::getUnadjustedFrameLength </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1IOBufQueue.html">folly::IOBufQueue</a> &amp;&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>networkByteOrder</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="LengthFieldBasedFrameDecoder_8cpp_source.html#l00088">88</a> of file <a class="el" href="LengthFieldBasedFrameDecoder_8cpp_source.html">LengthFieldBasedFrameDecoder.cpp</a>.</p>

<p>References <a class="el" href="OptionalTest_8cpp_source.html#l00053">c</a>, <a class="el" href="IOBufQueue_8h_source.html#l00476">folly::IOBufQueue::front()</a>, <a class="el" href="ConstexprMathBenchmark_8cpp_source.html#l00182">uint16_t</a>, <a class="el" href="ConstexprMathBenchmark_8cpp_source.html#l00186">uint32_t</a>, <a class="el" href="ConstexprMathBenchmark_8cpp_source.html#l00190">uint64_t</a>, and <a class="el" href="ConstexprMathBenchmark_8cpp_source.html#l00178">uint8_t</a>.</p>

<p>Referenced by <a class="el" href="LengthFieldBasedFrameDecoder_8cpp_source.html#l00042">decode()</a>.</p>
<div class="fragment"><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                                                                  {</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <a class="code" href="classfolly_1_1io_1_1Cursor.html">folly::io::Cursor</a> <a class="code" href="OptionalTest_8cpp.html#adc08ed1554f35803d229aeaf11216b3f">c</a>(buf.<a class="code" href="classfolly_1_1IOBufQueue.html#af757a2eb1a1ae342243e6a722148dcb0">front</a>());</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <a class="code" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> frameLength;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <a class="code" href="OptionalTest_8cpp.html#adc08ed1554f35803d229aeaf11216b3f">c</a>.skip(offset);</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="keywordflow">switch</span>(length) {</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">case</span> 1:{</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;      <span class="keywordflow">if</span> (networkByteOrder) {</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        frameLength = <a class="code" href="OptionalTest_8cpp.html#adc08ed1554f35803d229aeaf11216b3f">c</a>.readBE&lt;<a class="code" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>&gt;();</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        frameLength = <a class="code" href="OptionalTest_8cpp.html#adc08ed1554f35803d229aeaf11216b3f">c</a>.readLE&lt;<a class="code" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>&gt;();</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      }</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    }</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordflow">case</span> 2:{</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      <span class="keywordflow">if</span> (networkByteOrder) {</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        frameLength = <a class="code" href="OptionalTest_8cpp.html#adc08ed1554f35803d229aeaf11216b3f">c</a>.readBE&lt;<a class="code" href="ConstexprMathBenchmark_8cpp.html#a5a8b2dc9e45a9ee81a94ef304fb62505">uint16_t</a>&gt;();</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        frameLength = <a class="code" href="OptionalTest_8cpp.html#adc08ed1554f35803d229aeaf11216b3f">c</a>.readLE&lt;<a class="code" href="ConstexprMathBenchmark_8cpp.html#a5a8b2dc9e45a9ee81a94ef304fb62505">uint16_t</a>&gt;();</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;      }</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    }</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">case</span> 4:{</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;      <span class="keywordflow">if</span> (networkByteOrder) {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        frameLength = <a class="code" href="OptionalTest_8cpp.html#adc08ed1554f35803d229aeaf11216b3f">c</a>.readBE&lt;<a class="code" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a>&gt;();</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        frameLength = <a class="code" href="OptionalTest_8cpp.html#adc08ed1554f35803d229aeaf11216b3f">c</a>.readLE&lt;<a class="code" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a>&gt;();</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      }</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    }</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">case</span> 8:{</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;      <span class="keywordflow">if</span> (networkByteOrder) {</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        frameLength = <a class="code" href="OptionalTest_8cpp.html#adc08ed1554f35803d229aeaf11216b3f">c</a>.readBE&lt;<a class="code" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a>&gt;();</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        frameLength = <a class="code" href="OptionalTest_8cpp.html#adc08ed1554f35803d229aeaf11216b3f">c</a>.readLE&lt;<a class="code" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a>&gt;();</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;      }</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    }</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  }</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="keywordflow">return</span> frameLength;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOBufQueue_html_af757a2eb1a1ae342243e6a722148dcb0"><div class="ttname"><a href="classfolly_1_1IOBufQueue.html#af757a2eb1a1ae342243e6a722148dcb0">folly::IOBufQueue::front</a></div><div class="ttdeci">const folly::IOBuf * front() const </div><div class="ttdef"><b>Definition:</b> <a href="IOBufQueue_8h_source.html#l00476">IOBufQueue.h:476</a></div></div>
<div class="ttc" id="classfolly_1_1io_1_1Cursor_html"><div class="ttname"><a href="classfolly_1_1io_1_1Cursor.html">folly::io::Cursor</a></div><div class="ttdef"><b>Definition:</b> <a href="Cursor_8h_source.html#l00721">Cursor.h:721</a></div></div>
<div class="ttc" id="ConstexprMathBenchmark_8cpp_html_ae1affc9ca37cfb624959c866a73f83c2"><div class="ttname"><a href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a></div><div class="ttdeci">uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="ConstexprMathBenchmark_8cpp_source.html#l00178">ConstexprMathBenchmark.cpp:178</a></div></div>
<div class="ttc" id="ConstexprMathBenchmark_8cpp_html_a5dc34568a989dd90728a4ed499cd9fab"><div class="ttname"><a href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a></div><div class="ttdeci">uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ConstexprMathBenchmark_8cpp_source.html#l00190">ConstexprMathBenchmark.cpp:190</a></div></div>
<div class="ttc" id="ConstexprMathBenchmark_8cpp_html_a09a1e304d66d35dd47daffee9731edaa"><div class="ttname"><a href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a></div><div class="ttdeci">uint32_t</div><div class="ttdef"><b>Definition:</b> <a href="ConstexprMathBenchmark_8cpp_source.html#l00186">ConstexprMathBenchmark.cpp:186</a></div></div>
<div class="ttc" id="ConstexprMathBenchmark_8cpp_html_a5a8b2dc9e45a9ee81a94ef304fb62505"><div class="ttname"><a href="ConstexprMathBenchmark_8cpp.html#a5a8b2dc9e45a9ee81a94ef304fb62505">uint16_t</a></div><div class="ttdeci">uint16_t</div><div class="ttdef"><b>Definition:</b> <a href="ConstexprMathBenchmark_8cpp_source.html#l00182">ConstexprMathBenchmark.cpp:182</a></div></div>
<div class="ttc" id="OptionalTest_8cpp_html_adc08ed1554f35803d229aeaf11216b3f"><div class="ttname"><a href="OptionalTest_8cpp.html#adc08ed1554f35803d229aeaf11216b3f">c</a></div><div class="ttdeci">char c</div><div class="ttdef"><b>Definition:</b> <a href="OptionalTest_8cpp_source.html#l00053">OptionalTest.cpp:53</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a4a8cc20903e3814a5f549d6fbb687866"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> wangle::LengthFieldBasedFrameDecoder::initialBytesToStrip_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="LengthFieldBasedFrameDecoder_8h_source.html#l00206">206</a> of file <a class="el" href="LengthFieldBasedFrameDecoder_8h_source.html">LengthFieldBasedFrameDecoder.h</a>.</p>

<p>Referenced by <a class="el" href="LengthFieldBasedFrameDecoder_8cpp_source.html#l00042">decode()</a>.</p>

</div>
</div>
<a class="anchor" id="a1d68c1d4629e10715c7e0a2b3b7c8604"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ConstexprMathBenchmark_8cpp.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a> wangle::LengthFieldBasedFrameDecoder::lengthAdjustment_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="LengthFieldBasedFrameDecoder_8h_source.html#l00205">205</a> of file <a class="el" href="LengthFieldBasedFrameDecoder_8h_source.html">LengthFieldBasedFrameDecoder.h</a>.</p>

<p>Referenced by <a class="el" href="LengthFieldBasedFrameDecoder_8cpp_source.html#l00042">decode()</a>.</p>

</div>
</div>
<a class="anchor" id="a0fccdd024e9b038f76488238750e05c5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> wangle::LengthFieldBasedFrameDecoder::lengthFieldEndOffset_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="LengthFieldBasedFrameDecoder_8h_source.html#l00209">209</a> of file <a class="el" href="LengthFieldBasedFrameDecoder_8h_source.html">LengthFieldBasedFrameDecoder.h</a>.</p>

<p>Referenced by <a class="el" href="LengthFieldBasedFrameDecoder_8cpp_source.html#l00042">decode()</a>.</p>

</div>
</div>
<a class="anchor" id="a0b2118e4e90f892f2487dfd56f5ba687"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> wangle::LengthFieldBasedFrameDecoder::lengthFieldLength_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="LengthFieldBasedFrameDecoder_8h_source.html#l00202">202</a> of file <a class="el" href="LengthFieldBasedFrameDecoder_8h_source.html">LengthFieldBasedFrameDecoder.h</a>.</p>

<p>Referenced by <a class="el" href="LengthFieldBasedFrameDecoder_8cpp_source.html#l00042">decode()</a>.</p>

</div>
</div>
<a class="anchor" id="a20b3ad9e5341126cb8b4711c415f040f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> wangle::LengthFieldBasedFrameDecoder::lengthFieldOffset_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="LengthFieldBasedFrameDecoder_8h_source.html#l00204">204</a> of file <a class="el" href="LengthFieldBasedFrameDecoder_8h_source.html">LengthFieldBasedFrameDecoder.h</a>.</p>

<p>Referenced by <a class="el" href="LengthFieldBasedFrameDecoder_8cpp_source.html#l00042">decode()</a>.</p>

</div>
</div>
<a class="anchor" id="a81bb5ae1a0bec7fd49ce5c47834e8909"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> wangle::LengthFieldBasedFrameDecoder::maxFrameLength_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="LengthFieldBasedFrameDecoder_8h_source.html#l00203">203</a> of file <a class="el" href="LengthFieldBasedFrameDecoder_8h_source.html">LengthFieldBasedFrameDecoder.h</a>.</p>

<p>Referenced by <a class="el" href="LengthFieldBasedFrameDecoder_8cpp_source.html#l00042">decode()</a>.</p>

</div>
</div>
<a class="anchor" id="a232912d4965c2b5e1cfd060d1d5a1518"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool wangle::LengthFieldBasedFrameDecoder::networkByteOrder_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="LengthFieldBasedFrameDecoder_8h_source.html#l00207">207</a> of file <a class="el" href="LengthFieldBasedFrameDecoder_8h_source.html">LengthFieldBasedFrameDecoder.h</a>.</p>

<p>Referenced by <a class="el" href="LengthFieldBasedFrameDecoder_8cpp_source.html#l00042">decode()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>proxygen/wangle/wangle/codec/<a class="el" href="LengthFieldBasedFrameDecoder_8h_source.html">LengthFieldBasedFrameDecoder.h</a></li>
<li>proxygen/wangle/wangle/codec/<a class="el" href="LengthFieldBasedFrameDecoder_8cpp_source.html">LengthFieldBasedFrameDecoder.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacewangle.html">wangle</a></li><li class="navelem"><a class="el" href="classwangle_1_1LengthFieldBasedFrameDecoder.html">LengthFieldBasedFrameDecoder</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
