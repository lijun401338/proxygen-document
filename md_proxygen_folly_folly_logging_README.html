<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>proxygen: Overview</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">proxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md_proxygen_folly_folly_logging_README.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Overview </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This is a flexible logging library for C++, targeted primarily at debug logging support. It supports hierarchical log categories to easily control debug log levels. It also aims to have minimal performance overhead for disabled log statements, making it possible to keep debug log statements throughout the code base, even in performance critical sections. This allows debug log messages to be easily turned on for particular areas of the code at runtime when necessary to help debug an issue, without having to worry about the overhead of log messages during normal use.</p>
<h2>Log Categories </h2>
<h2>Log Category Names</h2>
<p>All log messages get logged to a particular log category. Log category names are hierarchical, separated by periods. For instance, <code><a class="el" href="namespacefolly_1_1io.html">folly.io</a></code> and <code><a class="el" href="namespacefolly_1_1futures.html">folly.futures</a></code> are both sub-categories of <code>folly</code>. <code>folly.io.async</code> is a sub-category of <code><a class="el" href="namespacefolly_1_1io.html">folly.io</a></code>. The root category's name is the empty string.</p>
<h2>Log Level Checks</h2>
<p>When a message is logged to a given category, an admittance check is performed to see if the log message should be enabled. The admittance check compares the log level of the message against the effective level of that category.</p>
<p>By default the effective level of a category is the minimum of its level and the level set for any of its parent categories. This means that when you increase the log verbosity for a particular category you automatically turn up the verbosity for the entire tree of children categories underneath it.</p>
<p>For example, setting the log level for the <code>folly</code> category to <code>WARN</code> means that log messages to any sub-category under <code>folly</code> will be admitted if they have a level of <code>WARN</code> or higher. If the level for <code><a class="el" href="namespacefolly_1_1io.html">folly.io</a></code> is <code>DEBUG</code>, then messages to all categories under <code><a class="el" href="namespacefolly_1_1io.html">folly.io</a></code> will admit <code>DEBUG</code> and higher messages, while the rest of the categories <code>folly</code> under folly would admit <code>WARN</code> and higher messages.</p>
<p>However, you can also configure specific log categories to turn off inheritance of their parent log levels. This allows you to increase the log verbosity for a large category tree, but still use a lower verbosity for specific sub-categories. For example, if the <code>folly</code> category's level is set to <code>DEBUG</code>, but you disable level inheritance for <code><a class="el" href="namespacefolly_1_1futures.html">folly.futures</a></code>, the <code><a class="el" href="namespacefolly_1_1futures.html">folly.futures</a></code> level will not use it's parent's <code>DEBUG</code> log level, and will only consider the level set locally on this category.</p>
<p>Once a log message is admitted, it is processed by the <code>LogCategory</code> where it was logged, as well as by all parent log categories, up to the root.</p>
<h2>Log Handlers</h2>
<p><code>LogHandler</code> objects can be attached to a log category. When a log message is received at a given log category it will be given to all <code>LogHandler</code> objects attached to that category.</p>
<p><code>LogHandler</code> objects can perform arbitrary actions based on the log message. They may write the message to a local file, print it to <code>stderr</code> or <code>stdout</code>, or send the message to a remote logging service.</p>
<p><code>LogHandlers</code> may perform their own additional log level check, but by default <code>LogHandlers</code> process all messages received at the category they are attached to.</p>
<h2>Motivation </h2>
<p>The goal of this logging library is to provide a flexible, easy to use logging mechanism that allows debug log statements to be used liberally throughout a code base.</p>
<p>There are two primary design goals for this library:</p>
<ol type="1">
<li>Log statements should be cheap when disabled.</li>
<li>It should be easy to control log levels for specific areas of the code base.</li>
</ol>
<p>While there are a number of other logging libraries for C++, none of the ones I have seen fulfill both criteria. The Google logging library (glog) satisfies the first goal, but not the second. Most of the other log libraries I have examined satisfy the second goal, but not the first.</p>
<p>In particular, for item 1, disabled log statements should boil down to a single conditional check. Arguments for the log message should not be evaluated if the log message is not enabled. Unfortunately, this generally means that logging must be done using preprocessor macros.</p>
<p>Item 2 largely boils down to having hierarchical logging categories, to allow easily turning log levels up and down for specific sections of the code base. For instance, this allows a service to enable a higher log level for its primary functionality, while having slightly lower levels for libraries that it depends on.</p>
<h2>Other Advantages </h2>
<p>Beyond the primary goals mentioned above, this log library does have some other advantages over glog:</p>
<h2>Support for using <code><a class="el" href="namespacefolly.html#ac43d142f35ad44f0ed56164db73b1c34">folly::format()</a></code> to generate formatted log messages</h2>
<p>Two separate mechanisms are provided for formatting log messages: basic concatenation of arguments into string (using <code><a class="el" href="namespacefolly.html#a005f91db4ecc55675cf5ad7ba25ec24d">folly::to</a>&lt;std::string&gt;()</code>), and more flexible formatting using <code><a class="el" href="namespacefolly.html#ac43d142f35ad44f0ed56164db73b1c34">folly::format()</a></code>. This provides convenient and type-safe mechanisms for formatting log messages.</p>
<h2>Escapes unprintable characters in log messages by default.</h2>
<p>This makes it safer to safer to log arbitrary input data, without worrying if the data may contain potentially malicious terminal escape sequences.</p>
<p>For instance, this helps avoid vulnerabilities like CVE-2013-1862 and CVE-2009-4496.</p>
<h1>Support for handling multi-line log messages</h1>
<p>The LogMessage class indicates if the message contains internal newlines, making it easier for handlers to add a log header to each line of the message, avoiding subsequent lines that do not start with the correct log header. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
