<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>proxygen: proxygen/folly/folly/io/async/test/AsyncSSLSocketTest.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">proxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('AsyncSSLSocketTest_8h_source.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">AsyncSSLSocketTest.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="AsyncSSLSocketTest_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright 2012-present Facebook, Inc.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * you may not use this file except in compliance with the License.</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * You may obtain a copy of the License at</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *   http://www.apache.org/licenses/LICENSE-2.0</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * Unless required by applicable law or agreed to in writing, software</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * See the License for the specific language governing permissions and</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * limitations under the License.</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#pragma once</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;signal.h&gt;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="ExceptionWrapper_8h.html">folly/ExceptionWrapper.h</a>&gt;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="SocketAddress_8h.html">folly/SocketAddress.h</a>&gt;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="folly_2folly_2experimental_2TestUtil_8h.html">folly/experimental/TestUtil.h</a>&gt;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="AsyncSSLSocket_8h.html">folly/io/async/AsyncSSLSocket.h</a>&gt;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="AsyncServerSocket_8h.html">folly/io/async/AsyncServerSocket.h</a>&gt;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="AsyncSocket_8h.html">folly/io/async/AsyncSocket.h</a>&gt;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="AsyncTimeout_8h.html">folly/io/async/AsyncTimeout.h</a>&gt;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="AsyncTransport_8h.html">folly/io/async/AsyncTransport.h</a>&gt;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="EventBase_8h.html">folly/io/async/EventBase.h</a>&gt;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="SSLErrors_8h.html">folly/io/async/ssl/SSLErrors.h</a>&gt;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="TestSSLServer_8h.html">folly/io/async/test/TestSSLServer.h</a>&gt;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="GTest_8h.html">folly/portability/GTest.h</a>&gt;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="PThread_8h.html">folly/portability/PThread.h</a>&gt;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="Sockets_8h.html">folly/portability/Sockets.h</a>&gt;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="Unistd_8h.html">folly/portability/Unistd.h</a>&gt;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &lt;fcntl.h&gt;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &lt;sys/types.h&gt;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &lt;condition_variable&gt;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &lt;list&gt;</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacefolly.html">folly</a> {</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">// The destructors of all callback classes assert that the state is</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">// STATE_SUCCEEDED, for both possitive and negative tests. The tests</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">// are responsible for setting the succeeded state properly before the</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">// destructors are called.</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="classfolly_1_1SendMsgParamsCallbackBase.html">   50</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html">SendMsgParamsCallbackBase</a></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    : <span class="keyword">public</span> <a class="code" href="classfolly_1_1AsyncSocket_1_1SendMsgParamsCallback.html">folly::AsyncSocket::SendMsgParamsCallback</a> {</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="classfolly_1_1SendMsgParamsCallbackBase.html#a48e3bc623f715e58418cbd615c886dca">   53</a></span>&#160;  <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a48e3bc623f715e58418cbd615c886dca">SendMsgParamsCallbackBase</a>() {}</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="classfolly_1_1SendMsgParamsCallbackBase.html#a8e154532b255f41cb30d5c3a328810ec">   55</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a8e154532b255f41cb30d5c3a328810ec">setSocket</a>(<span class="keyword">const</span> std::shared_ptr&lt;AsyncSSLSocket&gt;&amp; <a class="code" href="namespacefolly_1_1netops.html#a5b95b96a5a185bb8cae1a4d28e0a6249">socket</a>) {</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a> = <a class="code" href="namespacefolly_1_1netops.html#a5b95b96a5a185bb8cae1a4d28e0a6249">socket</a>;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a7cc8ec19a8bfea26e9f8d03c5cef4d75">oldCallback_</a> = <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;getSendMsgParamsCB();</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;setSendMsgParamCB(<span class="keyword">this</span>);</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  }</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="classfolly_1_1SendMsgParamsCallbackBase.html#a07ca604ee609a45f9573094329b7808c">   61</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a07ca604ee609a45f9573094329b7808c">getFlagsImpl</a>(</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;      <a class="code" href="namespacefolly.html#a268239ef872bd1f7025dca14313f5fc7">folly::WriteFlags</a> <a class="code" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a>,</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;      <span class="keywordtype">int</span> <span class="comment">/*defaultFlags*/</span>) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a><span class="keyword"> override </span>{</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a7cc8ec19a8bfea26e9f8d03c5cef4d75">oldCallback_</a>-&gt;<a class="code" href="classfolly_1_1AsyncSocket_1_1SendMsgParamsCallback.html#a91d9e2db3f8bccdd158336bdb9e5af45">getFlags</a>(flags, <span class="keyword">false</span> <span class="comment">/*zeroCopyEnabled*/</span>);</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  }</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="classfolly_1_1SendMsgParamsCallbackBase.html#af02820b94eddc43686417528c84620be">   67</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#af02820b94eddc43686417528c84620be">getAncillaryData</a>(<a class="code" href="namespacefolly.html#a268239ef872bd1f7025dca14313f5fc7">folly::WriteFlags</a> <a class="code" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a>, <span class="keywordtype">void</span>* <a class="code" href="namespacefolly.html#a23ca01703d6715fb172f4188faa73dc9">data</a>) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a7cc8ec19a8bfea26e9f8d03c5cef4d75">oldCallback_</a>-&gt;<a class="code" href="classfolly_1_1AsyncSocket_1_1SendMsgParamsCallback.html#ace07b2da3c05a46f5c6462e696a90f1c">getAncillaryData</a>(<a class="code" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a>, <a class="code" href="namespacefolly.html#a23ca01703d6715fb172f4188faa73dc9">data</a>);</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  }</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="classfolly_1_1SendMsgParamsCallbackBase.html#ad9cbab22ab4644c06f319fb4df1a724f">   71</a></span>&#160;  <a class="code" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#ad9cbab22ab4644c06f319fb4df1a724f">getAncillaryDataSize</a>(<a class="code" href="namespacefolly.html#a268239ef872bd1f7025dca14313f5fc7">folly::WriteFlags</a> <a class="code" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a>) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a7cc8ec19a8bfea26e9f8d03c5cef4d75">oldCallback_</a>-&gt;<a class="code" href="classfolly_1_1AsyncSocket_1_1SendMsgParamsCallback.html#abe03d9fdc7902dd216e9b954324d4c19">getAncillaryDataSize</a>(<a class="code" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a>);</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  }</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">   75</a></span>&#160;  std::shared_ptr&lt;AsyncSSLSocket&gt; <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>;</div><div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="classfolly_1_1SendMsgParamsCallbackBase.html#a7cc8ec19a8bfea26e9f8d03c5cef4d75">   76</a></span>&#160;  <a class="code" href="classfolly_1_1AsyncSocket_1_1SendMsgParamsCallback.html">folly::AsyncSocket::SendMsgParamsCallback</a>* <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a7cc8ec19a8bfea26e9f8d03c5cef4d75">oldCallback_</a>{<span class="keyword">nullptr</span>};</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;};</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="classfolly_1_1SendMsgFlagsCallback.html">   79</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1SendMsgFlagsCallback.html">SendMsgFlagsCallback</a> : <span class="keyword">public</span> <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html">SendMsgParamsCallbackBase</a> {</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="classfolly_1_1SendMsgFlagsCallback.html#a5fa40da7de56818aa4eaae729ce42c8d">   81</a></span>&#160;  <a class="code" href="classfolly_1_1SendMsgFlagsCallback.html#a5fa40da7de56818aa4eaae729ce42c8d">SendMsgFlagsCallback</a>() {}</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="classfolly_1_1SendMsgFlagsCallback.html#ab760541ee96b9c154ebe1579485b6822">   83</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1SendMsgFlagsCallback.html#ab760541ee96b9c154ebe1579485b6822">resetFlags</a>(<span class="keywordtype">int</span> <a class="code" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a>) {</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    flags_ = <a class="code" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a>;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  }</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="classfolly_1_1SendMsgFlagsCallback.html#abd6f21a9bfdc0341b3710be9008e02e5">   87</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classfolly_1_1SendMsgFlagsCallback.html#abd6f21a9bfdc0341b3710be9008e02e5">getFlagsImpl</a>(</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      <a class="code" href="namespacefolly.html#a268239ef872bd1f7025dca14313f5fc7">folly::WriteFlags</a> <a class="code" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a>,</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      <span class="keywordtype">int</span> <span class="comment">/*defaultFlags*/</span>) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a><span class="keyword"> override </span>{</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keywordflow">if</span> (flags_) {</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;      <span class="keywordflow">return</span> flags_;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a7cc8ec19a8bfea26e9f8d03c5cef4d75">oldCallback_</a>-&gt;<a class="code" href="classfolly_1_1AsyncSocket_1_1SendMsgParamsCallback.html#a91d9e2db3f8bccdd158336bdb9e5af45">getFlags</a>(flags, <span class="keyword">false</span> <span class="comment">/*zeroCopyEnabled*/</span>);</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    }</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  }</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="classfolly_1_1SendMsgFlagsCallback.html#a100f2aeb3f32996a8be70af2ce936c37">   97</a></span>&#160;  <span class="keywordtype">int</span> flags_{0};</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;};</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="classfolly_1_1SendMsgDataCallback.html">  100</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1SendMsgDataCallback.html">SendMsgDataCallback</a> : <span class="keyword">public</span> <a class="code" href="classfolly_1_1SendMsgFlagsCallback.html">SendMsgFlagsCallback</a> {</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="classfolly_1_1SendMsgDataCallback.html#aabbfa096b08cc7bc55c0f6cecd386b6e">  102</a></span>&#160;  <a class="code" href="classfolly_1_1SendMsgDataCallback.html#aabbfa096b08cc7bc55c0f6cecd386b6e">SendMsgDataCallback</a>() {}</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="classfolly_1_1SendMsgDataCallback.html#ab98ed2150d8518420972c96d6c77e2ec">  104</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1SendMsgDataCallback.html#ab98ed2150d8518420972c96d6c77e2ec">resetData</a>(std::vector&lt;char&gt;&amp;&amp; <a class="code" href="namespacefolly.html#a23ca01703d6715fb172f4188faa73dc9">data</a>) {</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    ancillaryData_.swap(<a class="code" href="namespacefolly.html#a23ca01703d6715fb172f4188faa73dc9">data</a>);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  }</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="classfolly_1_1SendMsgDataCallback.html#ab2a3f37509c726059fd90aabb4c66bee">  108</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1SendMsgDataCallback.html#ab2a3f37509c726059fd90aabb4c66bee">getAncillaryData</a>(<a class="code" href="namespacefolly.html#a268239ef872bd1f7025dca14313f5fc7">folly::WriteFlags</a> <a class="code" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a>, <span class="keywordtype">void</span>* <a class="code" href="namespacefolly.html#a23ca01703d6715fb172f4188faa73dc9">data</a>) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordflow">if</span> (ancillaryData_.size()) {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;      std::cerr &lt;&lt; <span class="stringliteral">&quot;getAncillaryData: copying data&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      memcpy(<a class="code" href="namespacefolly.html#a23ca01703d6715fb172f4188faa73dc9">data</a>, ancillaryData_.data(), ancillaryData_.size());</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;      <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a7cc8ec19a8bfea26e9f8d03c5cef4d75">oldCallback_</a>-&gt;<a class="code" href="classfolly_1_1AsyncSocket_1_1SendMsgParamsCallback.html#ace07b2da3c05a46f5c6462e696a90f1c">getAncillaryData</a>(<a class="code" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a>, <a class="code" href="namespacefolly.html#a23ca01703d6715fb172f4188faa73dc9">data</a>);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    }</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  }</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="classfolly_1_1SendMsgDataCallback.html#a870a80d1476736c50545b7d6cf5ffb9c">  117</a></span>&#160;  <a class="code" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> <a class="code" href="classfolly_1_1SendMsgDataCallback.html#a870a80d1476736c50545b7d6cf5ffb9c">getAncillaryDataSize</a>(<a class="code" href="namespacefolly.html#a268239ef872bd1f7025dca14313f5fc7">folly::WriteFlags</a> <a class="code" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a>) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordflow">if</span> (ancillaryData_.size()) {</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;      std::cerr &lt;&lt; <span class="stringliteral">&quot;getAncillaryDataSize: returning size&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;      <span class="keywordflow">return</span> ancillaryData_.size();</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a7cc8ec19a8bfea26e9f8d03c5cef4d75">oldCallback_</a>-&gt;<a class="code" href="classfolly_1_1AsyncSocket_1_1SendMsgParamsCallback.html#abe03d9fdc7902dd216e9b954324d4c19">getAncillaryDataSize</a>(<a class="code" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a>);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    }</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  }</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="classfolly_1_1SendMsgDataCallback.html#afedb210992562344fb2358a580d5a648">  126</a></span>&#160;  std::vector&lt;char&gt; <a class="code" href="classfolly_1_1SendMsgDataCallback.html#afedb210992562344fb2358a580d5a648">ancillaryData_</a>;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;};</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="classfolly_1_1WriteCallbackBase.html">  129</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1WriteCallbackBase.html">WriteCallbackBase</a> : <span class="keyword">public</span> <a class="code" href="classfolly_1_1AsyncWriter_1_1WriteCallback.html">AsyncTransportWrapper::WriteCallback</a> {</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="classfolly_1_1WriteCallbackBase.html#a97f3372179e2159e8e1961b3f29d2ce6">  131</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classfolly_1_1WriteCallbackBase.html#a97f3372179e2159e8e1961b3f29d2ce6">WriteCallbackBase</a>(<a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html">SendMsgParamsCallbackBase</a>* mcb = <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      : <a class="code" href="http__parser_8c.html#adc6e5733fc3c22f0a7b2914188c49c90">state</a>(<a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfa766f134f3f1ba953e740f40b0a06fc44">STATE_WAITING</a>),</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        bytesWritten(0),</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        exception(<a class="code" href="classfolly_1_1AsyncSocketException.html">AsyncSocketException</a>::UNKNOWN, <span class="stringliteral">&quot;none&quot;</span>),</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        mcb_(mcb) {}</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div><div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="classfolly_1_1WriteCallbackBase.html#a846583a69212e4e60ef8dccd9a701baa">  137</a></span>&#160;  <a class="code" href="classfolly_1_1WriteCallbackBase.html#a846583a69212e4e60ef8dccd9a701baa">~WriteCallbackBase</a>()<span class="keyword"> override </span>{</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#a4159019abda84f5366acdb7604ff220a">EXPECT_EQ</a>(<a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfaf0c2992d243a18f353de5cf096946e92">STATE_SUCCEEDED</a>, <a class="code" href="http__parser_8c.html#adc6e5733fc3c22f0a7b2914188c49c90">state</a>);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  }</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="classfolly_1_1WriteCallbackBase.html#a8caf3021f3de0e08bebca9b3078caa98">  141</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1WriteCallbackBase.html#a8caf3021f3de0e08bebca9b3078caa98">setSocket</a>(<span class="keyword">const</span> std::shared_ptr&lt;AsyncSSLSocket&gt;&amp; <a class="code" href="namespacefolly_1_1netops.html#a5b95b96a5a185bb8cae1a4d28e0a6249">socket</a>) {</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a> = <a class="code" href="namespacefolly_1_1netops.html#a5b95b96a5a185bb8cae1a4d28e0a6249">socket</a>;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">if</span> (mcb_) {</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      mcb_-&gt;setSocket(socket);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    }</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  }</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="classfolly_1_1WriteCallbackBase.html#a9bd1228d74f318e58d8f82b03d87447f">  148</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1WriteCallbackBase.html#a9bd1228d74f318e58d8f82b03d87447f">writeSuccess</a>() <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a><span class="keyword"> override </span>{</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;writeSuccess&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <a class="code" href="http__parser_8c.html#adc6e5733fc3c22f0a7b2914188c49c90">state</a> = <a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfaf0c2992d243a18f353de5cf096946e92">STATE_SUCCEEDED</a>;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  }</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="classfolly_1_1WriteCallbackBase.html#a0c4a941f21742b9ff7d5b8e0c4627c7f">  153</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1WriteCallbackBase.html#a0c4a941f21742b9ff7d5b8e0c4627c7f">writeErr</a>(</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <span class="keywordtype">size_t</span> nBytesWritten,</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      <span class="keyword">const</span> <a class="code" href="classfolly_1_1AsyncSocketException.html">AsyncSocketException</a>&amp; ex) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;writeError: bytesWritten &quot;</span> &lt;&lt; nBytesWritten &lt;&lt; <span class="stringliteral">&quot;, exception &quot;</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;              &lt;&lt; ex.what() &lt;&lt; std::endl;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <a class="code" href="http__parser_8c.html#adc6e5733fc3c22f0a7b2914188c49c90">state</a> = <a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfadadbb23aeef3680b6ca27538162b44a2">STATE_FAILED</a>;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    this-&gt;bytesWritten = nBytesWritten;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    exception = ex;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;close();</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  }</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="classfolly_1_1WriteCallbackBase.html#a4110d8a20f4f8fee0cbf22210551e7ec">  165</a></span>&#160;  std::shared_ptr&lt;AsyncSSLSocket&gt; <a class="code" href="classfolly_1_1WriteCallbackBase.html#a4110d8a20f4f8fee0cbf22210551e7ec">socket_</a>;</div><div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="classfolly_1_1WriteCallbackBase.html#aa6c2200069ff5a20dc9b72812ba3744a">  166</a></span>&#160;  <a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccf">StateEnum</a> <a class="code" href="classfolly_1_1WriteCallbackBase.html#aa6c2200069ff5a20dc9b72812ba3744a">state</a>;</div><div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="classfolly_1_1WriteCallbackBase.html#a413189fd913b8f025d2e0df2f5672bda">  167</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classfolly_1_1WriteCallbackBase.html#a413189fd913b8f025d2e0df2f5672bda">bytesWritten</a>;</div><div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="classfolly_1_1WriteCallbackBase.html#a973c544ae925017483ee4140b9b9951b">  168</a></span>&#160;  <a class="code" href="classfolly_1_1AsyncSocketException.html">AsyncSocketException</a> <a class="code" href="classfolly_1_1WriteCallbackBase.html#a973c544ae925017483ee4140b9b9951b">exception</a>;</div><div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="classfolly_1_1WriteCallbackBase.html#a7daf69aee2cadd0cb1a825604cb9dcef">  169</a></span>&#160;  <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html">SendMsgParamsCallbackBase</a>* <a class="code" href="classfolly_1_1WriteCallbackBase.html#a7daf69aee2cadd0cb1a825604cb9dcef">mcb_</a>;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;};</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="classfolly_1_1ExpectWriteErrorCallback.html">  172</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1ExpectWriteErrorCallback.html">ExpectWriteErrorCallback</a> : <span class="keyword">public</span> <a class="code" href="classfolly_1_1WriteCallbackBase.html">WriteCallbackBase</a> {</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="classfolly_1_1ExpectWriteErrorCallback.html#aa56c646de8951a58a41a85c5aa988154">  174</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classfolly_1_1ExpectWriteErrorCallback.html#aa56c646de8951a58a41a85c5aa988154">ExpectWriteErrorCallback</a>(<a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html">SendMsgParamsCallbackBase</a>* mcb = <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      : <a class="code" href="classfolly_1_1WriteCallbackBase.html">WriteCallbackBase</a>(mcb) {}</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="classfolly_1_1ExpectWriteErrorCallback.html#a602277fd612fd592d6d32263813103f2">  177</a></span>&#160;  <a class="code" href="classfolly_1_1ExpectWriteErrorCallback.html#a602277fd612fd592d6d32263813103f2">~ExpectWriteErrorCallback</a>()<span class="keyword"> override </span>{</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#a4159019abda84f5366acdb7604ff220a">EXPECT_EQ</a>(<a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfadadbb23aeef3680b6ca27538162b44a2">STATE_FAILED</a>, <a class="code" href="http__parser_8c.html#adc6e5733fc3c22f0a7b2914188c49c90">state</a>);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#a4159019abda84f5366acdb7604ff220a">EXPECT_EQ</a>(</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        exception.getType(),</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        AsyncSocketException::AsyncSocketExceptionType::NETWORK_ERROR);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#a4159019abda84f5366acdb7604ff220a">EXPECT_EQ</a>(exception.getErrno(), 22);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="comment">// Suppress the assert in  ~WriteCallbackBase()</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <a class="code" href="http__parser_8c.html#adc6e5733fc3c22f0a7b2914188c49c90">state</a> = <a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfaf0c2992d243a18f353de5cf096946e92">STATE_SUCCEEDED</a>;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  }</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;};</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="preprocessor">#ifdef FOLLY_HAVE_MSG_ERRQUEUE</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">/* copied from include/uapi/linux/net_tstamp.h */</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">/* SO_TIMESTAMPING gets an integer bit field comprised of these values */</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="keyword">enum</span> SOF_TIMESTAMPING {</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  SOF_TIMESTAMPING_TX_SOFTWARE = (1 &lt;&lt; 1),</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  SOF_TIMESTAMPING_SOFTWARE = (1 &lt;&lt; 4),</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  SOF_TIMESTAMPING_OPT_ID = (1 &lt;&lt; 7),</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  SOF_TIMESTAMPING_TX_SCHED = (1 &lt;&lt; 8),</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  SOF_TIMESTAMPING_TX_ACK = (1 &lt;&lt; 9),</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  SOF_TIMESTAMPING_OPT_TSONLY = (1 &lt;&lt; 11),</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;};</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="keyword">class </span>WriteCheckTimestampCallback : <span class="keyword">public</span> <a class="code" href="classfolly_1_1WriteCallbackBase.html">WriteCallbackBase</a> {</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="keyword">explicit</span> WriteCheckTimestampCallback(<a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html">SendMsgParamsCallbackBase</a>* mcb = <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      : <a class="code" href="classfolly_1_1WriteCallbackBase.html">WriteCallbackBase</a>(mcb) {}</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  ~WriteCheckTimestampCallback()<span class="keyword"> override </span>{</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#a4159019abda84f5366acdb7604ff220a">EXPECT_EQ</a>(<a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfaf0c2992d243a18f353de5cf096946e92">STATE_SUCCEEDED</a>, <a class="code" href="http__parser_8c.html#adc6e5733fc3c22f0a7b2914188c49c90">state</a>);</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(gotTimestamp_);</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(gotByteSeq_);</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  }</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a8e154532b255f41cb30d5c3a328810ec">setSocket</a>(<span class="keyword">const</span> std::shared_ptr&lt;AsyncSSLSocket&gt;&amp; <a class="code" href="namespacefolly_1_1netops.html#a5b95b96a5a185bb8cae1a4d28e0a6249">socket</a>)<span class="keyword"> override </span>{</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <a class="code" href="classfolly_1_1WriteCallbackBase.html#a8caf3021f3de0e08bebca9b3078caa98">WriteCallbackBase::setSocket</a>(socket);</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#a6ae7443947f25abc58bfcfcfc56b0d75">EXPECT_NE</a>(<a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;getFd(), 0);</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a> = SOF_TIMESTAMPING_OPT_ID | SOF_TIMESTAMPING_OPT_TSONLY |</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        SOF_TIMESTAMPING_SOFTWARE;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <a class="code" href="classfolly_1_1AsyncSocket_1_1OptionKey.html">AsyncSocket::OptionKey</a> tstampingOpt = {SOL_SOCKET, SO_TIMESTAMPING};</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordtype">int</span> ret = tstampingOpt.<a class="code" href="classfolly_1_1AsyncSocket_1_1OptionKey.html#ac209d5a2b390919ad64b38ad8fb9248e">apply</a>(<a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;getFd(), <a class="code" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a>);</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#a4159019abda84f5366acdb7604ff220a">EXPECT_EQ</a>(ret, 0);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  }</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="keywordtype">void</span> checkForTimestampNotifications() <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> {</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordtype">int</span> fd = <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;getFd();</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    std::vector&lt;char&gt; ctrl(1024, 0);</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="namespacefolly.html#a23ca01703d6715fb172f4188faa73dc9">data</a>;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keyword">struct </span>msghdr msg;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    iovec entry;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    memset(&amp;msg, 0, <span class="keyword">sizeof</span>(msg));</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    entry.iov_base = &amp;<a class="code" href="namespacefolly.html#a23ca01703d6715fb172f4188faa73dc9">data</a>;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    entry.iov_len = <span class="keyword">sizeof</span>(<a class="code" href="namespacefolly.html#a23ca01703d6715fb172f4188faa73dc9">data</a>);</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    msg.msg_iov = &amp;entry;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    msg.msg_iovlen = 1;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    msg.msg_control = ctrl.data();</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    msg.msg_controllen = ctrl.size();</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordtype">int</span> ret;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      ret = <a class="code" href="namespacefolly_1_1netops.html#acab8f8655eda889b3c8175393102d2ca">recvmsg</a>(fd, &amp;msg, MSG_ERRQUEUE);</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      <span class="keywordflow">if</span> (ret &lt; 0) {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordflow">if</span> (errno != EAGAIN) {</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;          <span class="keyword">auto</span> errnoCopy = errno;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;          std::cerr &lt;&lt; <span class="stringliteral">&quot;::recvmsg exited with code &quot;</span> &lt;&lt; ret</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;, errno: &quot;</span> &lt;&lt; errnoCopy &lt;&lt; std::endl;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;          <a class="code" href="classfolly_1_1AsyncSocketException.html">AsyncSocketException</a> ex(</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;              <a class="code" href="classfolly_1_1AsyncSocketException.html#afc42bb0d3857d67851aaf2c8e963c51bac3bb35289872760b785f06aa019eef21">AsyncSocketException::INTERNAL_ERROR</a>,</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;              <span class="stringliteral">&quot;recvmsg() failed&quot;</span>,</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;              errnoCopy);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;          exception = ex;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        }</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      }</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">struct</span> cmsghdr* cmsg = CMSG_FIRSTHDR(&amp;msg);</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;           cmsg != <span class="keyword">nullptr</span> &amp;&amp; cmsg-&gt;cmsg_len != 0;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;           cmsg = CMSG_NXTHDR(&amp;msg, cmsg)) {</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="keywordflow">if</span> (cmsg-&gt;cmsg_level == SOL_SOCKET &amp;&amp;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            cmsg-&gt;cmsg_type == SCM_TIMESTAMPING) {</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;          gotTimestamp_ = <span class="keyword">true</span>;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        }</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <span class="keywordflow">if</span> ((cmsg-&gt;cmsg_level == SOL_IP &amp;&amp; cmsg-&gt;cmsg_type == IP_RECVERR) ||</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            (cmsg-&gt;cmsg_level == SOL_IPV6 &amp;&amp; cmsg-&gt;cmsg_type == IPV6_RECVERR)) {</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;          gotByteSeq_ = <span class="keyword">true</span>;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        }</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      }</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    }</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  }</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="keywordtype">bool</span> gotTimestamp_{<span class="keyword">false</span>};</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <span class="keywordtype">bool</span> gotByteSeq_{<span class="keyword">false</span>};</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;};</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="preprocessor">#endif // FOLLY_HAVE_MSG_ERRQUEUE</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div><div class="line"><a name="l00277"></a><span class="lineno"><a class="line" href="classfolly_1_1ReadCallbackBase.html">  277</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1ReadCallbackBase.html">ReadCallbackBase</a> : <span class="keyword">public</span> <a class="code" href="classfolly_1_1AsyncReader_1_1ReadCallback.html">AsyncTransportWrapper::ReadCallback</a> {</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00279"></a><span class="lineno"><a class="line" href="classfolly_1_1ReadCallbackBase.html#a74430cd5b05dc10d7b3e98d7b9ef5f07">  279</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classfolly_1_1ReadCallbackBase.html#a74430cd5b05dc10d7b3e98d7b9ef5f07">ReadCallbackBase</a>(<a class="code" href="classfolly_1_1WriteCallbackBase.html">WriteCallbackBase</a>* wcb)</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      : wcb_(wcb), <a class="code" href="http__parser_8c.html#adc6e5733fc3c22f0a7b2914188c49c90">state</a>(<a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfa766f134f3f1ba953e740f40b0a06fc44">STATE_WAITING</a>) {}</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div><div class="line"><a name="l00282"></a><span class="lineno"><a class="line" href="classfolly_1_1ReadCallbackBase.html#abfeff3ee53d3b79f53720262749b619f">  282</a></span>&#160;  <a class="code" href="classfolly_1_1ReadCallbackBase.html#abfeff3ee53d3b79f53720262749b619f">~ReadCallbackBase</a>()<span class="keyword"> override </span>{</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#a4159019abda84f5366acdb7604ff220a">EXPECT_EQ</a>(<a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfaf0c2992d243a18f353de5cf096946e92">STATE_SUCCEEDED</a>, <a class="code" href="http__parser_8c.html#adc6e5733fc3c22f0a7b2914188c49c90">state</a>);</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  }</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div><div class="line"><a name="l00286"></a><span class="lineno"><a class="line" href="classfolly_1_1ReadCallbackBase.html#acf3822eb41b4c4b44882bac70acd848c">  286</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1ReadCallbackBase.html#acf3822eb41b4c4b44882bac70acd848c">setSocket</a>(<span class="keyword">const</span> std::shared_ptr&lt;AsyncSSLSocket&gt;&amp; <a class="code" href="namespacefolly_1_1netops.html#a5b95b96a5a185bb8cae1a4d28e0a6249">socket</a>) {</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a> = <a class="code" href="namespacefolly_1_1netops.html#a5b95b96a5a185bb8cae1a4d28e0a6249">socket</a>;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  }</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div><div class="line"><a name="l00290"></a><span class="lineno"><a class="line" href="classfolly_1_1ReadCallbackBase.html#abcf472e62a8375b0a54f5bab37d0eaa9">  290</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1ReadCallbackBase.html#abcf472e62a8375b0a54f5bab37d0eaa9">setState</a>(<a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccf">StateEnum</a> <a class="code" href="StringKeyedBenchmark_8cpp.html#aa7f1a46e86fabf3df0ec876cd34220c2">s</a>) {</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <a class="code" href="http__parser_8c.html#adc6e5733fc3c22f0a7b2914188c49c90">state</a> = <a class="code" href="StringKeyedBenchmark_8cpp.html#aa7f1a46e86fabf3df0ec876cd34220c2">s</a>;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordflow">if</span> (wcb_) {</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      wcb_-&gt;state = <a class="code" href="StringKeyedBenchmark_8cpp.html#aa7f1a46e86fabf3df0ec876cd34220c2">s</a>;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    }</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  }</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div><div class="line"><a name="l00297"></a><span class="lineno"><a class="line" href="classfolly_1_1ReadCallbackBase.html#a46ae490ed7216fd76deb3b32fd87f078">  297</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1ReadCallbackBase.html#a46ae490ed7216fd76deb3b32fd87f078">readErr</a>(<span class="keyword">const</span> <a class="code" href="classfolly_1_1AsyncSocketException.html">AsyncSocketException</a>&amp; ex) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;readError &quot;</span> &lt;&lt; ex.what() &lt;&lt; std::endl;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <a class="code" href="http__parser_8c.html#adc6e5733fc3c22f0a7b2914188c49c90">state</a> = <a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfadadbb23aeef3680b6ca27538162b44a2">STATE_FAILED</a>;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;close();</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  }</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div><div class="line"><a name="l00303"></a><span class="lineno"><a class="line" href="classfolly_1_1ReadCallbackBase.html#a8339747405826ee2f85f6cc752792464">  303</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1ReadCallbackBase.html#a8339747405826ee2f85f6cc752792464">readEOF</a>() <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a><span class="keyword"> override </span>{</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;readEOF&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;close();</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  }</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div><div class="line"><a name="l00309"></a><span class="lineno"><a class="line" href="classfolly_1_1ReadCallbackBase.html#a7425446e82e5203435d6735047ba6926">  309</a></span>&#160;  std::shared_ptr&lt;AsyncSSLSocket&gt; <a class="code" href="classfolly_1_1ReadCallbackBase.html#a7425446e82e5203435d6735047ba6926">socket_</a>;</div><div class="line"><a name="l00310"></a><span class="lineno"><a class="line" href="classfolly_1_1ReadCallbackBase.html#afc1e82dfcfc8ff1581f246b5f5456fab">  310</a></span>&#160;  <a class="code" href="classfolly_1_1WriteCallbackBase.html">WriteCallbackBase</a>* <a class="code" href="classfolly_1_1ReadCallbackBase.html#afc1e82dfcfc8ff1581f246b5f5456fab">wcb_</a>;</div><div class="line"><a name="l00311"></a><span class="lineno"><a class="line" href="classfolly_1_1ReadCallbackBase.html#ad00046d762d3556ac9aeabab4656e78c">  311</a></span>&#160;  <a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccf">StateEnum</a> <a class="code" href="classfolly_1_1ReadCallbackBase.html#ad00046d762d3556ac9aeabab4656e78c">state</a>;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;};</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00314"></a><span class="lineno"><a class="line" href="classfolly_1_1ReadCallback.html">  314</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1ReadCallback.html">ReadCallback</a> : <span class="keyword">public</span> <a class="code" href="classfolly_1_1ReadCallbackBase.html">ReadCallbackBase</a> {</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00316"></a><span class="lineno"><a class="line" href="classfolly_1_1ReadCallback.html#aee27ff5b2b9e6cabe130ad92c900c752">  316</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classfolly_1_1ReadCallback.html#aee27ff5b2b9e6cabe130ad92c900c752">ReadCallback</a>(<a class="code" href="classfolly_1_1WriteCallbackBase.html">WriteCallbackBase</a>* wcb)</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      : <a class="code" href="classfolly_1_1ReadCallbackBase.html">ReadCallbackBase</a>(wcb), buffers() {}</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno"><a class="line" href="classfolly_1_1ReadCallback.html#ad8d4545b845b4cd07ab6b51ea992213f">  319</a></span>&#160;  <a class="code" href="classfolly_1_1ReadCallback.html#ad8d4545b845b4cd07ab6b51ea992213f">~ReadCallback</a>()<span class="keyword"> override </span>{</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordflow">for</span> (std::vector&lt;Buffer&gt;::iterator it = buffers.begin();</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;         it != buffers.end();</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;         ++it) {</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      it-&gt;free();</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    }</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    currentBuffer.free();</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  }</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div><div class="line"><a name="l00328"></a><span class="lineno"><a class="line" href="classfolly_1_1ReadCallback.html#a1948a0e1f5e874c1b92c4fea52e1488d">  328</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1ReadCallback.html#a1948a0e1f5e874c1b92c4fea52e1488d">getReadBuffer</a>(<span class="keywordtype">void</span>** bufReturn, <span class="keywordtype">size_t</span>* lenReturn)<span class="keyword"> override </span>{</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordflow">if</span> (!currentBuffer.buffer) {</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      currentBuffer.allocate(4096);</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    }</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    *bufReturn = currentBuffer.buffer;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    *lenReturn = currentBuffer.length;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  }</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno"><a class="line" href="classfolly_1_1ReadCallback.html#ac634498edc663fa61ca7b70b588285a0">  336</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1ReadCallback.html#ac634498edc663fa61ca7b70b588285a0">readDataAvailable</a>(<span class="keywordtype">size_t</span> len) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;readDataAvailable, len &quot;</span> &lt;&lt; len &lt;&lt; std::endl;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    currentBuffer.length = len;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    wcb_-&gt;setSocket(<a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>);</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="comment">// Write back the same data.</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;write(wcb_, currentBuffer.buffer, len);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    buffers.push_back(currentBuffer);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    currentBuffer.reset();</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <a class="code" href="http__parser_8c.html#adc6e5733fc3c22f0a7b2914188c49c90">state</a> = <a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfaf0c2992d243a18f353de5cf096946e92">STATE_SUCCEEDED</a>;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  }</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div><div class="line"><a name="l00351"></a><span class="lineno"><a class="line" href="classfolly_1_1ReadCallback_1_1Buffer.html">  351</a></span>&#160;  <span class="keyword">class </span><a class="code" href="classfolly_1_1ReadCallback_1_1Buffer.html">Buffer</a> {</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;   <span class="keyword">public</span>:</div><div class="line"><a name="l00353"></a><span class="lineno"><a class="line" href="classfolly_1_1ReadCallback_1_1Buffer.html#a4590cfa3c378ffa8d5a0f59cb642174f">  353</a></span>&#160;    <a class="code" href="classfolly_1_1ReadCallback_1_1Buffer.html#a4590cfa3c378ffa8d5a0f59cb642174f">Buffer</a>() : <a class="code" href="experimental_2test_2BitsBenchmark_8cpp.html#a25bccaee4203f6f142efc1f61e9b66c5">buffer</a>(<a class="code" href="http__parser_8c.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>), length(0) {}</div><div class="line"><a name="l00354"></a><span class="lineno"><a class="line" href="classfolly_1_1ReadCallback_1_1Buffer.html#af6e633c636b8c5df0d3cbc2305c8de43">  354</a></span>&#160;    <a class="code" href="classfolly_1_1ReadCallback_1_1Buffer.html#af6e633c636b8c5df0d3cbc2305c8de43">Buffer</a>(<span class="keywordtype">char</span>* buf, <span class="keywordtype">size_t</span> len) : <a class="code" href="experimental_2test_2BitsBenchmark_8cpp.html#a25bccaee4203f6f142efc1f61e9b66c5">buffer</a>(buf), length(len) {}</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno"><a class="line" href="classfolly_1_1ReadCallback_1_1Buffer.html#a7769b37ece530819918f626197ce6786">  356</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1ReadCallback_1_1Buffer.html#a7769b37ece530819918f626197ce6786">reset</a>() {</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      <a class="code" href="experimental_2test_2BitsBenchmark_8cpp.html#a25bccaee4203f6f142efc1f61e9b66c5">buffer</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      length = 0;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    }</div><div class="line"><a name="l00360"></a><span class="lineno"><a class="line" href="classfolly_1_1ReadCallback_1_1Buffer.html#a99e66f6c7d11d92a5baed55396493077">  360</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1ReadCallback_1_1Buffer.html#a99e66f6c7d11d92a5baed55396493077">allocate</a>(<span class="keywordtype">size_t</span> len) {</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      assert(<a class="code" href="experimental_2test_2BitsBenchmark_8cpp.html#a25bccaee4203f6f142efc1f61e9b66c5">buffer</a> == <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      this-&gt;<a class="code" href="experimental_2test_2BitsBenchmark_8cpp.html#a25bccaee4203f6f142efc1f61e9b66c5">buffer</a> = <span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(malloc(len));</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      this-&gt;length = len;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    }</div><div class="line"><a name="l00365"></a><span class="lineno"><a class="line" href="classfolly_1_1ReadCallback_1_1Buffer.html#abca880c45a4e49430552164d5bb287a8">  365</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1ReadCallback_1_1Buffer.html#abca880c45a4e49430552164d5bb287a8">free</a>() {</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      <a class="code" href="namespacebm.html#ad1f2831d164bf5bc0b15eae7b05fcd64">::free</a>(<a class="code" href="experimental_2test_2BitsBenchmark_8cpp.html#a25bccaee4203f6f142efc1f61e9b66c5">buffer</a>);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      reset();</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    }</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div><div class="line"><a name="l00370"></a><span class="lineno"><a class="line" href="classfolly_1_1ReadCallback_1_1Buffer.html#a98180ff56f1f549719790343f2873d88">  370</a></span>&#160;    <span class="keywordtype">char</span>* <a class="code" href="classfolly_1_1ReadCallback_1_1Buffer.html#a98180ff56f1f549719790343f2873d88">buffer</a>;</div><div class="line"><a name="l00371"></a><span class="lineno"><a class="line" href="classfolly_1_1ReadCallback_1_1Buffer.html#a6fcb8e5aa667708786f62e57da82a7d7">  371</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classfolly_1_1ReadCallback_1_1Buffer.html#a6fcb8e5aa667708786f62e57da82a7d7">length</a>;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  };</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div><div class="line"><a name="l00374"></a><span class="lineno"><a class="line" href="classfolly_1_1ReadCallback.html#ad90d901386e8fb5860ab1e8148b031ce">  374</a></span>&#160;  std::vector&lt;Buffer&gt; <a class="code" href="classfolly_1_1ReadCallback.html#ad90d901386e8fb5860ab1e8148b031ce">buffers</a>;</div><div class="line"><a name="l00375"></a><span class="lineno"><a class="line" href="classfolly_1_1ReadCallback.html#ab1d3cff3df4e267095c842252ab2a088">  375</a></span>&#160;  <a class="code" href="classfolly_1_1ReadCallback_1_1Buffer.html">Buffer</a> <a class="code" href="classfolly_1_1ReadCallback.html#ab1d3cff3df4e267095c842252ab2a088">currentBuffer</a>;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;};</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div><div class="line"><a name="l00378"></a><span class="lineno"><a class="line" href="classfolly_1_1ReadErrorCallback.html">  378</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1ReadErrorCallback.html">ReadErrorCallback</a> : <span class="keyword">public</span> <a class="code" href="classfolly_1_1ReadCallbackBase.html">ReadCallbackBase</a> {</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00380"></a><span class="lineno"><a class="line" href="classfolly_1_1ReadErrorCallback.html#aa4a405323a863fc6fe88ce92ec08537b">  380</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classfolly_1_1ReadErrorCallback.html#aa4a405323a863fc6fe88ce92ec08537b">ReadErrorCallback</a>(<a class="code" href="classfolly_1_1WriteCallbackBase.html">WriteCallbackBase</a>* wcb) : <a class="code" href="classfolly_1_1ReadCallbackBase.html">ReadCallbackBase</a>(wcb) {}</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <span class="comment">// Return nullptr buffer to trigger readError()</span></div><div class="line"><a name="l00383"></a><span class="lineno"><a class="line" href="classfolly_1_1ReadErrorCallback.html#a73604dc890d45846c2ac6b33890d82cb">  383</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1ReadErrorCallback.html#a73604dc890d45846c2ac6b33890d82cb">getReadBuffer</a>(<span class="keywordtype">void</span>** bufReturn, <span class="keywordtype">size_t</span>* lenReturn)<span class="keyword"> override </span>{</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    *bufReturn = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    *lenReturn = 0;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  }</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno"><a class="line" href="classfolly_1_1ReadErrorCallback.html#ae911fc8a8b26586bb8652f8032eef12b">  388</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1ReadErrorCallback.html#ae911fc8a8b26586bb8652f8032eef12b">readDataAvailable</a>(<span class="keywordtype">size_t</span> <span class="comment">/* len */</span>) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a><span class="keyword"> override </span>{</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="comment">// This should never to called.</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#a3e26a8d27caa386ed0ea7ce9d5b7c4ed">FAIL</a>();</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  }</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div><div class="line"><a name="l00393"></a><span class="lineno"><a class="line" href="classfolly_1_1ReadErrorCallback.html#a2345a641772346cae9e91f75f360a7e8">  393</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1ReadErrorCallback.html#a2345a641772346cae9e91f75f360a7e8">readErr</a>(<span class="keyword">const</span> <a class="code" href="classfolly_1_1AsyncSocketException.html">AsyncSocketException</a>&amp; ex) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <a class="code" href="classfolly_1_1ReadCallbackBase.html#a46ae490ed7216fd76deb3b32fd87f078">ReadCallbackBase::readErr</a>(ex);</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;ReadErrorCallback::readError&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    setState(<a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfaf0c2992d243a18f353de5cf096946e92">STATE_SUCCEEDED</a>);</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  }</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;};</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno"><a class="line" href="classfolly_1_1ReadEOFCallback.html">  400</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1ReadEOFCallback.html">ReadEOFCallback</a> : <span class="keyword">public</span> <a class="code" href="classfolly_1_1ReadCallbackBase.html">ReadCallbackBase</a> {</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00402"></a><span class="lineno"><a class="line" href="classfolly_1_1ReadEOFCallback.html#a4bd57d822cacbcc27cbb89c2176310da">  402</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classfolly_1_1ReadEOFCallback.html#a4bd57d822cacbcc27cbb89c2176310da">ReadEOFCallback</a>(<a class="code" href="classfolly_1_1WriteCallbackBase.html">WriteCallbackBase</a>* wcb) : <a class="code" href="classfolly_1_1ReadCallbackBase.html">ReadCallbackBase</a>(wcb) {}</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="comment">// Return nullptr buffer to trigger readError()</span></div><div class="line"><a name="l00405"></a><span class="lineno"><a class="line" href="classfolly_1_1ReadEOFCallback.html#a6ddcdc1796e31d277e82f969511d17e0">  405</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1ReadEOFCallback.html#a6ddcdc1796e31d277e82f969511d17e0">getReadBuffer</a>(<span class="keywordtype">void</span>** bufReturn, <span class="keywordtype">size_t</span>* lenReturn)<span class="keyword"> override </span>{</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    *bufReturn = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    *lenReturn = 0;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  }</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div><div class="line"><a name="l00410"></a><span class="lineno"><a class="line" href="classfolly_1_1ReadEOFCallback.html#a97e9469eb128854c10b06d1fa2caddae">  410</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1ReadEOFCallback.html#a97e9469eb128854c10b06d1fa2caddae">readDataAvailable</a>(<span class="keywordtype">size_t</span> <span class="comment">/* len */</span>) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a><span class="keyword"> override </span>{</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="comment">// This should never to called.</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#a3e26a8d27caa386ed0ea7ce9d5b7c4ed">FAIL</a>();</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  }</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div><div class="line"><a name="l00415"></a><span class="lineno"><a class="line" href="classfolly_1_1ReadEOFCallback.html#abce9eeeee332299d8a7e9cfc7e6654a4">  415</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1ReadEOFCallback.html#abce9eeeee332299d8a7e9cfc7e6654a4">readEOF</a>() <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a><span class="keyword"> override </span>{</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <a class="code" href="classfolly_1_1ReadCallbackBase.html#a8339747405826ee2f85f6cc752792464">ReadCallbackBase::readEOF</a>();</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    setState(<a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfaf0c2992d243a18f353de5cf096946e92">STATE_SUCCEEDED</a>);</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  }</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;};</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div><div class="line"><a name="l00421"></a><span class="lineno"><a class="line" href="classfolly_1_1WriteErrorCallback.html">  421</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1WriteErrorCallback.html">WriteErrorCallback</a> : <span class="keyword">public</span> <a class="code" href="classfolly_1_1ReadCallback.html">ReadCallback</a> {</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00423"></a><span class="lineno"><a class="line" href="classfolly_1_1WriteErrorCallback.html#ae786ffe7b1c15045713757bc23aa9c2b">  423</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classfolly_1_1WriteErrorCallback.html#ae786ffe7b1c15045713757bc23aa9c2b">WriteErrorCallback</a>(<a class="code" href="classfolly_1_1WriteCallbackBase.html">WriteCallbackBase</a>* wcb) : <a class="code" href="classfolly_1_1ReadCallback.html">ReadCallback</a>(wcb) {}</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div><div class="line"><a name="l00425"></a><span class="lineno"><a class="line" href="classfolly_1_1WriteErrorCallback.html#a3f6b1a97c777d163a93aaf73ff7a382e">  425</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1WriteErrorCallback.html#a3f6b1a97c777d163a93aaf73ff7a382e">readDataAvailable</a>(<span class="keywordtype">size_t</span> len) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;readDataAvailable, len &quot;</span> &lt;&lt; len &lt;&lt; std::endl;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    currentBuffer.length = len;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="comment">// close the socket before writing to trigger writeError().</span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <a class="code" href="namespacefolly_1_1netops.html#a27d9201e6386937ffded3bfd86f995aa">::close</a>(<a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;getFd());</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    wcb_-&gt;setSocket(<a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>);</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="comment">// Write back the same data.</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <a class="code" href="namespacefolly_1_1test.html#a3043e4b574a9b17828d0711c6589c302">folly::test::msvcSuppressAbortOnInvalidParams</a>(</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        [&amp;] { <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;write(wcb_, currentBuffer.buffer, len); });</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="keywordflow">if</span> (wcb_-&gt;state == <a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfadadbb23aeef3680b6ca27538162b44a2">STATE_FAILED</a>) {</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      setState(<a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfaf0c2992d243a18f353de5cf096946e92">STATE_SUCCEEDED</a>);</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      <a class="code" href="http__parser_8c.html#adc6e5733fc3c22f0a7b2914188c49c90">state</a> = <a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfadadbb23aeef3680b6ca27538162b44a2">STATE_FAILED</a>;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    }</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    buffers.push_back(currentBuffer);</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    currentBuffer.reset();</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  }</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div><div class="line"><a name="l00449"></a><span class="lineno"><a class="line" href="classfolly_1_1WriteErrorCallback.html#a725a0578878b16ee6a537a723cc6a606">  449</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1WriteErrorCallback.html#a725a0578878b16ee6a537a723cc6a606">readErr</a>(<span class="keyword">const</span> <a class="code" href="classfolly_1_1AsyncSocketException.html">AsyncSocketException</a>&amp; ex) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;readError &quot;</span> &lt;&lt; ex.what() &lt;&lt; std::endl;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="comment">// do nothing since this is expected</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  }</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;};</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno"><a class="line" href="classfolly_1_1EmptyReadCallback.html">  455</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1EmptyReadCallback.html">EmptyReadCallback</a> : <span class="keyword">public</span> <a class="code" href="classfolly_1_1ReadCallback.html">ReadCallback</a> {</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00457"></a><span class="lineno"><a class="line" href="classfolly_1_1EmptyReadCallback.html#a8e3aaf938810c9efcbab3724e765b190">  457</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classfolly_1_1EmptyReadCallback.html#a8e3aaf938810c9efcbab3724e765b190">EmptyReadCallback</a>() : <a class="code" href="classfolly_1_1ReadCallback.html">ReadCallback</a>(<a class="code" href="http__parser_8c.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>) {}</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div><div class="line"><a name="l00459"></a><span class="lineno"><a class="line" href="classfolly_1_1EmptyReadCallback.html#a87ce758907d94f5dd63db06253c724cc">  459</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1EmptyReadCallback.html#a87ce758907d94f5dd63db06253c724cc">readErr</a>(<span class="keyword">const</span> <a class="code" href="classfolly_1_1AsyncSocketException.html">AsyncSocketException</a>&amp; ex) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;readError &quot;</span> &lt;&lt; ex.what() &lt;&lt; std::endl;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <a class="code" href="http__parser_8c.html#adc6e5733fc3c22f0a7b2914188c49c90">state</a> = <a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfadadbb23aeef3680b6ca27538162b44a2">STATE_FAILED</a>;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="keywordflow">if</span> (tcpSocket_) {</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      tcpSocket_-&gt;close();</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    }</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  }</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div><div class="line"><a name="l00467"></a><span class="lineno"><a class="line" href="classfolly_1_1EmptyReadCallback.html#aa9aaec080347ee847a64b289e5ef6bb1">  467</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1EmptyReadCallback.html#aa9aaec080347ee847a64b289e5ef6bb1">readEOF</a>() <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a><span class="keyword"> override </span>{</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;readEOF&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="keywordflow">if</span> (tcpSocket_) {</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      tcpSocket_-&gt;close();</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    }</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <a class="code" href="http__parser_8c.html#adc6e5733fc3c22f0a7b2914188c49c90">state</a> = <a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfaf0c2992d243a18f353de5cf096946e92">STATE_SUCCEEDED</a>;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  }</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div><div class="line"><a name="l00475"></a><span class="lineno"><a class="line" href="classfolly_1_1EmptyReadCallback.html#a62624de5c6d3d377eb25035db6863275">  475</a></span>&#160;  std::shared_ptr&lt;AsyncSocket&gt; <a class="code" href="classfolly_1_1EmptyReadCallback.html#a62624de5c6d3d377eb25035db6863275">tcpSocket_</a>;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;};</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div><div class="line"><a name="l00478"></a><span class="lineno"><a class="line" href="classfolly_1_1HandshakeCallback.html">  478</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1HandshakeCallback.html">HandshakeCallback</a> : <span class="keyword">public</span> <a class="code" href="classfolly_1_1AsyncSSLSocket_1_1HandshakeCB.html">AsyncSSLSocket::HandshakeCB</a> {</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00480"></a><span class="lineno"><a class="line" href="classfolly_1_1HandshakeCallback.html#aeaf562d67a8bcfff1f994a003755481a">  480</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="classfolly_1_1HandshakeCallback.html#aeaf562d67a8bcfff1f994a003755481a">ExpectType</a> { EXPECT_SUCCESS, EXPECT_ERROR };</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div><div class="line"><a name="l00482"></a><span class="lineno"><a class="line" href="classfolly_1_1HandshakeCallback.html#a9769a1d1e5ef6cd5de18333e5e325d65">  482</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classfolly_1_1HandshakeCallback.html#a9769a1d1e5ef6cd5de18333e5e325d65">HandshakeCallback</a>(</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      <a class="code" href="classfolly_1_1ReadCallbackBase.html">ReadCallbackBase</a>* rcb,</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      <a class="code" href="classfolly_1_1HandshakeCallback.html#aeaf562d67a8bcfff1f994a003755481a">ExpectType</a> <a class="code" href="namespacefolly_1_1symbolizer_1_1test.html#ab8367e4d17e49c0ae1be08d55104740d">expect</a> = EXPECT_SUCCESS)</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      : <a class="code" href="http__parser_8c.html#adc6e5733fc3c22f0a7b2914188c49c90">state</a>(<a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfa766f134f3f1ba953e740f40b0a06fc44">STATE_WAITING</a>), rcb_(rcb), expect_(<a class="code" href="namespacefolly_1_1symbolizer_1_1test.html#ab8367e4d17e49c0ae1be08d55104740d">expect</a>) {}</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div><div class="line"><a name="l00487"></a><span class="lineno"><a class="line" href="classfolly_1_1HandshakeCallback.html#a4005c72c8c367aa33e0eb90b0a772e39">  487</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1HandshakeCallback.html#a4005c72c8c367aa33e0eb90b0a772e39">setSocket</a>(<span class="keyword">const</span> std::shared_ptr&lt;AsyncSSLSocket&gt;&amp; <a class="code" href="namespacefolly_1_1netops.html#a5b95b96a5a185bb8cae1a4d28e0a6249">socket</a>) {</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a> = <a class="code" href="namespacefolly_1_1netops.html#a5b95b96a5a185bb8cae1a4d28e0a6249">socket</a>;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  }</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;</div><div class="line"><a name="l00491"></a><span class="lineno"><a class="line" href="classfolly_1_1HandshakeCallback.html#ad2a376ebfd1a77af248291e9e2de5513">  491</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1HandshakeCallback.html#ad2a376ebfd1a77af248291e9e2de5513">setState</a>(<a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccf">StateEnum</a> <a class="code" href="StringKeyedBenchmark_8cpp.html#aa7f1a46e86fabf3df0ec876cd34220c2">s</a>) {</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <a class="code" href="http__parser_8c.html#adc6e5733fc3c22f0a7b2914188c49c90">state</a> = <a class="code" href="StringKeyedBenchmark_8cpp.html#aa7f1a46e86fabf3df0ec876cd34220c2">s</a>;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    rcb_-&gt;setState(s);</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  }</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  <span class="comment">// Functions inherited from AsyncSSLSocketHandshakeCallback</span></div><div class="line"><a name="l00497"></a><span class="lineno"><a class="line" href="classfolly_1_1HandshakeCallback.html#acf5da972cf7984e866914f563df6c83f">  497</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1HandshakeCallback.html#acf5da972cf7984e866914f563df6c83f">handshakeSuc</a>(<a class="code" href="classfolly_1_1AsyncSSLSocket.html">AsyncSSLSocket</a>* sock) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    std::lock_guard&lt;std::mutex&gt; <a class="code" href="composition__2_8cpp.html#afb3bcbfaaa4d6a3b4ab3e3c4c2cbcfbe">g</a>(<a class="code" href="StaticSingletonManager_8cpp.html#a281b5ec791338d4378e22ef44a51b4a1">mutex_</a>);</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <a class="code" href="AtomicNotificationTest_8cpp.html#a5eb1f373ea25b73577b6e0205ad7b399">cv_</a>.notify_all();</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#a4159019abda84f5366acdb7604ff220a">EXPECT_EQ</a>(sock, <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>.get());</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;HandshakeCallback::connectionAccepted&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    rcb_-&gt;setSocket(<a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>);</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    sock-&gt;setReadCB(rcb_);</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <a class="code" href="http__parser_8c.html#adc6e5733fc3c22f0a7b2914188c49c90">state</a> = (expect_ == EXPECT_SUCCESS) ? <a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfaf0c2992d243a18f353de5cf096946e92">STATE_SUCCEEDED</a> : <a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfadadbb23aeef3680b6ca27538162b44a2">STATE_FAILED</a>;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  }</div><div class="line"><a name="l00506"></a><span class="lineno"><a class="line" href="classfolly_1_1HandshakeCallback.html#a13d11f150dc3690e3c7dbe800fd59c61">  506</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1HandshakeCallback.html#a13d11f150dc3690e3c7dbe800fd59c61">handshakeErr</a>(</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      <a class="code" href="classfolly_1_1AsyncSSLSocket.html">AsyncSSLSocket</a>* <span class="comment">/* sock */</span>,</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;      <span class="keyword">const</span> <a class="code" href="classfolly_1_1AsyncSocketException.html">AsyncSocketException</a>&amp; ex) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    std::lock_guard&lt;std::mutex&gt; <a class="code" href="composition__2_8cpp.html#afb3bcbfaaa4d6a3b4ab3e3c4c2cbcfbe">g</a>(<a class="code" href="StaticSingletonManager_8cpp.html#a281b5ec791338d4378e22ef44a51b4a1">mutex_</a>);</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <a class="code" href="AtomicNotificationTest_8cpp.html#a5eb1f373ea25b73577b6e0205ad7b399">cv_</a>.notify_all();</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;HandshakeCallback::handshakeError &quot;</span> &lt;&lt; ex.what() &lt;&lt; std::endl;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <a class="code" href="http__parser_8c.html#adc6e5733fc3c22f0a7b2914188c49c90">state</a> = (expect_ == EXPECT_ERROR) ? <a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfaf0c2992d243a18f353de5cf096946e92">STATE_SUCCEEDED</a> : <a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfadadbb23aeef3680b6ca27538162b44a2">STATE_FAILED</a>;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="keywordflow">if</span> (expect_ == EXPECT_ERROR) {</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;      <span class="comment">// rcb will never be invoked</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;      rcb_-&gt;setState(<a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfaf0c2992d243a18f353de5cf096946e92">STATE_SUCCEEDED</a>);</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    }</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    errorString_ = ex.what();</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  }</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;</div><div class="line"><a name="l00520"></a><span class="lineno"><a class="line" href="classfolly_1_1HandshakeCallback.html#a706182e3a30751ecd349409077cab07c">  520</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1HandshakeCallback.html#a706182e3a30751ecd349409077cab07c">waitForHandshake</a>() {</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    std::unique_lock&lt;std::mutex&gt; <a class="code" href="namespacefolly.html#a1c5ca040692d2c4c2b1b7ab9e517a61c">lock</a>(<a class="code" href="StaticSingletonManager_8cpp.html#a281b5ec791338d4378e22ef44a51b4a1">mutex_</a>);</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <a class="code" href="AtomicNotificationTest_8cpp.html#a5eb1f373ea25b73577b6e0205ad7b399">cv_</a>.wait(lock, [<span class="keyword">this</span>] { <span class="keywordflow">return</span> <a class="code" href="http__parser_8c.html#adc6e5733fc3c22f0a7b2914188c49c90">state</a> != <a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfa766f134f3f1ba953e740f40b0a06fc44">STATE_WAITING</a>; });</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  }</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div><div class="line"><a name="l00525"></a><span class="lineno"><a class="line" href="classfolly_1_1HandshakeCallback.html#a614135880cdbfec6425a0417cb108cc1">  525</a></span>&#160;  <a class="code" href="classfolly_1_1HandshakeCallback.html#a614135880cdbfec6425a0417cb108cc1">~HandshakeCallback</a>()<span class="keyword"> override </span>{</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#a4159019abda84f5366acdb7604ff220a">EXPECT_EQ</a>(<a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfaf0c2992d243a18f353de5cf096946e92">STATE_SUCCEEDED</a>, <a class="code" href="http__parser_8c.html#adc6e5733fc3c22f0a7b2914188c49c90">state</a>);</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  }</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;</div><div class="line"><a name="l00529"></a><span class="lineno"><a class="line" href="classfolly_1_1HandshakeCallback.html#a02c8b276aaee16b47bac97ba89ecaed0">  529</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1HandshakeCallback.html#a02c8b276aaee16b47bac97ba89ecaed0">closeSocket</a>() {</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;close();</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <a class="code" href="http__parser_8c.html#adc6e5733fc3c22f0a7b2914188c49c90">state</a> = <a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfaf0c2992d243a18f353de5cf096946e92">STATE_SUCCEEDED</a>;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  }</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div><div class="line"><a name="l00534"></a><span class="lineno"><a class="line" href="classfolly_1_1HandshakeCallback.html#af598e398cda7ffc7b0372e2749695b57">  534</a></span>&#160;  std::shared_ptr&lt;AsyncSSLSocket&gt; <a class="code" href="classfolly_1_1HandshakeCallback.html#af598e398cda7ffc7b0372e2749695b57">getSocket</a>() {</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  }</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;</div><div class="line"><a name="l00538"></a><span class="lineno"><a class="line" href="classfolly_1_1HandshakeCallback.html#a42ac89449de145a05e8ddccaa0d44750">  538</a></span>&#160;  <a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccf">StateEnum</a> <a class="code" href="classfolly_1_1HandshakeCallback.html#a42ac89449de145a05e8ddccaa0d44750">state</a>;</div><div class="line"><a name="l00539"></a><span class="lineno"><a class="line" href="classfolly_1_1HandshakeCallback.html#a4674009ea7092d6539dc9c7f159fd572">  539</a></span>&#160;  std::shared_ptr&lt;AsyncSSLSocket&gt; <a class="code" href="classfolly_1_1HandshakeCallback.html#a4674009ea7092d6539dc9c7f159fd572">socket_</a>;</div><div class="line"><a name="l00540"></a><span class="lineno"><a class="line" href="classfolly_1_1HandshakeCallback.html#af21b3cc988b5e3faad2c9e7011c1eb32">  540</a></span>&#160;  <a class="code" href="classfolly_1_1ReadCallbackBase.html">ReadCallbackBase</a>* <a class="code" href="classfolly_1_1HandshakeCallback.html#af21b3cc988b5e3faad2c9e7011c1eb32">rcb_</a>;</div><div class="line"><a name="l00541"></a><span class="lineno"><a class="line" href="classfolly_1_1HandshakeCallback.html#ae78d725e442fe64d6d770218e9389565">  541</a></span>&#160;  <a class="code" href="classfolly_1_1HandshakeCallback.html#aeaf562d67a8bcfff1f994a003755481a">ExpectType</a> <a class="code" href="classfolly_1_1HandshakeCallback.html#ae78d725e442fe64d6d770218e9389565">expect_</a>;</div><div class="line"><a name="l00542"></a><span class="lineno"><a class="line" href="classfolly_1_1HandshakeCallback.html#a736b25fbadca4892174a65767083b819">  542</a></span>&#160;  <a class="code" href="StaticSingletonManager_8cpp.html#a1be3f7fa26e4521098de5f1ec0f865f3">std::mutex</a> <a class="code" href="classfolly_1_1HandshakeCallback.html#a736b25fbadca4892174a65767083b819">mutex_</a>;</div><div class="line"><a name="l00543"></a><span class="lineno"><a class="line" href="classfolly_1_1HandshakeCallback.html#aac431584ef7ede7b4df21ed5e5a05582">  543</a></span>&#160;  std::condition_variable <a class="code" href="classfolly_1_1HandshakeCallback.html#aac431584ef7ede7b4df21ed5e5a05582">cv_</a>;</div><div class="line"><a name="l00544"></a><span class="lineno"><a class="line" href="classfolly_1_1HandshakeCallback.html#a57a02de3ac5e019c3232ef8068f8bc48">  544</a></span>&#160;  <a class="code" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a> <a class="code" href="classfolly_1_1HandshakeCallback.html#a57a02de3ac5e019c3232ef8068f8bc48">errorString_</a>;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;};</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;</div><div class="line"><a name="l00547"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLServerAcceptCallback.html">  547</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1SSLServerAcceptCallback.html">SSLServerAcceptCallback</a> : <span class="keyword">public</span> <a class="code" href="classfolly_1_1SSLServerAcceptCallbackBase.html">SSLServerAcceptCallbackBase</a> {</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00549"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLServerAcceptCallback.html#a69e6106e54b7ef50ba6e28cc38968328">  549</a></span>&#160;  <a class="code" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> <a class="code" href="classfolly_1_1SSLServerAcceptCallback.html#a69e6106e54b7ef50ba6e28cc38968328">timeout_</a>;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div><div class="line"><a name="l00551"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLServerAcceptCallback.html#a73957a6d6ee3cec59833188954f093c4">  551</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classfolly_1_1SSLServerAcceptCallback.html#a73957a6d6ee3cec59833188954f093c4">SSLServerAcceptCallback</a>(<a class="code" href="classfolly_1_1HandshakeCallback.html">HandshakeCallback</a>* hcb, <a class="code" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> timeout = 0)</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;      : <a class="code" href="classfolly_1_1SSLServerAcceptCallbackBase.html">SSLServerAcceptCallbackBase</a>(hcb), timeout_(<a class="code" href="namespacefolly_1_1detail.html#a87c55c2d12ad5b5dc9b7416bbed13720a90272dda245ae1fb3cf197e91a8689dc">timeout</a>) {}</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div><div class="line"><a name="l00554"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLServerAcceptCallback.html#af3efdd76059e8992ae045e7499c87d5d">  554</a></span>&#160;  <a class="code" href="classfolly_1_1SSLServerAcceptCallback.html#af3efdd76059e8992ae045e7499c87d5d">~SSLServerAcceptCallback</a>()<span class="keyword"> override </span>{</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <span class="keywordflow">if</span> (timeout_ &gt; 0) {</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;      <span class="comment">// if we set a timeout, we expect failure</span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#a4159019abda84f5366acdb7604ff220a">EXPECT_EQ</a>(hcb_-&gt;state, <a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfadadbb23aeef3680b6ca27538162b44a2">STATE_FAILED</a>);</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;      hcb_-&gt;setState(<a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfaf0c2992d243a18f353de5cf096946e92">STATE_SUCCEEDED</a>);</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    }</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  }</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div><div class="line"><a name="l00562"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLServerAcceptCallback.html#a42a694e2009ae16a659e56fa38c0302e">  562</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1SSLServerAcceptCallback.html#a42a694e2009ae16a659e56fa38c0302e">connAccepted</a>(</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;      <span class="keyword">const</span> std::shared_ptr&lt;folly::AsyncSSLSocket&gt;&amp; <a class="code" href="StringKeyedBenchmark_8cpp.html#aa7f1a46e86fabf3df0ec876cd34220c2">s</a>) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="keyword">auto</span> sock = std::static_pointer_cast&lt;<a class="code" href="classfolly_1_1AsyncSSLSocket.html">AsyncSSLSocket</a>&gt;(<a class="code" href="StringKeyedBenchmark_8cpp.html#aa7f1a46e86fabf3df0ec876cd34220c2">s</a>);</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;SSLServerAcceptCallback::connAccepted&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    hcb_-&gt;setSocket(sock);</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    sock-&gt;<a class="code" href="classfolly_1_1AsyncSSLSocket.html#a7be93ce1cc875b0f3c6156fd6a9614e0">sslAccept</a>(hcb_, std::chrono::milliseconds(timeout_));</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#a4159019abda84f5366acdb7604ff220a">EXPECT_EQ</a>(sock-&gt;getSSLState(), <a class="code" href="classfolly_1_1AsyncSSLSocket.html#a053436496e751b057e84ad2ac4295610a0d44954b4f8e5731f83fcd05122ec044">AsyncSSLSocket::STATE_ACCEPTING</a>);</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <a class="code" href="http__parser_8c.html#adc6e5733fc3c22f0a7b2914188c49c90">state</a> = <a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfaf0c2992d243a18f353de5cf096946e92">STATE_SUCCEEDED</a>;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  }</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;};</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div><div class="line"><a name="l00575"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLServerAcceptCallbackDelay.html">  575</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1SSLServerAcceptCallbackDelay.html">SSLServerAcceptCallbackDelay</a> : <span class="keyword">public</span> <a class="code" href="classfolly_1_1SSLServerAcceptCallback.html">SSLServerAcceptCallback</a> {</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00577"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLServerAcceptCallbackDelay.html#ae871ea0cd8c517039db14c1ea501cb77">  577</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classfolly_1_1SSLServerAcceptCallbackDelay.html#ae871ea0cd8c517039db14c1ea501cb77">SSLServerAcceptCallbackDelay</a>(<a class="code" href="classfolly_1_1HandshakeCallback.html">HandshakeCallback</a>* hcb)</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;      : <a class="code" href="classfolly_1_1SSLServerAcceptCallback.html">SSLServerAcceptCallback</a>(hcb) {}</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;</div><div class="line"><a name="l00580"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLServerAcceptCallbackDelay.html#a24dee4c2d6bc7789ad18d34afb5be57e">  580</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1SSLServerAcceptCallbackDelay.html#a24dee4c2d6bc7789ad18d34afb5be57e">connAccepted</a>(</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      <span class="keyword">const</span> std::shared_ptr&lt;folly::AsyncSSLSocket&gt;&amp; <a class="code" href="StringKeyedBenchmark_8cpp.html#aa7f1a46e86fabf3df0ec876cd34220c2">s</a>) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="keyword">auto</span> sock = std::static_pointer_cast&lt;<a class="code" href="classfolly_1_1AsyncSSLSocket.html">AsyncSSLSocket</a>&gt;(<a class="code" href="StringKeyedBenchmark_8cpp.html#aa7f1a46e86fabf3df0ec876cd34220c2">s</a>);</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;SSLServerAcceptCallbackDelay::connAccepted&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="keywordtype">int</span> fd = sock-&gt;<a class="code" href="classfolly_1_1AsyncSocket.html#a3746aa7c3ac4a0e4406daf1f9be51955">getFd</a>();</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="preprocessor">#ifndef TCP_NOPUSH</span></div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    {</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;      <span class="comment">// The accepted connection should already have TCP_NODELAY set</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="namespacefolly.html#af765fccfa9242184196b4906286ada49">value</a>;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;      socklen_t valueLength = <span class="keyword">sizeof</span>(<a class="code" href="namespacefolly.html#af765fccfa9242184196b4906286ada49">value</a>);</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;      <span class="keywordtype">int</span> rc = <a class="code" href="namespacefolly_1_1netops.html#aa5fcb96753f19c95a1051c3840b50331">getsockopt</a>(fd, IPPROTO_TCP, TCP_NODELAY, &amp;value, &amp;valueLength);</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;      <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#a4159019abda84f5366acdb7604ff220a">EXPECT_EQ</a>(rc, 0);</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#a4159019abda84f5366acdb7604ff220a">EXPECT_EQ</a>(value, 1);</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    }</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="comment">// Unset the TCP_NODELAY option.</span></div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="namespacefolly.html#af765fccfa9242184196b4906286ada49">value</a> = 0;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    socklen_t valueLength = <span class="keyword">sizeof</span>(<a class="code" href="namespacefolly.html#af765fccfa9242184196b4906286ada49">value</a>);</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="keywordtype">int</span> rc = <a class="code" href="namespacefolly_1_1netops.html#a5046254be249f288deb01103b5db274d">setsockopt</a>(fd, IPPROTO_TCP, TCP_NODELAY, &amp;value, valueLength);</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#a4159019abda84f5366acdb7604ff220a">EXPECT_EQ</a>(rc, 0);</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    rc = <a class="code" href="namespacefolly_1_1netops.html#aa5fcb96753f19c95a1051c3840b50331">getsockopt</a>(fd, IPPROTO_TCP, TCP_NODELAY, &amp;value, &amp;valueLength);</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#a4159019abda84f5366acdb7604ff220a">EXPECT_EQ</a>(rc, 0);</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#a4159019abda84f5366acdb7604ff220a">EXPECT_EQ</a>(value, 0);</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <a class="code" href="classfolly_1_1SSLServerAcceptCallback.html#a42a694e2009ae16a659e56fa38c0302e">SSLServerAcceptCallback::connAccepted</a>(sock);</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  }</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;};</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;</div><div class="line"><a name="l00612"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLServerAsyncCacheAcceptCallback.html">  612</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1SSLServerAsyncCacheAcceptCallback.html">SSLServerAsyncCacheAcceptCallback</a> : <span class="keyword">public</span> <a class="code" href="classfolly_1_1SSLServerAcceptCallback.html">SSLServerAcceptCallback</a> {</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00614"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLServerAsyncCacheAcceptCallback.html#a99ad15e8af39bed65da9799b854caeac">  614</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classfolly_1_1SSLServerAsyncCacheAcceptCallback.html#a99ad15e8af39bed65da9799b854caeac">SSLServerAsyncCacheAcceptCallback</a>(</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;      <a class="code" href="classfolly_1_1HandshakeCallback.html">HandshakeCallback</a>* hcb,</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      <a class="code" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> timeout = 0)</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;      : <a class="code" href="classfolly_1_1SSLServerAcceptCallback.html">SSLServerAcceptCallback</a>(hcb, <a class="code" href="namespacefolly_1_1detail.html#a87c55c2d12ad5b5dc9b7416bbed13720a90272dda245ae1fb3cf197e91a8689dc">timeout</a>) {}</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;</div><div class="line"><a name="l00619"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLServerAsyncCacheAcceptCallback.html#a67bf1b6faf700246b72a8cb948676354">  619</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1SSLServerAsyncCacheAcceptCallback.html#a67bf1b6faf700246b72a8cb948676354">connAccepted</a>(</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;      <span class="keyword">const</span> std::shared_ptr&lt;folly::AsyncSSLSocket&gt;&amp; <a class="code" href="StringKeyedBenchmark_8cpp.html#aa7f1a46e86fabf3df0ec876cd34220c2">s</a>) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="keyword">auto</span> sock = std::static_pointer_cast&lt;<a class="code" href="classfolly_1_1AsyncSSLSocket.html">AsyncSSLSocket</a>&gt;(<a class="code" href="StringKeyedBenchmark_8cpp.html#aa7f1a46e86fabf3df0ec876cd34220c2">s</a>);</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;SSLServerAcceptCallback::connAccepted&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    hcb_-&gt;setSocket(sock);</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    sock-&gt;<a class="code" href="classfolly_1_1AsyncSSLSocket.html#a7be93ce1cc875b0f3c6156fd6a9614e0">sslAccept</a>(hcb_, std::chrono::milliseconds(timeout_));</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#ae9244bfbda562e8b798789b001993fa5">ASSERT_TRUE</a>(</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        (sock-&gt;getSSLState() == <a class="code" href="classfolly_1_1AsyncSSLSocket.html#a053436496e751b057e84ad2ac4295610a0d44954b4f8e5731f83fcd05122ec044">AsyncSSLSocket::STATE_ACCEPTING</a>) ||</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        (sock-&gt;getSSLState() == <a class="code" href="classfolly_1_1AsyncSSLSocket.html#a053436496e751b057e84ad2ac4295610af46c402a50b8a0ab41df847f3ff3b16f">AsyncSSLSocket::STATE_CACHE_LOOKUP</a>));</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <a class="code" href="http__parser_8c.html#adc6e5733fc3c22f0a7b2914188c49c90">state</a> = <a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfaf0c2992d243a18f353de5cf096946e92">STATE_SUCCEEDED</a>;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  }</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;};</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;</div><div class="line"><a name="l00635"></a><span class="lineno"><a class="line" href="classfolly_1_1HandshakeErrorCallback.html">  635</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1HandshakeErrorCallback.html">HandshakeErrorCallback</a> : <span class="keyword">public</span> <a class="code" href="classfolly_1_1SSLServerAcceptCallbackBase.html">SSLServerAcceptCallbackBase</a> {</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00637"></a><span class="lineno"><a class="line" href="classfolly_1_1HandshakeErrorCallback.html#ab8fe5ca556b7b40a71bcf1b98002bd5a">  637</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classfolly_1_1HandshakeErrorCallback.html#ab8fe5ca556b7b40a71bcf1b98002bd5a">HandshakeErrorCallback</a>(<a class="code" href="classfolly_1_1HandshakeCallback.html">HandshakeCallback</a>* hcb)</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;      : <a class="code" href="classfolly_1_1SSLServerAcceptCallbackBase.html">SSLServerAcceptCallbackBase</a>(hcb) {}</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div><div class="line"><a name="l00640"></a><span class="lineno"><a class="line" href="classfolly_1_1HandshakeErrorCallback.html#a9fac1cb289ee1d3505697eec1ca03ce0">  640</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1HandshakeErrorCallback.html#a9fac1cb289ee1d3505697eec1ca03ce0">connAccepted</a>(</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;      <span class="keyword">const</span> std::shared_ptr&lt;folly::AsyncSSLSocket&gt;&amp; <a class="code" href="StringKeyedBenchmark_8cpp.html#aa7f1a46e86fabf3df0ec876cd34220c2">s</a>) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="keyword">auto</span> sock = std::static_pointer_cast&lt;<a class="code" href="classfolly_1_1AsyncSSLSocket.html">AsyncSSLSocket</a>&gt;(<a class="code" href="StringKeyedBenchmark_8cpp.html#aa7f1a46e86fabf3df0ec876cd34220c2">s</a>);</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;HandshakeErrorCallback::connAccepted&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="comment">// The first call to sslAccept() should succeed.</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    hcb_-&gt;setSocket(sock);</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    sock-&gt;<a class="code" href="classfolly_1_1AsyncSSLSocket.html#a7be93ce1cc875b0f3c6156fd6a9614e0">sslAccept</a>(hcb_);</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#a4159019abda84f5366acdb7604ff220a">EXPECT_EQ</a>(sock-&gt;getSSLState(), <a class="code" href="classfolly_1_1AsyncSSLSocket.html#a053436496e751b057e84ad2ac4295610a0d44954b4f8e5731f83fcd05122ec044">AsyncSSLSocket::STATE_ACCEPTING</a>);</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="comment">// The second call to sslAccept() should fail.</span></div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <a class="code" href="classfolly_1_1HandshakeCallback.html">HandshakeCallback</a> callback2(hcb_-&gt;rcb_);</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    callback2.setSocket(sock);</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    sock-&gt;sslAccept(&amp;callback2);</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#a4159019abda84f5366acdb7604ff220a">EXPECT_EQ</a>(sock-&gt;getSSLState(), <a class="code" href="classfolly_1_1AsyncSSLSocket.html#a053436496e751b057e84ad2ac4295610aff00a025c9eba3e2cb6f34312b9c0c59">AsyncSSLSocket::STATE_ERROR</a>);</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="comment">// Both callbacks should be in the error state.</span></div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#a4159019abda84f5366acdb7604ff220a">EXPECT_EQ</a>(hcb_-&gt;state, <a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfadadbb23aeef3680b6ca27538162b44a2">STATE_FAILED</a>);</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#a4159019abda84f5366acdb7604ff220a">EXPECT_EQ</a>(callback2.state, <a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfadadbb23aeef3680b6ca27538162b44a2">STATE_FAILED</a>);</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <a class="code" href="http__parser_8c.html#adc6e5733fc3c22f0a7b2914188c49c90">state</a> = <a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfaf0c2992d243a18f353de5cf096946e92">STATE_SUCCEEDED</a>;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    hcb_-&gt;setState(<a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfaf0c2992d243a18f353de5cf096946e92">STATE_SUCCEEDED</a>);</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    callback2.setState(<a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfaf0c2992d243a18f353de5cf096946e92">STATE_SUCCEEDED</a>);</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  }</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;};</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;</div><div class="line"><a name="l00667"></a><span class="lineno"><a class="line" href="classfolly_1_1HandshakeTimeoutCallback.html">  667</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1HandshakeTimeoutCallback.html">HandshakeTimeoutCallback</a> : <span class="keyword">public</span> <a class="code" href="classfolly_1_1SSLServerAcceptCallbackBase.html">SSLServerAcceptCallbackBase</a> {</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00669"></a><span class="lineno"><a class="line" href="classfolly_1_1HandshakeTimeoutCallback.html#ac30ce23395d3892d0091f0af40649de5">  669</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classfolly_1_1HandshakeTimeoutCallback.html#ac30ce23395d3892d0091f0af40649de5">HandshakeTimeoutCallback</a>(<a class="code" href="classfolly_1_1HandshakeCallback.html">HandshakeCallback</a>* hcb)</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;      : <a class="code" href="classfolly_1_1SSLServerAcceptCallbackBase.html">SSLServerAcceptCallbackBase</a>(hcb) {}</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div><div class="line"><a name="l00672"></a><span class="lineno"><a class="line" href="classfolly_1_1HandshakeTimeoutCallback.html#a4c411ed2e3acf08f1566f38120699d74">  672</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1HandshakeTimeoutCallback.html#a4c411ed2e3acf08f1566f38120699d74">connAccepted</a>(</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      <span class="keyword">const</span> std::shared_ptr&lt;folly::AsyncSSLSocket&gt;&amp; <a class="code" href="StringKeyedBenchmark_8cpp.html#aa7f1a46e86fabf3df0ec876cd34220c2">s</a>) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;HandshakeErrorCallback::connAccepted&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="keyword">auto</span> sock = std::static_pointer_cast&lt;<a class="code" href="classfolly_1_1AsyncSSLSocket.html">AsyncSSLSocket</a>&gt;(<a class="code" href="StringKeyedBenchmark_8cpp.html#aa7f1a46e86fabf3df0ec876cd34220c2">s</a>);</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    hcb_-&gt;setSocket(sock);</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    sock-&gt;<a class="code" href="classfolly_1_1AsyncSocket.html#a942b628cfadcda0f63271f54143ea924">getEventBase</a>()-&gt;<a class="code" href="classfolly_1_1TimeoutManager.html#aa106673cca53bdd937e19feb047b939b">tryRunAfterDelay</a>(</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        [=] {</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;          std::cerr &lt;&lt; <span class="stringliteral">&quot;Delayed SSL accept, client will have close by now&quot;</span></div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                    &lt;&lt; std::endl;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;          <span class="comment">// SSL accept will fail</span></div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;          <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#a4159019abda84f5366acdb7604ff220a">EXPECT_EQ</a>(sock-&gt;getSSLState(), <a class="code" href="classfolly_1_1AsyncSSLSocket.html#a053436496e751b057e84ad2ac4295610a6902e1a7576fa7dd5f37269927fe4046">AsyncSSLSocket::STATE_UNINIT</a>);</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;          hcb_-&gt;socket_-&gt;sslAccept(hcb_);</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;          <span class="comment">// This registers for an event</span></div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;          <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#a4159019abda84f5366acdb7604ff220a">EXPECT_EQ</a>(sock-&gt;getSSLState(), <a class="code" href="classfolly_1_1AsyncSSLSocket.html#a053436496e751b057e84ad2ac4295610a0d44954b4f8e5731f83fcd05122ec044">AsyncSSLSocket::STATE_ACCEPTING</a>);</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;          <a class="code" href="http__parser_8c.html#adc6e5733fc3c22f0a7b2914188c49c90">state</a> = <a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfaf0c2992d243a18f353de5cf096946e92">STATE_SUCCEEDED</a>;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        },</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        100);</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  }</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;};</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;</div><div class="line"><a name="l00695"></a><span class="lineno"><a class="line" href="classfolly_1_1ConnectTimeoutCallback.html">  695</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1ConnectTimeoutCallback.html">ConnectTimeoutCallback</a> : <span class="keyword">public</span> <a class="code" href="classfolly_1_1SSLServerAcceptCallbackBase.html">SSLServerAcceptCallbackBase</a> {</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00697"></a><span class="lineno"><a class="line" href="classfolly_1_1ConnectTimeoutCallback.html#a524fa18d3321e067386785332cfe4ad5">  697</a></span>&#160;  <a class="code" href="classfolly_1_1ConnectTimeoutCallback.html#a524fa18d3321e067386785332cfe4ad5">ConnectTimeoutCallback</a>() : <a class="code" href="classfolly_1_1SSLServerAcceptCallbackBase.html">SSLServerAcceptCallbackBase</a>(<a class="code" href="http__parser_8c.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>) {</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <span class="comment">// We don&#39;t care if we get invoked or not.</span></div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="comment">// The client may time out and give up before connAccepted() is even</span></div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="comment">// called.</span></div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <a class="code" href="http__parser_8c.html#adc6e5733fc3c22f0a7b2914188c49c90">state</a> = <a class="code" href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfaf0c2992d243a18f353de5cf096946e92">STATE_SUCCEEDED</a>;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  }</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;</div><div class="line"><a name="l00704"></a><span class="lineno"><a class="line" href="classfolly_1_1ConnectTimeoutCallback.html#a4f15e9a4911c058faf5f498fbce3dc30">  704</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1ConnectTimeoutCallback.html#a4f15e9a4911c058faf5f498fbce3dc30">connAccepted</a>(</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;      <span class="keyword">const</span> std::shared_ptr&lt;folly::AsyncSSLSocket&gt;&amp; <a class="code" href="StringKeyedBenchmark_8cpp.html#aa7f1a46e86fabf3df0ec876cd34220c2">s</a>) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;ConnectTimeoutCallback::connAccepted&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="comment">// Just wait a while before closing the socket, so the client</span></div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <span class="comment">// will time out waiting for the handshake to complete.</span></div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <a class="code" href="StringKeyedBenchmark_8cpp.html#aa7f1a46e86fabf3df0ec876cd34220c2">s</a>-&gt;getEventBase()-&gt;tryRunAfterDelay([=] { <a class="code" href="StringKeyedBenchmark_8cpp.html#aa7f1a46e86fabf3df0ec876cd34220c2">s</a>-&gt;close(); }, 100);</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  }</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;};</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;</div><div class="line"><a name="l00714"></a><span class="lineno"><a class="line" href="classfolly_1_1TestSSLAsyncCacheServer.html">  714</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1TestSSLAsyncCacheServer.html">TestSSLAsyncCacheServer</a> : <span class="keyword">public</span> <a class="code" href="classfolly_1_1TestSSLServer.html">TestSSLServer</a> {</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00716"></a><span class="lineno"><a class="line" href="classfolly_1_1TestSSLAsyncCacheServer.html#a7d8d49990dfd8c3f56057f72dcb327ec">  716</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classfolly_1_1TestSSLAsyncCacheServer.html#a7d8d49990dfd8c3f56057f72dcb327ec">TestSSLAsyncCacheServer</a>(</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;      <a class="code" href="classfolly_1_1SSLServerAcceptCallbackBase.html">SSLServerAcceptCallbackBase</a>* acb,</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;      <span class="keywordtype">int</span> lookupDelay = 100)</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      : <a class="code" href="classfolly_1_1TestSSLServer.html">TestSSLServer</a>(acb) {</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    SSL_CTX* sslCtx = <a class="code" href="FizzServerCommand_8cpp.html#ac133afd4e0fcd93244b4302e31a2b915">ctx_</a>-&gt;getSSLCtx();</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;<span class="preprocessor">#ifdef SSL_ERROR_WANT_SESS_CACHE_LOOKUP</span></div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    SSL_CTX_sess_set_get_cb(</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        sslCtx, <a class="code" href="classfolly_1_1TestSSLAsyncCacheServer.html#afcea510ff7472d679072086d7ce764a3">TestSSLAsyncCacheServer::getSessionCallback</a>);</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    SSL_CTX_set_session_cache_mode(</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        sslCtx, SSL_SESS_CACHE_NO_INTERNAL | SSL_SESS_CACHE_SERVER);</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    asyncCallbacks_ = 0;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    asyncLookups_ = 0;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    lookupDelay_ = lookupDelay;</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  }</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;</div><div class="line"><a name="l00732"></a><span class="lineno"><a class="line" href="classfolly_1_1TestSSLAsyncCacheServer.html#a0ca3cc48ee0f273bca367dd66666aa7f">  732</a></span>&#160;  <a class="code" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> <a class="code" href="classfolly_1_1TestSSLAsyncCacheServer.html#a0ca3cc48ee0f273bca367dd66666aa7f">getAsyncCallbacks</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="keywordflow">return</span> asyncCallbacks_;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  }</div><div class="line"><a name="l00735"></a><span class="lineno"><a class="line" href="classfolly_1_1TestSSLAsyncCacheServer.html#a3e1b15433fc8d018314ef910dd1e481d">  735</a></span>&#160;  <a class="code" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> <a class="code" href="classfolly_1_1TestSSLAsyncCacheServer.html#a3e1b15433fc8d018314ef910dd1e481d">getAsyncLookups</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="keywordflow">return</span> asyncLookups_;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  }</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l00740"></a><span class="lineno"><a class="line" href="classfolly_1_1TestSSLAsyncCacheServer.html#a16ef7052b2e31acb896567b97dee2fee">  740</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> <a class="code" href="classfolly_1_1TestSSLAsyncCacheServer.html#a16ef7052b2e31acb896567b97dee2fee">asyncCallbacks_</a>;</div><div class="line"><a name="l00741"></a><span class="lineno"><a class="line" href="classfolly_1_1TestSSLAsyncCacheServer.html#aef502a5870a2b958b49508f9c763c0ea">  741</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> <a class="code" href="classfolly_1_1TestSSLAsyncCacheServer.html#aef502a5870a2b958b49508f9c763c0ea">asyncLookups_</a>;</div><div class="line"><a name="l00742"></a><span class="lineno"><a class="line" href="classfolly_1_1TestSSLAsyncCacheServer.html#a2dc6826e7d8128415caf4623ea5b85be">  742</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> <a class="code" href="classfolly_1_1TestSSLAsyncCacheServer.html#a2dc6826e7d8128415caf4623ea5b85be">lookupDelay_</a>;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;</div><div class="line"><a name="l00744"></a><span class="lineno"><a class="line" href="classfolly_1_1TestSSLAsyncCacheServer.html#afcea510ff7472d679072086d7ce764a3">  744</a></span>&#160;  <span class="keyword">static</span> SSL_SESSION* <a class="code" href="classfolly_1_1TestSSLAsyncCacheServer.html#afcea510ff7472d679072086d7ce764a3">getSessionCallback</a>(</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;      SSL* ssl,</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* <span class="comment">/* sess_id */</span>,</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;      <span class="keywordtype">int</span> <span class="comment">/* id_len */</span>,</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;      <span class="keywordtype">int</span>* copyflag) {</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    *copyflag = 0;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    asyncCallbacks_++;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    (void)ssl;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="preprocessor">#ifdef SSL_ERROR_WANT_SESS_CACHE_LOOKUP</span></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <span class="keywordflow">if</span> (!SSL_want_sess_cache_lookup(ssl)) {</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;      <span class="comment">// libssl.so mismatch</span></div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      std::cerr &lt;&lt; <span class="stringliteral">&quot;no async support&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    }</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <a class="code" href="classfolly_1_1AsyncSSLSocket.html">AsyncSSLSocket</a>* sslSocket = <a class="code" href="classfolly_1_1AsyncSSLSocket.html#ade718e1f3d111fafaf53b6378833b212">AsyncSSLSocket::getFromSSL</a>(ssl);</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    assert(sslSocket != <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <span class="comment">// Going to simulate an async cache by just running delaying the miss 100ms</span></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="keywordflow">if</span> (asyncCallbacks_ % 2 == 0) {</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;      <span class="comment">// This socket is already blocked on lookup, return miss</span></div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;      std::cerr &lt;&lt; <span class="stringliteral">&quot;returning miss&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;      <span class="comment">// fresh meat - block it</span></div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;      std::cerr &lt;&lt; <span class="stringliteral">&quot;async lookup&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;      sslSocket-&gt;<a class="code" href="classfolly_1_1AsyncSocket.html#a942b628cfadcda0f63271f54143ea924">getEventBase</a>()-&gt;<a class="code" href="classfolly_1_1TimeoutManager.html#aa106673cca53bdd937e19feb047b939b">tryRunAfterDelay</a>(</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;          <a class="code" href="namespacefolly_1_1netops.html#a169c47f12a823de180fb9e9de51e951f">std::bind</a>(&amp;<a class="code" href="classfolly_1_1AsyncSSLSocket.html#ab1b4635f04d2c777fb43db34078c4a56">AsyncSSLSocket::restartSSLAccept</a>, sslSocket),</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;          lookupDelay_);</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;      *copyflag = SSL_SESSION_CB_WOULD_BLOCK;</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;      asyncLookups_++;</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    }</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  }</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;};</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacefolly.html#a73fb3d55721638886918e9baefbbd3f2">getfds</a>(<span class="keywordtype">int</span> fds[2]);</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacefolly.html#ab3abf3846f064ad582ef6755db318e78">getctx</a>(</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    std::shared_ptr&lt;folly::SSLContext&gt; clientCtx,</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    std::shared_ptr&lt;folly::SSLContext&gt; serverCtx);</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacefolly.html#a2b3ae5dfc0b190327c565893bf585d6d">sslsocketpair</a>(</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <a class="code" href="classfolly_1_1EventBase.html">EventBase</a>* eventBase,</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <a class="code" href="classfolly_1_1AsyncSSLSocket.html#a2a774a3b720af22f579b3d66d2d79712">AsyncSSLSocket::UniquePtr</a>* clientSock,</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <a class="code" href="classfolly_1_1AsyncSSLSocket.html#a2a774a3b720af22f579b3d66d2d79712">AsyncSSLSocket::UniquePtr</a>* serverSock);</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;</div><div class="line"><a name="l00790"></a><span class="lineno"><a class="line" href="classfolly_1_1BlockingWriteClient.html">  790</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1BlockingWriteClient.html">BlockingWriteClient</a> : <span class="keyword">private</span> <a class="code" href="classfolly_1_1AsyncSSLSocket_1_1HandshakeCB.html">AsyncSSLSocket::HandshakeCB</a>,</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                            <span class="keyword">private</span> <a class="code" href="classfolly_1_1AsyncWriter_1_1WriteCallback.html">AsyncTransportWrapper::WriteCallback</a> {</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00793"></a><span class="lineno"><a class="line" href="classfolly_1_1BlockingWriteClient.html#a1d94a1d8a07810212e7fd7201722ee4a">  793</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classfolly_1_1BlockingWriteClient.html#a1d94a1d8a07810212e7fd7201722ee4a">BlockingWriteClient</a>(<a class="code" href="classfolly_1_1AsyncSSLSocket.html#a2a774a3b720af22f579b3d66d2d79712">AsyncSSLSocket::UniquePtr</a> <a class="code" href="namespacefolly_1_1netops.html#a5b95b96a5a185bb8cae1a4d28e0a6249">socket</a>)</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;      : <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">move</a>(socket)), bufLen_(2500), iovCount_(2000) {</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="comment">// Fill buf_</span></div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    buf_ = std::make_unique&lt;uint8_t[]&gt;(bufLen_);</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> n = 0; n &lt; <span class="keyword">sizeof</span>(buf_); ++n) {</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;      buf_[n] = n % 0xff;</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    }</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <span class="comment">// Initialize iov_</span></div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    iov_ = std::make_unique&lt;struct iovec[]&gt;(iovCount_);</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> n = 0; n &lt; iovCount_; ++n) {</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;      iov_[n].iov_base = buf_.get() + n;</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;      <span class="keywordflow">if</span> (n &amp; 0x1) {</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;        iov_[n].iov_len = n % bufLen_;</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;        iov_[n].iov_len = bufLen_ - (n % bufLen_);</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;      }</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    }</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;sslConn(<span class="keyword">this</span>, std::chrono::milliseconds(100));</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  }</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;</div><div class="line"><a name="l00815"></a><span class="lineno"><a class="line" href="classfolly_1_1BlockingWriteClient.html#ae412e3479162357151f253a8a46251c4">  815</a></span>&#160;  <span class="keyword">struct </span>iovec* <a class="code" href="classfolly_1_1BlockingWriteClient.html#ae412e3479162357151f253a8a46251c4">getIovec</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <span class="keywordflow">return</span> iov_.get();</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  }</div><div class="line"><a name="l00818"></a><span class="lineno"><a class="line" href="classfolly_1_1BlockingWriteClient.html#a2f832290c40e1f3d02e5265d236b58ce">  818</a></span>&#160;  <a class="code" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> <a class="code" href="classfolly_1_1BlockingWriteClient.html#a2f832290c40e1f3d02e5265d236b58ce">getIovecCount</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <span class="keywordflow">return</span> iovCount_;</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  }</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l00823"></a><span class="lineno"><a class="line" href="classfolly_1_1BlockingWriteClient.html#a93dd35eddae73206c94eb4275e1d7026">  823</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1BlockingWriteClient.html#a93dd35eddae73206c94eb4275e1d7026">handshakeSuc</a>(<a class="code" href="classfolly_1_1AsyncSSLSocket.html">AsyncSSLSocket</a>*) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a><span class="keyword"> override </span>{</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;writev(<span class="keyword">this</span>, iov_.get(), iovCount_);</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  }</div><div class="line"><a name="l00826"></a><span class="lineno"><a class="line" href="classfolly_1_1BlockingWriteClient.html#a227866714f563ec34662a919fdb805d0">  826</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1BlockingWriteClient.html#a227866714f563ec34662a919fdb805d0">handshakeErr</a>(</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;      <a class="code" href="classfolly_1_1AsyncSSLSocket.html">AsyncSSLSocket</a>*,</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;      <span class="keyword">const</span> <a class="code" href="classfolly_1_1AsyncSocketException.html">AsyncSocketException</a>&amp; ex) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#adc16b5b0a740c39084ea5c9e960e3063">ADD_FAILURE</a>() &lt;&lt; <span class="stringliteral">&quot;client handshake error: &quot;</span> &lt;&lt; ex.what();</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  }</div><div class="line"><a name="l00831"></a><span class="lineno"><a class="line" href="classfolly_1_1BlockingWriteClient.html#aa087e36312ee827a9826278eb31f5aa2">  831</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1BlockingWriteClient.html#aa087e36312ee827a9826278eb31f5aa2">writeSuccess</a>() <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a><span class="keyword"> override </span>{</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;close();</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  }</div><div class="line"><a name="l00834"></a><span class="lineno"><a class="line" href="classfolly_1_1BlockingWriteClient.html#a1a51858c047aa3cb02385827fa55971e">  834</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1BlockingWriteClient.html#a1a51858c047aa3cb02385827fa55971e">writeErr</a>(</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;      <span class="keywordtype">size_t</span> bytesWritten,</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;      <span class="keyword">const</span> <a class="code" href="classfolly_1_1AsyncSocketException.html">AsyncSocketException</a>&amp; ex) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#adc16b5b0a740c39084ea5c9e960e3063">ADD_FAILURE</a>() &lt;&lt; <span class="stringliteral">&quot;client write error after &quot;</span> &lt;&lt; bytesWritten</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot; bytes: &quot;</span> &lt;&lt; ex.what();</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;  }</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;</div><div class="line"><a name="l00841"></a><span class="lineno"><a class="line" href="classfolly_1_1BlockingWriteClient.html#a3013d0bb7ee0ccdd141ee90657c8f879">  841</a></span>&#160;  <a class="code" href="classfolly_1_1AsyncSSLSocket.html#a2a774a3b720af22f579b3d66d2d79712">AsyncSSLSocket::UniquePtr</a> <a class="code" href="classfolly_1_1BlockingWriteClient.html#a3013d0bb7ee0ccdd141ee90657c8f879">socket_</a>;</div><div class="line"><a name="l00842"></a><span class="lineno"><a class="line" href="classfolly_1_1BlockingWriteClient.html#a14a142ed7b8e1a60e2b8ef160661c44a">  842</a></span>&#160;  <a class="code" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> <a class="code" href="classfolly_1_1BlockingWriteClient.html#a14a142ed7b8e1a60e2b8ef160661c44a">bufLen_</a>;</div><div class="line"><a name="l00843"></a><span class="lineno"><a class="line" href="classfolly_1_1BlockingWriteClient.html#a96d14d9c3e787a4ed9cdbb24f1fb3046">  843</a></span>&#160;  <a class="code" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> <a class="code" href="classfolly_1_1BlockingWriteClient.html#a96d14d9c3e787a4ed9cdbb24f1fb3046">iovCount_</a>;</div><div class="line"><a name="l00844"></a><span class="lineno"><a class="line" href="classfolly_1_1BlockingWriteClient.html#ac93d4ea56bd0dfb3e71bcaa5d307ed80">  844</a></span>&#160;  std::unique_ptr&lt;uint8_t[]&gt; <a class="code" href="classfolly_1_1BlockingWriteClient.html#ac93d4ea56bd0dfb3e71bcaa5d307ed80">buf_</a>;</div><div class="line"><a name="l00845"></a><span class="lineno"><a class="line" href="classfolly_1_1BlockingWriteClient.html#a8bdce1c8aaa4a5b2ffd47227a8b64e17">  845</a></span>&#160;  std::unique_ptr&lt;struct iovec[]&gt; <a class="code" href="classfolly_1_1BlockingWriteClient.html#a8bdce1c8aaa4a5b2ffd47227a8b64e17">iov_</a>;</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;};</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;</div><div class="line"><a name="l00848"></a><span class="lineno"><a class="line" href="classfolly_1_1BlockingWriteServer.html">  848</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1BlockingWriteServer.html">BlockingWriteServer</a> : <span class="keyword">private</span> <a class="code" href="classfolly_1_1AsyncSSLSocket_1_1HandshakeCB.html">AsyncSSLSocket::HandshakeCB</a>,</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;                            <span class="keyword">private</span> <a class="code" href="classfolly_1_1AsyncReader_1_1ReadCallback.html">AsyncTransportWrapper::ReadCallback</a> {</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00851"></a><span class="lineno"><a class="line" href="classfolly_1_1BlockingWriteServer.html#a7e57563991379539b0b50981090e37f7">  851</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classfolly_1_1BlockingWriteServer.html#a7e57563991379539b0b50981090e37f7">BlockingWriteServer</a>(<a class="code" href="classfolly_1_1AsyncSSLSocket.html#a2a774a3b720af22f579b3d66d2d79712">AsyncSSLSocket::UniquePtr</a> <a class="code" href="namespacefolly_1_1netops.html#a5b95b96a5a185bb8cae1a4d28e0a6249">socket</a>)</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;      : <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">move</a>(socket)), bufSize_(2500 * 2000), bytesRead_(0) {</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    buf_ = std::make_unique&lt;uint8_t[]&gt;(bufSize_);</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;sslAccept(<span class="keyword">this</span>, std::chrono::milliseconds(100));</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;  }</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;</div><div class="line"><a name="l00857"></a><span class="lineno"><a class="line" href="classfolly_1_1BlockingWriteServer.html#aee7507d36ea8a3310a08d13dc7c592ab">  857</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1BlockingWriteServer.html#aee7507d36ea8a3310a08d13dc7c592ab">checkBuffer</a>(<span class="keyword">struct</span> iovec* iov, <a class="code" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock__stress__test_8cc.html#afd9db40e3361ae09188795e8cbe19752">count</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <a class="code" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> idx = 0;</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> n = 0; n &lt; <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock__stress__test_8cc.html#afd9db40e3361ae09188795e8cbe19752">count</a>; ++n) {</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;      <span class="keywordtype">size_t</span> bytesLeft = bytesRead_ - idx;</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;      <span class="keywordtype">int</span> rc = memcmp(</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;          buf_.get() + idx,</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;          iov[n].iov_base,</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;          <a class="code" href="LogLevel_8cpp.html#a7361901234703a521a82885405734c53">std::min</a>(iov[n].iov_len, bytesLeft));</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;      <span class="keywordflow">if</span> (rc != 0) {</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#a3e26a8d27caa386ed0ea7ce9d5b7c4ed">FAIL</a>() &lt;&lt; <span class="stringliteral">&quot;buffer mismatch at iovec &quot;</span> &lt;&lt; n &lt;&lt; <span class="stringliteral">&quot;/&quot;</span> &lt;&lt; count</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;               &lt;&lt; <span class="stringliteral">&quot;: rc=&quot;</span> &lt;&lt; rc;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;      }</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;      <span class="keywordflow">if</span> (iov[n].iov_len &gt; bytesLeft) {</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#a3e26a8d27caa386ed0ea7ce9d5b7c4ed">FAIL</a>() &lt;&lt; <span class="stringliteral">&quot;server did not read enough data: &quot;</span></div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;               &lt;&lt; <span class="stringliteral">&quot;ended at byte &quot;</span> &lt;&lt; bytesLeft &lt;&lt; <span class="stringliteral">&quot;/&quot;</span> &lt;&lt; iov[n].iov_len</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;               &lt;&lt; <span class="stringliteral">&quot; in iovec &quot;</span> &lt;&lt; n &lt;&lt; <span class="stringliteral">&quot;/&quot;</span> &lt;&lt; <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock__stress__test_8cc.html#afd9db40e3361ae09188795e8cbe19752">count</a>;</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;      }</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;      idx += iov[n].iov_len;</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    }</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <span class="keywordflow">if</span> (idx != bytesRead_) {</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;      <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#adc16b5b0a740c39084ea5c9e960e3063">ADD_FAILURE</a>() &lt;&lt; <span class="stringliteral">&quot;server read extra data: &quot;</span> &lt;&lt; bytesRead_</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot; bytes read; expected &quot;</span> &lt;&lt; idx;</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    }</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;  }</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l00884"></a><span class="lineno"><a class="line" href="classfolly_1_1BlockingWriteServer.html#a6a4d501f9f3531dc9c1bc8d8f9704d5f">  884</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1BlockingWriteServer.html#a6a4d501f9f3531dc9c1bc8d8f9704d5f">handshakeSuc</a>(<a class="code" href="classfolly_1_1AsyncSSLSocket.html">AsyncSSLSocket</a>*) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a><span class="keyword"> override </span>{</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <span class="comment">// Wait 10ms before reading, so the client&#39;s writes will initially block.</span></div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;getEventBase()-&gt;tryRunAfterDelay(</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        [<span class="keyword">this</span>] { <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;setReadCB(<span class="keyword">this</span>); }, 10);</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  }</div><div class="line"><a name="l00889"></a><span class="lineno"><a class="line" href="classfolly_1_1BlockingWriteServer.html#a965e7690f20c9b6964d3d2e9d567a150">  889</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1BlockingWriteServer.html#a965e7690f20c9b6964d3d2e9d567a150">handshakeErr</a>(</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;      <a class="code" href="classfolly_1_1AsyncSSLSocket.html">AsyncSSLSocket</a>*,</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;      <span class="keyword">const</span> <a class="code" href="classfolly_1_1AsyncSocketException.html">AsyncSocketException</a>&amp; ex) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#adc16b5b0a740c39084ea5c9e960e3063">ADD_FAILURE</a>() &lt;&lt; <span class="stringliteral">&quot;server handshake error: &quot;</span> &lt;&lt; ex.what();</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  }</div><div class="line"><a name="l00894"></a><span class="lineno"><a class="line" href="classfolly_1_1BlockingWriteServer.html#a1306955161b5b850c7fc37e82a1a5036">  894</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1BlockingWriteServer.html#a1306955161b5b850c7fc37e82a1a5036">getReadBuffer</a>(<span class="keywordtype">void</span>** bufReturn, <span class="keywordtype">size_t</span>* lenReturn)<span class="keyword"> override </span>{</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    *bufReturn = buf_.get() + bytesRead_;</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    *lenReturn = bufSize_ - bytesRead_;</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;  }</div><div class="line"><a name="l00898"></a><span class="lineno"><a class="line" href="classfolly_1_1BlockingWriteServer.html#ad0ba7b1269968115a3a126c362975694">  898</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1BlockingWriteServer.html#ad0ba7b1269968115a3a126c362975694">readDataAvailable</a>(<span class="keywordtype">size_t</span> len) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    bytesRead_ += len;</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;setReadCB(<span class="keyword">nullptr</span>);</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;getEventBase()-&gt;tryRunAfterDelay(</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        [<span class="keyword">this</span>] { <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;setReadCB(<span class="keyword">this</span>); }, 2);</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  }</div><div class="line"><a name="l00904"></a><span class="lineno"><a class="line" href="classfolly_1_1BlockingWriteServer.html#af411d875895a7b202cbb4007baa31b2e">  904</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1BlockingWriteServer.html#af411d875895a7b202cbb4007baa31b2e">readEOF</a>() <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a><span class="keyword"> override </span>{</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;close();</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;  }</div><div class="line"><a name="l00907"></a><span class="lineno"><a class="line" href="classfolly_1_1BlockingWriteServer.html#a7e142c4c3c414bd624ac37db032a96e3">  907</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1BlockingWriteServer.html#a7e142c4c3c414bd624ac37db032a96e3">readErr</a>(<span class="keyword">const</span> <a class="code" href="classfolly_1_1AsyncSocketException.html">AsyncSocketException</a>&amp; ex) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#adc16b5b0a740c39084ea5c9e960e3063">ADD_FAILURE</a>() &lt;&lt; <span class="stringliteral">&quot;server read error: &quot;</span> &lt;&lt; ex.what();</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;  }</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;</div><div class="line"><a name="l00911"></a><span class="lineno"><a class="line" href="classfolly_1_1BlockingWriteServer.html#af49319935b07ee56b1b2e2c54141510b">  911</a></span>&#160;  <a class="code" href="classfolly_1_1AsyncSSLSocket.html#a2a774a3b720af22f579b3d66d2d79712">AsyncSSLSocket::UniquePtr</a> <a class="code" href="classfolly_1_1BlockingWriteServer.html#af49319935b07ee56b1b2e2c54141510b">socket_</a>;</div><div class="line"><a name="l00912"></a><span class="lineno"><a class="line" href="classfolly_1_1BlockingWriteServer.html#ab96bb584489f74c1ec24d8deb36e1f96">  912</a></span>&#160;  <a class="code" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> <a class="code" href="classfolly_1_1BlockingWriteServer.html#ab96bb584489f74c1ec24d8deb36e1f96">bufSize_</a>;</div><div class="line"><a name="l00913"></a><span class="lineno"><a class="line" href="classfolly_1_1BlockingWriteServer.html#a783848da9dfd599cb7c7ebf07298bbdd">  913</a></span>&#160;  <a class="code" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> <a class="code" href="classfolly_1_1BlockingWriteServer.html#a783848da9dfd599cb7c7ebf07298bbdd">bytesRead_</a>;</div><div class="line"><a name="l00914"></a><span class="lineno"><a class="line" href="classfolly_1_1BlockingWriteServer.html#a810233038e04ad95706dfa766467d1c1">  914</a></span>&#160;  std::unique_ptr&lt;uint8_t[]&gt; <a class="code" href="classfolly_1_1BlockingWriteServer.html#a810233038e04ad95706dfa766467d1c1">buf_</a>;</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;};</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;</div><div class="line"><a name="l00917"></a><span class="lineno"><a class="line" href="classfolly_1_1AlpnClient.html">  917</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1AlpnClient.html">AlpnClient</a> : <span class="keyword">private</span> <a class="code" href="classfolly_1_1AsyncSSLSocket_1_1HandshakeCB.html">AsyncSSLSocket::HandshakeCB</a>,</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;                   <span class="keyword">private</span> <a class="code" href="classfolly_1_1AsyncWriter_1_1WriteCallback.html">AsyncTransportWrapper::WriteCallback</a> {</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00920"></a><span class="lineno"><a class="line" href="classfolly_1_1AlpnClient.html#aa25abdfbee85eacbcf71d2c8a4442c9c">  920</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classfolly_1_1AlpnClient.html#aa25abdfbee85eacbcf71d2c8a4442c9c">AlpnClient</a>(<a class="code" href="classfolly_1_1AsyncSSLSocket.html#a2a774a3b720af22f579b3d66d2d79712">AsyncSSLSocket::UniquePtr</a> <a class="code" href="namespacefolly_1_1netops.html#a5b95b96a5a185bb8cae1a4d28e0a6249">socket</a>)</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;      : nextProto(<a class="code" href="http__parser_8c.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>), nextProtoLength(0), <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">move</a>(socket)) {</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;sslConn(<span class="keyword">this</span>);</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;  }</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;</div><div class="line"><a name="l00925"></a><span class="lineno"><a class="line" href="classfolly_1_1AlpnClient.html#ae5d72f914d7348dd59cc27656292adf3">  925</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* <a class="code" href="classfolly_1_1AlpnClient.html#ae5d72f914d7348dd59cc27656292adf3">nextProto</a>;</div><div class="line"><a name="l00926"></a><span class="lineno"><a class="line" href="classfolly_1_1AlpnClient.html#a0930d8755718b06e98dea71bdd1bd33d">  926</a></span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="classfolly_1_1AlpnClient.html#a0930d8755718b06e98dea71bdd1bd33d">nextProtoLength</a>;</div><div class="line"><a name="l00927"></a><span class="lineno"><a class="line" href="classfolly_1_1AlpnClient.html#ac112df86667f91d474d6195c0bb86461">  927</a></span>&#160;  <a class="code" href="classfolly_1_1Optional.html">folly::Optional&lt;AsyncSocketException&gt;</a> <a class="code" href="classfolly_1_1AlpnClient.html#ac112df86667f91d474d6195c0bb86461">except</a>;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l00930"></a><span class="lineno"><a class="line" href="classfolly_1_1AlpnClient.html#aeb099903f22915071983c679ff0af9e3">  930</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1AlpnClient.html#aeb099903f22915071983c679ff0af9e3">handshakeSuc</a>(<a class="code" href="classfolly_1_1AsyncSSLSocket.html">AsyncSSLSocket</a>*) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a><span class="keyword"> override </span>{</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;getSelectedNextProtocol(&amp;nextProto, &amp;nextProtoLength);</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;  }</div><div class="line"><a name="l00933"></a><span class="lineno"><a class="line" href="classfolly_1_1AlpnClient.html#ab94fe54a45609c273121c10256ce8a63">  933</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1AlpnClient.html#ab94fe54a45609c273121c10256ce8a63">handshakeErr</a>(</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;      <a class="code" href="classfolly_1_1AsyncSSLSocket.html">AsyncSSLSocket</a>*,</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;      <span class="keyword">const</span> <a class="code" href="classfolly_1_1AsyncSocketException.html">AsyncSocketException</a>&amp; ex) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    except = ex;</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;  }</div><div class="line"><a name="l00938"></a><span class="lineno"><a class="line" href="classfolly_1_1AlpnClient.html#aa631eb334021f24f7cb0bcc8a200eea3">  938</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1AlpnClient.html#aa631eb334021f24f7cb0bcc8a200eea3">writeSuccess</a>() <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a><span class="keyword"> override </span>{</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;close();</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  }</div><div class="line"><a name="l00941"></a><span class="lineno"><a class="line" href="classfolly_1_1AlpnClient.html#a272580c322f66d5cefbbf046c31a063b">  941</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1AlpnClient.html#a272580c322f66d5cefbbf046c31a063b">writeErr</a>(</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;      <span class="keywordtype">size_t</span> bytesWritten,</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;      <span class="keyword">const</span> <a class="code" href="classfolly_1_1AsyncSocketException.html">AsyncSocketException</a>&amp; ex) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#adc16b5b0a740c39084ea5c9e960e3063">ADD_FAILURE</a>() &lt;&lt; <span class="stringliteral">&quot;client write error after &quot;</span> &lt;&lt; bytesWritten</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot; bytes: &quot;</span> &lt;&lt; ex.what();</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  }</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;</div><div class="line"><a name="l00948"></a><span class="lineno"><a class="line" href="classfolly_1_1AlpnClient.html#ad8eee885b2c0dedba1dce5d1e381e294">  948</a></span>&#160;  <a class="code" href="classfolly_1_1AsyncSSLSocket.html#a2a774a3b720af22f579b3d66d2d79712">AsyncSSLSocket::UniquePtr</a> <a class="code" href="classfolly_1_1AlpnClient.html#ad8eee885b2c0dedba1dce5d1e381e294">socket_</a>;</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;};</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;</div><div class="line"><a name="l00951"></a><span class="lineno"><a class="line" href="classfolly_1_1AlpnServer.html">  951</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1AlpnServer.html">AlpnServer</a> : <span class="keyword">private</span> <a class="code" href="classfolly_1_1AsyncSSLSocket_1_1HandshakeCB.html">AsyncSSLSocket::HandshakeCB</a>,</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                   <span class="keyword">private</span> <a class="code" href="classfolly_1_1AsyncReader_1_1ReadCallback.html">AsyncTransportWrapper::ReadCallback</a> {</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00954"></a><span class="lineno"><a class="line" href="classfolly_1_1AlpnServer.html#a6968cfea1a46fe6befd7dd223ed0a01e">  954</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classfolly_1_1AlpnServer.html#a6968cfea1a46fe6befd7dd223ed0a01e">AlpnServer</a>(<a class="code" href="classfolly_1_1AsyncSSLSocket.html#a2a774a3b720af22f579b3d66d2d79712">AsyncSSLSocket::UniquePtr</a> <a class="code" href="namespacefolly_1_1netops.html#a5b95b96a5a185bb8cae1a4d28e0a6249">socket</a>)</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;      : nextProto(<a class="code" href="http__parser_8c.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>), nextProtoLength(0), <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">move</a>(socket)) {</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;sslAccept(<span class="keyword">this</span>);</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  }</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;</div><div class="line"><a name="l00959"></a><span class="lineno"><a class="line" href="classfolly_1_1AlpnServer.html#a4ee3c9dfd90bc33de8b284dc85ff905a">  959</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* <a class="code" href="classfolly_1_1AlpnServer.html#a4ee3c9dfd90bc33de8b284dc85ff905a">nextProto</a>;</div><div class="line"><a name="l00960"></a><span class="lineno"><a class="line" href="classfolly_1_1AlpnServer.html#ac3744eac7231ac49ee11aba1635b44d2">  960</a></span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="classfolly_1_1AlpnServer.html#ac3744eac7231ac49ee11aba1635b44d2">nextProtoLength</a>;</div><div class="line"><a name="l00961"></a><span class="lineno"><a class="line" href="classfolly_1_1AlpnServer.html#a02536406d98db5bd0a985fbbc7104cff">  961</a></span>&#160;  <a class="code" href="classfolly_1_1Optional.html">folly::Optional&lt;AsyncSocketException&gt;</a> <a class="code" href="classfolly_1_1AlpnServer.html#a02536406d98db5bd0a985fbbc7104cff">except</a>;</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l00964"></a><span class="lineno"><a class="line" href="classfolly_1_1AlpnServer.html#a57770ae14e754572f5f223faa245362a">  964</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1AlpnServer.html#a57770ae14e754572f5f223faa245362a">handshakeSuc</a>(<a class="code" href="classfolly_1_1AsyncSSLSocket.html">AsyncSSLSocket</a>*) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a><span class="keyword"> override </span>{</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;getSelectedNextProtocol(&amp;nextProto, &amp;nextProtoLength);</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  }</div><div class="line"><a name="l00967"></a><span class="lineno"><a class="line" href="classfolly_1_1AlpnServer.html#a83e2f1ae17368a11bd830ebe1f6ce392">  967</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1AlpnServer.html#a83e2f1ae17368a11bd830ebe1f6ce392">handshakeErr</a>(</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;      <a class="code" href="classfolly_1_1AsyncSSLSocket.html">AsyncSSLSocket</a>*,</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;      <span class="keyword">const</span> <a class="code" href="classfolly_1_1AsyncSocketException.html">AsyncSocketException</a>&amp; ex) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    except = ex;</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;  }</div><div class="line"><a name="l00972"></a><span class="lineno"><a class="line" href="classfolly_1_1AlpnServer.html#a5b2f9aa2f119877d661e8f6cd80bdaec">  972</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1AlpnServer.html#a5b2f9aa2f119877d661e8f6cd80bdaec">getReadBuffer</a>(<span class="keywordtype">void</span>** <span class="comment">/* bufReturn */</span>, <span class="keywordtype">size_t</span>* lenReturn)<span class="keyword"> override </span>{</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    *lenReturn = 0;</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;  }</div><div class="line"><a name="l00975"></a><span class="lineno"><a class="line" href="classfolly_1_1AlpnServer.html#ab35e007a77ba44b25d1869e6384180b7">  975</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1AlpnServer.html#ab35e007a77ba44b25d1869e6384180b7">readDataAvailable</a>(<span class="keywordtype">size_t</span> <span class="comment">/* len */</span>) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a><span class="keyword"> override </span>{}</div><div class="line"><a name="l00976"></a><span class="lineno"><a class="line" href="classfolly_1_1AlpnServer.html#a46a8fc3e6d40ca0349f98e68521c6cf2">  976</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1AlpnServer.html#a46a8fc3e6d40ca0349f98e68521c6cf2">readEOF</a>() <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a><span class="keyword"> override </span>{</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;close();</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;  }</div><div class="line"><a name="l00979"></a><span class="lineno"><a class="line" href="classfolly_1_1AlpnServer.html#a66f915187736e15991a944872361bae3">  979</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1AlpnServer.html#a66f915187736e15991a944872361bae3">readErr</a>(<span class="keyword">const</span> <a class="code" href="classfolly_1_1AsyncSocketException.html">AsyncSocketException</a>&amp; ex) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#adc16b5b0a740c39084ea5c9e960e3063">ADD_FAILURE</a>() &lt;&lt; <span class="stringliteral">&quot;server read error: &quot;</span> &lt;&lt; ex.what();</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  }</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;</div><div class="line"><a name="l00983"></a><span class="lineno"><a class="line" href="classfolly_1_1AlpnServer.html#afd4cb47b3531b64b9113d59e2b4b381b">  983</a></span>&#160;  <a class="code" href="classfolly_1_1AsyncSSLSocket.html#a2a774a3b720af22f579b3d66d2d79712">AsyncSSLSocket::UniquePtr</a> <a class="code" href="classfolly_1_1AlpnServer.html#afd4cb47b3531b64b9113d59e2b4b381b">socket_</a>;</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;};</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;</div><div class="line"><a name="l00986"></a><span class="lineno"><a class="line" href="classfolly_1_1RenegotiatingServer.html">  986</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1RenegotiatingServer.html">RenegotiatingServer</a> : <span class="keyword">public</span> <a class="code" href="classfolly_1_1AsyncSSLSocket_1_1HandshakeCB.html">AsyncSSLSocket::HandshakeCB</a>,</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;                            <span class="keyword">public</span> <a class="code" href="classfolly_1_1AsyncReader_1_1ReadCallback.html">AsyncTransportWrapper::ReadCallback</a> {</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00989"></a><span class="lineno"><a class="line" href="classfolly_1_1RenegotiatingServer.html#a5001ca1e20ec1d52a6ebb21febff64bb">  989</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classfolly_1_1RenegotiatingServer.html#a5001ca1e20ec1d52a6ebb21febff64bb">RenegotiatingServer</a>(<a class="code" href="classfolly_1_1AsyncSSLSocket.html#a2a774a3b720af22f579b3d66d2d79712">AsyncSSLSocket::UniquePtr</a> <a class="code" href="namespacefolly_1_1netops.html#a5b95b96a5a185bb8cae1a4d28e0a6249">socket</a>)</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;      : <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">move</a>(socket)) {</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;sslAccept(<span class="keyword">this</span>);</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  }</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;</div><div class="line"><a name="l00994"></a><span class="lineno"><a class="line" href="classfolly_1_1RenegotiatingServer.html#a07fd1db58a86bfbc867269a67ec80a12">  994</a></span>&#160;  <a class="code" href="classfolly_1_1RenegotiatingServer.html#a07fd1db58a86bfbc867269a67ec80a12">~RenegotiatingServer</a>()<span class="keyword"> override </span>{</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;setReadCB(<span class="keyword">nullptr</span>);</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  }</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;</div><div class="line"><a name="l00998"></a><span class="lineno"><a class="line" href="classfolly_1_1RenegotiatingServer.html#a22a899ac95f3782cf777ae80859777f5">  998</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1RenegotiatingServer.html#a22a899ac95f3782cf777ae80859777f5">handshakeSuc</a>(<a class="code" href="classfolly_1_1AsyncSSLSocket.html">AsyncSSLSocket</a>* <span class="comment">/* socket */</span>) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a><span class="keyword"> override </span>{</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    LOG(<a class="code" href="namespacefolly.html#a925db14fdb0096fe395f6acc43118f4aa551b723eafd6a31d444fcb2f5920fbd3">INFO</a>) &lt;&lt; <span class="stringliteral">&quot;Renegotiating server handshake success&quot;</span>;</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;setReadCB(<span class="keyword">this</span>);</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  }</div><div class="line"><a name="l01002"></a><span class="lineno"><a class="line" href="classfolly_1_1RenegotiatingServer.html#a8b0f5e04dde17fa6089a4b6a9f074c9c"> 1002</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1RenegotiatingServer.html#a8b0f5e04dde17fa6089a4b6a9f074c9c">handshakeErr</a>(</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;      <a class="code" href="classfolly_1_1AsyncSSLSocket.html">AsyncSSLSocket</a>*,</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;      <span class="keyword">const</span> <a class="code" href="classfolly_1_1AsyncSocketException.html">AsyncSocketException</a>&amp; ex) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#adc16b5b0a740c39084ea5c9e960e3063">ADD_FAILURE</a>() &lt;&lt; <span class="stringliteral">&quot;Renegotiating server handshake error: &quot;</span> &lt;&lt; ex.what();</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;  }</div><div class="line"><a name="l01007"></a><span class="lineno"><a class="line" href="classfolly_1_1RenegotiatingServer.html#a49f6b26e9e91ba99a5a51fc5392f9ead"> 1007</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1RenegotiatingServer.html#a49f6b26e9e91ba99a5a51fc5392f9ead">getReadBuffer</a>(<span class="keywordtype">void</span>** bufReturn, <span class="keywordtype">size_t</span>* lenReturn)<span class="keyword"> override </span>{</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    *lenReturn = <span class="keyword">sizeof</span>(buf);</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    *bufReturn = buf;</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;  }</div><div class="line"><a name="l01011"></a><span class="lineno"><a class="line" href="classfolly_1_1RenegotiatingServer.html#a9f6e3ecc2de713773b31598cc4e5267f"> 1011</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1RenegotiatingServer.html#a9f6e3ecc2de713773b31598cc4e5267f">readDataAvailable</a>(<span class="keywordtype">size_t</span> <span class="comment">/* len */</span>) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a><span class="keyword"> override </span>{}</div><div class="line"><a name="l01012"></a><span class="lineno"><a class="line" href="classfolly_1_1RenegotiatingServer.html#a56e9ecf50f5ad0f94b1a6ed57471b0aa"> 1012</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1RenegotiatingServer.html#a56e9ecf50f5ad0f94b1a6ed57471b0aa">readEOF</a>() <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a><span class="keyword"> override </span>{}</div><div class="line"><a name="l01013"></a><span class="lineno"><a class="line" href="classfolly_1_1RenegotiatingServer.html#afd41d3e5040fe5c1c24558bc53ce4ec0"> 1013</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1RenegotiatingServer.html#afd41d3e5040fe5c1c24558bc53ce4ec0">readErr</a>(<span class="keyword">const</span> <a class="code" href="classfolly_1_1AsyncSocketException.html">AsyncSocketException</a>&amp; ex) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    LOG(<a class="code" href="namespacefolly.html#a925db14fdb0096fe395f6acc43118f4aa551b723eafd6a31d444fcb2f5920fbd3">INFO</a>) &lt;&lt; <span class="stringliteral">&quot;server got read error &quot;</span> &lt;&lt; ex.what();</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    <span class="keyword">auto</span> exPtr = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="classfolly_1_1SSLException.html">SSLException</a>*<span class="keyword">&gt;</span>(&amp;ex);</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#aa866c8dece57912e6f51495ed3e8d8d5">ASSERT_NE</a>(<span class="keyword">nullptr</span>, exPtr);</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    <a class="code" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a> exStr(ex.what());</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <a class="code" href="classfolly_1_1SSLException.html">SSLException</a> sslEx(<a class="code" href="namespacefolly.html#a3c4eca65dd6c34d7230cbbc4a68ce8fdab86bc4835331aab3eb8d7629e8fc2f0f">SSLError::CLIENT_RENEGOTIATION</a>);</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#aa866c8dece57912e6f51495ed3e8d8d5">ASSERT_NE</a>(std::string::npos, exStr.find(sslEx.what()));</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    renegotiationError_ = <span class="keyword">true</span>;</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  }</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;</div><div class="line"><a name="l01023"></a><span class="lineno"><a class="line" href="classfolly_1_1RenegotiatingServer.html#af5136218d9c30bfee7bc561fad59bc40"> 1023</a></span>&#160;  <a class="code" href="classfolly_1_1AsyncSSLSocket.html#a2a774a3b720af22f579b3d66d2d79712">AsyncSSLSocket::UniquePtr</a> <a class="code" href="classfolly_1_1RenegotiatingServer.html#af5136218d9c30bfee7bc561fad59bc40">socket_</a>;</div><div class="line"><a name="l01024"></a><span class="lineno"><a class="line" href="classfolly_1_1RenegotiatingServer.html#ae64d5c3f3866499bca9c1f9a167dc652"> 1024</a></span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> buf[128];</div><div class="line"><a name="l01025"></a><span class="lineno"><a class="line" href="classfolly_1_1RenegotiatingServer.html#af2f5aac7593f6b3e8415e8d909c7cf9a"> 1025</a></span>&#160;  <span class="keywordtype">bool</span> renegotiationError_{<span class="keyword">false</span>};</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;};</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;<span class="preprocessor">#ifndef OPENSSL_NO_TLSEXT</span></div><div class="line"><a name="l01029"></a><span class="lineno"><a class="line" href="classfolly_1_1SNIClient.html"> 1029</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1SNIClient.html">SNIClient</a> : <span class="keyword">private</span> <a class="code" href="classfolly_1_1AsyncSSLSocket_1_1HandshakeCB.html">AsyncSSLSocket::HandshakeCB</a>,</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;                  <span class="keyword">private</span> <a class="code" href="classfolly_1_1AsyncWriter_1_1WriteCallback.html">AsyncTransportWrapper::WriteCallback</a> {</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01032"></a><span class="lineno"><a class="line" href="classfolly_1_1SNIClient.html#af72301dcf65e14040963d616fc769601"> 1032</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classfolly_1_1SNIClient.html#af72301dcf65e14040963d616fc769601">SNIClient</a>(<a class="code" href="classfolly_1_1AsyncSSLSocket.html#a2a774a3b720af22f579b3d66d2d79712">AsyncSSLSocket::UniquePtr</a> <a class="code" href="namespacefolly_1_1netops.html#a5b95b96a5a185bb8cae1a4d28e0a6249">socket</a>)</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;      : serverNameMatch(false), <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">move</a>(socket)) {</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;sslConn(<span class="keyword">this</span>);</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;  }</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;</div><div class="line"><a name="l01037"></a><span class="lineno"><a class="line" href="classfolly_1_1SNIClient.html#a9536c5134a7382fa80a257ad8f0dba03"> 1037</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classfolly_1_1SNIClient.html#a9536c5134a7382fa80a257ad8f0dba03">serverNameMatch</a>;</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l01040"></a><span class="lineno"><a class="line" href="classfolly_1_1SNIClient.html#a04b410ccc850cb6c0ef07ba87b91a670"> 1040</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1SNIClient.html#a04b410ccc850cb6c0ef07ba87b91a670">handshakeSuc</a>(<a class="code" href="classfolly_1_1AsyncSSLSocket.html">AsyncSSLSocket</a>*) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a><span class="keyword"> override </span>{</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    serverNameMatch = <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;isServerNameMatch();</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;  }</div><div class="line"><a name="l01043"></a><span class="lineno"><a class="line" href="classfolly_1_1SNIClient.html#a3198c7c84e63269f4a47ad949731e87b"> 1043</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1SNIClient.html#a3198c7c84e63269f4a47ad949731e87b">handshakeErr</a>(</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;      <a class="code" href="classfolly_1_1AsyncSSLSocket.html">AsyncSSLSocket</a>*,</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;      <span class="keyword">const</span> <a class="code" href="classfolly_1_1AsyncSocketException.html">AsyncSocketException</a>&amp; ex) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#adc16b5b0a740c39084ea5c9e960e3063">ADD_FAILURE</a>() &lt;&lt; <span class="stringliteral">&quot;client handshake error: &quot;</span> &lt;&lt; ex.what();</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;  }</div><div class="line"><a name="l01048"></a><span class="lineno"><a class="line" href="classfolly_1_1SNIClient.html#a9576a215f1235b09d374b3ade8a2e991"> 1048</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1SNIClient.html#a9576a215f1235b09d374b3ade8a2e991">writeSuccess</a>() <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a><span class="keyword"> override </span>{</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;close();</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;  }</div><div class="line"><a name="l01051"></a><span class="lineno"><a class="line" href="classfolly_1_1SNIClient.html#aceecc97ea41d91f1fc9a8206d64233fd"> 1051</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1SNIClient.html#aceecc97ea41d91f1fc9a8206d64233fd">writeErr</a>(</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;      <span class="keywordtype">size_t</span> bytesWritten,</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;      <span class="keyword">const</span> <a class="code" href="classfolly_1_1AsyncSocketException.html">AsyncSocketException</a>&amp; ex) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#adc16b5b0a740c39084ea5c9e960e3063">ADD_FAILURE</a>() &lt;&lt; <span class="stringliteral">&quot;client write error after &quot;</span> &lt;&lt; bytesWritten</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot; bytes: &quot;</span> &lt;&lt; ex.what();</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;  }</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;</div><div class="line"><a name="l01058"></a><span class="lineno"><a class="line" href="classfolly_1_1SNIClient.html#acdbde1a9b1dc2146dbc74b837b513571"> 1058</a></span>&#160;  <a class="code" href="classfolly_1_1AsyncSSLSocket.html#a2a774a3b720af22f579b3d66d2d79712">AsyncSSLSocket::UniquePtr</a> <a class="code" href="classfolly_1_1SNIClient.html#acdbde1a9b1dc2146dbc74b837b513571">socket_</a>;</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;};</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;</div><div class="line"><a name="l01061"></a><span class="lineno"><a class="line" href="classfolly_1_1SNIServer.html"> 1061</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1SNIServer.html">SNIServer</a> : <span class="keyword">private</span> <a class="code" href="classfolly_1_1AsyncSSLSocket_1_1HandshakeCB.html">AsyncSSLSocket::HandshakeCB</a>,</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;                  <span class="keyword">private</span> <a class="code" href="classfolly_1_1AsyncReader_1_1ReadCallback.html">AsyncTransportWrapper::ReadCallback</a> {</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01064"></a><span class="lineno"><a class="line" href="classfolly_1_1SNIServer.html#a67f80ae2ed7414014dfcaecb6eda3ac1"> 1064</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classfolly_1_1SNIServer.html#a67f80ae2ed7414014dfcaecb6eda3ac1">SNIServer</a>(</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;      <a class="code" href="classfolly_1_1AsyncSSLSocket.html#a2a774a3b720af22f579b3d66d2d79712">AsyncSSLSocket::UniquePtr</a> <a class="code" href="namespacefolly_1_1netops.html#a5b95b96a5a185bb8cae1a4d28e0a6249">socket</a>,</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;      <span class="keyword">const</span> std::shared_ptr&lt;folly::SSLContext&gt;&amp; ctx,</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;      <span class="keyword">const</span> std::shared_ptr&lt;folly::SSLContext&gt;&amp; sniCtx,</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;      <span class="keyword">const</span> <a class="code" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a>&amp; expectedServerName)</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;      : serverNameMatch(false),</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">move</a>(socket)),</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;        sniCtx_(sniCtx),</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        expectedServerName_(expectedServerName) {</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    ctx-&gt;setServerNameCallback(</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        <a class="code" href="namespacefolly_1_1netops.html#a169c47f12a823de180fb9e9de51e951f">std::bind</a>(&amp;<a class="code" href="classfolly_1_1SNIServer.html#ad038d9f6fe0533ce57fca49d97eb6e8c">SNIServer::serverNameCallback</a>, <span class="keyword">this</span>, std::placeholders::_1));</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;sslAccept(<span class="keyword">this</span>);</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  }</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;</div><div class="line"><a name="l01078"></a><span class="lineno"><a class="line" href="classfolly_1_1SNIServer.html#a9d380032e24b1482a5bda9dee8610aa7"> 1078</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classfolly_1_1SNIServer.html#a9d380032e24b1482a5bda9dee8610aa7">serverNameMatch</a>;</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l01081"></a><span class="lineno"><a class="line" href="classfolly_1_1SNIServer.html#a990a4918cfb4f6452293df84dcdb0bdb"> 1081</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1SNIServer.html#a990a4918cfb4f6452293df84dcdb0bdb">handshakeSuc</a>(<a class="code" href="classfolly_1_1AsyncSSLSocket.html">AsyncSSLSocket</a>* <span class="comment">/* ssl */</span>) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a><span class="keyword"> override </span>{}</div><div class="line"><a name="l01082"></a><span class="lineno"><a class="line" href="classfolly_1_1SNIServer.html#aa517cc18c9670ef9fbea7bfa4b18a942"> 1082</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1SNIServer.html#aa517cc18c9670ef9fbea7bfa4b18a942">handshakeErr</a>(</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;      <a class="code" href="classfolly_1_1AsyncSSLSocket.html">AsyncSSLSocket</a>*,</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;      <span class="keyword">const</span> <a class="code" href="classfolly_1_1AsyncSocketException.html">AsyncSocketException</a>&amp; ex) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#adc16b5b0a740c39084ea5c9e960e3063">ADD_FAILURE</a>() &lt;&lt; <span class="stringliteral">&quot;server handshake error: &quot;</span> &lt;&lt; ex.what();</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;  }</div><div class="line"><a name="l01087"></a><span class="lineno"><a class="line" href="classfolly_1_1SNIServer.html#a2c8420657d4df2e9b428a4fc69230427"> 1087</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1SNIServer.html#a2c8420657d4df2e9b428a4fc69230427">getReadBuffer</a>(<span class="keywordtype">void</span>** <span class="comment">/* bufReturn */</span>, <span class="keywordtype">size_t</span>* lenReturn)<span class="keyword"> override </span>{</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    *lenReturn = 0;</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  }</div><div class="line"><a name="l01090"></a><span class="lineno"><a class="line" href="classfolly_1_1SNIServer.html#acff964c5cfb17bf3c5d3345ccd349d92"> 1090</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1SNIServer.html#acff964c5cfb17bf3c5d3345ccd349d92">readDataAvailable</a>(<span class="keywordtype">size_t</span> <span class="comment">/* len */</span>) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a><span class="keyword"> override </span>{}</div><div class="line"><a name="l01091"></a><span class="lineno"><a class="line" href="classfolly_1_1SNIServer.html#a75e9e3f1dfebb560577766d745156645"> 1091</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1SNIServer.html#a75e9e3f1dfebb560577766d745156645">readEOF</a>() <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a><span class="keyword"> override </span>{</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;close();</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;  }</div><div class="line"><a name="l01094"></a><span class="lineno"><a class="line" href="classfolly_1_1SNIServer.html#a85742ad067271090e510c7bda0dd93f8"> 1094</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1SNIServer.html#a85742ad067271090e510c7bda0dd93f8">readErr</a>(<span class="keyword">const</span> <a class="code" href="classfolly_1_1AsyncSocketException.html">AsyncSocketException</a>&amp; ex) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#adc16b5b0a740c39084ea5c9e960e3063">ADD_FAILURE</a>() &lt;&lt; <span class="stringliteral">&quot;server read error: &quot;</span> &lt;&lt; ex.what();</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;  }</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;</div><div class="line"><a name="l01098"></a><span class="lineno"><a class="line" href="classfolly_1_1SNIServer.html#ad038d9f6fe0533ce57fca49d97eb6e8c"> 1098</a></span>&#160;  folly::SSLContext::ServerNameCallbackResult <a class="code" href="classfolly_1_1SNIServer.html#ad038d9f6fe0533ce57fca49d97eb6e8c">serverNameCallback</a>(SSL* ssl) {</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* sn = SSL_get_servername(ssl, TLSEXT_NAMETYPE_host_name);</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    <span class="keywordflow">if</span> (sniCtx_ &amp;&amp; sn &amp;&amp; !strcasecmp(expectedServerName_.c_str(), sn)) {</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;      <a class="code" href="classfolly_1_1AsyncSSLSocket.html">AsyncSSLSocket</a>* sslSocket = <a class="code" href="classfolly_1_1AsyncSSLSocket.html#ade718e1f3d111fafaf53b6378833b212">AsyncSSLSocket::getFromSSL</a>(ssl);</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;      sslSocket-&gt;switchServerSSLContext(sniCtx_);</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;      serverNameMatch = <span class="keyword">true</span>;</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;      <span class="keywordflow">return</span> folly::SSLContext::SERVER_NAME_FOUND;</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;      serverNameMatch = <span class="keyword">false</span>;</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;      <span class="keywordflow">return</span> folly::SSLContext::SERVER_NAME_NOT_FOUND;</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    }</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;  }</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;</div><div class="line"><a name="l01111"></a><span class="lineno"><a class="line" href="classfolly_1_1SNIServer.html#a5e71913a606ead17eb32996033f42c06"> 1111</a></span>&#160;  <a class="code" href="classfolly_1_1AsyncSSLSocket.html#a2a774a3b720af22f579b3d66d2d79712">AsyncSSLSocket::UniquePtr</a> <a class="code" href="classfolly_1_1SNIServer.html#a5e71913a606ead17eb32996033f42c06">socket_</a>;</div><div class="line"><a name="l01112"></a><span class="lineno"><a class="line" href="classfolly_1_1SNIServer.html#a70f628bf7ee4cab8ed906c67fa7cea96"> 1112</a></span>&#160;  std::shared_ptr&lt;folly::SSLContext&gt; <a class="code" href="classfolly_1_1SNIServer.html#a70f628bf7ee4cab8ed906c67fa7cea96">sniCtx_</a>;</div><div class="line"><a name="l01113"></a><span class="lineno"><a class="line" href="classfolly_1_1SNIServer.html#aa897fbf4ef7400accc9f2705511b7bd9"> 1113</a></span>&#160;  <a class="code" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a> <a class="code" href="classfolly_1_1SNIServer.html#aa897fbf4ef7400accc9f2705511b7bd9">expectedServerName_</a>;</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;};</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;</div><div class="line"><a name="l01117"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLClient.html"> 1117</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1SSLClient.html">SSLClient</a> : <span class="keyword">public</span> <a class="code" href="classfolly_1_1AsyncSocket_1_1ConnectCallback.html">AsyncSocket::ConnectCallback</a>,</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;                  <span class="keyword">public</span> <a class="code" href="classfolly_1_1AsyncWriter_1_1WriteCallback.html">AsyncTransportWrapper::WriteCallback</a>,</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;                  <span class="keyword">public</span> <a class="code" href="classfolly_1_1AsyncReader_1_1ReadCallback.html">AsyncTransportWrapper::ReadCallback</a> {</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l01121"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLClient.html#a7dfa75cc89fbd0f1620da87c3473311d"> 1121</a></span>&#160;  <a class="code" href="classfolly_1_1EventBase.html">EventBase</a>* <a class="code" href="classfolly_1_1SSLClient.html#a7dfa75cc89fbd0f1620da87c3473311d">eventBase_</a>;</div><div class="line"><a name="l01122"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLClient.html#a11e6e99d2d2a9bfc5d7db60ea1340e7b"> 1122</a></span>&#160;  std::shared_ptr&lt;AsyncSSLSocket&gt; <a class="code" href="classfolly_1_1SSLClient.html#a11e6e99d2d2a9bfc5d7db60ea1340e7b">sslSocket_</a>;</div><div class="line"><a name="l01123"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLClient.html#a6ffa2b635827acddaf06148b409c2c3e"> 1123</a></span>&#160;  SSL_SESSION* <a class="code" href="classfolly_1_1SSLClient.html#a6ffa2b635827acddaf06148b409c2c3e">session_</a>;</div><div class="line"><a name="l01124"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLClient.html#ab78c5b78f2177763b14ea83adc980bcb"> 1124</a></span>&#160;  std::shared_ptr&lt;folly::SSLContext&gt; <a class="code" href="classfolly_1_1SSLClient.html#ab78c5b78f2177763b14ea83adc980bcb">ctx_</a>;</div><div class="line"><a name="l01125"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLClient.html#aec147b9ccfd78675946ee6b748ea9be4"> 1125</a></span>&#160;  <a class="code" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> <a class="code" href="classfolly_1_1SSLClient.html#aec147b9ccfd78675946ee6b748ea9be4">requests_</a>;</div><div class="line"><a name="l01126"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLClient.html#aed587343d3b70fe5e44ddb9155cbdd3f"> 1126</a></span>&#160;  <a class="code" href="classfolly_1_1SocketAddress.html">folly::SocketAddress</a> <a class="code" href="classfolly_1_1SSLClient.html#aed587343d3b70fe5e44ddb9155cbdd3f">address_</a>;</div><div class="line"><a name="l01127"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLClient.html#a389b666eaa6b4e6e32a54121fde8ce80"> 1127</a></span>&#160;  <a class="code" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> <a class="code" href="classfolly_1_1SSLClient.html#a389b666eaa6b4e6e32a54121fde8ce80">timeout_</a>;</div><div class="line"><a name="l01128"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLClient.html#adb26611d6c9978e8b8e19f2f314315df"> 1128</a></span>&#160;  <span class="keywordtype">char</span> buf_[128];</div><div class="line"><a name="l01129"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLClient.html#a2b87c407fae3d8a3abd55446e4260687"> 1129</a></span>&#160;  <span class="keywordtype">char</span> readbuf_[128];</div><div class="line"><a name="l01130"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLClient.html#a07a9272137bfe4404ca827b4bb2dd443"> 1130</a></span>&#160;  <a class="code" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> <a class="code" href="classfolly_1_1SSLClient.html#a07a9272137bfe4404ca827b4bb2dd443">bytesRead_</a>;</div><div class="line"><a name="l01131"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLClient.html#a012acf66e3a4aec35b011552e4a5f6bf"> 1131</a></span>&#160;  <a class="code" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> <a class="code" href="classfolly_1_1SSLClient.html#a012acf66e3a4aec35b011552e4a5f6bf">hit_</a>;</div><div class="line"><a name="l01132"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLClient.html#afa1b94f407c3c61ee7c23f7b33f9b17b"> 1132</a></span>&#160;  <a class="code" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> <a class="code" href="classfolly_1_1SSLClient.html#afa1b94f407c3c61ee7c23f7b33f9b17b">miss_</a>;</div><div class="line"><a name="l01133"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLClient.html#ad0f81c3593552e2745f502d9fc575400"> 1133</a></span>&#160;  <a class="code" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> <a class="code" href="classfolly_1_1SSLClient.html#ad0f81c3593552e2745f502d9fc575400">errors_</a>;</div><div class="line"><a name="l01134"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLClient.html#aa46e036ec324e3cdf1e8f3a26521ccf0"> 1134</a></span>&#160;  <a class="code" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> <a class="code" href="classfolly_1_1SSLClient.html#aa46e036ec324e3cdf1e8f3a26521ccf0">writeAfterConnectErrors_</a>;</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;  <span class="comment">// These settings test that we eventually drain the</span></div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  <span class="comment">// socket, even if the maxReadsPerEvent_ is hit during</span></div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;  <span class="comment">// a event loop iteration.</span></div><div class="line"><a name="l01139"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLClient.html#a85e7ded1b55f2b555365559f5015a5c1"> 1139</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keywordtype">size_t</span> kMaxReadsPerEvent = 2;</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;  <span class="comment">// 2 event loop iterations</span></div><div class="line"><a name="l01141"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLClient.html#a53f16ec576fe5377bec8a5425534f2ec"> 1141</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keywordtype">size_t</span> kMaxReadBufferSz =</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;      <span class="keyword">sizeof</span>(decltype(readbuf_)) / kMaxReadsPerEvent / 2;</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01145"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLClient.html#a3fa8b89d37c758c65357b118a89838fd"> 1145</a></span>&#160;  <a class="code" href="classfolly_1_1SSLClient.html#a3fa8b89d37c758c65357b118a89838fd">SSLClient</a>(</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;      <a class="code" href="classfolly_1_1EventBase.html">EventBase</a>* eventBase,</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;      <span class="keyword">const</span> <a class="code" href="classfolly_1_1SocketAddress.html">folly::SocketAddress</a>&amp; address,</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;      <a class="code" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> <a class="code" href="test_8c.html#a2f5f4226fdae63a5d7d98b3cc56a685d">requests</a>,</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;      <a class="code" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> timeout = 0)</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;      : eventBase_(eventBase),</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;        session_(<a class="code" href="http__parser_8c.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>),</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        requests_(requests),</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;        address_(address),</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;        timeout_(<a class="code" href="namespacefolly_1_1detail.html#a87c55c2d12ad5b5dc9b7416bbed13720a90272dda245ae1fb3cf197e91a8689dc">timeout</a>),</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;        bytesRead_(0),</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;        hit_(0),</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;        miss_(0),</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;        errors_(0),</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;        writeAfterConnectErrors_(0) {</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    ctx_.<a class="code" href="classfolly_1_1SocketAddress.html#a1a4e0fd3eaadb0e91add02b9b32f3e2c">reset</a>(<span class="keyword">new</span> <a class="code" href="classfolly_1_1SSLContext.html">folly::SSLContext</a>());</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    ctx_-&gt;setOptions(SSL_OP_NO_TICKET);</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    ctx_-&gt;ciphers(<span class="stringliteral">&quot;ALL:!ADH:!LOW:!EXP:!MD5:@STRENGTH&quot;</span>);</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    memset(buf_, <span class="charliteral">&#39;a&#39;</span>, <span class="keyword">sizeof</span>(buf_));</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;  }</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;</div><div class="line"><a name="l01166"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLClient.html#a12f4ccfe1a296bfc23b20ea4c823c76e"> 1166</a></span>&#160;  <a class="code" href="classfolly_1_1SSLClient.html#a12f4ccfe1a296bfc23b20ea4c823c76e">~SSLClient</a>()<span class="keyword"> override </span>{</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    <span class="keywordflow">if</span> (session_) {</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;      SSL_SESSION_free(session_);</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    }</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    <span class="keywordflow">if</span> (errors_ == 0) {</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;      <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#a4159019abda84f5366acdb7604ff220a">EXPECT_EQ</a>(bytesRead_, <span class="keyword">sizeof</span>(buf_));</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    }</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  }</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;</div><div class="line"><a name="l01175"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLClient.html#a07c64ff9855744278703439fe8683f54"> 1175</a></span>&#160;  <a class="code" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> <a class="code" href="classfolly_1_1SSLClient.html#a07c64ff9855744278703439fe8683f54">getHit</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    <span class="keywordflow">return</span> hit_;</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;  }</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;</div><div class="line"><a name="l01179"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLClient.html#af0d510569c930fc2ff876143b9886c44"> 1179</a></span>&#160;  <a class="code" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> <a class="code" href="classfolly_1_1SSLClient.html#af0d510569c930fc2ff876143b9886c44">getMiss</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    <span class="keywordflow">return</span> miss_;</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;  }</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;</div><div class="line"><a name="l01183"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLClient.html#a4cdc72d9c587b79e38b7e2356c7419b1"> 1183</a></span>&#160;  <a class="code" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> <a class="code" href="classfolly_1_1SSLClient.html#a4cdc72d9c587b79e38b7e2356c7419b1">getErrors</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    <span class="keywordflow">return</span> errors_;</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;  }</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;</div><div class="line"><a name="l01187"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLClient.html#aaca22f2163bcdabeb9be9d3e0c8693a8"> 1187</a></span>&#160;  <a class="code" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> <a class="code" href="classfolly_1_1SSLClient.html#aaca22f2163bcdabeb9be9d3e0c8693a8">getWriteAfterConnectErrors</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    <span class="keywordflow">return</span> writeAfterConnectErrors_;</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;  }</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;</div><div class="line"><a name="l01191"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLClient.html#a6194c1e1aee4323ce18da518c7bd6106"> 1191</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1SSLClient.html#a6194c1e1aee4323ce18da518c7bd6106">connect</a>(<span class="keywordtype">bool</span> writeNow = <span class="keyword">false</span>) {</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    sslSocket_ = <a class="code" href="classfolly_1_1AsyncSSLSocket.html#a84af2512071e01ac0f894371fddbdf2b">AsyncSSLSocket::newSocket</a>(ctx_, eventBase_);</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    <span class="keywordflow">if</span> (session_ != <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;      sslSocket_-&gt;setSSLSession(session_);</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    }</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    requests_--;</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    sslSocket_-&gt;connect(<span class="keyword">this</span>, address_, timeout_);</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    <span class="keywordflow">if</span> (sslSocket_ &amp;&amp; writeNow) {</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;      <span class="comment">// write some junk, used in an error test</span></div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;      sslSocket_-&gt;write(<span class="keyword">this</span>, buf_, <span class="keyword">sizeof</span>(buf_));</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    }</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;  }</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;</div><div class="line"><a name="l01204"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLClient.html#af5416f8124df86c1e24cf522c0eb77e7"> 1204</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1SSLClient.html#af5416f8124df86c1e24cf522c0eb77e7">connectSuccess</a>() <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a><span class="keyword"> override </span>{</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;client SSL socket connected&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <span class="keywordflow">if</span> (sslSocket_-&gt;getSSLSessionReused()) {</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;      hit_++;</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;      miss_++;</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;      <span class="keywordflow">if</span> (session_ != <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;        SSL_SESSION_free(session_);</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;      }</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;      session_ = sslSocket_-&gt;getSSLSession();</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    }</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    <span class="comment">// write()</span></div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    sslSocket_-&gt;setMaxReadsPerEvent(kMaxReadsPerEvent);</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    sslSocket_-&gt;write(<span class="keyword">this</span>, buf_, <span class="keyword">sizeof</span>(buf_));</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    sslSocket_-&gt;setReadCB(<span class="keyword">this</span>);</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    memset(readbuf_, <span class="charliteral">&#39;b&#39;</span>, <span class="keyword">sizeof</span>(readbuf_));</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    bytesRead_ = 0;</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;  }</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;</div><div class="line"><a name="l01224"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLClient.html#a57382b8f483daa6d63110fb481d371ed"> 1224</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1SSLClient.html#a57382b8f483daa6d63110fb481d371ed">connectErr</a>(<span class="keyword">const</span> <a class="code" href="classfolly_1_1AsyncSocketException.html">AsyncSocketException</a>&amp; ex) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;SSLClient::connectError: &quot;</span> &lt;&lt; ex.what() &lt;&lt; std::endl;</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    errors_++;</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    sslSocket_.reset();</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;  }</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;</div><div class="line"><a name="l01230"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLClient.html#ade7cadfb6fe8eba3292d6e68bcd2fc95"> 1230</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1SSLClient.html#ade7cadfb6fe8eba3292d6e68bcd2fc95">writeSuccess</a>() <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a><span class="keyword"> override </span>{</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;client write success&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;  }</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;</div><div class="line"><a name="l01234"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLClient.html#ae73a999fca4051b186b2c59e0eb20a7f"> 1234</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1SSLClient.html#ae73a999fca4051b186b2c59e0eb20a7f">writeErr</a>(</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;      <span class="keywordtype">size_t</span> <span class="comment">/* bytesWritten */</span>,</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;      <span class="keyword">const</span> <a class="code" href="classfolly_1_1AsyncSocketException.html">AsyncSocketException</a>&amp; ex) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;client writeError: &quot;</span> &lt;&lt; ex.what() &lt;&lt; std::endl;</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    <span class="keywordflow">if</span> (!sslSocket_) {</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;      writeAfterConnectErrors_++;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    }</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;  }</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;</div><div class="line"><a name="l01243"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLClient.html#a0f587ddcf584694c6446426416b4fb2a"> 1243</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1SSLClient.html#a0f587ddcf584694c6446426416b4fb2a">getReadBuffer</a>(<span class="keywordtype">void</span>** bufReturn, <span class="keywordtype">size_t</span>* lenReturn)<span class="keyword"> override </span>{</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    *bufReturn = readbuf_ + bytesRead_;</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    *lenReturn = <a class="code" href="LogLevel_8cpp.html#a7361901234703a521a82885405734c53">std::min</a>(kMaxReadBufferSz, <span class="keyword">sizeof</span>(readbuf_) - bytesRead_);</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;  }</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;</div><div class="line"><a name="l01248"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLClient.html#a071256b234200ef25fef39e86cc0f4a2"> 1248</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1SSLClient.html#a071256b234200ef25fef39e86cc0f4a2">readEOF</a>() <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a><span class="keyword"> override </span>{</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;client readEOF&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;  }</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;</div><div class="line"><a name="l01252"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLClient.html#a7db295edd00e0f7db592ddc63c8b8b80"> 1252</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1SSLClient.html#a7db295edd00e0f7db592ddc63c8b8b80">readErr</a>(<span class="keyword">const</span> <a class="code" href="classfolly_1_1AsyncSocketException.html">AsyncSocketException</a>&amp; ex) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;client readError: &quot;</span> &lt;&lt; ex.what() &lt;&lt; std::endl;</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;  }</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;</div><div class="line"><a name="l01256"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLClient.html#a7ae9ec46ec83e666ae8a6451b1550a56"> 1256</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1SSLClient.html#a7ae9ec46ec83e666ae8a6451b1550a56">readDataAvailable</a>(<span class="keywordtype">size_t</span> len) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;client read data: &quot;</span> &lt;&lt; len &lt;&lt; std::endl;</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    bytesRead_ += len;</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    <span class="keywordflow">if</span> (bytesRead_ == <span class="keyword">sizeof</span>(buf_)) {</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;      <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#a4159019abda84f5366acdb7604ff220a">EXPECT_EQ</a>(memcmp(buf_, readbuf_, bytesRead_), 0);</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;      sslSocket_-&gt;closeNow();</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;      sslSocket_.reset();</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;      <span class="keywordflow">if</span> (requests_ != 0) {</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;        <a class="code" href="namespacefolly_1_1netops.html#ac1c485d763067b5987724117affe463d">connect</a>();</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;      }</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    }</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;  }</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;};</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;</div><div class="line"><a name="l01270"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLHandshakeBase.html"> 1270</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1SSLHandshakeBase.html">SSLHandshakeBase</a> : <span class="keyword">public</span> <a class="code" href="classfolly_1_1AsyncSSLSocket_1_1HandshakeCB.html">AsyncSSLSocket::HandshakeCB</a>,</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;                         <span class="keyword">private</span> <a class="code" href="classfolly_1_1AsyncWriter_1_1WriteCallback.html">AsyncTransportWrapper::WriteCallback</a> {</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01273"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLHandshakeBase.html#a9e0680c4d7bb40db8ca955d47738c3dc"> 1273</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classfolly_1_1SSLHandshakeBase.html#a9e0680c4d7bb40db8ca955d47738c3dc">SSLHandshakeBase</a>(</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;      <a class="code" href="classfolly_1_1AsyncSSLSocket.html#a2a774a3b720af22f579b3d66d2d79712">AsyncSSLSocket::UniquePtr</a> <a class="code" href="namespacefolly_1_1netops.html#a5b95b96a5a185bb8cae1a4d28e0a6249">socket</a>,</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;      <span class="keywordtype">bool</span> preverifyResult,</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;      <span class="keywordtype">bool</span> verifyResult)</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;      : handshakeVerify_(false),</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;        handshakeSuccess_(false),</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;        handshakeError_(false),</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;        <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">move</a>(socket)),</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;        preverifyResult_(preverifyResult),</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;        verifyResult_(verifyResult) {}</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;</div><div class="line"><a name="l01284"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLHandshakeBase.html#af41db26babd14e5774dcc9c9f688cbf4"> 1284</a></span>&#160;  <a class="code" href="classfolly_1_1AsyncSSLSocket.html#a2a774a3b720af22f579b3d66d2d79712">AsyncSSLSocket::UniquePtr</a> <a class="code" href="classfolly_1_1SSLHandshakeBase.html#af41db26babd14e5774dcc9c9f688cbf4">moveSocket</a>() &amp;&amp; {</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(<a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>);</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;  }</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;</div><div class="line"><a name="l01288"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLHandshakeBase.html#abbf5928c81f5e6ffc39e33f650337720"> 1288</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classfolly_1_1SSLHandshakeBase.html#abbf5928c81f5e6ffc39e33f650337720">handshakeVerify_</a>;</div><div class="line"><a name="l01289"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLHandshakeBase.html#a61fbf2f2cdf4e9d39f13022701cfcc7a"> 1289</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classfolly_1_1SSLHandshakeBase.html#a61fbf2f2cdf4e9d39f13022701cfcc7a">handshakeSuccess_</a>;</div><div class="line"><a name="l01290"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLHandshakeBase.html#a559e20911e6d1e7abb174bc6b2ab5db9"> 1290</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classfolly_1_1SSLHandshakeBase.html#a559e20911e6d1e7abb174bc6b2ab5db9">handshakeError_</a>;</div><div class="line"><a name="l01291"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLHandshakeBase.html#abb953f39b93e79af190692fd3b755bb1"> 1291</a></span>&#160;  std::chrono::nanoseconds <a class="code" href="classfolly_1_1SSLHandshakeBase.html#abb953f39b93e79af190692fd3b755bb1">handshakeTime</a>;</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160; <span class="keyword">protected</span>:</div><div class="line"><a name="l01294"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLHandshakeBase.html#a1d7209cca1d28cc8f793fda59c1f85ef"> 1294</a></span>&#160;  <a class="code" href="classfolly_1_1AsyncSSLSocket.html#a2a774a3b720af22f579b3d66d2d79712">AsyncSSLSocket::UniquePtr</a> <a class="code" href="classfolly_1_1SSLHandshakeBase.html#a1d7209cca1d28cc8f793fda59c1f85ef">socket_</a>;</div><div class="line"><a name="l01295"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLHandshakeBase.html#a6335849b4f7ebc3501c18e320f4d992f"> 1295</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classfolly_1_1SSLHandshakeBase.html#a6335849b4f7ebc3501c18e320f4d992f">preverifyResult_</a>;</div><div class="line"><a name="l01296"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLHandshakeBase.html#aa906d9c82047e7f92f9dda9454562743"> 1296</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classfolly_1_1SSLHandshakeBase.html#aa906d9c82047e7f92f9dda9454562743">verifyResult_</a>;</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;  <span class="comment">// HandshakeCallback</span></div><div class="line"><a name="l01299"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLHandshakeBase.html#a1554f29dd3bfb972562615e069408f06"> 1299</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classfolly_1_1SSLHandshakeBase.html#a1554f29dd3bfb972562615e069408f06">handshakeVer</a>(</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;      <a class="code" href="classfolly_1_1AsyncSSLSocket.html">AsyncSSLSocket</a>* <span class="comment">/* sock */</span>,</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;      <span class="keywordtype">bool</span> preverifyOk,</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;      X509_STORE_CTX* <span class="comment">/* ctx */</span>) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a><span class="keyword"> override </span>{</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    handshakeVerify_ = <span class="keyword">true</span>;</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#a4159019abda84f5366acdb7604ff220a">EXPECT_EQ</a>(preverifyResult_, preverifyOk);</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    <span class="keywordflow">return</span> verifyResult_;</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;  }</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;</div><div class="line"><a name="l01309"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLHandshakeBase.html#afe3f7d97d13d4eaa0803c317d6d440d1"> 1309</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1SSLHandshakeBase.html#afe3f7d97d13d4eaa0803c317d6d440d1">handshakeSuc</a>(<a class="code" href="classfolly_1_1AsyncSSLSocket.html">AsyncSSLSocket</a>*) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a><span class="keyword"> override </span>{</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    LOG(<a class="code" href="namespacefolly.html#a925db14fdb0096fe395f6acc43118f4aa551b723eafd6a31d444fcb2f5920fbd3">INFO</a>) &lt;&lt; <span class="stringliteral">&quot;Handshake success&quot;</span>;</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    handshakeSuccess_ = <span class="keyword">true</span>;</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    <span class="keywordflow">if</span> (socket_) {</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;      handshakeTime = socket_-&gt;getHandshakeTime();</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    }</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;  }</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;</div><div class="line"><a name="l01317"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLHandshakeBase.html#ac152dcdee0a46e67c3c852d6f8418f24"> 1317</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1SSLHandshakeBase.html#ac152dcdee0a46e67c3c852d6f8418f24">handshakeErr</a>(</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;      <a class="code" href="classfolly_1_1AsyncSSLSocket.html">AsyncSSLSocket</a>*,</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;      <span class="keyword">const</span> <a class="code" href="classfolly_1_1AsyncSocketException.html">AsyncSocketException</a>&amp; ex) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    LOG(<a class="code" href="namespacefolly.html#a925db14fdb0096fe395f6acc43118f4aa551b723eafd6a31d444fcb2f5920fbd3">INFO</a>) &lt;&lt; <span class="stringliteral">&quot;Handshake error &quot;</span> &lt;&lt; ex.what();</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    handshakeError_ = <span class="keyword">true</span>;</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    <span class="keywordflow">if</span> (socket_) {</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;      handshakeTime = socket_-&gt;getHandshakeTime();</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    }</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;  }</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;  <span class="comment">// WriteCallback</span></div><div class="line"><a name="l01328"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLHandshakeBase.html#a7a07829ce4fbfde17247981fcacf6518"> 1328</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1SSLHandshakeBase.html#a7a07829ce4fbfde17247981fcacf6518">writeSuccess</a>() <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a><span class="keyword"> override </span>{</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    <span class="keywordflow">if</span> (socket_) {</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;      socket_-&gt;close();</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    }</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;  }</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;</div><div class="line"><a name="l01334"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLHandshakeBase.html#a8b7bbae76442714189d9d77c06569380"> 1334</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1SSLHandshakeBase.html#a8b7bbae76442714189d9d77c06569380">writeErr</a>(</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;      <span class="keywordtype">size_t</span> bytesWritten,</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;      <span class="keyword">const</span> <a class="code" href="classfolly_1_1AsyncSocketException.html">AsyncSocketException</a>&amp; ex) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#adc16b5b0a740c39084ea5c9e960e3063">ADD_FAILURE</a>() &lt;&lt; <span class="stringliteral">&quot;client write error after &quot;</span> &lt;&lt; bytesWritten</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot; bytes: &quot;</span> &lt;&lt; ex.what();</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;  }</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;};</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;</div><div class="line"><a name="l01342"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLHandshakeClient.html"> 1342</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1SSLHandshakeClient.html">SSLHandshakeClient</a> : <span class="keyword">public</span> <a class="code" href="classfolly_1_1SSLHandshakeBase.html">SSLHandshakeBase</a> {</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01344"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLHandshakeClient.html#a323539c9f0213a595a55b8b0e1773e3e"> 1344</a></span>&#160;  <a class="code" href="classfolly_1_1SSLHandshakeClient.html#a323539c9f0213a595a55b8b0e1773e3e">SSLHandshakeClient</a>(</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;      <a class="code" href="classfolly_1_1AsyncSSLSocket.html#a2a774a3b720af22f579b3d66d2d79712">AsyncSSLSocket::UniquePtr</a> <a class="code" href="namespacefolly_1_1netops.html#a5b95b96a5a185bb8cae1a4d28e0a6249">socket</a>,</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;      <span class="keywordtype">bool</span> preverifyResult,</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;      <span class="keywordtype">bool</span> verifyResult)</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;      : <a class="code" href="classfolly_1_1SSLHandshakeBase.html">SSLHandshakeBase</a>(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">move</a>(socket), preverifyResult, verifyResult) {</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;sslConn(<span class="keyword">this</span>, std::chrono::milliseconds::zero());</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;  }</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;};</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;</div><div class="line"><a name="l01353"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLHandshakeClientNoVerify.html"> 1353</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1SSLHandshakeClientNoVerify.html">SSLHandshakeClientNoVerify</a> : <span class="keyword">public</span> <a class="code" href="classfolly_1_1SSLHandshakeBase.html">SSLHandshakeBase</a> {</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01355"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLHandshakeClientNoVerify.html#ab5b9f3b55dcb67d29196864cf78aada3"> 1355</a></span>&#160;  <a class="code" href="classfolly_1_1SSLHandshakeClientNoVerify.html#ab5b9f3b55dcb67d29196864cf78aada3">SSLHandshakeClientNoVerify</a>(</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;      <a class="code" href="classfolly_1_1AsyncSSLSocket.html#a2a774a3b720af22f579b3d66d2d79712">AsyncSSLSocket::UniquePtr</a> <a class="code" href="namespacefolly_1_1netops.html#a5b95b96a5a185bb8cae1a4d28e0a6249">socket</a>,</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;      <span class="keywordtype">bool</span> preverifyResult,</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;      <span class="keywordtype">bool</span> verifyResult)</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;      : <a class="code" href="classfolly_1_1SSLHandshakeBase.html">SSLHandshakeBase</a>(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">move</a>(socket), preverifyResult, verifyResult) {</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;sslConn(</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;        <span class="keyword">this</span>,</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;        std::chrono::milliseconds::zero(),</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;        folly::SSLContext::SSLVerifyPeerEnum::NO_VERIFY);</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;  }</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;};</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;</div><div class="line"><a name="l01367"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLHandshakeClientDoVerify.html"> 1367</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1SSLHandshakeClientDoVerify.html">SSLHandshakeClientDoVerify</a> : <span class="keyword">public</span> <a class="code" href="classfolly_1_1SSLHandshakeBase.html">SSLHandshakeBase</a> {</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01369"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLHandshakeClientDoVerify.html#aee7f2c8b0e2cb8a9dccb3fbc76ca13b7"> 1369</a></span>&#160;  <a class="code" href="classfolly_1_1SSLHandshakeClientDoVerify.html#aee7f2c8b0e2cb8a9dccb3fbc76ca13b7">SSLHandshakeClientDoVerify</a>(</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;      <a class="code" href="classfolly_1_1AsyncSSLSocket.html#a2a774a3b720af22f579b3d66d2d79712">AsyncSSLSocket::UniquePtr</a> <a class="code" href="namespacefolly_1_1netops.html#a5b95b96a5a185bb8cae1a4d28e0a6249">socket</a>,</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;      <span class="keywordtype">bool</span> preverifyResult,</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;      <span class="keywordtype">bool</span> verifyResult)</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;      : <a class="code" href="classfolly_1_1SSLHandshakeBase.html">SSLHandshakeBase</a>(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">move</a>(socket), preverifyResult, verifyResult) {</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;sslConn(</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;        <span class="keyword">this</span>,</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;        std::chrono::milliseconds::zero(),</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;        folly::SSLContext::SSLVerifyPeerEnum::VERIFY);</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;  }</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;};</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;</div><div class="line"><a name="l01381"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLHandshakeServer.html"> 1381</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1SSLHandshakeServer.html">SSLHandshakeServer</a> : <span class="keyword">public</span> <a class="code" href="classfolly_1_1SSLHandshakeBase.html">SSLHandshakeBase</a> {</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01383"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLHandshakeServer.html#a8d6f6cdb9235e372997285d901f6d427"> 1383</a></span>&#160;  <a class="code" href="classfolly_1_1SSLHandshakeServer.html#a8d6f6cdb9235e372997285d901f6d427">SSLHandshakeServer</a>(</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;      <a class="code" href="classfolly_1_1AsyncSSLSocket.html#a2a774a3b720af22f579b3d66d2d79712">AsyncSSLSocket::UniquePtr</a> <a class="code" href="namespacefolly_1_1netops.html#a5b95b96a5a185bb8cae1a4d28e0a6249">socket</a>,</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;      <span class="keywordtype">bool</span> preverifyResult,</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;      <span class="keywordtype">bool</span> verifyResult)</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;      : <a class="code" href="classfolly_1_1SSLHandshakeBase.html">SSLHandshakeBase</a>(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">move</a>(socket), preverifyResult, verifyResult) {</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;sslAccept(<span class="keyword">this</span>, std::chrono::milliseconds::zero());</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;  }</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;};</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;</div><div class="line"><a name="l01392"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLHandshakeServerParseClientHello.html"> 1392</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1SSLHandshakeServerParseClientHello.html">SSLHandshakeServerParseClientHello</a> : <span class="keyword">public</span> <a class="code" href="classfolly_1_1SSLHandshakeBase.html">SSLHandshakeBase</a> {</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01394"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLHandshakeServerParseClientHello.html#aa1798f51a9a6e5593ae5294485f4a276"> 1394</a></span>&#160;  <a class="code" href="classfolly_1_1SSLHandshakeServerParseClientHello.html#aa1798f51a9a6e5593ae5294485f4a276">SSLHandshakeServerParseClientHello</a>(</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;      <a class="code" href="classfolly_1_1AsyncSSLSocket.html#a2a774a3b720af22f579b3d66d2d79712">AsyncSSLSocket::UniquePtr</a> <a class="code" href="namespacefolly_1_1netops.html#a5b95b96a5a185bb8cae1a4d28e0a6249">socket</a>,</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;      <span class="keywordtype">bool</span> preverifyResult,</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;      <span class="keywordtype">bool</span> verifyResult)</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;      : <a class="code" href="classfolly_1_1SSLHandshakeBase.html">SSLHandshakeBase</a>(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">move</a>(socket), preverifyResult, verifyResult) {</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;enableClientHelloParsing();</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;sslAccept(<span class="keyword">this</span>, std::chrono::milliseconds::zero());</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;  }</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;</div><div class="line"><a name="l01403"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLHandshakeServerParseClientHello.html#a402a68e1fa8584aec5b7079b664d949d"> 1403</a></span>&#160;  <a class="code" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a> clientCiphers_, <a class="code" href="classfolly_1_1SSLHandshakeServerParseClientHello.html#a402a68e1fa8584aec5b7079b664d949d">sharedCiphers_</a>, serverCiphers_, chosenCipher_;</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160; <span class="keyword">protected</span>:</div><div class="line"><a name="l01406"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLHandshakeServerParseClientHello.html#aa95fa5534a9efb18f199839425ab3588"> 1406</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1SSLHandshakeServerParseClientHello.html#aa95fa5534a9efb18f199839425ab3588">handshakeSuc</a>(<a class="code" href="classfolly_1_1AsyncSSLSocket.html">AsyncSSLSocket</a>* sock) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> <span class="keyword">override</span> {</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    handshakeSuccess_ = <span class="keyword">true</span>;</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    sock-&gt;getSSLSharedCiphers(sharedCiphers_);</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    sock-&gt;getSSLServerCiphers(serverCiphers_);</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    sock-&gt;getSSLClientCiphers(clientCiphers_);</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    chosenCipher_ = sock-&gt;getNegotiatedCipherName();</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;  }</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;};</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;</div><div class="line"><a name="l01415"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLHandshakeServerNoVerify.html"> 1415</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1SSLHandshakeServerNoVerify.html">SSLHandshakeServerNoVerify</a> : <span class="keyword">public</span> <a class="code" href="classfolly_1_1SSLHandshakeBase.html">SSLHandshakeBase</a> {</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01417"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLHandshakeServerNoVerify.html#a625f30132aa68587bd86f83979c230cd"> 1417</a></span>&#160;  <a class="code" href="classfolly_1_1SSLHandshakeServerNoVerify.html#a625f30132aa68587bd86f83979c230cd">SSLHandshakeServerNoVerify</a>(</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;      <a class="code" href="classfolly_1_1AsyncSSLSocket.html#a2a774a3b720af22f579b3d66d2d79712">AsyncSSLSocket::UniquePtr</a> <a class="code" href="namespacefolly_1_1netops.html#a5b95b96a5a185bb8cae1a4d28e0a6249">socket</a>,</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;      <span class="keywordtype">bool</span> preverifyResult,</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;      <span class="keywordtype">bool</span> verifyResult)</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;      : <a class="code" href="classfolly_1_1SSLHandshakeBase.html">SSLHandshakeBase</a>(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">move</a>(socket), preverifyResult, verifyResult) {</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;sslAccept(</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;        <span class="keyword">this</span>,</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;        std::chrono::milliseconds::zero(),</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;        folly::SSLContext::SSLVerifyPeerEnum::NO_VERIFY);</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;  }</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;};</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;</div><div class="line"><a name="l01429"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLHandshakeServerDoVerify.html"> 1429</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1SSLHandshakeServerDoVerify.html">SSLHandshakeServerDoVerify</a> : <span class="keyword">public</span> <a class="code" href="classfolly_1_1SSLHandshakeBase.html">SSLHandshakeBase</a> {</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01431"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLHandshakeServerDoVerify.html#afe170f2d30ae9c5617263b3608623b3f"> 1431</a></span>&#160;  <a class="code" href="classfolly_1_1SSLHandshakeServerDoVerify.html#afe170f2d30ae9c5617263b3608623b3f">SSLHandshakeServerDoVerify</a>(</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;      <a class="code" href="classfolly_1_1AsyncSSLSocket.html#a2a774a3b720af22f579b3d66d2d79712">AsyncSSLSocket::UniquePtr</a> <a class="code" href="namespacefolly_1_1netops.html#a5b95b96a5a185bb8cae1a4d28e0a6249">socket</a>,</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;      <span class="keywordtype">bool</span> preverifyResult,</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;      <span class="keywordtype">bool</span> verifyResult)</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;      : <a class="code" href="classfolly_1_1SSLHandshakeBase.html">SSLHandshakeBase</a>(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">move</a>(socket), preverifyResult, verifyResult) {</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>-&gt;sslAccept(</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;        <span class="keyword">this</span>,</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;        std::chrono::milliseconds::zero(),</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;        folly::SSLContext::SSLVerifyPeerEnum::VERIFY_REQ_CLIENT_CERT);</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;  }</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;};</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;</div><div class="line"><a name="l01443"></a><span class="lineno"><a class="line" href="classfolly_1_1EventBaseAborter.html"> 1443</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1EventBaseAborter.html">EventBaseAborter</a> : <span class="keyword">public</span> <a class="code" href="classfolly_1_1AsyncTimeout.html">AsyncTimeout</a> {</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01445"></a><span class="lineno"><a class="line" href="classfolly_1_1EventBaseAborter.html#af6fac04491964f7cee6f6370921fd095"> 1445</a></span>&#160;  <a class="code" href="classfolly_1_1EventBaseAborter.html#af6fac04491964f7cee6f6370921fd095">EventBaseAborter</a>(<a class="code" href="classfolly_1_1EventBase.html">EventBase</a>* eventBase, <a class="code" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> timeoutMS)</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;      : <a class="code" href="classfolly_1_1AsyncTimeout.html">AsyncTimeout</a>(eventBase, <a class="code" href="classfolly_1_1AsyncTimeout.html">AsyncTimeout</a>::<a class="code" href="classfolly_1_1TimeoutManager.html#a91f0d834602dcb7108b525c36fe1981f">InternalEnum</a>::INTERNAL),</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;        eventBase_(eventBase) {</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    scheduleTimeout(timeoutMS);</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;  }</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;</div><div class="line"><a name="l01451"></a><span class="lineno"><a class="line" href="classfolly_1_1EventBaseAborter.html#ab2d54af5a5c43343427350f893bf2dbf"> 1451</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1EventBaseAborter.html#ab2d54af5a5c43343427350f893bf2dbf">timeoutExpired</a>() <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a><span class="keyword"> override </span>{</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#a3e26a8d27caa386ed0ea7ce9d5b7c4ed">FAIL</a>() &lt;&lt; <span class="stringliteral">&quot;test timed out&quot;</span>;</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;    eventBase_-&gt;terminateLoopSoon();</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;  }</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l01457"></a><span class="lineno"><a class="line" href="classfolly_1_1EventBaseAborter.html#a2f4eec14d91efdaa9f8cfe0266680b3d"> 1457</a></span>&#160;  <a class="code" href="classfolly_1_1EventBase.html">EventBase</a>* <a class="code" href="classfolly_1_1EventBaseAborter.html#a2f4eec14d91efdaa9f8cfe0266680b3d">eventBase_</a>;</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;};</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;</div><div class="line"><a name="l01460"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLAcceptEvbRunner.html"> 1460</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1SSLAcceptEvbRunner.html">SSLAcceptEvbRunner</a> : <span class="keyword">public</span> <a class="code" href="classfolly_1_1SSLAcceptRunner.html">SSLAcceptRunner</a> {</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01462"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLAcceptEvbRunner.html#a057f8db174d72eeac0b8655e7cbb594e"> 1462</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classfolly_1_1SSLAcceptEvbRunner.html#a057f8db174d72eeac0b8655e7cbb594e">SSLAcceptEvbRunner</a>(<a class="code" href="classfolly_1_1EventBase.html">EventBase</a>* evb) : <a class="code" href="FizzClientCommand_8cpp.html#aea749658391ce3b552c30ae596416878">evb_</a>(evb) {}</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;  ~<a class="code" href="classfolly_1_1SSLAcceptEvbRunner.html">SSLAcceptEvbRunner</a>() <span class="keyword">override</span> = <span class="keywordflow">default</span>;</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;</div><div class="line"><a name="l01465"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLAcceptEvbRunner.html#a2d8d489b559acb70364355d09664cb9d"> 1465</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1SSLAcceptEvbRunner.html#a2d8d489b559acb70364355d09664cb9d">run</a>(<a class="code" href="classfolly_1_1Function.html">Function</a>&lt;<span class="keywordtype">int</span>()&gt; acceptFunc, <a class="code" href="classfolly_1_1Function.html">Function</a>&lt;<span class="keywordtype">void</span>(<span class="keywordtype">int</span>)&gt; finallyFunc)<span class="keyword"></span></div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;<span class="keyword">      const override </span>{</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    <a class="code" href="FizzClientCommand_8cpp.html#aea749658391ce3b552c30ae596416878">evb_</a>-&gt;runInLoop([acceptFunc = <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(acceptFunc),</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;                     finallyFunc = <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(finallyFunc)]() <span class="keyword">mutable</span> {</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;      finallyFunc(acceptFunc());</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    });</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;  }</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160; <span class="keyword">protected</span>:</div><div class="line"><a name="l01474"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLAcceptEvbRunner.html#a08c135b76b2eaf8a03c061fac74db20f"> 1474</a></span>&#160;  <a class="code" href="classfolly_1_1EventBase.html">EventBase</a>* <a class="code" href="classfolly_1_1SSLAcceptEvbRunner.html#a08c135b76b2eaf8a03c061fac74db20f">evb_</a>;</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;};</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;</div><div class="line"><a name="l01477"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLAcceptErrorRunner.html"> 1477</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1SSLAcceptErrorRunner.html">SSLAcceptErrorRunner</a> : <span class="keyword">public</span> <a class="code" href="classfolly_1_1SSLAcceptEvbRunner.html">SSLAcceptEvbRunner</a> {</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01479"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLAcceptErrorRunner.html#a4bee7ff5446859c77e72b3a067d4bab4"> 1479</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classfolly_1_1SSLAcceptErrorRunner.html#a4bee7ff5446859c77e72b3a067d4bab4">SSLAcceptErrorRunner</a>(<a class="code" href="classfolly_1_1EventBase.html">EventBase</a>* evb) : <a class="code" href="classfolly_1_1SSLAcceptEvbRunner.html">SSLAcceptEvbRunner</a>(evb) {}</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;  ~<a class="code" href="classfolly_1_1SSLAcceptErrorRunner.html">SSLAcceptErrorRunner</a>() <span class="keyword">override</span> = <span class="keywordflow">default</span>;</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;</div><div class="line"><a name="l01482"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLAcceptErrorRunner.html#a6db2bee6c79aada3a68959272bc1d7cf"> 1482</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1SSLAcceptErrorRunner.html#a6db2bee6c79aada3a68959272bc1d7cf">run</a>(<a class="code" href="classfolly_1_1Function.html">Function</a>&lt;<span class="keywordtype">int</span>()&gt; <span class="comment">/*acceptFunc*/</span>, <a class="code" href="classfolly_1_1Function.html">Function</a>&lt;<span class="keywordtype">void</span>(<span class="keywordtype">int</span>)&gt; finallyFunc)<span class="keyword"></span></div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;<span class="keyword">      const override </span>{</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    <a class="code" href="FizzClientCommand_8cpp.html#aea749658391ce3b552c30ae596416878">evb_</a>-&gt;runInLoop(</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;        [finallyFunc = <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(finallyFunc)]() <span class="keyword">mutable</span> { finallyFunc(-1); });</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;  }</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;};</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;</div><div class="line"><a name="l01489"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLAcceptCloseRunner.html"> 1489</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1SSLAcceptCloseRunner.html">SSLAcceptCloseRunner</a> : <span class="keyword">public</span> <a class="code" href="classfolly_1_1SSLAcceptEvbRunner.html">SSLAcceptEvbRunner</a> {</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01491"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLAcceptCloseRunner.html#a127f31b50581af5bcac3a44a127d7f39"> 1491</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classfolly_1_1SSLAcceptCloseRunner.html#a127f31b50581af5bcac3a44a127d7f39">SSLAcceptCloseRunner</a>(<a class="code" href="classfolly_1_1EventBase.html">EventBase</a>* evb, <a class="code" href="classfolly_1_1AsyncSSLSocket.html">folly::AsyncSSLSocket</a>* sock)</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;      : <a class="code" href="classfolly_1_1SSLAcceptEvbRunner.html">SSLAcceptEvbRunner</a>(evb), <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>(sock) {}</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;  ~<a class="code" href="classfolly_1_1SSLAcceptCloseRunner.html">SSLAcceptCloseRunner</a>() <span class="keyword">override</span> = <span class="keywordflow">default</span>;</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;</div><div class="line"><a name="l01495"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLAcceptCloseRunner.html#a63ab11cb75734d7c59626d737c4cf4aa"> 1495</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1SSLAcceptCloseRunner.html#a63ab11cb75734d7c59626d737c4cf4aa">run</a>(<a class="code" href="classfolly_1_1Function.html">Function</a>&lt;<span class="keywordtype">int</span>()&gt; acceptFunc, <a class="code" href="classfolly_1_1Function.html">Function</a>&lt;<span class="keywordtype">void</span>(<span class="keywordtype">int</span>)&gt; finallyFunc)<span class="keyword"></span></div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;<span class="keyword">      const override </span>{</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;    <a class="code" href="FizzClientCommand_8cpp.html#aea749658391ce3b552c30ae596416878">evb_</a>-&gt;runInLoop([acceptFunc = <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(acceptFunc),</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;                     finallyFunc = <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(finallyFunc),</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;                     sock = <a class="code" href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">socket_</a>]() <span class="keyword">mutable</span> {</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;      <span class="keyword">auto</span> ret = acceptFunc();</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;      sock-&gt;closeNow();</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;      finallyFunc(ret);</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    });</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;  }</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l01507"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLAcceptCloseRunner.html#a6d00486d8590f1b9fc442fe4e95a7c68"> 1507</a></span>&#160;  <a class="code" href="classfolly_1_1AsyncSSLSocket.html">folly::AsyncSSLSocket</a>* <a class="code" href="classfolly_1_1SSLAcceptCloseRunner.html#a6d00486d8590f1b9fc442fe4e95a7c68">socket_</a>;</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;};</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;</div><div class="line"><a name="l01510"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLAcceptDestroyRunner.html"> 1510</a></span>&#160;<span class="keyword">class </span><a class="code" href="classfolly_1_1SSLAcceptDestroyRunner.html">SSLAcceptDestroyRunner</a> : <span class="keyword">public</span> <a class="code" href="classfolly_1_1SSLAcceptEvbRunner.html">SSLAcceptEvbRunner</a> {</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01512"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLAcceptDestroyRunner.html#a97fc639424ff04816ab2ce956e59d700"> 1512</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classfolly_1_1SSLAcceptDestroyRunner.html#a97fc639424ff04816ab2ce956e59d700">SSLAcceptDestroyRunner</a>(<a class="code" href="classfolly_1_1EventBase.html">EventBase</a>* evb, <a class="code" href="classfolly_1_1SSLHandshakeBase.html">SSLHandshakeBase</a>* base)</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;      : <a class="code" href="classfolly_1_1SSLAcceptEvbRunner.html">SSLAcceptEvbRunner</a>(evb), sslBase_(base) {}</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;  ~<a class="code" href="classfolly_1_1SSLAcceptDestroyRunner.html">SSLAcceptDestroyRunner</a>() <span class="keyword">override</span> = <span class="keywordflow">default</span>;</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;</div><div class="line"><a name="l01516"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLAcceptDestroyRunner.html#a6fdf75a89228ac9cacea8a2183ad4ac0"> 1516</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classfolly_1_1SSLAcceptDestroyRunner.html#a6fdf75a89228ac9cacea8a2183ad4ac0">run</a>(<a class="code" href="classfolly_1_1Function.html">Function</a>&lt;<span class="keywordtype">int</span>()&gt; acceptFunc, <a class="code" href="classfolly_1_1Function.html">Function</a>&lt;<span class="keywordtype">void</span>(<span class="keywordtype">int</span>)&gt; finallyFunc)<span class="keyword"></span></div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;<span class="keyword">      const override </span>{</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;    <a class="code" href="FizzClientCommand_8cpp.html#aea749658391ce3b552c30ae596416878">evb_</a>-&gt;runInLoop([acceptFunc = <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(acceptFunc),</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;                     finallyFunc = <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(finallyFunc),</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;                     sslBase = sslBase_]() <span class="keyword">mutable</span> {</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;      <span class="keyword">auto</span> ret = acceptFunc();</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;      <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(*sslBase).moveSocket();</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;      finallyFunc(ret);</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    });</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;  }</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l01528"></a><span class="lineno"><a class="line" href="classfolly_1_1SSLAcceptDestroyRunner.html#adc018152799b4804b116f6b985ad5c9a"> 1528</a></span>&#160;  <a class="code" href="classfolly_1_1SSLHandshakeBase.html">SSLHandshakeBase</a>* <a class="code" href="classfolly_1_1SSLAcceptDestroyRunner.html#adc018152799b4804b116f6b985ad5c9a">sslBase_</a>;</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;};</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;} <span class="comment">// namespace folly</span></div><div class="ttc" id="Sockets_8h_html"><div class="ttname"><a href="Sockets_8h.html">Sockets.h</a></div></div>
<div class="ttc" id="classfolly_1_1HandshakeCallback_html_ad2a376ebfd1a77af248291e9e2de5513"><div class="ttname"><a href="classfolly_1_1HandshakeCallback.html#ad2a376ebfd1a77af248291e9e2de5513">folly::HandshakeCallback::setState</a></div><div class="ttdeci">void setState(StateEnum s)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00491">AsyncSSLSocketTest.h:491</a></div></div>
<div class="ttc" id="classfolly_1_1AsyncSSLSocket_html_a053436496e751b057e84ad2ac4295610af46c402a50b8a0ab41df847f3ff3b16f"><div class="ttname"><a href="classfolly_1_1AsyncSSLSocket.html#a053436496e751b057e84ad2ac4295610af46c402a50b8a0ab41df847f3ff3b16f">folly::AsyncSSLSocket::STATE_CACHE_LOOKUP</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocket_8h_source.html#l00432">AsyncSSLSocket.h:432</a></div></div>
<div class="ttc" id="classfolly_1_1TestSSLServer_html"><div class="ttname"><a href="classfolly_1_1TestSSLServer.html">folly::TestSSLServer</a></div><div class="ttdef"><b>Definition:</b> <a href="TestSSLServer_8h_source.html#l00101">TestSSLServer.h:101</a></div></div>
<div class="ttc" id="experimental_2test_2BitsBenchmark_8cpp_html_a25bccaee4203f6f142efc1f61e9b66c5"><div class="ttname"><a href="experimental_2test_2BitsBenchmark_8cpp.html#a25bccaee4203f6f142efc1f61e9b66c5">buffer</a></div><div class="ttdeci">std::vector&lt; uint8_t &gt; buffer(kBufferSize+16)</div></div>
<div class="ttc" id="classfolly_1_1AlpnClient_html_aa631eb334021f24f7cb0bcc8a200eea3"><div class="ttname"><a href="classfolly_1_1AlpnClient.html#aa631eb334021f24f7cb0bcc8a200eea3">folly::AlpnClient::writeSuccess</a></div><div class="ttdeci">void writeSuccess() noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00938">AsyncSSLSocketTest.h:938</a></div></div>
<div class="ttc" id="classfolly_1_1ConnectTimeoutCallback_html_a524fa18d3321e067386785332cfe4ad5"><div class="ttname"><a href="classfolly_1_1ConnectTimeoutCallback.html#a524fa18d3321e067386785332cfe4ad5">folly::ConnectTimeoutCallback::ConnectTimeoutCallback</a></div><div class="ttdeci">ConnectTimeoutCallback()</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00697">AsyncSSLSocketTest.h:697</a></div></div>
<div class="ttc" id="classfolly_1_1SSLHandshakeServerParseClientHello_html"><div class="ttname"><a href="classfolly_1_1SSLHandshakeServerParseClientHello.html">folly::SSLHandshakeServerParseClientHello</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01392">AsyncSSLSocketTest.h:1392</a></div></div>
<div class="ttc" id="classfolly_1_1SSLClient_html_aa46e036ec324e3cdf1e8f3a26521ccf0"><div class="ttname"><a href="classfolly_1_1SSLClient.html#aa46e036ec324e3cdf1e8f3a26521ccf0">folly::SSLClient::writeAfterConnectErrors_</a></div><div class="ttdeci">uint32_t writeAfterConnectErrors_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01134">AsyncSSLSocketTest.h:1134</a></div></div>
<div class="ttc" id="classfolly_1_1SendMsgDataCallback_html_ab98ed2150d8518420972c96d6c77e2ec"><div class="ttname"><a href="classfolly_1_1SendMsgDataCallback.html#ab98ed2150d8518420972c96d6c77e2ec">folly::SendMsgDataCallback::resetData</a></div><div class="ttdeci">void resetData(std::vector&lt; char &gt; &amp;&amp;data)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00104">AsyncSSLSocketTest.h:104</a></div></div>
<div class="ttc" id="namespacefolly_1_1detail_html_a87c55c2d12ad5b5dc9b7416bbed13720a90272dda245ae1fb3cf197e91a8689dc"><div class="ttname"><a href="namespacefolly_1_1detail.html#a87c55c2d12ad5b5dc9b7416bbed13720a90272dda245ae1fb3cf197e91a8689dc">folly::detail::spin_result::timeout</a></div></div>
<div class="ttc" id="classfolly_1_1SSLServerAcceptCallback_html_a69e6106e54b7ef50ba6e28cc38968328"><div class="ttname"><a href="classfolly_1_1SSLServerAcceptCallback.html#a69e6106e54b7ef50ba6e28cc38968328">folly::SSLServerAcceptCallback::timeout_</a></div><div class="ttdeci">uint32_t timeout_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00549">AsyncSSLSocketTest.h:549</a></div></div>
<div class="ttc" id="AsyncServerSocket_8h_html"><div class="ttname"><a href="AsyncServerSocket_8h.html">AsyncServerSocket.h</a></div></div>
<div class="ttc" id="classfolly_1_1ReadCallbackBase_html_abfeff3ee53d3b79f53720262749b619f"><div class="ttname"><a href="classfolly_1_1ReadCallbackBase.html#abfeff3ee53d3b79f53720262749b619f">folly::ReadCallbackBase::~ReadCallbackBase</a></div><div class="ttdeci">~ReadCallbackBase() override</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00282">AsyncSSLSocketTest.h:282</a></div></div>
<div class="ttc" id="classfolly_1_1AsyncSSLSocket_html"><div class="ttname"><a href="classfolly_1_1AsyncSSLSocket.html">folly::AsyncSSLSocket</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocket_8h_source.html#l00070">AsyncSSLSocket.h:70</a></div></div>
<div class="ttc" id="classfolly_1_1BlockingWriteClient_html"><div class="ttname"><a href="classfolly_1_1BlockingWriteClient.html">folly::BlockingWriteClient</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00790">AsyncSSLSocketTest.h:790</a></div></div>
<div class="ttc" id="classfolly_1_1BlockingWriteServer_html_a1306955161b5b850c7fc37e82a1a5036"><div class="ttname"><a href="classfolly_1_1BlockingWriteServer.html#a1306955161b5b850c7fc37e82a1a5036">folly::BlockingWriteServer::getReadBuffer</a></div><div class="ttdeci">void getReadBuffer(void **bufReturn, size_t *lenReturn) override</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00894">AsyncSSLSocketTest.h:894</a></div></div>
<div class="ttc" id="classfolly_1_1SSLClient_html_af0d510569c930fc2ff876143b9886c44"><div class="ttname"><a href="classfolly_1_1SSLClient.html#af0d510569c930fc2ff876143b9886c44">folly::SSLClient::getMiss</a></div><div class="ttdeci">uint32_t getMiss() const </div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01179">AsyncSSLSocketTest.h:1179</a></div></div>
<div class="ttc" id="classfolly_1_1SNIServer_html_aa897fbf4ef7400accc9f2705511b7bd9"><div class="ttname"><a href="classfolly_1_1SNIServer.html#aa897fbf4ef7400accc9f2705511b7bd9">folly::SNIServer::expectedServerName_</a></div><div class="ttdeci">std::string expectedServerName_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01113">AsyncSSLSocketTest.h:1113</a></div></div>
<div class="ttc" id="classfolly_1_1AlpnClient_html_aeb099903f22915071983c679ff0af9e3"><div class="ttname"><a href="classfolly_1_1AlpnClient.html#aeb099903f22915071983c679ff0af9e3">folly::AlpnClient::handshakeSuc</a></div><div class="ttdeci">void handshakeSuc(AsyncSSLSocket *) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00930">AsyncSSLSocketTest.h:930</a></div></div>
<div class="ttc" id="http__parser_8h_html_ab6b306ef981f5e21bb41ea2c2dbe8cd9"><div class="ttname"><a href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a></div><div class="ttdeci">flags</div><div class="ttdef"><b>Definition:</b> <a href="http__parser_8h_source.html#l00127">http_parser.h:127</a></div></div>
<div class="ttc" id="classfolly_1_1HandshakeCallback_html_a706182e3a30751ecd349409077cab07c"><div class="ttname"><a href="classfolly_1_1HandshakeCallback.html#a706182e3a30751ecd349409077cab07c">folly::HandshakeCallback::waitForHandshake</a></div><div class="ttdeci">void waitForHandshake()</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00520">AsyncSSLSocketTest.h:520</a></div></div>
<div class="ttc" id="folly_2folly_2experimental_2TestUtil_8h_html"><div class="ttname"><a href="folly_2folly_2experimental_2TestUtil_8h.html">TestUtil.h</a></div></div>
<div class="ttc" id="classfolly_1_1SSLClient_html_ade7cadfb6fe8eba3292d6e68bcd2fc95"><div class="ttname"><a href="classfolly_1_1SSLClient.html#ade7cadfb6fe8eba3292d6e68bcd2fc95">folly::SSLClient::writeSuccess</a></div><div class="ttdeci">void writeSuccess() noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01230">AsyncSSLSocketTest.h:1230</a></div></div>
<div class="ttc" id="classfolly_1_1AsyncSocketException_html_afc42bb0d3857d67851aaf2c8e963c51bac3bb35289872760b785f06aa019eef21"><div class="ttname"><a href="classfolly_1_1AsyncSocketException.html#afc42bb0d3857d67851aaf2c8e963c51bac3bb35289872760b785f06aa019eef21">folly::AsyncSocketException::INTERNAL_ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSocketException_8h_source.html#l00037">AsyncSocketException.h:37</a></div></div>
<div class="ttc" id="classfolly_1_1TestSSLAsyncCacheServer_html_a0ca3cc48ee0f273bca367dd66666aa7f"><div class="ttname"><a href="classfolly_1_1TestSSLAsyncCacheServer.html#a0ca3cc48ee0f273bca367dd66666aa7f">folly::TestSSLAsyncCacheServer::getAsyncCallbacks</a></div><div class="ttdeci">uint32_t getAsyncCallbacks() const </div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00732">AsyncSSLSocketTest.h:732</a></div></div>
<div class="ttc" id="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h_html_a3e26a8d27caa386ed0ea7ce9d5b7c4ed"><div class="ttname"><a href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#a3e26a8d27caa386ed0ea7ce9d5b7c4ed">FAIL</a></div><div class="ttdeci">#define FAIL()</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h_source.html#l01822">gtest.h:1822</a></div></div>
<div class="ttc" id="classfolly_1_1SSLClient_html_aaca22f2163bcdabeb9be9d3e0c8693a8"><div class="ttname"><a href="classfolly_1_1SSLClient.html#aaca22f2163bcdabeb9be9d3e0c8693a8">folly::SSLClient::getWriteAfterConnectErrors</a></div><div class="ttdeci">uint32_t getWriteAfterConnectErrors() const </div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01187">AsyncSSLSocketTest.h:1187</a></div></div>
<div class="ttc" id="namespacefolly_1_1netops_html_ac1c485d763067b5987724117affe463d"><div class="ttname"><a href="namespacefolly_1_1netops.html#ac1c485d763067b5987724117affe463d">folly::netops::connect</a></div><div class="ttdeci">int connect(NetworkSocket s, const sockaddr *name, socklen_t namelen)</div><div class="ttdef"><b>Definition:</b> <a href="NetOps_8cpp_source.html#l00094">NetOps.cpp:94</a></div></div>
<div class="ttc" id="classfolly_1_1SendMsgDataCallback_html_a870a80d1476736c50545b7d6cf5ffb9c"><div class="ttname"><a href="classfolly_1_1SendMsgDataCallback.html#a870a80d1476736c50545b7d6cf5ffb9c">folly::SendMsgDataCallback::getAncillaryDataSize</a></div><div class="ttdeci">uint32_t getAncillaryDataSize(folly::WriteFlags flags) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00117">AsyncSSLSocketTest.h:117</a></div></div>
<div class="ttc" id="test_8c_html_a2f5f4226fdae63a5d7d98b3cc56a685d"><div class="ttname"><a href="test_8c.html#a2f5f4226fdae63a5d7d98b3cc56a685d">requests</a></div><div class="ttdeci">const struct message requests[]</div><div class="ttdef"><b>Definition:</b> <a href="test_8c_source.html#l00080">test.c:80</a></div></div>
<div class="ttc" id="classfolly_1_1RenegotiatingServer_html_a56e9ecf50f5ad0f94b1a6ed57471b0aa"><div class="ttname"><a href="classfolly_1_1RenegotiatingServer.html#a56e9ecf50f5ad0f94b1a6ed57471b0aa">folly::RenegotiatingServer::readEOF</a></div><div class="ttdeci">void readEOF() noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01012">AsyncSSLSocketTest.h:1012</a></div></div>
<div class="ttc" id="classfolly_1_1RenegotiatingServer_html_a07fd1db58a86bfbc867269a67ec80a12"><div class="ttname"><a href="classfolly_1_1RenegotiatingServer.html#a07fd1db58a86bfbc867269a67ec80a12">folly::RenegotiatingServer::~RenegotiatingServer</a></div><div class="ttdeci">~RenegotiatingServer() override</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00994">AsyncSSLSocketTest.h:994</a></div></div>
<div class="ttc" id="classfolly_1_1SSLServerAsyncCacheAcceptCallback_html_a99ad15e8af39bed65da9799b854caeac"><div class="ttname"><a href="classfolly_1_1SSLServerAsyncCacheAcceptCallback.html#a99ad15e8af39bed65da9799b854caeac">folly::SSLServerAsyncCacheAcceptCallback::SSLServerAsyncCacheAcceptCallback</a></div><div class="ttdeci">SSLServerAsyncCacheAcceptCallback(HandshakeCallback *hcb, uint32_t timeout=0)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00614">AsyncSSLSocketTest.h:614</a></div></div>
<div class="ttc" id="classfolly_1_1TimeoutManager_html_a91f0d834602dcb7108b525c36fe1981f"><div class="ttname"><a href="classfolly_1_1TimeoutManager.html#a91f0d834602dcb7108b525c36fe1981f">folly::TimeoutManager::InternalEnum</a></div><div class="ttdeci">InternalEnum</div><div class="ttdef"><b>Definition:</b> <a href="TimeoutManager_8h_source.html#l00038">TimeoutManager.h:38</a></div></div>
<div class="ttc" id="classfolly_1_1HandshakeErrorCallback_html_a9fac1cb289ee1d3505697eec1ca03ce0"><div class="ttname"><a href="classfolly_1_1HandshakeErrorCallback.html#a9fac1cb289ee1d3505697eec1ca03ce0">folly::HandshakeErrorCallback::connAccepted</a></div><div class="ttdeci">void connAccepted(const std::shared_ptr&lt; folly::AsyncSSLSocket &gt; &amp;s) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00640">AsyncSSLSocketTest.h:640</a></div></div>
<div class="ttc" id="classfolly_1_1SSLServerAcceptCallbackDelay_html_ae871ea0cd8c517039db14c1ea501cb77"><div class="ttname"><a href="classfolly_1_1SSLServerAcceptCallbackDelay.html#ae871ea0cd8c517039db14c1ea501cb77">folly::SSLServerAcceptCallbackDelay::SSLServerAcceptCallbackDelay</a></div><div class="ttdeci">SSLServerAcceptCallbackDelay(HandshakeCallback *hcb)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00577">AsyncSSLSocketTest.h:577</a></div></div>
<div class="ttc" id="classfolly_1_1SSLClient_html_a3fa8b89d37c758c65357b118a89838fd"><div class="ttname"><a href="classfolly_1_1SSLClient.html#a3fa8b89d37c758c65357b118a89838fd">folly::SSLClient::SSLClient</a></div><div class="ttdeci">SSLClient(EventBase *eventBase, const folly::SocketAddress &amp;address, uint32_t requests, uint32_t timeout=0)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01145">AsyncSSLSocketTest.h:1145</a></div></div>
<div class="ttc" id="classfolly_1_1SSLHandshakeBase_html_abbf5928c81f5e6ffc39e33f650337720"><div class="ttname"><a href="classfolly_1_1SSLHandshakeBase.html#abbf5928c81f5e6ffc39e33f650337720">folly::SSLHandshakeBase::handshakeVerify_</a></div><div class="ttdeci">bool handshakeVerify_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01288">AsyncSSLSocketTest.h:1288</a></div></div>
<div class="ttc" id="classfolly_1_1ReadEOFCallback_html_a4bd57d822cacbcc27cbb89c2176310da"><div class="ttname"><a href="classfolly_1_1ReadEOFCallback.html#a4bd57d822cacbcc27cbb89c2176310da">folly::ReadEOFCallback::ReadEOFCallback</a></div><div class="ttdeci">ReadEOFCallback(WriteCallbackBase *wcb)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00402">AsyncSSLSocketTest.h:402</a></div></div>
<div class="ttc" id="classfolly_1_1SSLAcceptEvbRunner_html"><div class="ttname"><a href="classfolly_1_1SSLAcceptEvbRunner.html">folly::SSLAcceptEvbRunner</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01460">AsyncSSLSocketTest.h:1460</a></div></div>
<div class="ttc" id="classfolly_1_1ReadCallbackBase_html_ad00046d762d3556ac9aeabab4656e78c"><div class="ttname"><a href="classfolly_1_1ReadCallbackBase.html#ad00046d762d3556ac9aeabab4656e78c">folly::ReadCallbackBase::state</a></div><div class="ttdeci">StateEnum state</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00311">AsyncSSLSocketTest.h:311</a></div></div>
<div class="ttc" id="classfolly_1_1SNIServer_html_a990a4918cfb4f6452293df84dcdb0bdb"><div class="ttname"><a href="classfolly_1_1SNIServer.html#a990a4918cfb4f6452293df84dcdb0bdb">folly::SNIServer::handshakeSuc</a></div><div class="ttdeci">void handshakeSuc(AsyncSSLSocket *) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01081">AsyncSSLSocketTest.h:1081</a></div></div>
<div class="ttc" id="TestSSLServer_8h_html"><div class="ttname"><a href="TestSSLServer_8h.html">TestSSLServer.h</a></div></div>
<div class="ttc" id="classfolly_1_1SNIClient_html_acdbde1a9b1dc2146dbc74b837b513571"><div class="ttname"><a href="classfolly_1_1SNIClient.html#acdbde1a9b1dc2146dbc74b837b513571">folly::SNIClient::socket_</a></div><div class="ttdeci">AsyncSSLSocket::UniquePtr socket_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01058">AsyncSSLSocketTest.h:1058</a></div></div>
<div class="ttc" id="classfolly_1_1WriteCallbackBase_html_a8caf3021f3de0e08bebca9b3078caa98"><div class="ttname"><a href="classfolly_1_1WriteCallbackBase.html#a8caf3021f3de0e08bebca9b3078caa98">folly::WriteCallbackBase::setSocket</a></div><div class="ttdeci">virtual void setSocket(const std::shared_ptr&lt; AsyncSSLSocket &gt; &amp;socket)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00141">AsyncSSLSocketTest.h:141</a></div></div>
<div class="ttc" id="classfolly_1_1AlpnClient_html_ac112df86667f91d474d6195c0bb86461"><div class="ttname"><a href="classfolly_1_1AlpnClient.html#ac112df86667f91d474d6195c0bb86461">folly::AlpnClient::except</a></div><div class="ttdeci">folly::Optional&lt; AsyncSocketException &gt; except</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00927">AsyncSSLSocketTest.h:927</a></div></div>
<div class="ttc" id="classfolly_1_1ConnectTimeoutCallback_html_a4f15e9a4911c058faf5f498fbce3dc30"><div class="ttname"><a href="classfolly_1_1ConnectTimeoutCallback.html#a4f15e9a4911c058faf5f498fbce3dc30">folly::ConnectTimeoutCallback::connAccepted</a></div><div class="ttdeci">void connAccepted(const std::shared_ptr&lt; folly::AsyncSSLSocket &gt; &amp;s) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00704">AsyncSSLSocketTest.h:704</a></div></div>
<div class="ttc" id="classfolly_1_1SSLClient_html_a6ffa2b635827acddaf06148b409c2c3e"><div class="ttname"><a href="classfolly_1_1SSLClient.html#a6ffa2b635827acddaf06148b409c2c3e">folly::SSLClient::session_</a></div><div class="ttdeci">SSL_SESSION * session_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01123">AsyncSSLSocketTest.h:1123</a></div></div>
<div class="ttc" id="namespacefolly_1_1netops_html_a5046254be249f288deb01103b5db274d"><div class="ttname"><a href="namespacefolly_1_1netops.html#a5046254be249f288deb01103b5db274d">folly::netops::setsockopt</a></div><div class="ttdeci">int setsockopt(NetworkSocket s, int level, int optname, const void *optval, socklen_t optlen)</div><div class="ttdef"><b>Definition:</b> <a href="NetOps_8cpp_source.html#l00384">NetOps.cpp:384</a></div></div>
<div class="ttc" id="classfolly_1_1SSLAcceptCloseRunner_html"><div class="ttname"><a href="classfolly_1_1SSLAcceptCloseRunner.html">folly::SSLAcceptCloseRunner</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01489">AsyncSSLSocketTest.h:1489</a></div></div>
<div class="ttc" id="classfolly_1_1AsyncSSLSocket_html_a053436496e751b057e84ad2ac4295610a6902e1a7576fa7dd5f37269927fe4046"><div class="ttname"><a href="classfolly_1_1AsyncSSLSocket.html#a053436496e751b057e84ad2ac4295610a6902e1a7576fa7dd5f37269927fe4046">folly::AsyncSSLSocket::STATE_UNINIT</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocket_8h_source.html#l00429">AsyncSSLSocket.h:429</a></div></div>
<div class="ttc" id="namespacefolly_html_a9c778b1f044105a90bf750f66a8bfccfaf0c2992d243a18f353de5cf096946e92"><div class="ttname"><a href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfaf0c2992d243a18f353de5cf096946e92">folly::STATE_SUCCEEDED</a></div><div class="ttdef"><b>Definition:</b> <a href="TestSSLServer_8h_source.html#l00045">TestSSLServer.h:45</a></div></div>
<div class="ttc" id="namespacefolly_html_a9c778b1f044105a90bf750f66a8bfccfadadbb23aeef3680b6ca27538162b44a2"><div class="ttname"><a href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfadadbb23aeef3680b6ca27538162b44a2">folly::STATE_FAILED</a></div><div class="ttdef"><b>Definition:</b> <a href="TestSSLServer_8h_source.html#l00045">TestSSLServer.h:45</a></div></div>
<div class="ttc" id="classfolly_1_1HandshakeCallback_html_a736b25fbadca4892174a65767083b819"><div class="ttname"><a href="classfolly_1_1HandshakeCallback.html#a736b25fbadca4892174a65767083b819">folly::HandshakeCallback::mutex_</a></div><div class="ttdeci">std::mutex mutex_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00542">AsyncSSLSocketTest.h:542</a></div></div>
<div class="ttc" id="classfolly_1_1AsyncSSLSocket_1_1HandshakeCB_html"><div class="ttname"><a href="classfolly_1_1AsyncSSLSocket_1_1HandshakeCB.html">folly::AsyncSSLSocket::HandshakeCB</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocket_8h_source.html#l00075">AsyncSSLSocket.h:75</a></div></div>
<div class="ttc" id="classfolly_1_1AlpnClient_html_aa25abdfbee85eacbcf71d2c8a4442c9c"><div class="ttname"><a href="classfolly_1_1AlpnClient.html#aa25abdfbee85eacbcf71d2c8a4442c9c">folly::AlpnClient::AlpnClient</a></div><div class="ttdeci">AlpnClient(AsyncSSLSocket::UniquePtr socket)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00920">AsyncSSLSocketTest.h:920</a></div></div>
<div class="ttc" id="classfolly_1_1SNIClient_html"><div class="ttname"><a href="classfolly_1_1SNIClient.html">folly::SNIClient</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01029">AsyncSSLSocketTest.h:1029</a></div></div>
<div class="ttc" id="classfolly_1_1BlockingWriteServer_html_ad0ba7b1269968115a3a126c362975694"><div class="ttname"><a href="classfolly_1_1BlockingWriteServer.html#ad0ba7b1269968115a3a126c362975694">folly::BlockingWriteServer::readDataAvailable</a></div><div class="ttdeci">void readDataAvailable(size_t len) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00898">AsyncSSLSocketTest.h:898</a></div></div>
<div class="ttc" id="classfolly_1_1HandshakeErrorCallback_html"><div class="ttname"><a href="classfolly_1_1HandshakeErrorCallback.html">folly::HandshakeErrorCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00635">AsyncSSLSocketTest.h:635</a></div></div>
<div class="ttc" id="classfolly_1_1SSLClient_html"><div class="ttname"><a href="classfolly_1_1SSLClient.html">folly::SSLClient</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01117">AsyncSSLSocketTest.h:1117</a></div></div>
<div class="ttc" id="classfolly_1_1SSLHandshakeBase_html_aa906d9c82047e7f92f9dda9454562743"><div class="ttname"><a href="classfolly_1_1SSLHandshakeBase.html#aa906d9c82047e7f92f9dda9454562743">folly::SSLHandshakeBase::verifyResult_</a></div><div class="ttdeci">bool verifyResult_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01296">AsyncSSLSocketTest.h:1296</a></div></div>
<div class="ttc" id="classfolly_1_1SSLServerAcceptCallbackDelay_html_a24dee4c2d6bc7789ad18d34afb5be57e"><div class="ttname"><a href="classfolly_1_1SSLServerAcceptCallbackDelay.html#a24dee4c2d6bc7789ad18d34afb5be57e">folly::SSLServerAcceptCallbackDelay::connAccepted</a></div><div class="ttdeci">void connAccepted(const std::shared_ptr&lt; folly::AsyncSSLSocket &gt; &amp;s) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00580">AsyncSSLSocketTest.h:580</a></div></div>
<div class="ttc" id="classfolly_1_1ReadCallbackBase_html"><div class="ttname"><a href="classfolly_1_1ReadCallbackBase.html">folly::ReadCallbackBase</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00277">AsyncSSLSocketTest.h:277</a></div></div>
<div class="ttc" id="classfolly_1_1WriteCallbackBase_html_aa6c2200069ff5a20dc9b72812ba3744a"><div class="ttname"><a href="classfolly_1_1WriteCallbackBase.html#aa6c2200069ff5a20dc9b72812ba3744a">folly::WriteCallbackBase::state</a></div><div class="ttdeci">StateEnum state</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00166">AsyncSSLSocketTest.h:166</a></div></div>
<div class="ttc" id="classfolly_1_1ReadCallbackBase_html_a74430cd5b05dc10d7b3e98d7b9ef5f07"><div class="ttname"><a href="classfolly_1_1ReadCallbackBase.html#a74430cd5b05dc10d7b3e98d7b9ef5f07">folly::ReadCallbackBase::ReadCallbackBase</a></div><div class="ttdeci">ReadCallbackBase(WriteCallbackBase *wcb)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00279">AsyncSSLSocketTest.h:279</a></div></div>
<div class="ttc" id="classfolly_1_1BlockingWriteServer_html_af49319935b07ee56b1b2e2c54141510b"><div class="ttname"><a href="classfolly_1_1BlockingWriteServer.html#af49319935b07ee56b1b2e2c54141510b">folly::BlockingWriteServer::socket_</a></div><div class="ttdeci">AsyncSSLSocket::UniquePtr socket_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00911">AsyncSSLSocketTest.h:911</a></div></div>
<div class="ttc" id="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h_html_a4159019abda84f5366acdb7604ff220a"><div class="ttname"><a href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#a4159019abda84f5366acdb7604ff220a">EXPECT_EQ</a></div><div class="ttdeci">#define EXPECT_EQ(val1, val2)</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h_source.html#l01922">gtest.h:1922</a></div></div>
<div class="ttc" id="classfolly_1_1SSLHandshakeBase_html_ac152dcdee0a46e67c3c852d6f8418f24"><div class="ttname"><a href="classfolly_1_1SSLHandshakeBase.html#ac152dcdee0a46e67c3c852d6f8418f24">folly::SSLHandshakeBase::handshakeErr</a></div><div class="ttdeci">void handshakeErr(AsyncSSLSocket *, const AsyncSocketException &amp;ex) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01317">AsyncSSLSocketTest.h:1317</a></div></div>
<div class="ttc" id="classfolly_1_1WriteErrorCallback_html_a725a0578878b16ee6a537a723cc6a606"><div class="ttname"><a href="classfolly_1_1WriteErrorCallback.html#a725a0578878b16ee6a537a723cc6a606">folly::WriteErrorCallback::readErr</a></div><div class="ttdeci">void readErr(const AsyncSocketException &amp;ex) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00449">AsyncSSLSocketTest.h:449</a></div></div>
<div class="ttc" id="classfolly_1_1AlpnServer_html_a02536406d98db5bd0a985fbbc7104cff"><div class="ttname"><a href="classfolly_1_1AlpnServer.html#a02536406d98db5bd0a985fbbc7104cff">folly::AlpnServer::except</a></div><div class="ttdeci">folly::Optional&lt; AsyncSocketException &gt; except</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00961">AsyncSSLSocketTest.h:961</a></div></div>
<div class="ttc" id="classfolly_1_1WriteCallbackBase_html_a9bd1228d74f318e58d8f82b03d87447f"><div class="ttname"><a href="classfolly_1_1WriteCallbackBase.html#a9bd1228d74f318e58d8f82b03d87447f">folly::WriteCallbackBase::writeSuccess</a></div><div class="ttdeci">void writeSuccess() noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00148">AsyncSSLSocketTest.h:148</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="classfolly_1_1TimeoutManager_html_aa106673cca53bdd937e19feb047b939b"><div class="ttname"><a href="classfolly_1_1TimeoutManager.html#aa106673cca53bdd937e19feb047b939b">folly::TimeoutManager::tryRunAfterDelay</a></div><div class="ttdeci">bool tryRunAfterDelay(Func cob, uint32_t milliseconds, InternalEnum internal=InternalEnum::NORMAL)</div><div class="ttdef"><b>Definition:</b> <a href="TimeoutManager_8cpp_source.html#l00083">TimeoutManager.cpp:83</a></div></div>
<div class="ttc" id="classfolly_1_1SSLClient_html_a4cdc72d9c587b79e38b7e2356c7419b1"><div class="ttname"><a href="classfolly_1_1SSLClient.html#a4cdc72d9c587b79e38b7e2356c7419b1">folly::SSLClient::getErrors</a></div><div class="ttdeci">uint32_t getErrors() const </div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01183">AsyncSSLSocketTest.h:1183</a></div></div>
<div class="ttc" id="classfolly_1_1EmptyReadCallback_html"><div class="ttname"><a href="classfolly_1_1EmptyReadCallback.html">folly::EmptyReadCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00455">AsyncSSLSocketTest.h:455</a></div></div>
<div class="ttc" id="classfolly_1_1AsyncSSLSocket_html_a7be93ce1cc875b0f3c6156fd6a9614e0"><div class="ttname"><a href="classfolly_1_1AsyncSSLSocket.html#a7be93ce1cc875b0f3c6156fd6a9614e0">folly::AsyncSSLSocket::sslAccept</a></div><div class="ttdeci">virtual void sslAccept(HandshakeCB *callback, std::chrono::milliseconds timeout=std::chrono::milliseconds::zero(), const folly::SSLContext::SSLVerifyPeerEnum &amp;verifyPeer=folly::SSLContext::SSLVerifyPeerEnum::USE_CTX)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocket_8cpp_source.html#l00461">AsyncSSLSocket.cpp:461</a></div></div>
<div class="ttc" id="classfolly_1_1SSLAcceptCloseRunner_html_a63ab11cb75734d7c59626d737c4cf4aa"><div class="ttname"><a href="classfolly_1_1SSLAcceptCloseRunner.html#a63ab11cb75734d7c59626d737c4cf4aa">folly::SSLAcceptCloseRunner::run</a></div><div class="ttdeci">void run(Function&lt; int()&gt; acceptFunc, Function&lt; void(int)&gt; finallyFunc) const override</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01495">AsyncSSLSocketTest.h:1495</a></div></div>
<div class="ttc" id="classfolly_1_1WriteCallbackBase_html"><div class="ttname"><a href="classfolly_1_1WriteCallbackBase.html">folly::WriteCallbackBase</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00129">AsyncSSLSocketTest.h:129</a></div></div>
<div class="ttc" id="classfolly_1_1TestSSLAsyncCacheServer_html_a2dc6826e7d8128415caf4623ea5b85be"><div class="ttname"><a href="classfolly_1_1TestSSLAsyncCacheServer.html#a2dc6826e7d8128415caf4623ea5b85be">folly::TestSSLAsyncCacheServer::lookupDelay_</a></div><div class="ttdeci">static uint32_t lookupDelay_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00742">AsyncSSLSocketTest.h:742</a></div></div>
<div class="ttc" id="classfolly_1_1SSLClient_html_a07c64ff9855744278703439fe8683f54"><div class="ttname"><a href="classfolly_1_1SSLClient.html#a07c64ff9855744278703439fe8683f54">folly::SSLClient::getHit</a></div><div class="ttdeci">uint32_t getHit() const </div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01175">AsyncSSLSocketTest.h:1175</a></div></div>
<div class="ttc" id="classfolly_1_1ReadErrorCallback_html_ae911fc8a8b26586bb8652f8032eef12b"><div class="ttname"><a href="classfolly_1_1ReadErrorCallback.html#ae911fc8a8b26586bb8652f8032eef12b">folly::ReadErrorCallback::readDataAvailable</a></div><div class="ttdeci">void readDataAvailable(size_t) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00388">AsyncSSLSocketTest.h:388</a></div></div>
<div class="ttc" id="classfolly_1_1SendMsgParamsCallbackBase_html_a8e154532b255f41cb30d5c3a328810ec"><div class="ttname"><a href="classfolly_1_1SendMsgParamsCallbackBase.html#a8e154532b255f41cb30d5c3a328810ec">folly::SendMsgParamsCallbackBase::setSocket</a></div><div class="ttdeci">void setSocket(const std::shared_ptr&lt; AsyncSSLSocket &gt; &amp;socket)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00055">AsyncSSLSocketTest.h:55</a></div></div>
<div class="ttc" id="classfolly_1_1SSLServerAcceptCallback_html_af3efdd76059e8992ae045e7499c87d5d"><div class="ttname"><a href="classfolly_1_1SSLServerAcceptCallback.html#af3efdd76059e8992ae045e7499c87d5d">folly::SSLServerAcceptCallback::~SSLServerAcceptCallback</a></div><div class="ttdeci">~SSLServerAcceptCallback() override</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00554">AsyncSSLSocketTest.h:554</a></div></div>
<div class="ttc" id="namespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdoc">STL namespace. </div></div>
<div class="ttc" id="classfolly_1_1ReadCallback_1_1Buffer_html_a4590cfa3c378ffa8d5a0f59cb642174f"><div class="ttname"><a href="classfolly_1_1ReadCallback_1_1Buffer.html#a4590cfa3c378ffa8d5a0f59cb642174f">folly::ReadCallback::Buffer::Buffer</a></div><div class="ttdeci">Buffer()</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00353">AsyncSSLSocketTest.h:353</a></div></div>
<div class="ttc" id="classfolly_1_1SSLHandshakeBase_html_a7a07829ce4fbfde17247981fcacf6518"><div class="ttname"><a href="classfolly_1_1SSLHandshakeBase.html#a7a07829ce4fbfde17247981fcacf6518">folly::SSLHandshakeBase::writeSuccess</a></div><div class="ttdeci">void writeSuccess() noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01328">AsyncSSLSocketTest.h:1328</a></div></div>
<div class="ttc" id="classfolly_1_1SSLClient_html_af5416f8124df86c1e24cf522c0eb77e7"><div class="ttname"><a href="classfolly_1_1SSLClient.html#af5416f8124df86c1e24cf522c0eb77e7">folly::SSLClient::connectSuccess</a></div><div class="ttdeci">void connectSuccess() noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01204">AsyncSSLSocketTest.h:1204</a></div></div>
<div class="ttc" id="classfolly_1_1SendMsgParamsCallbackBase_html_a7cc8ec19a8bfea26e9f8d03c5cef4d75"><div class="ttname"><a href="classfolly_1_1SendMsgParamsCallbackBase.html#a7cc8ec19a8bfea26e9f8d03c5cef4d75">folly::SendMsgParamsCallbackBase::oldCallback_</a></div><div class="ttdeci">folly::AsyncSocket::SendMsgParamsCallback * oldCallback_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00076">AsyncSSLSocketTest.h:76</a></div></div>
<div class="ttc" id="classfolly_1_1AlpnServer_html_afd4cb47b3531b64b9113d59e2b4b381b"><div class="ttname"><a href="classfolly_1_1AlpnServer.html#afd4cb47b3531b64b9113d59e2b4b381b">folly::AlpnServer::socket_</a></div><div class="ttdeci">AsyncSSLSocket::UniquePtr socket_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00983">AsyncSSLSocketTest.h:983</a></div></div>
<div class="ttc" id="classfolly_1_1ReadCallback_1_1Buffer_html_abca880c45a4e49430552164d5bb287a8"><div class="ttname"><a href="classfolly_1_1ReadCallback_1_1Buffer.html#abca880c45a4e49430552164d5bb287a8">folly::ReadCallback::Buffer::free</a></div><div class="ttdeci">void free()</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00365">AsyncSSLSocketTest.h:365</a></div></div>
<div class="ttc" id="classfolly_1_1ReadCallback_html_ad90d901386e8fb5860ab1e8148b031ce"><div class="ttname"><a href="classfolly_1_1ReadCallback.html#ad90d901386e8fb5860ab1e8148b031ce">folly::ReadCallback::buffers</a></div><div class="ttdeci">std::vector&lt; Buffer &gt; buffers</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00374">AsyncSSLSocketTest.h:374</a></div></div>
<div class="ttc" id="classfolly_1_1AlpnServer_html_a6968cfea1a46fe6befd7dd223ed0a01e"><div class="ttname"><a href="classfolly_1_1AlpnServer.html#a6968cfea1a46fe6befd7dd223ed0a01e">folly::AlpnServer::AlpnServer</a></div><div class="ttdeci">AlpnServer(AsyncSSLSocket::UniquePtr socket)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00954">AsyncSSLSocketTest.h:954</a></div></div>
<div class="ttc" id="classfolly_1_1SNIServer_html_ad038d9f6fe0533ce57fca49d97eb6e8c"><div class="ttname"><a href="classfolly_1_1SNIServer.html#ad038d9f6fe0533ce57fca49d97eb6e8c">folly::SNIServer::serverNameCallback</a></div><div class="ttdeci">folly::SSLContext::ServerNameCallbackResult serverNameCallback(SSL *ssl)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01098">AsyncSSLSocketTest.h:1098</a></div></div>
<div class="ttc" id="classfolly_1_1BlockingWriteServer_html_a783848da9dfd599cb7c7ebf07298bbdd"><div class="ttname"><a href="classfolly_1_1BlockingWriteServer.html#a783848da9dfd599cb7c7ebf07298bbdd">folly::BlockingWriteServer::bytesRead_</a></div><div class="ttdeci">uint32_t bytesRead_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00913">AsyncSSLSocketTest.h:913</a></div></div>
<div class="ttc" id="classfolly_1_1SocketAddress_html"><div class="ttname"><a href="classfolly_1_1SocketAddress.html">folly::SocketAddress</a></div><div class="ttdef"><b>Definition:</b> <a href="SocketAddress_8h_source.html#l00032">SocketAddress.h:32</a></div></div>
<div class="ttc" id="classfolly_1_1SSLHandshakeServer_html_a8d6f6cdb9235e372997285d901f6d427"><div class="ttname"><a href="classfolly_1_1SSLHandshakeServer.html#a8d6f6cdb9235e372997285d901f6d427">folly::SSLHandshakeServer::SSLHandshakeServer</a></div><div class="ttdeci">SSLHandshakeServer(AsyncSSLSocket::UniquePtr socket, bool preverifyResult, bool verifyResult)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01383">AsyncSSLSocketTest.h:1383</a></div></div>
<div class="ttc" id="classfolly_1_1ReadEOFCallback_html_abce9eeeee332299d8a7e9cfc7e6654a4"><div class="ttname"><a href="classfolly_1_1ReadEOFCallback.html#abce9eeeee332299d8a7e9cfc7e6654a4">folly::ReadEOFCallback::readEOF</a></div><div class="ttdeci">void readEOF() noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00415">AsyncSSLSocketTest.h:415</a></div></div>
<div class="ttc" id="classfolly_1_1WriteCallbackBase_html_a97f3372179e2159e8e1961b3f29d2ce6"><div class="ttname"><a href="classfolly_1_1WriteCallbackBase.html#a97f3372179e2159e8e1961b3f29d2ce6">folly::WriteCallbackBase::WriteCallbackBase</a></div><div class="ttdeci">WriteCallbackBase(SendMsgParamsCallbackBase *mcb=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00131">AsyncSSLSocketTest.h:131</a></div></div>
<div class="ttc" id="classfolly_1_1TestSSLAsyncCacheServer_html_a7d8d49990dfd8c3f56057f72dcb327ec"><div class="ttname"><a href="classfolly_1_1TestSSLAsyncCacheServer.html#a7d8d49990dfd8c3f56057f72dcb327ec">folly::TestSSLAsyncCacheServer::TestSSLAsyncCacheServer</a></div><div class="ttdeci">TestSSLAsyncCacheServer(SSLServerAcceptCallbackBase *acb, int lookupDelay=100)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00716">AsyncSSLSocketTest.h:716</a></div></div>
<div class="ttc" id="classfolly_1_1SSLServerAcceptCallback_html_a42a694e2009ae16a659e56fa38c0302e"><div class="ttname"><a href="classfolly_1_1SSLServerAcceptCallback.html#a42a694e2009ae16a659e56fa38c0302e">folly::SSLServerAcceptCallback::connAccepted</a></div><div class="ttdeci">void connAccepted(const std::shared_ptr&lt; folly::AsyncSSLSocket &gt; &amp;s) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00562">AsyncSSLSocketTest.h:562</a></div></div>
<div class="ttc" id="namespacefolly_html_a2b3ae5dfc0b190327c565893bf585d6d"><div class="ttname"><a href="namespacefolly.html#a2b3ae5dfc0b190327c565893bf585d6d">folly::sslsocketpair</a></div><div class="ttdeci">void sslsocketpair(EventBase *eventBase, AsyncSSLSocket::UniquePtr *clientSock, AsyncSSLSocket::UniquePtr *serverSock)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8cpp_source.html#l00141">AsyncSSLSocketTest.cpp:141</a></div></div>
<div class="ttc" id="classfolly_1_1SNIServer_html_a70f628bf7ee4cab8ed906c67fa7cea96"><div class="ttname"><a href="classfolly_1_1SNIServer.html#a70f628bf7ee4cab8ed906c67fa7cea96">folly::SNIServer::sniCtx_</a></div><div class="ttdeci">std::shared_ptr&lt; folly::SSLContext &gt; sniCtx_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01112">AsyncSSLSocketTest.h:1112</a></div></div>
<div class="ttc" id="classfolly_1_1SSLHandshakeServerNoVerify_html"><div class="ttname"><a href="classfolly_1_1SSLHandshakeServerNoVerify.html">folly::SSLHandshakeServerNoVerify</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01415">AsyncSSLSocketTest.h:1415</a></div></div>
<div class="ttc" id="classfolly_1_1SSLHandshakeBase_html_a9e0680c4d7bb40db8ca955d47738c3dc"><div class="ttname"><a href="classfolly_1_1SSLHandshakeBase.html#a9e0680c4d7bb40db8ca955d47738c3dc">folly::SSLHandshakeBase::SSLHandshakeBase</a></div><div class="ttdeci">SSLHandshakeBase(AsyncSSLSocket::UniquePtr socket, bool preverifyResult, bool verifyResult)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01273">AsyncSSLSocketTest.h:1273</a></div></div>
<div class="ttc" id="AsyncTimeout_8h_html"><div class="ttname"><a href="AsyncTimeout_8h.html">AsyncTimeout.h</a></div></div>
<div class="ttc" id="classfolly_1_1SSLClient_html_a7dfa75cc89fbd0f1620da87c3473311d"><div class="ttname"><a href="classfolly_1_1SSLClient.html#a7dfa75cc89fbd0f1620da87c3473311d">folly::SSLClient::eventBase_</a></div><div class="ttdeci">EventBase * eventBase_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01121">AsyncSSLSocketTest.h:1121</a></div></div>
<div class="ttc" id="namespacefolly_html"><div class="ttname"><a href="namespacefolly.html">folly</a></div><div class="ttdoc">—— Concurrent Priority Queue Implementation —— </div><div class="ttdef"><b>Definition:</b> <a href="AtomicBitSet_8h_source.html#l00029">AtomicBitSet.h:29</a></div></div>
<div class="ttc" id="classfolly_1_1ReadCallbackBase_html_abcf472e62a8375b0a54f5bab37d0eaa9"><div class="ttname"><a href="classfolly_1_1ReadCallbackBase.html#abcf472e62a8375b0a54f5bab37d0eaa9">folly::ReadCallbackBase::setState</a></div><div class="ttdeci">void setState(StateEnum s)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00290">AsyncSSLSocketTest.h:290</a></div></div>
<div class="ttc" id="classfolly_1_1SSLHandshakeClient_html_a323539c9f0213a595a55b8b0e1773e3e"><div class="ttname"><a href="classfolly_1_1SSLHandshakeClient.html#a323539c9f0213a595a55b8b0e1773e3e">folly::SSLHandshakeClient::SSLHandshakeClient</a></div><div class="ttdeci">SSLHandshakeClient(AsyncSSLSocket::UniquePtr socket, bool preverifyResult, bool verifyResult)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01344">AsyncSSLSocketTest.h:1344</a></div></div>
<div class="ttc" id="classfolly_1_1EmptyReadCallback_html_aa9aaec080347ee847a64b289e5ef6bb1"><div class="ttname"><a href="classfolly_1_1EmptyReadCallback.html#aa9aaec080347ee847a64b289e5ef6bb1">folly::EmptyReadCallback::readEOF</a></div><div class="ttdeci">void readEOF() noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00467">AsyncSSLSocketTest.h:467</a></div></div>
<div class="ttc" id="classfolly_1_1ReadCallback_html_ac634498edc663fa61ca7b70b588285a0"><div class="ttname"><a href="classfolly_1_1ReadCallback.html#ac634498edc663fa61ca7b70b588285a0">folly::ReadCallback::readDataAvailable</a></div><div class="ttdeci">void readDataAvailable(size_t len) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00336">AsyncSSLSocketTest.h:336</a></div></div>
<div class="ttc" id="namespacefolly_1_1test_html_a3043e4b574a9b17828d0711c6589c302"><div class="ttname"><a href="namespacefolly_1_1test.html#a3043e4b574a9b17828d0711c6589c302">folly::test::msvcSuppressAbortOnInvalidParams</a></div><div class="ttdeci">auto msvcSuppressAbortOnInvalidParams(Func func) -&gt; decltype(func())</div><div class="ttdef"><b>Definition:</b> <a href="folly_2folly_2experimental_2TestUtil_8h_source.html#l00166">TestUtil.h:166</a></div></div>
<div class="ttc" id="classfolly_1_1HandshakeCallback_html_a9769a1d1e5ef6cd5de18333e5e325d65"><div class="ttname"><a href="classfolly_1_1HandshakeCallback.html#a9769a1d1e5ef6cd5de18333e5e325d65">folly::HandshakeCallback::HandshakeCallback</a></div><div class="ttdeci">HandshakeCallback(ReadCallbackBase *rcb, ExpectType expect=EXPECT_SUCCESS)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00482">AsyncSSLSocketTest.h:482</a></div></div>
<div class="ttc" id="classfolly_1_1HandshakeCallback_html_ae78d725e442fe64d6d770218e9389565"><div class="ttname"><a href="classfolly_1_1HandshakeCallback.html#ae78d725e442fe64d6d770218e9389565">folly::HandshakeCallback::expect_</a></div><div class="ttdeci">ExpectType expect_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00541">AsyncSSLSocketTest.h:541</a></div></div>
<div class="ttc" id="classfolly_1_1SSLAcceptDestroyRunner_html_adc018152799b4804b116f6b985ad5c9a"><div class="ttname"><a href="classfolly_1_1SSLAcceptDestroyRunner.html#adc018152799b4804b116f6b985ad5c9a">folly::SSLAcceptDestroyRunner::sslBase_</a></div><div class="ttdeci">SSLHandshakeBase * sslBase_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01528">AsyncSSLSocketTest.h:1528</a></div></div>
<div class="ttc" id="classfolly_1_1SSLClient_html_a0f587ddcf584694c6446426416b4fb2a"><div class="ttname"><a href="classfolly_1_1SSLClient.html#a0f587ddcf584694c6446426416b4fb2a">folly::SSLClient::getReadBuffer</a></div><div class="ttdeci">void getReadBuffer(void **bufReturn, size_t *lenReturn) override</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01243">AsyncSSLSocketTest.h:1243</a></div></div>
<div class="ttc" id="classfolly_1_1RenegotiatingServer_html_afd41d3e5040fe5c1c24558bc53ce4ec0"><div class="ttname"><a href="classfolly_1_1RenegotiatingServer.html#afd41d3e5040fe5c1c24558bc53ce4ec0">folly::RenegotiatingServer::readErr</a></div><div class="ttdeci">void readErr(const AsyncSocketException &amp;ex) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01013">AsyncSSLSocketTest.h:1013</a></div></div>
<div class="ttc" id="classfolly_1_1AlpnServer_html_ac3744eac7231ac49ee11aba1635b44d2"><div class="ttname"><a href="classfolly_1_1AlpnServer.html#ac3744eac7231ac49ee11aba1635b44d2">folly::AlpnServer::nextProtoLength</a></div><div class="ttdeci">unsigned nextProtoLength</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00960">AsyncSSLSocketTest.h:960</a></div></div>
<div class="ttc" id="classfolly_1_1SSLAcceptCloseRunner_html_a127f31b50581af5bcac3a44a127d7f39"><div class="ttname"><a href="classfolly_1_1SSLAcceptCloseRunner.html#a127f31b50581af5bcac3a44a127d7f39">folly::SSLAcceptCloseRunner::SSLAcceptCloseRunner</a></div><div class="ttdeci">SSLAcceptCloseRunner(EventBase *evb, folly::AsyncSSLSocket *sock)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01491">AsyncSSLSocketTest.h:1491</a></div></div>
<div class="ttc" id="namespacefolly_1_1pushmi_1_1____adl_html_af474005039e5722873e3ac4d0f93ae6b"><div class="ttname"><a href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">folly::pushmi::__adl::noexcept</a></div><div class="ttdeci">requires E e noexcept(noexcept(s.error(std::move(e))))</div><div class="ttdef"><b>Definition:</b> <a href="extension__points_8h_source.html#l00040">extension_points.h:40</a></div></div>
<div class="ttc" id="classfolly_1_1SSLAcceptEvbRunner_html_a08c135b76b2eaf8a03c061fac74db20f"><div class="ttname"><a href="classfolly_1_1SSLAcceptEvbRunner.html#a08c135b76b2eaf8a03c061fac74db20f">folly::SSLAcceptEvbRunner::evb_</a></div><div class="ttdeci">EventBase * evb_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01474">AsyncSSLSocketTest.h:1474</a></div></div>
<div class="ttc" id="classfolly_1_1SendMsgParamsCallbackBase_html"><div class="ttname"><a href="classfolly_1_1SendMsgParamsCallbackBase.html">folly::SendMsgParamsCallbackBase</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00050">AsyncSSLSocketTest.h:50</a></div></div>
<div class="ttc" id="classfolly_1_1ReadEOFCallback_html_a6ddcdc1796e31d277e82f969511d17e0"><div class="ttname"><a href="classfolly_1_1ReadEOFCallback.html#a6ddcdc1796e31d277e82f969511d17e0">folly::ReadEOFCallback::getReadBuffer</a></div><div class="ttdeci">void getReadBuffer(void **bufReturn, size_t *lenReturn) override</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00405">AsyncSSLSocketTest.h:405</a></div></div>
<div class="ttc" id="classfolly_1_1AlpnClient_html_ab94fe54a45609c273121c10256ce8a63"><div class="ttname"><a href="classfolly_1_1AlpnClient.html#ab94fe54a45609c273121c10256ce8a63">folly::AlpnClient::handshakeErr</a></div><div class="ttdeci">void handshakeErr(AsyncSSLSocket *, const AsyncSocketException &amp;ex) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00933">AsyncSSLSocketTest.h:933</a></div></div>
<div class="ttc" id="classfolly_1_1SSLServerAcceptCallbackBase_html"><div class="ttname"><a href="classfolly_1_1SSLServerAcceptCallbackBase.html">folly::SSLServerAcceptCallbackBase</a></div><div class="ttdef"><b>Definition:</b> <a href="TestSSLServer_8h_source.html#l00049">TestSSLServer.h:49</a></div></div>
<div class="ttc" id="classfolly_1_1SNIServer_html_a75e9e3f1dfebb560577766d745156645"><div class="ttname"><a href="classfolly_1_1SNIServer.html#a75e9e3f1dfebb560577766d745156645">folly::SNIServer::readEOF</a></div><div class="ttdeci">void readEOF() noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01091">AsyncSSLSocketTest.h:1091</a></div></div>
<div class="ttc" id="classfolly_1_1ReadEOFCallback_html_a97e9469eb128854c10b06d1fa2caddae"><div class="ttname"><a href="classfolly_1_1ReadEOFCallback.html#a97e9469eb128854c10b06d1fa2caddae">folly::ReadEOFCallback::readDataAvailable</a></div><div class="ttdeci">void readDataAvailable(size_t) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00410">AsyncSSLSocketTest.h:410</a></div></div>
<div class="ttc" id="classfolly_1_1SSLHandshakeClientDoVerify_html"><div class="ttname"><a href="classfolly_1_1SSLHandshakeClientDoVerify.html">folly::SSLHandshakeClientDoVerify</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01367">AsyncSSLSocketTest.h:1367</a></div></div>
<div class="ttc" id="classfolly_1_1ReadCallback_html_ab1d3cff3df4e267095c842252ab2a088"><div class="ttname"><a href="classfolly_1_1ReadCallback.html#ab1d3cff3df4e267095c842252ab2a088">folly::ReadCallback::currentBuffer</a></div><div class="ttdeci">Buffer currentBuffer</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00375">AsyncSSLSocketTest.h:375</a></div></div>
<div class="ttc" id="classfolly_1_1ReadErrorCallback_html_a2345a641772346cae9e91f75f360a7e8"><div class="ttname"><a href="classfolly_1_1ReadErrorCallback.html#a2345a641772346cae9e91f75f360a7e8">folly::ReadErrorCallback::readErr</a></div><div class="ttdeci">void readErr(const AsyncSocketException &amp;ex) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00393">AsyncSSLSocketTest.h:393</a></div></div>
<div class="ttc" id="http__parser_8c_html_ab979d9d4b4923f7c54d6caa6e1a61936"><div class="ttname"><a href="http__parser_8c.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a></div><div class="ttdeci">#define nullptr</div><div class="ttdef"><b>Definition:</b> <a href="http__parser_8c_source.html#l00041">http_parser.c:41</a></div></div>
<div class="ttc" id="classfolly_1_1ExpectWriteErrorCallback_html"><div class="ttname"><a href="classfolly_1_1ExpectWriteErrorCallback.html">folly::ExpectWriteErrorCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00172">AsyncSSLSocketTest.h:172</a></div></div>
<div class="ttc" id="FizzServerCommand_8cpp_html_ac133afd4e0fcd93244b4302e31a2b915"><div class="ttname"><a href="FizzServerCommand_8cpp.html#ac133afd4e0fcd93244b4302e31a2b915">ctx_</a></div><div class="ttdeci">std::shared_ptr&lt; FizzServerContext &gt; ctx_</div><div class="ttdef"><b>Definition:</b> <a href="FizzServerCommand_8cpp_source.html#l00073">FizzServerCommand.cpp:73</a></div></div>
<div class="ttc" id="classfolly_1_1AsyncTimeout_html"><div class="ttname"><a href="classfolly_1_1AsyncTimeout.html">folly::AsyncTimeout</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncTimeout_8h_source.html#l00036">AsyncTimeout.h:36</a></div></div>
<div class="ttc" id="classfolly_1_1HandshakeCallback_html_aac431584ef7ede7b4df21ed5e5a05582"><div class="ttname"><a href="classfolly_1_1HandshakeCallback.html#aac431584ef7ede7b4df21ed5e5a05582">folly::HandshakeCallback::cv_</a></div><div class="ttdeci">std::condition_variable cv_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00543">AsyncSSLSocketTest.h:543</a></div></div>
<div class="ttc" id="classfolly_1_1WriteCallbackBase_html_a0c4a941f21742b9ff7d5b8e0c4627c7f"><div class="ttname"><a href="classfolly_1_1WriteCallbackBase.html#a0c4a941f21742b9ff7d5b8e0c4627c7f">folly::WriteCallbackBase::writeErr</a></div><div class="ttdeci">void writeErr(size_t nBytesWritten, const AsyncSocketException &amp;ex) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00153">AsyncSSLSocketTest.h:153</a></div></div>
<div class="ttc" id="AtomicNotificationTest_8cpp_html_a5eb1f373ea25b73577b6e0205ad7b399"><div class="ttname"><a href="AtomicNotificationTest_8cpp.html#a5eb1f373ea25b73577b6e0205ad7b399">cv_</a></div><div class="ttdeci">std::condition_variable cv_</div><div class="ttdef"><b>Definition:</b> <a href="AtomicNotificationTest_8cpp_source.html#l00119">AtomicNotificationTest.cpp:119</a></div></div>
<div class="ttc" id="namespacefolly_html_a9c778b1f044105a90bf750f66a8bfccfa766f134f3f1ba953e740f40b0a06fc44"><div class="ttname"><a href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccfa766f134f3f1ba953e740f40b0a06fc44">folly::STATE_WAITING</a></div><div class="ttdef"><b>Definition:</b> <a href="TestSSLServer_8h_source.html#l00045">TestSSLServer.h:45</a></div></div>
<div class="ttc" id="classfolly_1_1HandshakeCallback_html_a57a02de3ac5e019c3232ef8068f8bc48"><div class="ttname"><a href="classfolly_1_1HandshakeCallback.html#a57a02de3ac5e019c3232ef8068f8bc48">folly::HandshakeCallback::errorString_</a></div><div class="ttdeci">std::string errorString_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00544">AsyncSSLSocketTest.h:544</a></div></div>
<div class="ttc" id="classfolly_1_1WriteCallbackBase_html_a846583a69212e4e60ef8dccd9a701baa"><div class="ttname"><a href="classfolly_1_1WriteCallbackBase.html#a846583a69212e4e60ef8dccd9a701baa">folly::WriteCallbackBase::~WriteCallbackBase</a></div><div class="ttdeci">~WriteCallbackBase() override</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00137">AsyncSSLSocketTest.h:137</a></div></div>
<div class="ttc" id="classfolly_1_1SSLClient_html_a12f4ccfe1a296bfc23b20ea4c823c76e"><div class="ttname"><a href="classfolly_1_1SSLClient.html#a12f4ccfe1a296bfc23b20ea4c823c76e">folly::SSLClient::~SSLClient</a></div><div class="ttdeci">~SSLClient() override</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01166">AsyncSSLSocketTest.h:1166</a></div></div>
<div class="ttc" id="classfolly_1_1AlpnServer_html_a83e2f1ae17368a11bd830ebe1f6ce392"><div class="ttname"><a href="classfolly_1_1AlpnServer.html#a83e2f1ae17368a11bd830ebe1f6ce392">folly::AlpnServer::handshakeErr</a></div><div class="ttdeci">void handshakeErr(AsyncSSLSocket *, const AsyncSocketException &amp;ex) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00967">AsyncSSLSocketTest.h:967</a></div></div>
<div class="ttc" id="classfolly_1_1SNIClient_html_a9576a215f1235b09d374b3ade8a2e991"><div class="ttname"><a href="classfolly_1_1SNIClient.html#a9576a215f1235b09d374b3ade8a2e991">folly::SNIClient::writeSuccess</a></div><div class="ttdeci">void writeSuccess() noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01048">AsyncSSLSocketTest.h:1048</a></div></div>
<div class="ttc" id="classfolly_1_1BlockingWriteClient_html_a1a51858c047aa3cb02385827fa55971e"><div class="ttname"><a href="classfolly_1_1BlockingWriteClient.html#a1a51858c047aa3cb02385827fa55971e">folly::BlockingWriteClient::writeErr</a></div><div class="ttdeci">void writeErr(size_t bytesWritten, const AsyncSocketException &amp;ex) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00834">AsyncSSLSocketTest.h:834</a></div></div>
<div class="ttc" id="classfolly_1_1HandshakeCallback_html_a4005c72c8c367aa33e0eb90b0a772e39"><div class="ttname"><a href="classfolly_1_1HandshakeCallback.html#a4005c72c8c367aa33e0eb90b0a772e39">folly::HandshakeCallback::setSocket</a></div><div class="ttdeci">void setSocket(const std::shared_ptr&lt; AsyncSSLSocket &gt; &amp;socket)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00487">AsyncSSLSocketTest.h:487</a></div></div>
<div class="ttc" id="classfolly_1_1SNIServer_html_a67f80ae2ed7414014dfcaecb6eda3ac1"><div class="ttname"><a href="classfolly_1_1SNIServer.html#a67f80ae2ed7414014dfcaecb6eda3ac1">folly::SNIServer::SNIServer</a></div><div class="ttdeci">SNIServer(AsyncSSLSocket::UniquePtr socket, const std::shared_ptr&lt; folly::SSLContext &gt; &amp;ctx, const std::shared_ptr&lt; folly::SSLContext &gt; &amp;sniCtx, const std::string &amp;expectedServerName)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01064">AsyncSSLSocketTest.h:1064</a></div></div>
<div class="ttc" id="StaticSingletonManager_8cpp_html_a281b5ec791338d4378e22ef44a51b4a1"><div class="ttname"><a href="StaticSingletonManager_8cpp.html#a281b5ec791338d4378e22ef44a51b4a1">mutex_</a></div><div class="ttdeci">std::mutex mutex_</div><div class="ttdef"><b>Definition:</b> <a href="StaticSingletonManager_8cpp_source.html#l00049">StaticSingletonManager.cpp:49</a></div></div>
<div class="ttc" id="classfolly_1_1SSLClient_html_a07a9272137bfe4404ca827b4bb2dd443"><div class="ttname"><a href="classfolly_1_1SSLClient.html#a07a9272137bfe4404ca827b4bb2dd443">folly::SSLClient::bytesRead_</a></div><div class="ttdeci">uint32_t bytesRead_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01130">AsyncSSLSocketTest.h:1130</a></div></div>
<div class="ttc" id="classfolly_1_1SSLHandshakeClientDoVerify_html_aee7f2c8b0e2cb8a9dccb3fbc76ca13b7"><div class="ttname"><a href="classfolly_1_1SSLHandshakeClientDoVerify.html#aee7f2c8b0e2cb8a9dccb3fbc76ca13b7">folly::SSLHandshakeClientDoVerify::SSLHandshakeClientDoVerify</a></div><div class="ttdeci">SSLHandshakeClientDoVerify(AsyncSSLSocket::UniquePtr socket, bool preverifyResult, bool verifyResult)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01369">AsyncSSLSocketTest.h:1369</a></div></div>
<div class="ttc" id="classfolly_1_1RenegotiatingServer_html_a9f6e3ecc2de713773b31598cc4e5267f"><div class="ttname"><a href="classfolly_1_1RenegotiatingServer.html#a9f6e3ecc2de713773b31598cc4e5267f">folly::RenegotiatingServer::readDataAvailable</a></div><div class="ttdeci">void readDataAvailable(size_t) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01011">AsyncSSLSocketTest.h:1011</a></div></div>
<div class="ttc" id="classfolly_1_1AlpnServer_html_a66f915187736e15991a944872361bae3"><div class="ttname"><a href="classfolly_1_1AlpnServer.html#a66f915187736e15991a944872361bae3">folly::AlpnServer::readErr</a></div><div class="ttdeci">void readErr(const AsyncSocketException &amp;ex) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00979">AsyncSSLSocketTest.h:979</a></div></div>
<div class="ttc" id="classfolly_1_1AsyncSocketException_html"><div class="ttname"><a href="classfolly_1_1AsyncSocketException.html">folly::AsyncSocketException</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSocketException_8h_source.html#l00026">AsyncSocketException.h:26</a></div></div>
<div class="ttc" id="GTest_8h_html"><div class="ttname"><a href="GTest_8h.html">GTest.h</a></div></div>
<div class="ttc" id="classfolly_1_1AsyncReader_1_1ReadCallback_html"><div class="ttname"><a href="classfolly_1_1AsyncReader_1_1ReadCallback.html">folly::AsyncReader::ReadCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncTransport_8h_source.html#l00484">AsyncTransport.h:484</a></div></div>
<div class="ttc" id="classfolly_1_1SSLContext_html"><div class="ttname"><a href="classfolly_1_1SSLContext.html">folly::SSLContext</a></div><div class="ttdef"><b>Definition:</b> <a href="SSLContext_8h_source.html#l00089">SSLContext.h:89</a></div></div>
<div class="ttc" id="classfolly_1_1SSLServerAsyncCacheAcceptCallback_html_a67bf1b6faf700246b72a8cb948676354"><div class="ttname"><a href="classfolly_1_1SSLServerAsyncCacheAcceptCallback.html#a67bf1b6faf700246b72a8cb948676354">folly::SSLServerAsyncCacheAcceptCallback::connAccepted</a></div><div class="ttdeci">void connAccepted(const std::shared_ptr&lt; folly::AsyncSSLSocket &gt; &amp;s) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00619">AsyncSSLSocketTest.h:619</a></div></div>
<div class="ttc" id="classfolly_1_1SendMsgParamsCallbackBase_html_a48e3bc623f715e58418cbd615c886dca"><div class="ttname"><a href="classfolly_1_1SendMsgParamsCallbackBase.html#a48e3bc623f715e58418cbd615c886dca">folly::SendMsgParamsCallbackBase::SendMsgParamsCallbackBase</a></div><div class="ttdeci">SendMsgParamsCallbackBase()</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00053">AsyncSSLSocketTest.h:53</a></div></div>
<div class="ttc" id="classfolly_1_1AsyncSSLSocket_html_a84af2512071e01ac0f894371fddbdf2b"><div class="ttname"><a href="classfolly_1_1AsyncSSLSocket.html#a84af2512071e01ac0f894371fddbdf2b">folly::AsyncSSLSocket::newSocket</a></div><div class="ttdeci">static std::shared_ptr&lt; AsyncSSLSocket &gt; newSocket(const std::shared_ptr&lt; folly::SSLContext &gt; &amp;ctx, EventBase *evb, int fd, bool server=true, bool deferSecurityNegotiation=false)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocket_8h_source.html#l00239">AsyncSSLSocket.h:239</a></div></div>
<div class="ttc" id="classfolly_1_1SSLHandshakeBase_html_af41db26babd14e5774dcc9c9f688cbf4"><div class="ttname"><a href="classfolly_1_1SSLHandshakeBase.html#af41db26babd14e5774dcc9c9f688cbf4">folly::SSLHandshakeBase::moveSocket</a></div><div class="ttdeci">AsyncSSLSocket::UniquePtr moveSocket()&amp;&amp;</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01284">AsyncSSLSocketTest.h:1284</a></div></div>
<div class="ttc" id="classfolly_1_1HandshakeCallback_html_a4674009ea7092d6539dc9c7f159fd572"><div class="ttname"><a href="classfolly_1_1HandshakeCallback.html#a4674009ea7092d6539dc9c7f159fd572">folly::HandshakeCallback::socket_</a></div><div class="ttdeci">std::shared_ptr&lt; AsyncSSLSocket &gt; socket_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00539">AsyncSSLSocketTest.h:539</a></div></div>
<div class="ttc" id="classfolly_1_1ReadErrorCallback_html_aa4a405323a863fc6fe88ce92ec08537b"><div class="ttname"><a href="classfolly_1_1ReadErrorCallback.html#aa4a405323a863fc6fe88ce92ec08537b">folly::ReadErrorCallback::ReadErrorCallback</a></div><div class="ttdeci">ReadErrorCallback(WriteCallbackBase *wcb)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00380">AsyncSSLSocketTest.h:380</a></div></div>
<div class="ttc" id="classfolly_1_1SSLHandshakeBase_html_a559e20911e6d1e7abb174bc6b2ab5db9"><div class="ttname"><a href="classfolly_1_1SSLHandshakeBase.html#a559e20911e6d1e7abb174bc6b2ab5db9">folly::SSLHandshakeBase::handshakeError_</a></div><div class="ttdeci">bool handshakeError_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01290">AsyncSSLSocketTest.h:1290</a></div></div>
<div class="ttc" id="classfolly_1_1SSLClient_html_afa1b94f407c3c61ee7c23f7b33f9b17b"><div class="ttname"><a href="classfolly_1_1SSLClient.html#afa1b94f407c3c61ee7c23f7b33f9b17b">folly::SSLClient::miss_</a></div><div class="ttdeci">uint32_t miss_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01132">AsyncSSLSocketTest.h:1132</a></div></div>
<div class="ttc" id="ExceptionWrapper_8h_html"><div class="ttname"><a href="ExceptionWrapper_8h.html">ExceptionWrapper.h</a></div></div>
<div class="ttc" id="classfolly_1_1HandshakeCallback_html_a614135880cdbfec6425a0417cb108cc1"><div class="ttname"><a href="classfolly_1_1HandshakeCallback.html#a614135880cdbfec6425a0417cb108cc1">folly::HandshakeCallback::~HandshakeCallback</a></div><div class="ttdeci">~HandshakeCallback() override</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00525">AsyncSSLSocketTest.h:525</a></div></div>
<div class="ttc" id="classfolly_1_1SNIServer_html_a9d380032e24b1482a5bda9dee8610aa7"><div class="ttname"><a href="classfolly_1_1SNIServer.html#a9d380032e24b1482a5bda9dee8610aa7">folly::SNIServer::serverNameMatch</a></div><div class="ttdeci">bool serverNameMatch</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01078">AsyncSSLSocketTest.h:1078</a></div></div>
<div class="ttc" id="classfolly_1_1SSLAcceptDestroyRunner_html"><div class="ttname"><a href="classfolly_1_1SSLAcceptDestroyRunner.html">folly::SSLAcceptDestroyRunner</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01510">AsyncSSLSocketTest.h:1510</a></div></div>
<div class="ttc" id="classfolly_1_1AsyncSSLSocket_html_a2a774a3b720af22f579b3d66d2d79712"><div class="ttname"><a href="classfolly_1_1AsyncSSLSocket.html#a2a774a3b720af22f579b3d66d2d79712">folly::AsyncSSLSocket::UniquePtr</a></div><div class="ttdeci">std::unique_ptr&lt; AsyncSSLSocket, Destructor &gt; UniquePtr</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocket_8h_source.html#l00072">AsyncSSLSocket.h:72</a></div></div>
<div class="ttc" id="classfolly_1_1SSLAcceptDestroyRunner_html_a97fc639424ff04816ab2ce956e59d700"><div class="ttname"><a href="classfolly_1_1SSLAcceptDestroyRunner.html#a97fc639424ff04816ab2ce956e59d700">folly::SSLAcceptDestroyRunner::SSLAcceptDestroyRunner</a></div><div class="ttdeci">SSLAcceptDestroyRunner(EventBase *evb, SSLHandshakeBase *base)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01512">AsyncSSLSocketTest.h:1512</a></div></div>
<div class="ttc" id="classfolly_1_1SSLHandshakeBase_html_a1d7209cca1d28cc8f793fda59c1f85ef"><div class="ttname"><a href="classfolly_1_1SSLHandshakeBase.html#a1d7209cca1d28cc8f793fda59c1f85ef">folly::SSLHandshakeBase::socket_</a></div><div class="ttdeci">AsyncSSLSocket::UniquePtr socket_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01294">AsyncSSLSocketTest.h:1294</a></div></div>
<div class="ttc" id="classfolly_1_1SSLHandshakeBase_html_a1554f29dd3bfb972562615e069408f06"><div class="ttname"><a href="classfolly_1_1SSLHandshakeBase.html#a1554f29dd3bfb972562615e069408f06">folly::SSLHandshakeBase::handshakeVer</a></div><div class="ttdeci">bool handshakeVer(AsyncSSLSocket *, bool preverifyOk, X509_STORE_CTX *) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01299">AsyncSSLSocketTest.h:1299</a></div></div>
<div class="ttc" id="classfolly_1_1ExpectWriteErrorCallback_html_a602277fd612fd592d6d32263813103f2"><div class="ttname"><a href="classfolly_1_1ExpectWriteErrorCallback.html#a602277fd612fd592d6d32263813103f2">folly::ExpectWriteErrorCallback::~ExpectWriteErrorCallback</a></div><div class="ttdeci">~ExpectWriteErrorCallback() override</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00177">AsyncSSLSocketTest.h:177</a></div></div>
<div class="ttc" id="classfolly_1_1HandshakeCallback_html_acf5da972cf7984e866914f563df6c83f"><div class="ttname"><a href="classfolly_1_1HandshakeCallback.html#acf5da972cf7984e866914f563df6c83f">folly::HandshakeCallback::handshakeSuc</a></div><div class="ttdeci">void handshakeSuc(AsyncSSLSocket *sock) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00497">AsyncSSLSocketTest.h:497</a></div></div>
<div class="ttc" id="classfolly_1_1SSLClient_html_aed587343d3b70fe5e44ddb9155cbdd3f"><div class="ttname"><a href="classfolly_1_1SSLClient.html#aed587343d3b70fe5e44ddb9155cbdd3f">folly::SSLClient::address_</a></div><div class="ttdeci">folly::SocketAddress address_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01126">AsyncSSLSocketTest.h:1126</a></div></div>
<div class="ttc" id="classfolly_1_1BlockingWriteServer_html_a810233038e04ad95706dfa766467d1c1"><div class="ttname"><a href="classfolly_1_1BlockingWriteServer.html#a810233038e04ad95706dfa766467d1c1">folly::BlockingWriteServer::buf_</a></div><div class="ttdeci">std::unique_ptr&lt; uint8_t[]&gt; buf_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00914">AsyncSSLSocketTest.h:914</a></div></div>
<div class="ttc" id="classfolly_1_1SSLAcceptEvbRunner_html_a2d8d489b559acb70364355d09664cb9d"><div class="ttname"><a href="classfolly_1_1SSLAcceptEvbRunner.html#a2d8d489b559acb70364355d09664cb9d">folly::SSLAcceptEvbRunner::run</a></div><div class="ttdeci">void run(Function&lt; int()&gt; acceptFunc, Function&lt; void(int)&gt; finallyFunc) const override</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01465">AsyncSSLSocketTest.h:1465</a></div></div>
<div class="ttc" id="classfolly_1_1SendMsgDataCallback_html_aabbfa096b08cc7bc55c0f6cecd386b6e"><div class="ttname"><a href="classfolly_1_1SendMsgDataCallback.html#aabbfa096b08cc7bc55c0f6cecd386b6e">folly::SendMsgDataCallback::SendMsgDataCallback</a></div><div class="ttdeci">SendMsgDataCallback()</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00102">AsyncSSLSocketTest.h:102</a></div></div>
<div class="ttc" id="classfolly_1_1ReadCallbackBase_html_a46ae490ed7216fd76deb3b32fd87f078"><div class="ttname"><a href="classfolly_1_1ReadCallbackBase.html#a46ae490ed7216fd76deb3b32fd87f078">folly::ReadCallbackBase::readErr</a></div><div class="ttdeci">void readErr(const AsyncSocketException &amp;ex) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00297">AsyncSSLSocketTest.h:297</a></div></div>
<div class="ttc" id="classfolly_1_1SendMsgParamsCallbackBase_html_ad9cbab22ab4644c06f319fb4df1a724f"><div class="ttname"><a href="classfolly_1_1SendMsgParamsCallbackBase.html#ad9cbab22ab4644c06f319fb4df1a724f">folly::SendMsgParamsCallbackBase::getAncillaryDataSize</a></div><div class="ttdeci">uint32_t getAncillaryDataSize(folly::WriteFlags flags) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00071">AsyncSSLSocketTest.h:71</a></div></div>
<div class="ttc" id="classfolly_1_1ReadCallback_1_1Buffer_html_a7769b37ece530819918f626197ce6786"><div class="ttname"><a href="classfolly_1_1ReadCallback_1_1Buffer.html#a7769b37ece530819918f626197ce6786">folly::ReadCallback::Buffer::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00356">AsyncSSLSocketTest.h:356</a></div></div>
<div class="ttc" id="classfolly_1_1SSLHandshakeServerParseClientHello_html_aa95fa5534a9efb18f199839425ab3588"><div class="ttname"><a href="classfolly_1_1SSLHandshakeServerParseClientHello.html#aa95fa5534a9efb18f199839425ab3588">folly::SSLHandshakeServerParseClientHello::handshakeSuc</a></div><div class="ttdeci">void handshakeSuc(AsyncSSLSocket *sock) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01406">AsyncSSLSocketTest.h:1406</a></div></div>
<div class="ttc" id="classfolly_1_1SSLServerAsyncCacheAcceptCallback_html"><div class="ttname"><a href="classfolly_1_1SSLServerAsyncCacheAcceptCallback.html">folly::SSLServerAsyncCacheAcceptCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00612">AsyncSSLSocketTest.h:612</a></div></div>
<div class="ttc" id="classfolly_1_1SSLAcceptErrorRunner_html"><div class="ttname"><a href="classfolly_1_1SSLAcceptErrorRunner.html">folly::SSLAcceptErrorRunner</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01477">AsyncSSLSocketTest.h:1477</a></div></div>
<div class="ttc" id="PThread_8h_html"><div class="ttname"><a href="PThread_8h.html">PThread.h</a></div></div>
<div class="ttc" id="FizzClientCommand_8cpp_html_aea749658391ce3b552c30ae596416878"><div class="ttname"><a href="FizzClientCommand_8cpp.html#aea749658391ce3b552c30ae596416878">evb_</a></div><div class="ttdeci">EventBase * evb_</div><div class="ttdef"><b>Definition:</b> <a href="FizzClientCommand_8cpp_source.html#l00201">FizzClientCommand.cpp:201</a></div></div>
<div class="ttc" id="LogLevel_8cpp_html_a7361901234703a521a82885405734c53"><div class="ttname"><a href="LogLevel_8cpp.html#a7361901234703a521a82885405734c53">min</a></div><div class="ttdeci">LogLevel min</div><div class="ttdef"><b>Definition:</b> <a href="LogLevel_8cpp_source.html#l00030">LogLevel.cpp:30</a></div></div>
<div class="ttc" id="classfolly_1_1HandshakeTimeoutCallback_html_a4c411ed2e3acf08f1566f38120699d74"><div class="ttname"><a href="classfolly_1_1HandshakeTimeoutCallback.html#a4c411ed2e3acf08f1566f38120699d74">folly::HandshakeTimeoutCallback::connAccepted</a></div><div class="ttdeci">void connAccepted(const std::shared_ptr&lt; folly::AsyncSSLSocket &gt; &amp;s) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00672">AsyncSSLSocketTest.h:672</a></div></div>
<div class="ttc" id="classfolly_1_1EventBaseAborter_html_a2f4eec14d91efdaa9f8cfe0266680b3d"><div class="ttname"><a href="classfolly_1_1EventBaseAborter.html#a2f4eec14d91efdaa9f8cfe0266680b3d">folly::EventBaseAborter::eventBase_</a></div><div class="ttdeci">EventBase * eventBase_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01457">AsyncSSLSocketTest.h:1457</a></div></div>
<div class="ttc" id="classfolly_1_1SNIServer_html_aa517cc18c9670ef9fbea7bfa4b18a942"><div class="ttname"><a href="classfolly_1_1SNIServer.html#aa517cc18c9670ef9fbea7bfa4b18a942">folly::SNIServer::handshakeErr</a></div><div class="ttdeci">void handshakeErr(AsyncSSLSocket *, const AsyncSocketException &amp;ex) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01082">AsyncSSLSocketTest.h:1082</a></div></div>
<div class="ttc" id="classfolly_1_1SSLHandshakeServerParseClientHello_html_aa1798f51a9a6e5593ae5294485f4a276"><div class="ttname"><a href="classfolly_1_1SSLHandshakeServerParseClientHello.html#aa1798f51a9a6e5593ae5294485f4a276">folly::SSLHandshakeServerParseClientHello::SSLHandshakeServerParseClientHello</a></div><div class="ttdeci">SSLHandshakeServerParseClientHello(AsyncSSLSocket::UniquePtr socket, bool preverifyResult, bool verifyResult)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01394">AsyncSSLSocketTest.h:1394</a></div></div>
<div class="ttc" id="classfolly_1_1SendMsgDataCallback_html_afedb210992562344fb2358a580d5a648"><div class="ttname"><a href="classfolly_1_1SendMsgDataCallback.html#afedb210992562344fb2358a580d5a648">folly::SendMsgDataCallback::ancillaryData_</a></div><div class="ttdeci">std::vector&lt; char &gt; ancillaryData_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00126">AsyncSSLSocketTest.h:126</a></div></div>
<div class="ttc" id="classfolly_1_1HandshakeTimeoutCallback_html_ac30ce23395d3892d0091f0af40649de5"><div class="ttname"><a href="classfolly_1_1HandshakeTimeoutCallback.html#ac30ce23395d3892d0091f0af40649de5">folly::HandshakeTimeoutCallback::HandshakeTimeoutCallback</a></div><div class="ttdeci">HandshakeTimeoutCallback(HandshakeCallback *hcb)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00669">AsyncSSLSocketTest.h:669</a></div></div>
<div class="ttc" id="classfolly_1_1BlockingWriteServer_html_a7e57563991379539b0b50981090e37f7"><div class="ttname"><a href="classfolly_1_1BlockingWriteServer.html#a7e57563991379539b0b50981090e37f7">folly::BlockingWriteServer::BlockingWriteServer</a></div><div class="ttdeci">BlockingWriteServer(AsyncSSLSocket::UniquePtr socket)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00851">AsyncSSLSocketTest.h:851</a></div></div>
<div class="ttc" id="classfolly_1_1BlockingWriteServer_html"><div class="ttname"><a href="classfolly_1_1BlockingWriteServer.html">folly::BlockingWriteServer</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00848">AsyncSSLSocketTest.h:848</a></div></div>
<div class="ttc" id="classfolly_1_1SNIClient_html_a9536c5134a7382fa80a257ad8f0dba03"><div class="ttname"><a href="classfolly_1_1SNIClient.html#a9536c5134a7382fa80a257ad8f0dba03">folly::SNIClient::serverNameMatch</a></div><div class="ttdeci">bool serverNameMatch</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01037">AsyncSSLSocketTest.h:1037</a></div></div>
<div class="ttc" id="classfolly_1_1EmptyReadCallback_html_a8e3aaf938810c9efcbab3724e765b190"><div class="ttname"><a href="classfolly_1_1EmptyReadCallback.html#a8e3aaf938810c9efcbab3724e765b190">folly::EmptyReadCallback::EmptyReadCallback</a></div><div class="ttdeci">EmptyReadCallback()</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00457">AsyncSSLSocketTest.h:457</a></div></div>
<div class="ttc" id="Unistd_8h_html"><div class="ttname"><a href="Unistd_8h.html">Unistd.h</a></div></div>
<div class="ttc" id="classfolly_1_1SSLServerAcceptCallback_html"><div class="ttname"><a href="classfolly_1_1SSLServerAcceptCallback.html">folly::SSLServerAcceptCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00547">AsyncSSLSocketTest.h:547</a></div></div>
<div class="ttc" id="SocketAddress_8h_html"><div class="ttname"><a href="SocketAddress_8h.html">SocketAddress.h</a></div></div>
<div class="ttc" id="classfolly_1_1AsyncSocket_1_1SendMsgParamsCallback_html_ace07b2da3c05a46f5c6462e696a90f1c"><div class="ttname"><a href="classfolly_1_1AsyncSocket_1_1SendMsgParamsCallback.html#ace07b2da3c05a46f5c6462e696a90f1c">folly::AsyncSocket::SendMsgParamsCallback::getAncillaryData</a></div><div class="ttdeci">virtual void getAncillaryData(folly::WriteFlags, void *) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSocket_8h_source.html#l00170">AsyncSocket.h:170</a></div></div>
<div class="ttc" id="classfolly_1_1AlpnServer_html_a4ee3c9dfd90bc33de8b284dc85ff905a"><div class="ttname"><a href="classfolly_1_1AlpnServer.html#a4ee3c9dfd90bc33de8b284dc85ff905a">folly::AlpnServer::nextProto</a></div><div class="ttdeci">const unsigned char * nextProto</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00959">AsyncSSLSocketTest.h:959</a></div></div>
<div class="ttc" id="classfolly_1_1SNIServer_html_acff964c5cfb17bf3c5d3345ccd349d92"><div class="ttname"><a href="classfolly_1_1SNIServer.html#acff964c5cfb17bf3c5d3345ccd349d92">folly::SNIServer::readDataAvailable</a></div><div class="ttdeci">void readDataAvailable(size_t) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01090">AsyncSSLSocketTest.h:1090</a></div></div>
<div class="ttc" id="classfolly_1_1BlockingWriteClient_html_ac93d4ea56bd0dfb3e71bcaa5d307ed80"><div class="ttname"><a href="classfolly_1_1BlockingWriteClient.html#ac93d4ea56bd0dfb3e71bcaa5d307ed80">folly::BlockingWriteClient::buf_</a></div><div class="ttdeci">std::unique_ptr&lt; uint8_t[]&gt; buf_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00844">AsyncSSLSocketTest.h:844</a></div></div>
<div class="ttc" id="classfolly_1_1EventBaseAborter_html_ab2d54af5a5c43343427350f893bf2dbf"><div class="ttname"><a href="classfolly_1_1EventBaseAborter.html#ab2d54af5a5c43343427350f893bf2dbf">folly::EventBaseAborter::timeoutExpired</a></div><div class="ttdeci">void timeoutExpired() noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01451">AsyncSSLSocketTest.h:1451</a></div></div>
<div class="ttc" id="classfolly_1_1Optional_html"><div class="ttname"><a href="classfolly_1_1Optional.html">folly::Optional</a></div><div class="ttdef"><b>Definition:</b> <a href="Optional_8h_source.html#l00071">Optional.h:71</a></div></div>
<div class="ttc" id="namespacefolly_html_a23ca01703d6715fb172f4188faa73dc9"><div class="ttname"><a href="namespacefolly.html#a23ca01703d6715fb172f4188faa73dc9">folly::data</a></div><div class="ttdeci">constexpr auto data(C &amp;c) -&gt; decltype(c.data())</div><div class="ttdef"><b>Definition:</b> <a href="Access_8h_source.html#l00071">Access.h:71</a></div></div>
<div class="ttc" id="classfolly_1_1SendMsgDataCallback_html_ab2a3f37509c726059fd90aabb4c66bee"><div class="ttname"><a href="classfolly_1_1SendMsgDataCallback.html#ab2a3f37509c726059fd90aabb4c66bee">folly::SendMsgDataCallback::getAncillaryData</a></div><div class="ttdeci">void getAncillaryData(folly::WriteFlags flags, void *data) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00108">AsyncSSLSocketTest.h:108</a></div></div>
<div class="ttc" id="classfolly_1_1SendMsgFlagsCallback_html_abd6f21a9bfdc0341b3710be9008e02e5"><div class="ttname"><a href="classfolly_1_1SendMsgFlagsCallback.html#abd6f21a9bfdc0341b3710be9008e02e5">folly::SendMsgFlagsCallback::getFlagsImpl</a></div><div class="ttdeci">int getFlagsImpl(folly::WriteFlags flags, int) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00087">AsyncSSLSocketTest.h:87</a></div></div>
<div class="ttc" id="classfolly_1_1AsyncSocket_1_1SendMsgParamsCallback_html"><div class="ttname"><a href="classfolly_1_1AsyncSocket_1_1SendMsgParamsCallback.html">folly::AsyncSocket::SendMsgParamsCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSocket_8h_source.html#l00143">AsyncSocket.h:143</a></div></div>
<div class="ttc" id="classfolly_1_1EventBaseAborter_html_af6fac04491964f7cee6f6370921fd095"><div class="ttname"><a href="classfolly_1_1EventBaseAborter.html#af6fac04491964f7cee6f6370921fd095">folly::EventBaseAborter::EventBaseAborter</a></div><div class="ttdeci">EventBaseAborter(EventBase *eventBase, uint32_t timeoutMS)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01445">AsyncSSLSocketTest.h:1445</a></div></div>
<div class="ttc" id="classfolly_1_1WriteErrorCallback_html_ae786ffe7b1c15045713757bc23aa9c2b"><div class="ttname"><a href="classfolly_1_1WriteErrorCallback.html#ae786ffe7b1c15045713757bc23aa9c2b">folly::WriteErrorCallback::WriteErrorCallback</a></div><div class="ttdeci">WriteErrorCallback(WriteCallbackBase *wcb)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00423">AsyncSSLSocketTest.h:423</a></div></div>
<div class="ttc" id="classfolly_1_1WriteErrorCallback_html"><div class="ttname"><a href="classfolly_1_1WriteErrorCallback.html">folly::WriteErrorCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00421">AsyncSSLSocketTest.h:421</a></div></div>
<div class="ttc" id="classfolly_1_1SSLHandshakeBase_html_a6335849b4f7ebc3501c18e320f4d992f"><div class="ttname"><a href="classfolly_1_1SSLHandshakeBase.html#a6335849b4f7ebc3501c18e320f4d992f">folly::SSLHandshakeBase::preverifyResult_</a></div><div class="ttdeci">bool preverifyResult_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01295">AsyncSSLSocketTest.h:1295</a></div></div>
<div class="ttc" id="classfolly_1_1ReadCallback_1_1Buffer_html_a6fcb8e5aa667708786f62e57da82a7d7"><div class="ttname"><a href="classfolly_1_1ReadCallback_1_1Buffer.html#a6fcb8e5aa667708786f62e57da82a7d7">folly::ReadCallback::Buffer::length</a></div><div class="ttdeci">size_t length</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00371">AsyncSSLSocketTest.h:371</a></div></div>
<div class="ttc" id="classfolly_1_1SSLClient_html_a071256b234200ef25fef39e86cc0f4a2"><div class="ttname"><a href="classfolly_1_1SSLClient.html#a071256b234200ef25fef39e86cc0f4a2">folly::SSLClient::readEOF</a></div><div class="ttdeci">void readEOF() noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01248">AsyncSSLSocketTest.h:1248</a></div></div>
<div class="ttc" id="classfolly_1_1HandshakeCallback_html_af21b3cc988b5e3faad2c9e7011c1eb32"><div class="ttname"><a href="classfolly_1_1HandshakeCallback.html#af21b3cc988b5e3faad2c9e7011c1eb32">folly::HandshakeCallback::rcb_</a></div><div class="ttdeci">ReadCallbackBase * rcb_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00540">AsyncSSLSocketTest.h:540</a></div></div>
<div class="ttc" id="classfolly_1_1TestSSLAsyncCacheServer_html_a3e1b15433fc8d018314ef910dd1e481d"><div class="ttname"><a href="classfolly_1_1TestSSLAsyncCacheServer.html#a3e1b15433fc8d018314ef910dd1e481d">folly::TestSSLAsyncCacheServer::getAsyncLookups</a></div><div class="ttdeci">uint32_t getAsyncLookups() const </div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00735">AsyncSSLSocketTest.h:735</a></div></div>
<div class="ttc" id="classfolly_1_1ExpectWriteErrorCallback_html_aa56c646de8951a58a41a85c5aa988154"><div class="ttname"><a href="classfolly_1_1ExpectWriteErrorCallback.html#aa56c646de8951a58a41a85c5aa988154">folly::ExpectWriteErrorCallback::ExpectWriteErrorCallback</a></div><div class="ttdeci">ExpectWriteErrorCallback(SendMsgParamsCallbackBase *mcb=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00174">AsyncSSLSocketTest.h:174</a></div></div>
<div class="ttc" id="classfolly_1_1SNIClient_html_a3198c7c84e63269f4a47ad949731e87b"><div class="ttname"><a href="classfolly_1_1SNIClient.html#a3198c7c84e63269f4a47ad949731e87b">folly::SNIClient::handshakeErr</a></div><div class="ttdeci">void handshakeErr(AsyncSSLSocket *, const AsyncSocketException &amp;ex) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01043">AsyncSSLSocketTest.h:1043</a></div></div>
<div class="ttc" id="namespacefolly_html_a925db14fdb0096fe395f6acc43118f4aa551b723eafd6a31d444fcb2f5920fbd3"><div class="ttname"><a href="namespacefolly.html#a925db14fdb0096fe395f6acc43118f4aa551b723eafd6a31d444fcb2f5920fbd3">folly::LogLevel::INFO</a></div></div>
<div class="ttc" id="classfolly_1_1BlockingWriteServer_html_a965e7690f20c9b6964d3d2e9d567a150"><div class="ttname"><a href="classfolly_1_1BlockingWriteServer.html#a965e7690f20c9b6964d3d2e9d567a150">folly::BlockingWriteServer::handshakeErr</a></div><div class="ttdeci">void handshakeErr(AsyncSSLSocket *, const AsyncSocketException &amp;ex) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00889">AsyncSSLSocketTest.h:889</a></div></div>
<div class="ttc" id="namespacefolly_html_a1c5ca040692d2c4c2b1b7ab9e517a61c"><div class="ttname"><a href="namespacefolly.html#a1c5ca040692d2c4c2b1b7ab9e517a61c">folly::lock</a></div><div class="ttdeci">auto lock(Synchronized&lt; D, M &gt; &amp;synchronized, Args &amp;&amp;...args)</div><div class="ttdef"><b>Definition:</b> <a href="Synchronized_8h_source.html#l01531">Synchronized.h:1531</a></div></div>
<div class="ttc" id="AsyncSSLSocket_8h_html"><div class="ttname"><a href="AsyncSSLSocket_8h.html">AsyncSSLSocket.h</a></div></div>
<div class="ttc" id="classfolly_1_1SNIClient_html_af72301dcf65e14040963d616fc769601"><div class="ttname"><a href="classfolly_1_1SNIClient.html#af72301dcf65e14040963d616fc769601">folly::SNIClient::SNIClient</a></div><div class="ttdeci">SNIClient(AsyncSSLSocket::UniquePtr socket)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01032">AsyncSSLSocketTest.h:1032</a></div></div>
<div class="ttc" id="namespacefolly_1_1netops_html_aa5fcb96753f19c95a1051c3840b50331"><div class="ttname"><a href="namespacefolly_1_1netops.html#aa5fcb96753f19c95a1051c3840b50331">folly::netops::getsockopt</a></div><div class="ttdeci">int getsockopt(NetworkSocket s, int level, int optname, void *optval, socklen_t *optlen)</div><div class="ttdef"><b>Definition:</b> <a href="NetOps_8cpp_source.html#l00112">NetOps.cpp:112</a></div></div>
<div class="ttc" id="classfolly_1_1SendMsgDataCallback_html"><div class="ttname"><a href="classfolly_1_1SendMsgDataCallback.html">folly::SendMsgDataCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00100">AsyncSSLSocketTest.h:100</a></div></div>
<div class="ttc" id="classfolly_1_1SendMsgParamsCallbackBase_html_a07ca604ee609a45f9573094329b7808c"><div class="ttname"><a href="classfolly_1_1SendMsgParamsCallbackBase.html#a07ca604ee609a45f9573094329b7808c">folly::SendMsgParamsCallbackBase::getFlagsImpl</a></div><div class="ttdeci">int getFlagsImpl(folly::WriteFlags flags, int) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00061">AsyncSSLSocketTest.h:61</a></div></div>
<div class="ttc" id="classfolly_1_1BlockingWriteServer_html_ab96bb584489f74c1ec24d8deb36e1f96"><div class="ttname"><a href="classfolly_1_1BlockingWriteServer.html#ab96bb584489f74c1ec24d8deb36e1f96">folly::BlockingWriteServer::bufSize_</a></div><div class="ttdeci">uint32_t bufSize_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00912">AsyncSSLSocketTest.h:912</a></div></div>
<div class="ttc" id="classfolly_1_1WriteErrorCallback_html_a3f6b1a97c777d163a93aaf73ff7a382e"><div class="ttname"><a href="classfolly_1_1WriteErrorCallback.html#a3f6b1a97c777d163a93aaf73ff7a382e">folly::WriteErrorCallback::readDataAvailable</a></div><div class="ttdeci">void readDataAvailable(size_t len) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00425">AsyncSSLSocketTest.h:425</a></div></div>
<div class="ttc" id="namespacefolly_html_a73fb3d55721638886918e9baefbbd3f2"><div class="ttname"><a href="namespacefolly.html#a73fb3d55721638886918e9baefbbd3f2">folly::getfds</a></div><div class="ttdeci">void getfds(int fds[2])</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8cpp_source.html#l00114">AsyncSSLSocketTest.cpp:114</a></div></div>
<div class="ttc" id="classfolly_1_1WriteCallbackBase_html_a4110d8a20f4f8fee0cbf22210551e7ec"><div class="ttname"><a href="classfolly_1_1WriteCallbackBase.html#a4110d8a20f4f8fee0cbf22210551e7ec">folly::WriteCallbackBase::socket_</a></div><div class="ttdeci">std::shared_ptr&lt; AsyncSSLSocket &gt; socket_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00165">AsyncSSLSocketTest.h:165</a></div></div>
<div class="ttc" id="classfolly_1_1AlpnServer_html"><div class="ttname"><a href="classfolly_1_1AlpnServer.html">folly::AlpnServer</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00951">AsyncSSLSocketTest.h:951</a></div></div>
<div class="ttc" id="classfolly_1_1AlpnClient_html_ad8eee885b2c0dedba1dce5d1e381e294"><div class="ttname"><a href="classfolly_1_1AlpnClient.html#ad8eee885b2c0dedba1dce5d1e381e294">folly::AlpnClient::socket_</a></div><div class="ttdeci">AsyncSSLSocket::UniquePtr socket_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00948">AsyncSSLSocketTest.h:948</a></div></div>
<div class="ttc" id="classfolly_1_1HandshakeCallback_html_aeaf562d67a8bcfff1f994a003755481a"><div class="ttname"><a href="classfolly_1_1HandshakeCallback.html#aeaf562d67a8bcfff1f994a003755481a">folly::HandshakeCallback::ExpectType</a></div><div class="ttdeci">ExpectType</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00480">AsyncSSLSocketTest.h:480</a></div></div>
<div class="ttc" id="classfolly_1_1AsyncSocket_html_a3746aa7c3ac4a0e4406daf1f9be51955"><div class="ttname"><a href="classfolly_1_1AsyncSocket.html#a3746aa7c3ac4a0e4406daf1f9be51955">folly::AsyncSocket::getFd</a></div><div class="ttdeci">virtual int getFd() const </div><div class="ttdef"><b>Definition:</b> <a href="AsyncSocket_8h_source.html#l00335">AsyncSocket.h:335</a></div></div>
<div class="ttc" id="classfolly_1_1AsyncSocket_1_1SendMsgParamsCallback_html_a91d9e2db3f8bccdd158336bdb9e5af45"><div class="ttname"><a href="classfolly_1_1AsyncSocket_1_1SendMsgParamsCallback.html#a91d9e2db3f8bccdd158336bdb9e5af45">folly::AsyncSocket::SendMsgParamsCallback::getFlags</a></div><div class="ttdeci">int getFlags(folly::WriteFlags flags, bool zeroCopyEnabled) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSocket_8h_source.html#l00156">AsyncSocket.h:156</a></div></div>
<div class="ttc" id="classfolly_1_1SNIServer_html_a5e71913a606ead17eb32996033f42c06"><div class="ttname"><a href="classfolly_1_1SNIServer.html#a5e71913a606ead17eb32996033f42c06">folly::SNIServer::socket_</a></div><div class="ttdeci">AsyncSSLSocket::UniquePtr socket_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01111">AsyncSSLSocketTest.h:1111</a></div></div>
<div class="ttc" id="classfolly_1_1BlockingWriteServer_html_af411d875895a7b202cbb4007baa31b2e"><div class="ttname"><a href="classfolly_1_1BlockingWriteServer.html#af411d875895a7b202cbb4007baa31b2e">folly::BlockingWriteServer::readEOF</a></div><div class="ttdeci">void readEOF() noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00904">AsyncSSLSocketTest.h:904</a></div></div>
<div class="ttc" id="classfolly_1_1SendMsgFlagsCallback_html_a5fa40da7de56818aa4eaae729ce42c8d"><div class="ttname"><a href="classfolly_1_1SendMsgFlagsCallback.html#a5fa40da7de56818aa4eaae729ce42c8d">folly::SendMsgFlagsCallback::SendMsgFlagsCallback</a></div><div class="ttdeci">SendMsgFlagsCallback()</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00081">AsyncSSLSocketTest.h:81</a></div></div>
<div class="ttc" id="classfolly_1_1SNIServer_html_a85742ad067271090e510c7bda0dd93f8"><div class="ttname"><a href="classfolly_1_1SNIServer.html#a85742ad067271090e510c7bda0dd93f8">folly::SNIServer::readErr</a></div><div class="ttdeci">void readErr(const AsyncSocketException &amp;ex) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01094">AsyncSSLSocketTest.h:1094</a></div></div>
<div class="ttc" id="namespacefolly_1_1netops_html_a5b95b96a5a185bb8cae1a4d28e0a6249"><div class="ttname"><a href="namespacefolly_1_1netops.html#a5b95b96a5a185bb8cae1a4d28e0a6249">folly::netops::socket</a></div><div class="ttdeci">NetworkSocket socket(int af, int type, int protocol)</div><div class="ttdef"><b>Definition:</b> <a href="NetOps_8cpp_source.html#l00412">NetOps.cpp:412</a></div></div>
<div class="ttc" id="classfolly_1_1ReadCallback_1_1Buffer_html_af6e633c636b8c5df0d3cbc2305c8de43"><div class="ttname"><a href="classfolly_1_1ReadCallback_1_1Buffer.html#af6e633c636b8c5df0d3cbc2305c8de43">folly::ReadCallback::Buffer::Buffer</a></div><div class="ttdeci">Buffer(char *buf, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00354">AsyncSSLSocketTest.h:354</a></div></div>
<div class="ttc" id="classfolly_1_1TestSSLAsyncCacheServer_html_afcea510ff7472d679072086d7ce764a3"><div class="ttname"><a href="classfolly_1_1TestSSLAsyncCacheServer.html#afcea510ff7472d679072086d7ce764a3">folly::TestSSLAsyncCacheServer::getSessionCallback</a></div><div class="ttdeci">static SSL_SESSION * getSessionCallback(SSL *ssl, unsigned char *, int, int *copyflag)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00744">AsyncSSLSocketTest.h:744</a></div></div>
<div class="ttc" id="classfolly_1_1BlockingWriteClient_html_a227866714f563ec34662a919fdb805d0"><div class="ttname"><a href="classfolly_1_1BlockingWriteClient.html#a227866714f563ec34662a919fdb805d0">folly::BlockingWriteClient::handshakeErr</a></div><div class="ttdeci">void handshakeErr(AsyncSSLSocket *, const AsyncSocketException &amp;ex) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00826">AsyncSSLSocketTest.h:826</a></div></div>
<div class="ttc" id="classfolly_1_1SSLClient_html_a11e6e99d2d2a9bfc5d7db60ea1340e7b"><div class="ttname"><a href="classfolly_1_1SSLClient.html#a11e6e99d2d2a9bfc5d7db60ea1340e7b">folly::SSLClient::sslSocket_</a></div><div class="ttdeci">std::shared_ptr&lt; AsyncSSLSocket &gt; sslSocket_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01122">AsyncSSLSocketTest.h:1122</a></div></div>
<div class="ttc" id="classfolly_1_1SSLHandshakeClientNoVerify_html"><div class="ttname"><a href="classfolly_1_1SSLHandshakeClientNoVerify.html">folly::SSLHandshakeClientNoVerify</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01353">AsyncSSLSocketTest.h:1353</a></div></div>
<div class="ttc" id="namespacefolly_1_1symbolizer_1_1test_html_ab8367e4d17e49c0ae1be08d55104740d"><div class="ttname"><a href="namespacefolly_1_1symbolizer_1_1test.html#ab8367e4d17e49c0ae1be08d55104740d">folly::symbolizer::test::expect</a></div><div class="ttdeci">void expect(LineReader &amp;lr, const char *expected)</div><div class="ttdef"><b>Definition:</b> <a href="LineReaderTest_8cpp_source.html#l00036">LineReaderTest.cpp:36</a></div></div>
<div class="ttc" id="classfolly_1_1WriteCallbackBase_html_a413189fd913b8f025d2e0df2f5672bda"><div class="ttname"><a href="classfolly_1_1WriteCallbackBase.html#a413189fd913b8f025d2e0df2f5672bda">folly::WriteCallbackBase::bytesWritten</a></div><div class="ttdeci">size_t bytesWritten</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00167">AsyncSSLSocketTest.h:167</a></div></div>
<div class="ttc" id="namespacebm_html_ad1f2831d164bf5bc0b15eae7b05fcd64"><div class="ttname"><a href="namespacebm.html#ad1f2831d164bf5bc0b15eae7b05fcd64">bm::free</a></div><div class="ttdeci">void free()</div><div class="ttdef"><b>Definition:</b> <a href="BitVectorCodingTest_8cpp_source.html#l00094">BitVectorCodingTest.cpp:94</a></div></div>
<div class="ttc" id="classfolly_1_1EventBaseAborter_html"><div class="ttname"><a href="classfolly_1_1EventBaseAborter.html">folly::EventBaseAborter</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01443">AsyncSSLSocketTest.h:1443</a></div></div>
<div class="ttc" id="classfolly_1_1AsyncSSLSocket_html_a053436496e751b057e84ad2ac4295610aff00a025c9eba3e2cb6f34312b9c0c59"><div class="ttname"><a href="classfolly_1_1AsyncSSLSocket.html#a053436496e751b057e84ad2ac4295610aff00a025c9eba3e2cb6f34312b9c0c59">folly::AsyncSSLSocket::STATE_ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocket_8h_source.html#l00441">AsyncSSLSocket.h:441</a></div></div>
<div class="ttc" id="classfolly_1_1SocketAddress_html_a1a4e0fd3eaadb0e91add02b9b32f3e2c"><div class="ttname"><a href="classfolly_1_1SocketAddress.html#a1a4e0fd3eaadb0e91add02b9b32f3e2c">folly::SocketAddress::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdef"><b>Definition:</b> <a href="SocketAddress_8h_source.html#l00155">SocketAddress.h:155</a></div></div>
<div class="ttc" id="classfolly_1_1SendMsgParamsCallbackBase_html_af02820b94eddc43686417528c84620be"><div class="ttname"><a href="classfolly_1_1SendMsgParamsCallbackBase.html#af02820b94eddc43686417528c84620be">folly::SendMsgParamsCallbackBase::getAncillaryData</a></div><div class="ttdeci">void getAncillaryData(folly::WriteFlags flags, void *data) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00067">AsyncSSLSocketTest.h:67</a></div></div>
<div class="ttc" id="classfolly_1_1SSLClient_html_ab78c5b78f2177763b14ea83adc980bcb"><div class="ttname"><a href="classfolly_1_1SSLClient.html#ab78c5b78f2177763b14ea83adc980bcb">folly::SSLClient::ctx_</a></div><div class="ttdeci">std::shared_ptr&lt; folly::SSLContext &gt; ctx_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01124">AsyncSSLSocketTest.h:1124</a></div></div>
<div class="ttc" id="classfolly_1_1SSLAcceptCloseRunner_html_a6d00486d8590f1b9fc442fe4e95a7c68"><div class="ttname"><a href="classfolly_1_1SSLAcceptCloseRunner.html#a6d00486d8590f1b9fc442fe4e95a7c68">folly::SSLAcceptCloseRunner::socket_</a></div><div class="ttdeci">folly::AsyncSSLSocket * socket_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01507">AsyncSSLSocketTest.h:1507</a></div></div>
<div class="ttc" id="classfolly_1_1SSLHandshakeServerDoVerify_html"><div class="ttname"><a href="classfolly_1_1SSLHandshakeServerDoVerify.html">folly::SSLHandshakeServerDoVerify</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01429">AsyncSSLSocketTest.h:1429</a></div></div>
<div class="ttc" id="classfolly_1_1ReadCallback_html_a1948a0e1f5e874c1b92c4fea52e1488d"><div class="ttname"><a href="classfolly_1_1ReadCallback.html#a1948a0e1f5e874c1b92c4fea52e1488d">folly::ReadCallback::getReadBuffer</a></div><div class="ttdeci">void getReadBuffer(void **bufReturn, size_t *lenReturn) override</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00328">AsyncSSLSocketTest.h:328</a></div></div>
<div class="ttc" id="classfolly_1_1ReadCallback_html"><div class="ttname"><a href="classfolly_1_1ReadCallback.html">folly::ReadCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00314">AsyncSSLSocketTest.h:314</a></div></div>
<div class="ttc" id="classfolly_1_1BlockingWriteServer_html_a6a4d501f9f3531dc9c1bc8d8f9704d5f"><div class="ttname"><a href="classfolly_1_1BlockingWriteServer.html#a6a4d501f9f3531dc9c1bc8d8f9704d5f">folly::BlockingWriteServer::handshakeSuc</a></div><div class="ttdeci">void handshakeSuc(AsyncSSLSocket *) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00884">AsyncSSLSocketTest.h:884</a></div></div>
<div class="ttc" id="classfolly_1_1SSLHandshakeServerDoVerify_html_afe170f2d30ae9c5617263b3608623b3f"><div class="ttname"><a href="classfolly_1_1SSLHandshakeServerDoVerify.html#afe170f2d30ae9c5617263b3608623b3f">folly::SSLHandshakeServerDoVerify::SSLHandshakeServerDoVerify</a></div><div class="ttdeci">SSLHandshakeServerDoVerify(AsyncSSLSocket::UniquePtr socket, bool preverifyResult, bool verifyResult)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01431">AsyncSSLSocketTest.h:1431</a></div></div>
<div class="ttc" id="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock__stress__test_8cc_html_afd9db40e3361ae09188795e8cbe19752"><div class="ttname"><a href="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock__stress__test_8cc.html#afd9db40e3361ae09188795e8cbe19752">count</a></div><div class="ttdeci">int * count</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock__stress__test_8cc_source.html#l00176">gmock_stress_test.cc:176</a></div></div>
<div class="ttc" id="classfolly_1_1AsyncWriter_1_1WriteCallback_html"><div class="ttname"><a href="classfolly_1_1AsyncWriter_1_1WriteCallback.html">folly::AsyncWriter::WriteCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncTransport_8h_source.html#l00619">AsyncTransport.h:619</a></div></div>
<div class="ttc" id="classfolly_1_1AlpnClient_html"><div class="ttname"><a href="classfolly_1_1AlpnClient.html">folly::AlpnClient</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00917">AsyncSSLSocketTest.h:917</a></div></div>
<div class="ttc" id="classfolly_1_1BlockingWriteServer_html_a7e142c4c3c414bd624ac37db032a96e3"><div class="ttname"><a href="classfolly_1_1BlockingWriteServer.html#a7e142c4c3c414bd624ac37db032a96e3">folly::BlockingWriteServer::readErr</a></div><div class="ttdeci">void readErr(const AsyncSocketException &amp;ex) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00907">AsyncSSLSocketTest.h:907</a></div></div>
<div class="ttc" id="namespacefolly_1_1netops_html_acab8f8655eda889b3c8175393102d2ca"><div class="ttname"><a href="namespacefolly_1_1netops.html#acab8f8655eda889b3c8175393102d2ca">folly::netops::recvmsg</a></div><div class="ttdeci">ssize_t recvmsg(NetworkSocket s, msghdr *message, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="NetOps_8cpp_source.html#l00268">NetOps.cpp:268</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html"><div class="ttname"><a href="classfolly_1_1EventBase.html">folly::EventBase</a></div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00128">EventBase.h:128</a></div></div>
<div class="ttc" id="classfolly_1_1RenegotiatingServer_html_af5136218d9c30bfee7bc561fad59bc40"><div class="ttname"><a href="classfolly_1_1RenegotiatingServer.html#af5136218d9c30bfee7bc561fad59bc40">folly::RenegotiatingServer::socket_</a></div><div class="ttdeci">AsyncSSLSocket::UniquePtr socket_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01023">AsyncSSLSocketTest.h:1023</a></div></div>
<div class="ttc" id="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h_html_ac33e7cdfb5d44a7a0f0ab552eb5c3c6a"><div class="ttname"><a href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a></div><div class="ttdeci">#define EXPECT_TRUE(condition)</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h_source.html#l01859">gtest.h:1859</a></div></div>
<div class="ttc" id="classfolly_1_1SSLHandshakeBase_html_abb953f39b93e79af190692fd3b755bb1"><div class="ttname"><a href="classfolly_1_1SSLHandshakeBase.html#abb953f39b93e79af190692fd3b755bb1">folly::SSLHandshakeBase::handshakeTime</a></div><div class="ttdeci">std::chrono::nanoseconds handshakeTime</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01291">AsyncSSLSocketTest.h:1291</a></div></div>
<div class="ttc" id="classfolly_1_1BlockingWriteServer_html_aee7507d36ea8a3310a08d13dc7c592ab"><div class="ttname"><a href="classfolly_1_1BlockingWriteServer.html#aee7507d36ea8a3310a08d13dc7c592ab">folly::BlockingWriteServer::checkBuffer</a></div><div class="ttdeci">void checkBuffer(struct iovec *iov, uint32_t count) const </div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00857">AsyncSSLSocketTest.h:857</a></div></div>
<div class="ttc" id="classfolly_1_1BlockingWriteClient_html_ae412e3479162357151f253a8a46251c4"><div class="ttname"><a href="classfolly_1_1BlockingWriteClient.html#ae412e3479162357151f253a8a46251c4">folly::BlockingWriteClient::getIovec</a></div><div class="ttdeci">struct iovec * getIovec() const </div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00815">AsyncSSLSocketTest.h:815</a></div></div>
<div class="ttc" id="classfolly_1_1BlockingWriteClient_html_a2f832290c40e1f3d02e5265d236b58ce"><div class="ttname"><a href="classfolly_1_1BlockingWriteClient.html#a2f832290c40e1f3d02e5265d236b58ce">folly::BlockingWriteClient::getIovecCount</a></div><div class="ttdeci">uint32_t getIovecCount() const </div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00818">AsyncSSLSocketTest.h:818</a></div></div>
<div class="ttc" id="classfolly_1_1SendMsgFlagsCallback_html_ab760541ee96b9c154ebe1579485b6822"><div class="ttname"><a href="classfolly_1_1SendMsgFlagsCallback.html#ab760541ee96b9c154ebe1579485b6822">folly::SendMsgFlagsCallback::resetFlags</a></div><div class="ttdeci">void resetFlags(int flags)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00083">AsyncSSLSocketTest.h:83</a></div></div>
<div class="ttc" id="classfolly_1_1Function_html"><div class="ttname"><a href="classfolly_1_1Function.html">folly::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00235">Function.h:235</a></div></div>
<div class="ttc" id="namespacefolly_html_a268239ef872bd1f7025dca14313f5fc7"><div class="ttname"><a href="namespacefolly.html#a268239ef872bd1f7025dca14313f5fc7">folly::WriteFlags</a></div><div class="ttdeci">WriteFlags</div><div class="ttdef"><b>Definition:</b> <a href="AsyncTransport_8h_source.html#l00047">AsyncTransport.h:47</a></div></div>
<div class="ttc" id="classfolly_1_1ReadCallback_1_1Buffer_html_a99e66f6c7d11d92a5baed55396493077"><div class="ttname"><a href="classfolly_1_1ReadCallback_1_1Buffer.html#a99e66f6c7d11d92a5baed55396493077">folly::ReadCallback::Buffer::allocate</a></div><div class="ttdeci">void allocate(size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00360">AsyncSSLSocketTest.h:360</a></div></div>
<div class="ttc" id="classfolly_1_1AlpnClient_html_a0930d8755718b06e98dea71bdd1bd33d"><div class="ttname"><a href="classfolly_1_1AlpnClient.html#a0930d8755718b06e98dea71bdd1bd33d">folly::AlpnClient::nextProtoLength</a></div><div class="ttdeci">unsigned nextProtoLength</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00926">AsyncSSLSocketTest.h:926</a></div></div>
<div class="ttc" id="AsyncSocket_8h_html"><div class="ttname"><a href="AsyncSocket_8h.html">AsyncSocket.h</a></div></div>
<div class="ttc" id="classfolly_1_1HandshakeCallback_html_af598e398cda7ffc7b0372e2749695b57"><div class="ttname"><a href="classfolly_1_1HandshakeCallback.html#af598e398cda7ffc7b0372e2749695b57">folly::HandshakeCallback::getSocket</a></div><div class="ttdeci">std::shared_ptr&lt; AsyncSSLSocket &gt; getSocket()</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00534">AsyncSSLSocketTest.h:534</a></div></div>
<div class="ttc" id="classfolly_1_1SNIClient_html_aceecc97ea41d91f1fc9a8206d64233fd"><div class="ttname"><a href="classfolly_1_1SNIClient.html#aceecc97ea41d91f1fc9a8206d64233fd">folly::SNIClient::writeErr</a></div><div class="ttdeci">void writeErr(size_t bytesWritten, const AsyncSocketException &amp;ex) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01051">AsyncSSLSocketTest.h:1051</a></div></div>
<div class="ttc" id="namespacefolly_html_a9c778b1f044105a90bf750f66a8bfccf"><div class="ttname"><a href="namespacefolly.html#a9c778b1f044105a90bf750f66a8bfccf">folly::StateEnum</a></div><div class="ttdeci">StateEnum</div><div class="ttdef"><b>Definition:</b> <a href="TestSSLServer_8h_source.html#l00045">TestSSLServer.h:45</a></div></div>
<div class="ttc" id="StaticSingletonManager_8cpp_html_a1be3f7fa26e4521098de5f1ec0f865f3"><div class="ttname"><a href="StaticSingletonManager_8cpp.html#a1be3f7fa26e4521098de5f1ec0f865f3">mutex</a></div><div class="ttdeci">std::mutex mutex</div><div class="ttdef"><b>Definition:</b> <a href="StaticSingletonManager_8cpp_source.html#l00039">StaticSingletonManager.cpp:39</a></div></div>
<div class="ttc" id="classfolly_1_1ReadCallbackBase_html_afc1e82dfcfc8ff1581f246b5f5456fab"><div class="ttname"><a href="classfolly_1_1ReadCallbackBase.html#afc1e82dfcfc8ff1581f246b5f5456fab">folly::ReadCallbackBase::wcb_</a></div><div class="ttdeci">WriteCallbackBase * wcb_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00310">AsyncSSLSocketTest.h:310</a></div></div>
<div class="ttc" id="Conv_8cpp_html_ae1adbce218e7a9d09164012443191d24"><div class="ttname"><a href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">string</a></div><div class="ttdeci">const char * string</div><div class="ttdef"><b>Definition:</b> <a href="Conv_8cpp_source.html#l00212">Conv.cpp:212</a></div></div>
<div class="ttc" id="classfolly_1_1SSLServerAcceptCallbackDelay_html"><div class="ttname"><a href="classfolly_1_1SSLServerAcceptCallbackDelay.html">folly::SSLServerAcceptCallbackDelay</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00575">AsyncSSLSocketTest.h:575</a></div></div>
<div class="ttc" id="classfolly_1_1AlpnServer_html_a46a8fc3e6d40ca0349f98e68521c6cf2"><div class="ttname"><a href="classfolly_1_1AlpnServer.html#a46a8fc3e6d40ca0349f98e68521c6cf2">folly::AlpnServer::readEOF</a></div><div class="ttdeci">void readEOF() noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00976">AsyncSSLSocketTest.h:976</a></div></div>
<div class="ttc" id="namespacefolly_1_1netops_html_a169c47f12a823de180fb9e9de51e951f"><div class="ttname"><a href="namespacefolly_1_1netops.html#a169c47f12a823de180fb9e9de51e951f">folly::netops::bind</a></div><div class="ttdeci">int bind(NetworkSocket s, const sockaddr *name, socklen_t namelen)</div><div class="ttdef"><b>Definition:</b> <a href="NetOps_8cpp_source.html#l00076">NetOps.cpp:76</a></div></div>
<div class="ttc" id="classfolly_1_1SNIServer_html"><div class="ttname"><a href="classfolly_1_1SNIServer.html">folly::SNIServer</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01061">AsyncSSLSocketTest.h:1061</a></div></div>
<div class="ttc" id="composition__2_8cpp_html_afb3bcbfaaa4d6a3b4ab3e3c4c2cbcfbe"><div class="ttname"><a href="composition__2_8cpp.html#afb3bcbfaaa4d6a3b4ab3e3c4c2cbcfbe">g</a></div><div class="ttdeci">g_t g(f_t)</div><div class="ttdef"><b>Definition:</b> <a href="composition__2_8cpp_source.html#l00034">composition_2.cpp:34</a></div></div>
<div class="ttc" id="classfolly_1_1SSLClient_html_a7db295edd00e0f7db592ddc63c8b8b80"><div class="ttname"><a href="classfolly_1_1SSLClient.html#a7db295edd00e0f7db592ddc63c8b8b80">folly::SSLClient::readErr</a></div><div class="ttdeci">void readErr(const AsyncSocketException &amp;ex) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01252">AsyncSSLSocketTest.h:1252</a></div></div>
<div class="ttc" id="classfolly_1_1ConnectTimeoutCallback_html"><div class="ttname"><a href="classfolly_1_1ConnectTimeoutCallback.html">folly::ConnectTimeoutCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00695">AsyncSSLSocketTest.h:695</a></div></div>
<div class="ttc" id="classfolly_1_1AsyncSSLSocket_html_ab1b4635f04d2c777fb43db34078c4a56"><div class="ttname"><a href="classfolly_1_1AsyncSSLSocket.html#ab1b4635f04d2c777fb43db34078c4a56">folly::AsyncSSLSocket::restartSSLAccept</a></div><div class="ttdeci">void restartSSLAccept()</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocket_8cpp_source.html#l01084">AsyncSSLSocket.cpp:1084</a></div></div>
<div class="ttc" id="namespacefolly_html_ab3abf3846f064ad582ef6755db318e78"><div class="ttname"><a href="namespacefolly.html#ab3abf3846f064ad582ef6755db318e78">folly::getctx</a></div><div class="ttdeci">void getctx(std::shared_ptr&lt; folly::SSLContext &gt; clientCtx, std::shared_ptr&lt; folly::SSLContext &gt; serverCtx)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8cpp_source.html#l00131">AsyncSSLSocketTest.cpp:131</a></div></div>
<div class="ttc" id="classfolly_1_1SSLException_html"><div class="ttname"><a href="classfolly_1_1SSLException.html">folly::SSLException</a></div><div class="ttdef"><b>Definition:</b> <a href="SSLErrors_8h_source.html#l00031">SSLErrors.h:31</a></div></div>
<div class="ttc" id="classfolly_1_1SSLClient_html_a57382b8f483daa6d63110fb481d371ed"><div class="ttname"><a href="classfolly_1_1SSLClient.html#a57382b8f483daa6d63110fb481d371ed">folly::SSLClient::connectErr</a></div><div class="ttdeci">void connectErr(const AsyncSocketException &amp;ex) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01224">AsyncSSLSocketTest.h:1224</a></div></div>
<div class="ttc" id="classfolly_1_1HandshakeTimeoutCallback_html"><div class="ttname"><a href="classfolly_1_1HandshakeTimeoutCallback.html">folly::HandshakeTimeoutCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00667">AsyncSSLSocketTest.h:667</a></div></div>
<div class="ttc" id="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h_html_a6ae7443947f25abc58bfcfcfc56b0d75"><div class="ttname"><a href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#a6ae7443947f25abc58bfcfcfc56b0d75">EXPECT_NE</a></div><div class="ttdeci">#define EXPECT_NE(val1, val2)</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h_source.html#l01926">gtest.h:1926</a></div></div>
<div class="ttc" id="StringKeyedBenchmark_8cpp_html_aa7f1a46e86fabf3df0ec876cd34220c2"><div class="ttname"><a href="StringKeyedBenchmark_8cpp.html#aa7f1a46e86fabf3df0ec876cd34220c2">s</a></div><div class="ttdeci">static set&lt; string &gt; s</div><div class="ttdef"><b>Definition:</b> <a href="StringKeyedBenchmark_8cpp_source.html#l00048">StringKeyedBenchmark.cpp:48</a></div></div>
<div class="ttc" id="classfolly_1_1SSLHandshakeBase_html_afe3f7d97d13d4eaa0803c317d6d440d1"><div class="ttname"><a href="classfolly_1_1SSLHandshakeBase.html#afe3f7d97d13d4eaa0803c317d6d440d1">folly::SSLHandshakeBase::handshakeSuc</a></div><div class="ttdeci">void handshakeSuc(AsyncSSLSocket *) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01309">AsyncSSLSocketTest.h:1309</a></div></div>
<div class="ttc" id="classfolly_1_1HandshakeErrorCallback_html_ab8fe5ca556b7b40a71bcf1b98002bd5a"><div class="ttname"><a href="classfolly_1_1HandshakeErrorCallback.html#ab8fe5ca556b7b40a71bcf1b98002bd5a">folly::HandshakeErrorCallback::HandshakeErrorCallback</a></div><div class="ttdeci">HandshakeErrorCallback(HandshakeCallback *hcb)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00637">AsyncSSLSocketTest.h:637</a></div></div>
<div class="ttc" id="classfolly_1_1SSLClient_html_aec147b9ccfd78675946ee6b748ea9be4"><div class="ttname"><a href="classfolly_1_1SSLClient.html#aec147b9ccfd78675946ee6b748ea9be4">folly::SSLClient::requests_</a></div><div class="ttdeci">uint32_t requests_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01125">AsyncSSLSocketTest.h:1125</a></div></div>
<div class="ttc" id="classfolly_1_1AsyncSocket_html_a942b628cfadcda0f63271f54143ea924"><div class="ttname"><a href="classfolly_1_1AsyncSocket.html#a942b628cfadcda0f63271f54143ea924">folly::AsyncSocket::getEventBase</a></div><div class="ttdeci">EventBase * getEventBase() const override</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSocket_8h_source.html#l00328">AsyncSocket.h:328</a></div></div>
<div class="ttc" id="ConstexprMathBenchmark_8cpp_html_a09a1e304d66d35dd47daffee9731edaa"><div class="ttname"><a href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a></div><div class="ttdeci">uint32_t</div><div class="ttdef"><b>Definition:</b> <a href="ConstexprMathBenchmark_8cpp_source.html#l00186">ConstexprMathBenchmark.cpp:186</a></div></div>
<div class="ttc" id="namespacefolly_html_af765fccfa9242184196b4906286ada49"><div class="ttname"><a href="namespacefolly.html#af765fccfa9242184196b4906286ada49">folly::value</a></div><div class="ttdeci">uint64_t value(const typename LockFreeRingBuffer&lt; T, Atom &gt;::Cursor &amp;rbcursor)</div><div class="ttdef"><b>Definition:</b> <a href="LockFreeRingBufferTest_8cpp_source.html#l00096">LockFreeRingBufferTest.cpp:96</a></div></div>
<div class="ttc" id="classfolly_1_1BlockingWriteClient_html_aa087e36312ee827a9826278eb31f5aa2"><div class="ttname"><a href="classfolly_1_1BlockingWriteClient.html#aa087e36312ee827a9826278eb31f5aa2">folly::BlockingWriteClient::writeSuccess</a></div><div class="ttdeci">void writeSuccess() noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00831">AsyncSSLSocketTest.h:831</a></div></div>
<div class="ttc" id="classfolly_1_1SSLServerAcceptCallback_html_a73957a6d6ee3cec59833188954f093c4"><div class="ttname"><a href="classfolly_1_1SSLServerAcceptCallback.html#a73957a6d6ee3cec59833188954f093c4">folly::SSLServerAcceptCallback::SSLServerAcceptCallback</a></div><div class="ttdeci">SSLServerAcceptCallback(HandshakeCallback *hcb, uint32_t timeout=0)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00551">AsyncSSLSocketTest.h:551</a></div></div>
<div class="ttc" id="classfolly_1_1SSLClient_html_ae73a999fca4051b186b2c59e0eb20a7f"><div class="ttname"><a href="classfolly_1_1SSLClient.html#ae73a999fca4051b186b2c59e0eb20a7f">folly::SSLClient::writeErr</a></div><div class="ttdeci">void writeErr(size_t, const AsyncSocketException &amp;ex) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01234">AsyncSSLSocketTest.h:1234</a></div></div>
<div class="ttc" id="AsyncTransport_8h_html"><div class="ttname"><a href="AsyncTransport_8h.html">AsyncTransport.h</a></div></div>
<div class="ttc" id="classfolly_1_1AsyncSocket_1_1OptionKey_html"><div class="ttname"><a href="classfolly_1_1AsyncSocket_1_1OptionKey.html">folly::AsyncSocket::OptionKey</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSocket_8h_source.html#l00360">AsyncSocket.h:360</a></div></div>
<div class="ttc" id="classfolly_1_1BlockingWriteClient_html_a8bdce1c8aaa4a5b2ffd47227a8b64e17"><div class="ttname"><a href="classfolly_1_1BlockingWriteClient.html#a8bdce1c8aaa4a5b2ffd47227a8b64e17">folly::BlockingWriteClient::iov_</a></div><div class="ttdeci">std::unique_ptr&lt; struct iovec[]&gt; iov_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00845">AsyncSSLSocketTest.h:845</a></div></div>
<div class="ttc" id="classfolly_1_1BlockingWriteClient_html_a93dd35eddae73206c94eb4275e1d7026"><div class="ttname"><a href="classfolly_1_1BlockingWriteClient.html#a93dd35eddae73206c94eb4275e1d7026">folly::BlockingWriteClient::handshakeSuc</a></div><div class="ttdeci">void handshakeSuc(AsyncSSLSocket *) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00823">AsyncSSLSocketTest.h:823</a></div></div>
<div class="ttc" id="classfolly_1_1AsyncSocket_1_1SendMsgParamsCallback_html_abe03d9fdc7902dd216e9b954324d4c19"><div class="ttname"><a href="classfolly_1_1AsyncSocket_1_1SendMsgParamsCallback.html#abe03d9fdc7902dd216e9b954324d4c19">folly::AsyncSocket::SendMsgParamsCallback::getAncillaryDataSize</a></div><div class="ttdeci">virtual uint32_t getAncillaryDataSize(folly::WriteFlags) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSocket_8h_source.html#l00180">AsyncSocket.h:180</a></div></div>
<div class="ttc" id="classfolly_1_1AsyncSocket_1_1ConnectCallback_html"><div class="ttname"><a href="classfolly_1_1AsyncSocket_1_1ConnectCallback.html">folly::AsyncSocket::ConnectCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSocket_8h_source.html#l00085">AsyncSocket.h:85</a></div></div>
<div class="ttc" id="classfolly_1_1TestSSLAsyncCacheServer_html_aef502a5870a2b958b49508f9c763c0ea"><div class="ttname"><a href="classfolly_1_1TestSSLAsyncCacheServer.html#aef502a5870a2b958b49508f9c763c0ea">folly::TestSSLAsyncCacheServer::asyncLookups_</a></div><div class="ttdeci">static uint32_t asyncLookups_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00741">AsyncSSLSocketTest.h:741</a></div></div>
<div class="ttc" id="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h_html_aa866c8dece57912e6f51495ed3e8d8d5"><div class="ttname"><a href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#aa866c8dece57912e6f51495ed3e8d8d5">ASSERT_NE</a></div><div class="ttdeci">#define ASSERT_NE(val1, val2)</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h_source.html#l01960">gtest.h:1960</a></div></div>
<div class="ttc" id="classfolly_1_1SSLHandshakeBase_html"><div class="ttname"><a href="classfolly_1_1SSLHandshakeBase.html">folly::SSLHandshakeBase</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01270">AsyncSSLSocketTest.h:1270</a></div></div>
<div class="ttc" id="classfolly_1_1ReadCallback_1_1Buffer_html"><div class="ttname"><a href="classfolly_1_1ReadCallback_1_1Buffer.html">folly::ReadCallback::Buffer</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00351">AsyncSSLSocketTest.h:351</a></div></div>
<div class="ttc" id="classfolly_1_1BlockingWriteClient_html_a14a142ed7b8e1a60e2b8ef160661c44a"><div class="ttname"><a href="classfolly_1_1BlockingWriteClient.html#a14a142ed7b8e1a60e2b8ef160661c44a">folly::BlockingWriteClient::bufLen_</a></div><div class="ttdeci">uint32_t bufLen_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00842">AsyncSSLSocketTest.h:842</a></div></div>
<div class="ttc" id="namespacefolly_html_a3c4eca65dd6c34d7230cbbc4a68ce8fdab86bc4835331aab3eb8d7629e8fc2f0f"><div class="ttname"><a href="namespacefolly.html#a3c4eca65dd6c34d7230cbbc4a68ce8fdab86bc4835331aab3eb8d7629e8fc2f0f">folly::SSLError::CLIENT_RENEGOTIATION</a></div></div>
<div class="ttc" id="classfolly_1_1AlpnServer_html_ab35e007a77ba44b25d1869e6384180b7"><div class="ttname"><a href="classfolly_1_1AlpnServer.html#ab35e007a77ba44b25d1869e6384180b7">folly::AlpnServer::readDataAvailable</a></div><div class="ttdeci">void readDataAvailable(size_t) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00975">AsyncSSLSocketTest.h:975</a></div></div>
<div class="ttc" id="EventBase_8h_html"><div class="ttname"><a href="EventBase_8h.html">EventBase.h</a></div></div>
<div class="ttc" id="SSLErrors_8h_html"><div class="ttname"><a href="SSLErrors_8h.html">SSLErrors.h</a></div></div>
<div class="ttc" id="classfolly_1_1WriteCallbackBase_html_a973c544ae925017483ee4140b9b9951b"><div class="ttname"><a href="classfolly_1_1WriteCallbackBase.html#a973c544ae925017483ee4140b9b9951b">folly::WriteCallbackBase::exception</a></div><div class="ttdeci">AsyncSocketException exception</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00168">AsyncSSLSocketTest.h:168</a></div></div>
<div class="ttc" id="classfolly_1_1ReadEOFCallback_html"><div class="ttname"><a href="classfolly_1_1ReadEOFCallback.html">folly::ReadEOFCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00400">AsyncSSLSocketTest.h:400</a></div></div>
<div class="ttc" id="classfolly_1_1SSLAcceptEvbRunner_html_a057f8db174d72eeac0b8655e7cbb594e"><div class="ttname"><a href="classfolly_1_1SSLAcceptEvbRunner.html#a057f8db174d72eeac0b8655e7cbb594e">folly::SSLAcceptEvbRunner::SSLAcceptEvbRunner</a></div><div class="ttdeci">SSLAcceptEvbRunner(EventBase *evb)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01462">AsyncSSLSocketTest.h:1462</a></div></div>
<div class="ttc" id="classfolly_1_1SSLHandshakeServer_html"><div class="ttname"><a href="classfolly_1_1SSLHandshakeServer.html">folly::SSLHandshakeServer</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01381">AsyncSSLSocketTest.h:1381</a></div></div>
<div class="ttc" id="classfolly_1_1BlockingWriteClient_html_a3013d0bb7ee0ccdd141ee90657c8f879"><div class="ttname"><a href="classfolly_1_1BlockingWriteClient.html#a3013d0bb7ee0ccdd141ee90657c8f879">folly::BlockingWriteClient::socket_</a></div><div class="ttdeci">AsyncSSLSocket::UniquePtr socket_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00841">AsyncSSLSocketTest.h:841</a></div></div>
<div class="ttc" id="classfolly_1_1HandshakeCallback_html"><div class="ttname"><a href="classfolly_1_1HandshakeCallback.html">folly::HandshakeCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00478">AsyncSSLSocketTest.h:478</a></div></div>
<div class="ttc" id="classfolly_1_1TestSSLAsyncCacheServer_html"><div class="ttname"><a href="classfolly_1_1TestSSLAsyncCacheServer.html">folly::TestSSLAsyncCacheServer</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00714">AsyncSSLSocketTest.h:714</a></div></div>
<div class="ttc" id="classfolly_1_1SSLClient_html_ad0f81c3593552e2745f502d9fc575400"><div class="ttname"><a href="classfolly_1_1SSLClient.html#ad0f81c3593552e2745f502d9fc575400">folly::SSLClient::errors_</a></div><div class="ttdeci">uint32_t errors_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01133">AsyncSSLSocketTest.h:1133</a></div></div>
<div class="ttc" id="classfolly_1_1ReadCallback_html_ad8d4545b845b4cd07ab6b51ea992213f"><div class="ttname"><a href="classfolly_1_1ReadCallback.html#ad8d4545b845b4cd07ab6b51ea992213f">folly::ReadCallback::~ReadCallback</a></div><div class="ttdeci">~ReadCallback() override</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00319">AsyncSSLSocketTest.h:319</a></div></div>
<div class="ttc" id="classfolly_1_1SSLAcceptRunner_html"><div class="ttname"><a href="classfolly_1_1SSLAcceptRunner.html">folly::SSLAcceptRunner</a></div><div class="ttdef"><b>Definition:</b> <a href="SSLContext_8h_source.html#l00071">SSLContext.h:71</a></div></div>
<div class="ttc" id="classfolly_1_1SSLClient_html_a6194c1e1aee4323ce18da518c7bd6106"><div class="ttname"><a href="classfolly_1_1SSLClient.html#a6194c1e1aee4323ce18da518c7bd6106">folly::SSLClient::connect</a></div><div class="ttdeci">void connect(bool writeNow=false)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01191">AsyncSSLSocketTest.h:1191</a></div></div>
<div class="ttc" id="classfolly_1_1SNIServer_html_a2c8420657d4df2e9b428a4fc69230427"><div class="ttname"><a href="classfolly_1_1SNIServer.html#a2c8420657d4df2e9b428a4fc69230427">folly::SNIServer::getReadBuffer</a></div><div class="ttdeci">void getReadBuffer(void **, size_t *lenReturn) override</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01087">AsyncSSLSocketTest.h:1087</a></div></div>
<div class="ttc" id="classfolly_1_1WriteCallbackBase_html_a7daf69aee2cadd0cb1a825604cb9dcef"><div class="ttname"><a href="classfolly_1_1WriteCallbackBase.html#a7daf69aee2cadd0cb1a825604cb9dcef">folly::WriteCallbackBase::mcb_</a></div><div class="ttdeci">SendMsgParamsCallbackBase * mcb_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00169">AsyncSSLSocketTest.h:169</a></div></div>
<div class="ttc" id="classfolly_1_1BlockingWriteClient_html_a96d14d9c3e787a4ed9cdbb24f1fb3046"><div class="ttname"><a href="classfolly_1_1BlockingWriteClient.html#a96d14d9c3e787a4ed9cdbb24f1fb3046">folly::BlockingWriteClient::iovCount_</a></div><div class="ttdeci">uint32_t iovCount_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00843">AsyncSSLSocketTest.h:843</a></div></div>
<div class="ttc" id="classfolly_1_1SSLHandshakeServerParseClientHello_html_a402a68e1fa8584aec5b7079b664d949d"><div class="ttname"><a href="classfolly_1_1SSLHandshakeServerParseClientHello.html#a402a68e1fa8584aec5b7079b664d949d">folly::SSLHandshakeServerParseClientHello::sharedCiphers_</a></div><div class="ttdeci">std::string sharedCiphers_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01403">AsyncSSLSocketTest.h:1403</a></div></div>
<div class="ttc" id="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h_html_adc16b5b0a740c39084ea5c9e960e3063"><div class="ttname"><a href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#adc16b5b0a740c39084ea5c9e960e3063">ADD_FAILURE</a></div><div class="ttdeci">#define ADD_FAILURE()</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h_source.html#l01808">gtest.h:1808</a></div></div>
<div class="ttc" id="classfolly_1_1EmptyReadCallback_html_a62624de5c6d3d377eb25035db6863275"><div class="ttname"><a href="classfolly_1_1EmptyReadCallback.html#a62624de5c6d3d377eb25035db6863275">folly::EmptyReadCallback::tcpSocket_</a></div><div class="ttdeci">std::shared_ptr&lt; AsyncSocket &gt; tcpSocket_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00475">AsyncSSLSocketTest.h:475</a></div></div>
<div class="ttc" id="classfolly_1_1SSLClient_html_a389b666eaa6b4e6e32a54121fde8ce80"><div class="ttname"><a href="classfolly_1_1SSLClient.html#a389b666eaa6b4e6e32a54121fde8ce80">folly::SSLClient::timeout_</a></div><div class="ttdeci">uint32_t timeout_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01127">AsyncSSLSocketTest.h:1127</a></div></div>
<div class="ttc" id="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h_html_ae9244bfbda562e8b798789b001993fa5"><div class="ttname"><a href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h.html#ae9244bfbda562e8b798789b001993fa5">ASSERT_TRUE</a></div><div class="ttdeci">#define ASSERT_TRUE(condition)</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2build___2gtest_2src_2gtest_2googletest_2include_2gtest_2gtest_8h_source.html#l01865">gtest.h:1865</a></div></div>
<div class="ttc" id="classfolly_1_1SendMsgParamsCallbackBase_html_a50189655a88b5a51c4ca5b8c6d0341be"><div class="ttname"><a href="classfolly_1_1SendMsgParamsCallbackBase.html#a50189655a88b5a51c4ca5b8c6d0341be">folly::SendMsgParamsCallbackBase::socket_</a></div><div class="ttdeci">std::shared_ptr&lt; AsyncSSLSocket &gt; socket_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00075">AsyncSSLSocketTest.h:75</a></div></div>
<div class="ttc" id="classfolly_1_1RenegotiatingServer_html_a22a899ac95f3782cf777ae80859777f5"><div class="ttname"><a href="classfolly_1_1RenegotiatingServer.html#a22a899ac95f3782cf777ae80859777f5">folly::RenegotiatingServer::handshakeSuc</a></div><div class="ttdeci">void handshakeSuc(AsyncSSLSocket *) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00998">AsyncSSLSocketTest.h:998</a></div></div>
<div class="ttc" id="classfolly_1_1EmptyReadCallback_html_a87ce758907d94f5dd63db06253c724cc"><div class="ttname"><a href="classfolly_1_1EmptyReadCallback.html#a87ce758907d94f5dd63db06253c724cc">folly::EmptyReadCallback::readErr</a></div><div class="ttdeci">void readErr(const AsyncSocketException &amp;ex) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00459">AsyncSSLSocketTest.h:459</a></div></div>
<div class="ttc" id="classfolly_1_1AlpnClient_html_a272580c322f66d5cefbbf046c31a063b"><div class="ttname"><a href="classfolly_1_1AlpnClient.html#a272580c322f66d5cefbbf046c31a063b">folly::AlpnClient::writeErr</a></div><div class="ttdeci">void writeErr(size_t bytesWritten, const AsyncSocketException &amp;ex) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00941">AsyncSSLSocketTest.h:941</a></div></div>
<div class="ttc" id="classfolly_1_1ReadErrorCallback_html_a73604dc890d45846c2ac6b33890d82cb"><div class="ttname"><a href="classfolly_1_1ReadErrorCallback.html#a73604dc890d45846c2ac6b33890d82cb">folly::ReadErrorCallback::getReadBuffer</a></div><div class="ttdeci">void getReadBuffer(void **bufReturn, size_t *lenReturn) override</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00383">AsyncSSLSocketTest.h:383</a></div></div>
<div class="ttc" id="namespacefolly_1_1netops_html_a27d9201e6386937ffded3bfd86f995aa"><div class="ttname"><a href="namespacefolly_1_1netops.html#a27d9201e6386937ffded3bfd86f995aa">folly::netops::close</a></div><div class="ttdeci">int close(NetworkSocket s)</div><div class="ttdef"><b>Definition:</b> <a href="NetOps_8cpp_source.html#l00090">NetOps.cpp:90</a></div></div>
<div class="ttc" id="classfolly_1_1SSLHandshakeBase_html_a61fbf2f2cdf4e9d39f13022701cfcc7a"><div class="ttname"><a href="classfolly_1_1SSLHandshakeBase.html#a61fbf2f2cdf4e9d39f13022701cfcc7a">folly::SSLHandshakeBase::handshakeSuccess_</a></div><div class="ttdeci">bool handshakeSuccess_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01289">AsyncSSLSocketTest.h:1289</a></div></div>
<div class="ttc" id="classfolly_1_1AsyncSSLSocket_html_a053436496e751b057e84ad2ac4295610a0d44954b4f8e5731f83fcd05122ec044"><div class="ttname"><a href="classfolly_1_1AsyncSSLSocket.html#a053436496e751b057e84ad2ac4295610a0d44954b4f8e5731f83fcd05122ec044">folly::AsyncSSLSocket::STATE_ACCEPTING</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocket_8h_source.html#l00431">AsyncSSLSocket.h:431</a></div></div>
<div class="ttc" id="classfolly_1_1ReadErrorCallback_html"><div class="ttname"><a href="classfolly_1_1ReadErrorCallback.html">folly::ReadErrorCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00378">AsyncSSLSocketTest.h:378</a></div></div>
<div class="ttc" id="classfolly_1_1HandshakeCallback_html_a13d11f150dc3690e3c7dbe800fd59c61"><div class="ttname"><a href="classfolly_1_1HandshakeCallback.html#a13d11f150dc3690e3c7dbe800fd59c61">folly::HandshakeCallback::handshakeErr</a></div><div class="ttdeci">void handshakeErr(AsyncSSLSocket *, const AsyncSocketException &amp;ex) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00506">AsyncSSLSocketTest.h:506</a></div></div>
<div class="ttc" id="classfolly_1_1SSLClient_html_a012acf66e3a4aec35b011552e4a5f6bf"><div class="ttname"><a href="classfolly_1_1SSLClient.html#a012acf66e3a4aec35b011552e4a5f6bf">folly::SSLClient::hit_</a></div><div class="ttdeci">uint32_t hit_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01131">AsyncSSLSocketTest.h:1131</a></div></div>
<div class="ttc" id="classfolly_1_1ReadCallback_1_1Buffer_html_a98180ff56f1f549719790343f2873d88"><div class="ttname"><a href="classfolly_1_1ReadCallback_1_1Buffer.html#a98180ff56f1f549719790343f2873d88">folly::ReadCallback::Buffer::buffer</a></div><div class="ttdeci">char * buffer</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00370">AsyncSSLSocketTest.h:370</a></div></div>
<div class="ttc" id="classfolly_1_1RenegotiatingServer_html_a49f6b26e9e91ba99a5a51fc5392f9ead"><div class="ttname"><a href="classfolly_1_1RenegotiatingServer.html#a49f6b26e9e91ba99a5a51fc5392f9ead">folly::RenegotiatingServer::getReadBuffer</a></div><div class="ttdeci">void getReadBuffer(void **bufReturn, size_t *lenReturn) override</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01007">AsyncSSLSocketTest.h:1007</a></div></div>
<div class="ttc" id="classfolly_1_1ReadCallbackBase_html_a7425446e82e5203435d6735047ba6926"><div class="ttname"><a href="classfolly_1_1ReadCallbackBase.html#a7425446e82e5203435d6735047ba6926">folly::ReadCallbackBase::socket_</a></div><div class="ttdeci">std::shared_ptr&lt; AsyncSSLSocket &gt; socket_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00309">AsyncSSLSocketTest.h:309</a></div></div>
<div class="ttc" id="classfolly_1_1AsyncSocket_1_1OptionKey_html_ac209d5a2b390919ad64b38ad8fb9248e"><div class="ttname"><a href="classfolly_1_1AsyncSocket_1_1OptionKey.html#ac209d5a2b390919ad64b38ad8fb9248e">folly::AsyncSocket::OptionKey::apply</a></div><div class="ttdeci">int apply(int fd, int val) const </div><div class="ttdef"><b>Definition:</b> <a href="AsyncSocket_8h_source.html#l00368">AsyncSocket.h:368</a></div></div>
<div class="ttc" id="classfolly_1_1AsyncSSLSocket_html_ade718e1f3d111fafaf53b6378833b212"><div class="ttname"><a href="classfolly_1_1AsyncSSLSocket.html#ade718e1f3d111fafaf53b6378833b212">folly::AsyncSSLSocket::getFromSSL</a></div><div class="ttdeci">static AsyncSSLSocket * getFromSSL(const SSL *ssl)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocket_8cpp_source.html#l00645">AsyncSSLSocket.cpp:645</a></div></div>
<div class="ttc" id="classfolly_1_1RenegotiatingServer_html_a5001ca1e20ec1d52a6ebb21febff64bb"><div class="ttname"><a href="classfolly_1_1RenegotiatingServer.html#a5001ca1e20ec1d52a6ebb21febff64bb">folly::RenegotiatingServer::RenegotiatingServer</a></div><div class="ttdeci">RenegotiatingServer(AsyncSSLSocket::UniquePtr socket)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00989">AsyncSSLSocketTest.h:989</a></div></div>
<div class="ttc" id="classfolly_1_1BlockingWriteClient_html_a1d94a1d8a07810212e7fd7201722ee4a"><div class="ttname"><a href="classfolly_1_1BlockingWriteClient.html#a1d94a1d8a07810212e7fd7201722ee4a">folly::BlockingWriteClient::BlockingWriteClient</a></div><div class="ttdeci">BlockingWriteClient(AsyncSSLSocket::UniquePtr socket)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00793">AsyncSSLSocketTest.h:793</a></div></div>
<div class="ttc" id="classfolly_1_1RenegotiatingServer_html_a8b0f5e04dde17fa6089a4b6a9f074c9c"><div class="ttname"><a href="classfolly_1_1RenegotiatingServer.html#a8b0f5e04dde17fa6089a4b6a9f074c9c">folly::RenegotiatingServer::handshakeErr</a></div><div class="ttdeci">void handshakeErr(AsyncSSLSocket *, const AsyncSocketException &amp;ex) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01002">AsyncSSLSocketTest.h:1002</a></div></div>
<div class="ttc" id="classfolly_1_1RenegotiatingServer_html"><div class="ttname"><a href="classfolly_1_1RenegotiatingServer.html">folly::RenegotiatingServer</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00986">AsyncSSLSocketTest.h:986</a></div></div>
<div class="ttc" id="classfolly_1_1SSLHandshakeBase_html_a8b7bbae76442714189d9d77c06569380"><div class="ttname"><a href="classfolly_1_1SSLHandshakeBase.html#a8b7bbae76442714189d9d77c06569380">folly::SSLHandshakeBase::writeErr</a></div><div class="ttdeci">void writeErr(size_t bytesWritten, const AsyncSocketException &amp;ex) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01334">AsyncSSLSocketTest.h:1334</a></div></div>
<div class="ttc" id="classfolly_1_1TestSSLAsyncCacheServer_html_a16ef7052b2e31acb896567b97dee2fee"><div class="ttname"><a href="classfolly_1_1TestSSLAsyncCacheServer.html#a16ef7052b2e31acb896567b97dee2fee">folly::TestSSLAsyncCacheServer::asyncCallbacks_</a></div><div class="ttdeci">static uint32_t asyncCallbacks_</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00740">AsyncSSLSocketTest.h:740</a></div></div>
<div class="ttc" id="classfolly_1_1SSLHandshakeServerNoVerify_html_a625f30132aa68587bd86f83979c230cd"><div class="ttname"><a href="classfolly_1_1SSLHandshakeServerNoVerify.html#a625f30132aa68587bd86f83979c230cd">folly::SSLHandshakeServerNoVerify::SSLHandshakeServerNoVerify</a></div><div class="ttdeci">SSLHandshakeServerNoVerify(AsyncSSLSocket::UniquePtr socket, bool preverifyResult, bool verifyResult)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01417">AsyncSSLSocketTest.h:1417</a></div></div>
<div class="ttc" id="classfolly_1_1SSLClient_html_a7ae9ec46ec83e666ae8a6451b1550a56"><div class="ttname"><a href="classfolly_1_1SSLClient.html#a7ae9ec46ec83e666ae8a6451b1550a56">folly::SSLClient::readDataAvailable</a></div><div class="ttdeci">void readDataAvailable(size_t len) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01256">AsyncSSLSocketTest.h:1256</a></div></div>
<div class="ttc" id="classfolly_1_1SSLAcceptErrorRunner_html_a6db2bee6c79aada3a68959272bc1d7cf"><div class="ttname"><a href="classfolly_1_1SSLAcceptErrorRunner.html#a6db2bee6c79aada3a68959272bc1d7cf">folly::SSLAcceptErrorRunner::run</a></div><div class="ttdeci">void run(Function&lt; int()&gt;, Function&lt; void(int)&gt; finallyFunc) const override</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01482">AsyncSSLSocketTest.h:1482</a></div></div>
<div class="ttc" id="http__parser_8c_html_adc6e5733fc3c22f0a7b2914188c49c90"><div class="ttname"><a href="http__parser_8c.html#adc6e5733fc3c22f0a7b2914188c49c90">state</a></div><div class="ttdeci">state</div><div class="ttdef"><b>Definition:</b> <a href="http__parser_8c_source.html#l00272">http_parser.c:272</a></div></div>
<div class="ttc" id="classfolly_1_1SendMsgFlagsCallback_html"><div class="ttname"><a href="classfolly_1_1SendMsgFlagsCallback.html">folly::SendMsgFlagsCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00079">AsyncSSLSocketTest.h:79</a></div></div>
<div class="ttc" id="classfolly_1_1SSLAcceptErrorRunner_html_a4bee7ff5446859c77e72b3a067d4bab4"><div class="ttname"><a href="classfolly_1_1SSLAcceptErrorRunner.html#a4bee7ff5446859c77e72b3a067d4bab4">folly::SSLAcceptErrorRunner::SSLAcceptErrorRunner</a></div><div class="ttdeci">SSLAcceptErrorRunner(EventBase *evb)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01479">AsyncSSLSocketTest.h:1479</a></div></div>
<div class="ttc" id="classfolly_1_1HandshakeCallback_html_a42ac89449de145a05e8ddccaa0d44750"><div class="ttname"><a href="classfolly_1_1HandshakeCallback.html#a42ac89449de145a05e8ddccaa0d44750">folly::HandshakeCallback::state</a></div><div class="ttdeci">StateEnum state</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00538">AsyncSSLSocketTest.h:538</a></div></div>
<div class="ttc" id="classfolly_1_1HandshakeCallback_html_a02c8b276aaee16b47bac97ba89ecaed0"><div class="ttname"><a href="classfolly_1_1HandshakeCallback.html#a02c8b276aaee16b47bac97ba89ecaed0">folly::HandshakeCallback::closeSocket</a></div><div class="ttdeci">void closeSocket()</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00529">AsyncSSLSocketTest.h:529</a></div></div>
<div class="ttc" id="classfolly_1_1SSLAcceptDestroyRunner_html_a6fdf75a89228ac9cacea8a2183ad4ac0"><div class="ttname"><a href="classfolly_1_1SSLAcceptDestroyRunner.html#a6fdf75a89228ac9cacea8a2183ad4ac0">folly::SSLAcceptDestroyRunner::run</a></div><div class="ttdeci">void run(Function&lt; int()&gt; acceptFunc, Function&lt; void(int)&gt; finallyFunc) const override</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01516">AsyncSSLSocketTest.h:1516</a></div></div>
<div class="ttc" id="classfolly_1_1AlpnServer_html_a5b2f9aa2f119877d661e8f6cd80bdaec"><div class="ttname"><a href="classfolly_1_1AlpnServer.html#a5b2f9aa2f119877d661e8f6cd80bdaec">folly::AlpnServer::getReadBuffer</a></div><div class="ttdeci">void getReadBuffer(void **, size_t *lenReturn) override</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00972">AsyncSSLSocketTest.h:972</a></div></div>
<div class="ttc" id="classfolly_1_1SSLHandshakeClientNoVerify_html_ab5b9f3b55dcb67d29196864cf78aada3"><div class="ttname"><a href="classfolly_1_1SSLHandshakeClientNoVerify.html#ab5b9f3b55dcb67d29196864cf78aada3">folly::SSLHandshakeClientNoVerify::SSLHandshakeClientNoVerify</a></div><div class="ttdeci">SSLHandshakeClientNoVerify(AsyncSSLSocket::UniquePtr socket, bool preverifyResult, bool verifyResult)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01355">AsyncSSLSocketTest.h:1355</a></div></div>
<div class="ttc" id="classfolly_1_1ReadCallbackBase_html_a8339747405826ee2f85f6cc752792464"><div class="ttname"><a href="classfolly_1_1ReadCallbackBase.html#a8339747405826ee2f85f6cc752792464">folly::ReadCallbackBase::readEOF</a></div><div class="ttdeci">void readEOF() noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00303">AsyncSSLSocketTest.h:303</a></div></div>
<div class="ttc" id="classfolly_1_1SSLHandshakeClient_html"><div class="ttname"><a href="classfolly_1_1SSLHandshakeClient.html">folly::SSLHandshakeClient</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01342">AsyncSSLSocketTest.h:1342</a></div></div>
<div class="ttc" id="classfolly_1_1ReadCallbackBase_html_acf3822eb41b4c4b44882bac70acd848c"><div class="ttname"><a href="classfolly_1_1ReadCallbackBase.html#acf3822eb41b4c4b44882bac70acd848c">folly::ReadCallbackBase::setSocket</a></div><div class="ttdeci">void setSocket(const std::shared_ptr&lt; AsyncSSLSocket &gt; &amp;socket)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00286">AsyncSSLSocketTest.h:286</a></div></div>
<div class="ttc" id="classfolly_1_1AlpnClient_html_ae5d72f914d7348dd59cc27656292adf3"><div class="ttname"><a href="classfolly_1_1AlpnClient.html#ae5d72f914d7348dd59cc27656292adf3">folly::AlpnClient::nextProto</a></div><div class="ttdeci">const unsigned char * nextProto</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00925">AsyncSSLSocketTest.h:925</a></div></div>
<div class="ttc" id="classfolly_1_1SNIClient_html_a04b410ccc850cb6c0ef07ba87b91a670"><div class="ttname"><a href="classfolly_1_1SNIClient.html#a04b410ccc850cb6c0ef07ba87b91a670">folly::SNIClient::handshakeSuc</a></div><div class="ttdeci">void handshakeSuc(AsyncSSLSocket *) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l01040">AsyncSSLSocketTest.h:1040</a></div></div>
<div class="ttc" id="classfolly_1_1AlpnServer_html_a57770ae14e754572f5f223faa245362a"><div class="ttname"><a href="classfolly_1_1AlpnServer.html#a57770ae14e754572f5f223faa245362a">folly::AlpnServer::handshakeSuc</a></div><div class="ttdeci">void handshakeSuc(AsyncSSLSocket *) noexceptoverride</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00964">AsyncSSLSocketTest.h:964</a></div></div>
<div class="ttc" id="classfolly_1_1ReadCallback_html_aee27ff5b2b9e6cabe130ad92c900c752"><div class="ttname"><a href="classfolly_1_1ReadCallback.html#aee27ff5b2b9e6cabe130ad92c900c752">folly::ReadCallback::ReadCallback</a></div><div class="ttdeci">ReadCallback(WriteCallbackBase *wcb)</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSSLSocketTest_8h_source.html#l00316">AsyncSSLSocketTest.h:316</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d333e33cf903653326082c1f32e03be5.html">proxygen</a></li><li class="navelem"><a class="el" href="dir_32ce190710b1753ff87b781fbaae9b47.html">folly</a></li><li class="navelem"><a class="el" href="dir_dcf8e1233ba68571c5027662569cd1d9.html">folly</a></li><li class="navelem"><a class="el" href="dir_8b8cdcef1613958d35fc1de7b2d6bb26.html">io</a></li><li class="navelem"><a class="el" href="dir_539f767ad421989063a43e032c2d9ec2.html">async</a></li><li class="navelem"><a class="el" href="dir_4aa706ae502ad6856b62fbb20230f9a9.html">test</a></li><li class="navelem"><a class="el" href="AsyncSSLSocketTest_8h.html">AsyncSSLSocketTest.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
