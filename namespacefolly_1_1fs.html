<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>proxygen: folly::fs Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">proxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Namespace&#160;List</span></a></li>
      <li><a href="namespacemembers.html"><span>Namespace&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('namespacefolly_1_1fs.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">folly::fs Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5f25b0937c2df38fe619eec42eb1639a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefolly_1_1fs.html#a5f25b0937c2df38fe619eec42eb1639a">starts_with</a> (const path &amp;pth, const path &amp;<a class="el" href="IOBufCursorBenchmark_8cpp.html#a347f71e94748afa4f8e4fb551546e447">prefix</a>)</td></tr>
<tr class="separator:a5f25b0937c2df38fe619eec42eb1639a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68f35f94cddcfe0e1a6f38a518602aa8"><td class="memItemLeft" align="right" valign="top">path&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefolly_1_1fs.html#a68f35f94cddcfe0e1a6f38a518602aa8">remove_prefix</a> (const path &amp;pth, const path &amp;<a class="el" href="IOBufCursorBenchmark_8cpp.html#a347f71e94748afa4f8e4fb551546e447">prefix</a>)</td></tr>
<tr class="separator:a68f35f94cddcfe0e1a6f38a518602aa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81841a7d9f4f973465cdec3db0647c83"><td class="memItemLeft" align="right" valign="top">path&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefolly_1_1fs.html#a81841a7d9f4f973465cdec3db0647c83">canonical_parent</a> (const path &amp;pth, const path &amp;base)</td></tr>
<tr class="separator:a81841a7d9f4f973465cdec3db0647c83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11e1293599a23817a13ff7ecc14aa210"><td class="memItemLeft" align="right" valign="top">path&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefolly_1_1fs.html#a11e1293599a23817a13ff7ecc14aa210">executable_path</a> ()</td></tr>
<tr class="separator:a11e1293599a23817a13ff7ecc14aa210"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a81841a7d9f4f973465cdec3db0647c83"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">path folly::fs::canonical_parent </td>
          <td>(</td>
          <td class="paramtype">const path &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const path &amp;&#160;</td>
          <td class="paramname"><em>basePath</em> = <code>current_path()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Canonicalize the parent path, leaving the filename (last component) unchanged. You may use this before creating a file instead of boost::filesystem::canonical, which requires that the entire path exists. </p>

<p>Definition at line <a class="el" href="FsUtil_8cpp_source.html#l00068">68</a> of file <a class="el" href="FsUtil_8cpp_source.html">FsUtil.cpp</a>.</p>

<p>Referenced by <a class="el" href="FsUtilTest_8cpp_source.html#l00052">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                                                         {</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="keywordflow">return</span> canonical(pth.parent_path(), base) / pth.filename();</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a11e1293599a23817a13ff7ecc14aa210"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">path folly::fs::executable_path </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the path to the current executable.</p>
<p>Note that this is not reliable and not recommended in general; it may not be implemented on your platform (in which case it will throw), the executable might have been moved or replaced while running, and applications comprising of multiple executables should use some form of configuration system to find the other executables rather than relying on relative paths from one to another.</p>
<p>So this should only be used for tests, logging, or other innocuous purposes. </p>

<p>Definition at line <a class="el" href="FsUtil_8cpp_source.html#l00072">72</a> of file <a class="el" href="FsUtil_8cpp_source.html">FsUtil.cpp</a>.</p>

<p>Referenced by <a class="el" href="SingletonTest_8cpp_source.html#l00623">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                       {</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="keywordflow">return</span> read_symlink(<span class="stringliteral">&quot;/proc/self/exe&quot;</span>);</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a68f35f94cddcfe0e1a6f38a518602aa8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">path folly::fs::remove_prefix </td>
          <td>(</td>
          <td class="paramtype">const path &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const path &amp;&#160;</td>
          <td class="paramname"><em>prefix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If "path" starts with "prefix", return "path" with "prefix" removed. Otherwise, throw filesystem_error. </p>

<p>Definition at line <a class="el" href="FsUtil_8cpp_source.html#l00050">50</a> of file <a class="el" href="FsUtil_8cpp_source.html">FsUtil.cpp</a>.</p>

<p>Referenced by <a class="el" href="FsUtilTest_8cpp_source.html#l00026">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                                                        {</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  path::const_iterator it;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <span class="keywordflow">if</span> (!skipPrefix(pth, <a class="code" href="IOBufCursorBenchmark_8cpp.html#a347f71e94748afa4f8e4fb551546e447">prefix</a>, it)) {</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordflow">throw</span> filesystem_error(</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <span class="stringliteral">&quot;Path does not start with prefix&quot;</span>,</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        pth,</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <a class="code" href="IOBufCursorBenchmark_8cpp.html#a347f71e94748afa4f8e4fb551546e447">prefix</a>,</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        bsys::errc::make_error_code(bsys::errc::invalid_argument));</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  }</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  path p;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="keywordflow">for</span> (; it != pth.end(); ++it) {</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    p /= *it;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  }</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="keywordflow">return</span> p;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;}</div><div class="ttc" id="IOBufCursorBenchmark_8cpp_html_a347f71e94748afa4f8e4fb551546e447"><div class="ttname"><a href="IOBufCursorBenchmark_8cpp.html#a347f71e94748afa4f8e4fb551546e447">prefix</a></div><div class="ttdeci">bool prefix(Cursor &amp;c, uint32_t expected)</div><div class="ttdef"><b>Definition:</b> <a href="IOBufCursorBenchmark_8cpp_source.html#l00117">IOBufCursorBenchmark.cpp:117</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5f25b0937c2df38fe619eec42eb1639a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::fs::starts_with </td>
          <td>(</td>
          <td class="paramtype">const path &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const path &amp;&#160;</td>
          <td class="paramname"><em>prefix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check whether "path" starts with "prefix". That is, if prefix has n path elements, then the first n elements of path must be the same as prefix.</p>
<p>There is a special case if prefix ends with a slash: /foo/bar/ is not a prefix of /foo/bar, but both /foo/bar and /foo/bar/ are prefixes of /foo/bar/baz. </p>

<p>Definition at line <a class="el" href="FsUtil_8cpp_source.html#l00045">45</a> of file <a class="el" href="FsUtil_8cpp_source.html">FsUtil.cpp</a>.</p>

<p>Referenced by <a class="el" href="FsUtilTest_8cpp_source.html#l00026">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;                                                      {</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  path::const_iterator it;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <span class="keywordflow">return</span> skipPrefix(pth, <a class="code" href="IOBufCursorBenchmark_8cpp.html#a347f71e94748afa4f8e4fb551546e447">prefix</a>, it);</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;}</div><div class="ttc" id="IOBufCursorBenchmark_8cpp_html_a347f71e94748afa4f8e4fb551546e447"><div class="ttname"><a href="IOBufCursorBenchmark_8cpp.html#a347f71e94748afa4f8e4fb551546e447">prefix</a></div><div class="ttdeci">bool prefix(Cursor &amp;c, uint32_t expected)</div><div class="ttdef"><b>Definition:</b> <a href="IOBufCursorBenchmark_8cpp_source.html#l00117">IOBufCursorBenchmark.cpp:117</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefolly.html">folly</a></li><li class="navelem"><a class="el" href="namespacefolly_1_1fs.html">fs</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
