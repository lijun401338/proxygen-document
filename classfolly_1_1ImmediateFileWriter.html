<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>proxygen: folly::ImmediateFileWriter Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">proxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classfolly_1_1ImmediateFileWriter.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classfolly_1_1ImmediateFileWriter-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">folly::ImmediateFileWriter Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="ImmediateFileWriter_8h_source.html">ImmediateFileWriter.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for folly::ImmediateFileWriter:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classfolly_1_1ImmediateFileWriter.png" usemap="#folly::ImmediateFileWriter_map" alt=""/>
  <map id="folly::ImmediateFileWriter_map" name="folly::ImmediateFileWriter_map">
<area href="classfolly_1_1LogWriter.html" alt="folly::LogWriter" shape="rect" coords="0,0,152,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a81522ccba794d11ce2c356e94f316c0e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ImmediateFileWriter.html#a81522ccba794d11ce2c356e94f316c0e">ImmediateFileWriter</a> (<a class="el" href="namespacefolly.html#af8d3e3eb9accef5470823e6353f60140">folly::StringPiece</a> path)</td></tr>
<tr class="separator:a81522ccba794d11ce2c356e94f316c0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6da55b2b67ac4f1101540a33b53a1e83"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ImmediateFileWriter.html#a6da55b2b67ac4f1101540a33b53a1e83">ImmediateFileWriter</a> (<a class="el" href="classfolly_1_1File.html">folly::File</a> &amp;&amp;file)</td></tr>
<tr class="separator:a6da55b2b67ac4f1101540a33b53a1e83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0fcef28fedd231ebacdba2cf124ddf2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ImmediateFileWriter.html#ae0fcef28fedd231ebacdba2cf124ddf2">writeMessage</a> (<a class="el" href="namespacefolly.html#af8d3e3eb9accef5470823e6353f60140">folly::StringPiece</a> <a class="el" href="experimental_2test_2BitsBenchmark_8cpp.html#a25bccaee4203f6f142efc1f61e9b66c5">buffer</a>, <a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> <a class="el" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a>=0) override</td></tr>
<tr class="separator:ae0fcef28fedd231ebacdba2cf124ddf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6835ec0c31a9ae768e611ba72a1d699"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ImmediateFileWriter.html#ac6835ec0c31a9ae768e611ba72a1d699">flush</a> () override</td></tr>
<tr class="separator:ac6835ec0c31a9ae768e611ba72a1d699"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabc9f982601df6740ab13cbb614a451b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ImmediateFileWriter.html#aabc9f982601df6740ab13cbb614a451b">ttyOutput</a> () const override</td></tr>
<tr class="separator:aabc9f982601df6740ab13cbb614a451b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad05ed84fe197ca835e5b2c0c36b5f6ed"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classfolly_1_1File.html">folly::File</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ImmediateFileWriter.html#ad05ed84fe197ca835e5b2c0c36b5f6ed">getFile</a> () const </td></tr>
<tr class="separator:ad05ed84fe197ca835e5b2c0c36b5f6ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classfolly_1_1LogWriter"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classfolly_1_1LogWriter')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classfolly_1_1LogWriter.html">folly::LogWriter</a></td></tr>
<tr class="memitem:a2f3a8c662a4200bd57dd9aedff552e9f inherit pub_methods_classfolly_1_1LogWriter"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1LogWriter.html#a2f3a8c662a4200bd57dd9aedff552e9f">~LogWriter</a> ()</td></tr>
<tr class="separator:a2f3a8c662a4200bd57dd9aedff552e9f inherit pub_methods_classfolly_1_1LogWriter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c4d2732c713d0c55922cdebc0c29a78 inherit pub_methods_classfolly_1_1LogWriter"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1LogWriter.html#a7c4d2732c713d0c55922cdebc0c29a78">writeMessage</a> (<a class="el" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a> &amp;&amp;<a class="el" href="experimental_2test_2BitsBenchmark_8cpp.html#a25bccaee4203f6f142efc1f61e9b66c5">buffer</a>, <a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> <a class="el" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a>=0)</td></tr>
<tr class="separator:a7c4d2732c713d0c55922cdebc0c29a78 inherit pub_methods_classfolly_1_1LogWriter"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a0be21d50e6b7aef41783da17ddd0e45d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ImmediateFileWriter.html#a0be21d50e6b7aef41783da17ddd0e45d">ImmediateFileWriter</a> (<a class="el" href="classfolly_1_1ImmediateFileWriter.html">ImmediateFileWriter</a> const &amp;)=delete</td></tr>
<tr class="separator:a0be21d50e6b7aef41783da17ddd0e45d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a560d69c098912cafd7d9abf18b571399"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1ImmediateFileWriter.html">ImmediateFileWriter</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ImmediateFileWriter.html#a560d69c098912cafd7d9abf18b571399">operator=</a> (<a class="el" href="classfolly_1_1ImmediateFileWriter.html">ImmediateFileWriter</a> const &amp;)=delete</td></tr>
<tr class="separator:a560d69c098912cafd7d9abf18b571399"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a58084c514a88e418e684d464e90fdfd3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1File.html">folly::File</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ImmediateFileWriter.html#a58084c514a88e418e684d464e90fdfd3">file_</a></td></tr>
<tr class="separator:a58084c514a88e418e684d464e90fdfd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classfolly_1_1LogWriter"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classfolly_1_1LogWriter')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classfolly_1_1LogWriter.html">folly::LogWriter</a></td></tr>
<tr class="memitem:aada8a13563d6a8908170724a1e2a73fe inherit pub_types_classfolly_1_1LogWriter"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1LogWriter.html#aada8a13563d6a8908170724a1e2a73fe">Flags</a> : uint32_t { <a class="el" href="classfolly_1_1LogWriter.html#aada8a13563d6a8908170724a1e2a73fea35c8fc37efa51e1b9130abf3b9f704d7">NO_FLAGS</a> = 0x00, 
<a class="el" href="classfolly_1_1LogWriter.html#aada8a13563d6a8908170724a1e2a73feada443dbaaec322e2591d8c8066a9983c">NEVER_DISCARD</a> = 0x01
 }</td></tr>
<tr class="separator:aada8a13563d6a8908170724a1e2a73fe inherit pub_types_classfolly_1_1LogWriter"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="structA.html">A</a> <a class="el" href="classfolly_1_1LogWriter.html">LogWriter</a> implementation that immediately writes to a file descriptor when it is invoked.</p>
<p>The downside of this class is that logging I/O occurs directly in your normal program threads, so that logging I/O may block or slow down normal processing.</p>
<p>However, one benefit of this class is that log messages are written out immediately, so if your program crashes, all log messages generated before the crash will have already been written, and no messages will be lost. </p>

<p>Definition at line <a class="el" href="ImmediateFileWriter_8h_source.html#l00036">36</a> of file <a class="el" href="ImmediateFileWriter_8h_source.html">ImmediateFileWriter.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a81522ccba794d11ce2c356e94f316c0e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">folly::ImmediateFileWriter::ImmediateFileWriter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacefolly.html#af8d3e3eb9accef5470823e6353f60140">folly::StringPiece</a>&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Construct an <a class="el" href="classfolly_1_1ImmediateFileWriter.html">ImmediateFileWriter</a> that appends to the file at the specified path. </p>

<p>Definition at line <a class="el" href="ImmediateFileWriter_8cpp_source.html#l00027">27</a> of file <a class="el" href="ImmediateFileWriter_8cpp_source.html">ImmediateFileWriter.cpp</a>.</p>

<p>References <a class="el" href="Range_8h_source.html#l00591">folly::Range&lt; Iter &gt;::str()</a>.</p>

<p>Referenced by <a class="el" href="ImmediateFileWriter_8h_source.html#l00063">getFile()</a>.</p>
<div class="fragment"><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    : <a class="code" href="classfolly_1_1ImmediateFileWriter.html#a58084c514a88e418e684d464e90fdfd3">file_</a>{path.<a class="code" href="classfolly_1_1Range.html#a804a40c74d797664d8ee131ae4a4f09b">str</a>(), O_WRONLY | O_APPEND | O_CREAT} {}</div><div class="ttc" id="classfolly_1_1ImmediateFileWriter_html_a58084c514a88e418e684d464e90fdfd3"><div class="ttname"><a href="classfolly_1_1ImmediateFileWriter.html#a58084c514a88e418e684d464e90fdfd3">folly::ImmediateFileWriter::file_</a></div><div class="ttdeci">folly::File file_</div><div class="ttdef"><b>Definition:</b> <a href="ImmediateFileWriter_8h_source.html#l00071">ImmediateFileWriter.h:71</a></div></div>
<div class="ttc" id="classfolly_1_1Range_html_a804a40c74d797664d8ee131ae4a4f09b"><div class="ttname"><a href="classfolly_1_1Range.html#a804a40c74d797664d8ee131ae4a4f09b">folly::Range::str</a></div><div class="ttdeci">std::string str() const </div><div class="ttdef"><b>Definition:</b> <a href="Range_8h_source.html#l00591">Range.h:591</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6da55b2b67ac4f1101540a33b53a1e83"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">folly::ImmediateFileWriter::ImmediateFileWriter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1File.html">folly::File</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Construct an <a class="el" href="classfolly_1_1ImmediateFileWriter.html">ImmediateFileWriter</a> that writes to the specified <a class="el" href="classfolly_1_1File.html">File</a> object. </p>

<p>Definition at line <a class="el" href="ImmediateFileWriter_8cpp_source.html#l00030">30</a> of file <a class="el" href="ImmediateFileWriter_8cpp_source.html">ImmediateFileWriter.cpp</a>.</p>

<p>References <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>.</p>
<div class="fragment"><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    : <a class="code" href="classfolly_1_1ImmediateFileWriter.html#a58084c514a88e418e684d464e90fdfd3">file_</a>{<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(file)} {}</div><div class="ttc" id="classfolly_1_1ImmediateFileWriter_html_a58084c514a88e418e684d464e90fdfd3"><div class="ttname"><a href="classfolly_1_1ImmediateFileWriter.html#a58084c514a88e418e684d464e90fdfd3">folly::ImmediateFileWriter::file_</a></div><div class="ttdeci">folly::File file_</div><div class="ttdef"><b>Definition:</b> <a href="ImmediateFileWriter_8h_source.html#l00071">ImmediateFileWriter.h:71</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0be21d50e6b7aef41783da17ddd0e45d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">folly::ImmediateFileWriter::ImmediateFileWriter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1ImmediateFileWriter.html">ImmediateFileWriter</a> const &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ac6835ec0c31a9ae768e611ba72a1d699"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::ImmediateFileWriter::flush </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Block until all messages that have already been sent to this <a class="el" href="classfolly_1_1LogWriter.html">LogWriter</a> have been written.</p>
<p>Other threads may still call <a class="el" href="classfolly_1_1ImmediateFileWriter.html#ae0fcef28fedd231ebacdba2cf124ddf2">writeMessage()</a> while <a class="el" href="classfolly_1_1ImmediateFileWriter.html#ac6835ec0c31a9ae768e611ba72a1d699">flush()</a> is running. <a class="el" href="classfolly_1_1ImmediateFileWriter.html#ae0fcef28fedd231ebacdba2cf124ddf2">writeMessage()</a> calls that did not complete before the <a class="el" href="classfolly_1_1ImmediateFileWriter.html#ac6835ec0c31a9ae768e611ba72a1d699">flush()</a> call started will not necessarily be processed by the flush call. </p>

<p>Implements <a class="el" href="classfolly_1_1LogWriter.html#a416ab4b848bb4872ce838a3d79cc2c59">folly::LogWriter</a>.</p>

<p>Definition at line <a class="el" href="ImmediateFileWriter_8cpp_source.html#l00052">52</a> of file <a class="el" href="ImmediateFileWriter_8cpp_source.html">ImmediateFileWriter.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;{}</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad05ed84fe197ca835e5b2c0c36b5f6ed"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classfolly_1_1File.html">folly::File</a>&amp; folly::ImmediateFileWriter::getFile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the output file. </p>

<p>Definition at line <a class="el" href="ImmediateFileWriter_8h_source.html#l00063">63</a> of file <a class="el" href="ImmediateFileWriter_8h_source.html">ImmediateFileWriter.h</a>.</p>

<p>References <a class="el" href="ImmediateFileWriter_8h_source.html#l00071">file_</a>, <a class="el" href="ImmediateFileWriter_8cpp_source.html#l00027">ImmediateFileWriter()</a>, and <a class="el" href="classfolly_1_1ImmediateFileWriter.html#a560d69c098912cafd7d9abf18b571399">operator=()</a>.</p>
<div class="fragment"><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                                   {</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1ImmediateFileWriter.html#a58084c514a88e418e684d464e90fdfd3">file_</a>;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  }</div><div class="ttc" id="classfolly_1_1ImmediateFileWriter_html_a58084c514a88e418e684d464e90fdfd3"><div class="ttname"><a href="classfolly_1_1ImmediateFileWriter.html#a58084c514a88e418e684d464e90fdfd3">folly::ImmediateFileWriter::file_</a></div><div class="ttdeci">folly::File file_</div><div class="ttdef"><b>Definition:</b> <a href="ImmediateFileWriter_8h_source.html#l00071">ImmediateFileWriter.h:71</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a560d69c098912cafd7d9abf18b571399"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1ImmediateFileWriter.html">ImmediateFileWriter</a>&amp; folly::ImmediateFileWriter::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1ImmediateFileWriter.html">ImmediateFileWriter</a> const &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="ImmediateFileWriter_8h_source.html#l00063">getFile()</a>.</p>

</div>
</div>
<a class="anchor" id="aabc9f982601df6740ab13cbb614a451b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::ImmediateFileWriter::ttyOutput </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns true if the output steam is a tty. </p>

<p>Implements <a class="el" href="classfolly_1_1LogWriter.html#a52341921ee608844ac622e5153d092a2">folly::LogWriter</a>.</p>

<p>Definition at line <a class="el" href="ImmediateFileWriter_8h_source.html#l00056">56</a> of file <a class="el" href="ImmediateFileWriter_8h_source.html">ImmediateFileWriter.h</a>.</p>

<p>References <a class="el" href="File_8h_source.html#l00085">folly::File::fd()</a>, and <a class="el" href="ImmediateFileWriter_8h_source.html#l00071">file_</a>.</p>
<div class="fragment"><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                                  {</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordflow">return</span> isatty(<a class="code" href="classfolly_1_1ImmediateFileWriter.html#a58084c514a88e418e684d464e90fdfd3">file_</a>.<a class="code" href="classfolly_1_1File.html#ad5a7fede63287b920672e5c08899c686">fd</a>());</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  }</div><div class="ttc" id="classfolly_1_1ImmediateFileWriter_html_a58084c514a88e418e684d464e90fdfd3"><div class="ttname"><a href="classfolly_1_1ImmediateFileWriter.html#a58084c514a88e418e684d464e90fdfd3">folly::ImmediateFileWriter::file_</a></div><div class="ttdeci">folly::File file_</div><div class="ttdef"><b>Definition:</b> <a href="ImmediateFileWriter_8h_source.html#l00071">ImmediateFileWriter.h:71</a></div></div>
<div class="ttc" id="classfolly_1_1File_html_ad5a7fede63287b920672e5c08899c686"><div class="ttname"><a href="classfolly_1_1File.html#ad5a7fede63287b920672e5c08899c686">folly::File::fd</a></div><div class="ttdeci">int fd() const </div><div class="ttdef"><b>Definition:</b> <a href="File_8h_source.html#l00085">File.h:85</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae0fcef28fedd231ebacdba2cf124ddf2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::ImmediateFileWriter::writeMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacefolly.html#af8d3e3eb9accef5470823e6353f60140">folly::StringPiece</a>&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a>&#160;</td>
          <td class="paramname"><em>flags</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Write a serialized log message.</p>
<p>The flags parameter is a bitwise-ORed set of Flag values defined above. </p>

<p>Implements <a class="el" href="classfolly_1_1LogWriter.html#a250aabb140c3356062d0921c1572b073">folly::LogWriter</a>.</p>

<p>Definition at line <a class="el" href="ImmediateFileWriter_8cpp_source.html#l00033">33</a> of file <a class="el" href="ImmediateFileWriter_8cpp_source.html">ImmediateFileWriter.cpp</a>.</p>

<p>References <a class="el" href="Range_8h_source.html#l00446">folly::Range&lt; Iter &gt;::data()</a>, <a class="el" href="String_8cpp_source.html#l00463">folly::errnoStr()</a>, <a class="el" href="File_8h_source.html#l00085">folly::File::fd()</a>, <a class="el" href="ImmediateFileWriter_8h_source.html#l00071">file_</a>, <a class="el" href="LoggerDB_8h_source.html#l00201">folly::LoggerDB::internalWarning()</a>, <a class="el" href="Range_8h_source.html#l00431">folly::Range&lt; Iter &gt;::size()</a>, and <a class="el" href="FileUtil_8cpp_source.html#l00134">folly::writeFull()</a>.</p>
<div class="fragment"><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                {</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <span class="comment">// Write the data.</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <span class="comment">// We are doing direct file descriptor writes here, so there is no buffering</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  <span class="comment">// of log message data.  Each message is immediately written to the output.</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  <span class="keyword">auto</span> ret = <a class="code" href="namespacefolly.html#afea6cb3e4179e6c21748549dd8d5e9da">folly::writeFull</a>(<a class="code" href="classfolly_1_1ImmediateFileWriter.html#a58084c514a88e418e684d464e90fdfd3">file_</a>.<a class="code" href="classfolly_1_1File.html#ad5a7fede63287b920672e5c08899c686">fd</a>(), buffer.<a class="code" href="classfolly_1_1Range.html#a2aaeaeaee2acdcffedbf021d6396cc72">data</a>(), buffer.<a class="code" href="classfolly_1_1Range.html#a4c2961b90459f542312422d62ff767b2">size</a>());</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <span class="keywordflow">if</span> (ret &lt; 0) {</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="keywordtype">int</span> errnum = errno;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <a class="code" href="classfolly_1_1LoggerDB.html#aae945e11fe96e763f6eded47257bb540">LoggerDB::internalWarning</a>(</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        __FILE__,</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        __LINE__,</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        <span class="stringliteral">&quot;error writing to log file &quot;</span>,</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        <a class="code" href="classfolly_1_1ImmediateFileWriter.html#a58084c514a88e418e684d464e90fdfd3">file_</a>.<a class="code" href="classfolly_1_1File.html#ad5a7fede63287b920672e5c08899c686">fd</a>(),</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        <span class="stringliteral">&quot;: &quot;</span>,</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <a class="code" href="namespacefolly.html#ad904a601e206bb84a84f7f68302ac92f">errnoStr</a>(errnum));</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  }</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;}</div><div class="ttc" id="classfolly_1_1ImmediateFileWriter_html_a58084c514a88e418e684d464e90fdfd3"><div class="ttname"><a href="classfolly_1_1ImmediateFileWriter.html#a58084c514a88e418e684d464e90fdfd3">folly::ImmediateFileWriter::file_</a></div><div class="ttdeci">folly::File file_</div><div class="ttdef"><b>Definition:</b> <a href="ImmediateFileWriter_8h_source.html#l00071">ImmediateFileWriter.h:71</a></div></div>
<div class="ttc" id="classfolly_1_1Range_html_a4c2961b90459f542312422d62ff767b2"><div class="ttname"><a href="classfolly_1_1Range.html#a4c2961b90459f542312422d62ff767b2">folly::Range::size</a></div><div class="ttdeci">constexpr size_type size() const </div><div class="ttdef"><b>Definition:</b> <a href="Range_8h_source.html#l00431">Range.h:431</a></div></div>
<div class="ttc" id="classfolly_1_1File_html_ad5a7fede63287b920672e5c08899c686"><div class="ttname"><a href="classfolly_1_1File.html#ad5a7fede63287b920672e5c08899c686">folly::File::fd</a></div><div class="ttdeci">int fd() const </div><div class="ttdef"><b>Definition:</b> <a href="File_8h_source.html#l00085">File.h:85</a></div></div>
<div class="ttc" id="classfolly_1_1Range_html_a2aaeaeaee2acdcffedbf021d6396cc72"><div class="ttname"><a href="classfolly_1_1Range.html#a2aaeaeaee2acdcffedbf021d6396cc72">folly::Range::data</a></div><div class="ttdeci">constexpr Iter data() const </div><div class="ttdef"><b>Definition:</b> <a href="Range_8h_source.html#l00446">Range.h:446</a></div></div>
<div class="ttc" id="namespacefolly_html_afea6cb3e4179e6c21748549dd8d5e9da"><div class="ttname"><a href="namespacefolly.html#afea6cb3e4179e6c21748549dd8d5e9da">folly::writeFull</a></div><div class="ttdeci">ssize_t writeFull(int fd, const void *buf, size_t count)</div><div class="ttdef"><b>Definition:</b> <a href="FileUtil_8cpp_source.html#l00134">FileUtil.cpp:134</a></div></div>
<div class="ttc" id="namespacefolly_html_ad904a601e206bb84a84f7f68302ac92f"><div class="ttname"><a href="namespacefolly.html#ad904a601e206bb84a84f7f68302ac92f">folly::errnoStr</a></div><div class="ttdeci">fbstring errnoStr(int err)</div><div class="ttdef"><b>Definition:</b> <a href="String_8cpp_source.html#l00463">String.cpp:463</a></div></div>
<div class="ttc" id="classfolly_1_1LoggerDB_html_aae945e11fe96e763f6eded47257bb540"><div class="ttname"><a href="classfolly_1_1LoggerDB.html#aae945e11fe96e763f6eded47257bb540">folly::LoggerDB::internalWarning</a></div><div class="ttdeci">static void internalWarning(folly::StringPiece file, int lineNumber, Args &amp;&amp;...args) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="LoggerDB_8h_source.html#l00201">LoggerDB.h:201</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a58084c514a88e418e684d464e90fdfd3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1File.html">folly::File</a> folly::ImmediateFileWriter::file_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="ImmediateFileWriter_8h_source.html#l00071">71</a> of file <a class="el" href="ImmediateFileWriter_8h_source.html">ImmediateFileWriter.h</a>.</p>

<p>Referenced by <a class="el" href="ImmediateFileWriter_8h_source.html#l00063">getFile()</a>, <a class="el" href="ImmediateFileWriter_8h_source.html#l00056">ttyOutput()</a>, and <a class="el" href="ImmediateFileWriter_8cpp_source.html#l00033">writeMessage()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>proxygen/folly/folly/logging/<a class="el" href="ImmediateFileWriter_8h_source.html">ImmediateFileWriter.h</a></li>
<li>proxygen/folly/folly/logging/<a class="el" href="ImmediateFileWriter_8cpp_source.html">ImmediateFileWriter.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefolly.html">folly</a></li><li class="navelem"><a class="el" href="classfolly_1_1ImmediateFileWriter.html">ImmediateFileWriter</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
