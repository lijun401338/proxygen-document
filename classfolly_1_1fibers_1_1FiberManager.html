<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>proxygen: folly::fibers::FiberManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">proxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classfolly_1_1fibers_1_1FiberManager.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classfolly_1_1fibers_1_1FiberManager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">folly::fibers::FiberManager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Single-threaded task execution engine.  
 <a href="classfolly_1_1fibers_1_1FiberManager.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for folly::fibers::FiberManager:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classfolly_1_1fibers_1_1FiberManager.png" usemap="#folly::fibers::FiberManager_map" alt=""/>
  <map id="folly::fibers::FiberManager_map" name="folly::fibers::FiberManager_map">
<area href="classfolly_1_1Executor.html" alt="folly::Executor" shape="rect" coords="0,0,161,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1fibers_1_1FiberManager_1_1AddTaskFinallyHelper.html">AddTaskFinallyHelper</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1fibers_1_1FiberManager_1_1AddTaskHelper.html">AddTaskHelper</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1fibers_1_1FiberManager_1_1FibersPoolResizer.html">FibersPoolResizer</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1fibers_1_1FiberManager_1_1Options.html">Options</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1fibers_1_1FiberManager_1_1RemoteTask.html">RemoteTask</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a0b101796ea86a8d29260a520ec3e72e5"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a0b101796ea86a8d29260a520ec3e72e5">ExceptionCallback</a> = <a class="el" href="classfolly_1_1Function.html">folly::Function</a>&lt; void(std::exception_ptr, <a class="el" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a>)&gt;</td></tr>
<tr class="separator:a0b101796ea86a8d29260a520ec3e72e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1d1403b5d648001daebbbb51853677fb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a1d1403b5d648001daebbbb51853677fb">FiberManager</a> (const <a class="el" href="classfolly_1_1fibers_1_1FiberManager.html">FiberManager</a> &amp;)=delete</td></tr>
<tr class="separator:a1d1403b5d648001daebbbb51853677fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8d83dfdc3a4a43f9b7457afa188a527"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html">FiberManager</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#ab8d83dfdc3a4a43f9b7457afa188a527">operator=</a> (const <a class="el" href="classfolly_1_1fibers_1_1FiberManager.html">FiberManager</a> &amp;)=delete</td></tr>
<tr class="separator:ab8d83dfdc3a4a43f9b7457afa188a527"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18ceb4c5f60532f5fcafe097485c2651"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a18ceb4c5f60532f5fcafe097485c2651">FiberManager</a> (std::unique_ptr&lt; <a class="el" href="classfolly_1_1fibers_1_1LoopController.html">LoopController</a> &gt; <a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a381115ed02eb29958264f96a261728b4">loopController</a>, <a class="el" href="structfolly_1_1fibers_1_1FiberManager_1_1Options.html">Options</a> options=<a class="el" href="structfolly_1_1fibers_1_1FiberManager_1_1Options.html">Options</a>())</td></tr>
<tr class="separator:a18ceb4c5f60532f5fcafe097485c2651"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a989a40d18af48888a78145f840d71bc3"><td class="memTemplParams" colspan="2">template&lt;typename LocalT &gt; </td></tr>
<tr class="memitem:a989a40d18af48888a78145f840d71bc3"><td class="memTemplItemLeft" align="right" valign="top">&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a989a40d18af48888a78145f840d71bc3">FiberManager</a> (<a class="el" href="classfolly_1_1fibers_1_1LocalType.html">LocalType</a>&lt; LocalT &gt;, std::unique_ptr&lt; <a class="el" href="classfolly_1_1fibers_1_1LoopController.html">LoopController</a> &gt; <a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a381115ed02eb29958264f96a261728b4">loopController</a>, <a class="el" href="structfolly_1_1fibers_1_1FiberManager_1_1Options.html">Options</a> options=<a class="el" href="structfolly_1_1fibers_1_1FiberManager_1_1Options.html">Options</a>())</td></tr>
<tr class="separator:a989a40d18af48888a78145f840d71bc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fd9dae213a23f2a0bd7a292ddaae739"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a1fd9dae213a23f2a0bd7a292ddaae739">~FiberManager</a> () override</td></tr>
<tr class="separator:a1fd9dae213a23f2a0bd7a292ddaae739"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a381115ed02eb29958264f96a261728b4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1fibers_1_1LoopController.html">LoopController</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a381115ed02eb29958264f96a261728b4">loopController</a> ()</td></tr>
<tr class="separator:a381115ed02eb29958264f96a261728b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a331138cbad647b6337d31ba3a49a7b2b"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classfolly_1_1fibers_1_1LoopController.html">LoopController</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a331138cbad647b6337d31ba3a49a7b2b">loopController</a> () const </td></tr>
<tr class="separator:a331138cbad647b6337d31ba3a49a7b2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3059d4943a345bca39e753d664ada9b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a3059d4943a345bca39e753d664ada9b9">loopUntilNoReady</a> ()</td></tr>
<tr class="separator:a3059d4943a345bca39e753d664ada9b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ad9ffc5162e8b42a67c08f4e72b4bad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a8ad9ffc5162e8b42a67c08f4e72b4bad">loopUntilNoReadyImpl</a> ()</td></tr>
<tr class="separator:a8ad9ffc5162e8b42a67c08f4e72b4bad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a087e17150919277add9fdc3fd7577389"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a087e17150919277add9fdc3fd7577389">shouldRunLoopRemote</a> ()</td></tr>
<tr class="separator:a087e17150919277add9fdc3fd7577389"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3d1eeb2de2d945dc0f3e562cf1d1367"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#ac3d1eeb2de2d945dc0f3e562cf1d1367">hasTasks</a> () const </td></tr>
<tr class="separator:ac3d1eeb2de2d945dc0f3e562cf1d1367"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4c84f0c5257df1a3595acf25330563a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#ab4c84f0c5257df1a3595acf25330563a">hasReadyTasks</a> () const </td></tr>
<tr class="separator:ab4c84f0c5257df1a3595acf25330563a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2116c06e2c77222d13a3681313b3615c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a2116c06e2c77222d13a3681313b3615c">setExceptionCallback</a> (<a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a0b101796ea86a8d29260a520ec3e72e5">ExceptionCallback</a> ec)</td></tr>
<tr class="separator:a2116c06e2c77222d13a3681313b3615c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8aad674d853ce51489e0ba3e1a0bdd55"><td class="memTemplParams" colspan="2">template&lt;typename F &gt; </td></tr>
<tr class="memitem:a8aad674d853ce51489e0ba3e1a0bdd55"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a8aad674d853ce51489e0ba3e1a0bdd55">addTask</a> (F &amp;&amp;func)</td></tr>
<tr class="separator:a8aad674d853ce51489e0ba3e1a0bdd55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac91d76715617af9b73771f27eef21cf0"><td class="memTemplParams" colspan="2">template&lt;typename F &gt; </td></tr>
<tr class="memitem:ac91d76715617af9b73771f27eef21cf0"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#ac91d76715617af9b73771f27eef21cf0">addTaskFuture</a> (F &amp;&amp;func) -&gt; <a class="el" href="classfolly_1_1Future.html">folly::Future</a>&lt; typename <a class="el" href="structfolly_1_1lift__unit.html">folly::lift_unit</a>&lt; <a class="el" href="namespacefolly.html#a959935d9eb6cce6bd25049997b200b93">invoke_result_t</a>&lt; F &gt;&gt;::<a class="el" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">type</a> &gt;</td></tr>
<tr class="separator:ac91d76715617af9b73771f27eef21cf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a4bf08c007bb307f68da976f4e963c2"><td class="memTemplParams" colspan="2">template&lt;typename F &gt; </td></tr>
<tr class="memitem:a6a4bf08c007bb307f68da976f4e963c2"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a6a4bf08c007bb307f68da976f4e963c2">addTaskRemote</a> (F &amp;&amp;func)</td></tr>
<tr class="separator:a6a4bf08c007bb307f68da976f4e963c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71204dcccff587aa9e4ac7ded6986866"><td class="memTemplParams" colspan="2">template&lt;typename F &gt; </td></tr>
<tr class="memitem:a71204dcccff587aa9e4ac7ded6986866"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a71204dcccff587aa9e4ac7ded6986866">addTaskRemoteFuture</a> (F &amp;&amp;func) -&gt; <a class="el" href="classfolly_1_1Future.html">folly::Future</a>&lt; typename <a class="el" href="structfolly_1_1lift__unit.html">folly::lift_unit</a>&lt; <a class="el" href="namespacefolly.html#a959935d9eb6cce6bd25049997b200b93">invoke_result_t</a>&lt; F &gt;&gt;::<a class="el" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">type</a> &gt;</td></tr>
<tr class="separator:a71204dcccff587aa9e4ac7ded6986866"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2a67910d675705bcb9e9909c2e7cff8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#ac2a67910d675705bcb9e9909c2e7cff8">add</a> (<a class="el" href="namespacefolly.html#a4f345dd5f9b26d8dd202c2072badbea8">folly::Func</a> <a class="el" href="StackOverflow_8cpp.html#a818f01d15ad1b9b4900c4513a27c273f">f</a>) override</td></tr>
<tr class="separator:ac2a67910d675705bcb9e9909c2e7cff8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65aad1466338d8765458ee5faf1a2800"><td class="memTemplParams" colspan="2">template&lt;typename F , typename G &gt; </td></tr>
<tr class="memitem:a65aad1466338d8765458ee5faf1a2800"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a65aad1466338d8765458ee5faf1a2800">addTaskFinally</a> (F &amp;&amp;func, G &amp;&amp;finally)</td></tr>
<tr class="separator:a65aad1466338d8765458ee5faf1a2800"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5114ccdf275bc73cd4ffd9f1ed807769"><td class="memTemplParams" colspan="2">template&lt;typename F &gt; </td></tr>
<tr class="memitem:a5114ccdf275bc73cd4ffd9f1ed807769"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="namespacefolly.html#a959935d9eb6cce6bd25049997b200b93">invoke_result_t</a>&lt; F &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a5114ccdf275bc73cd4ffd9f1ed807769">runInMainContext</a> (F &amp;&amp;func)</td></tr>
<tr class="separator:a5114ccdf275bc73cd4ffd9f1ed807769"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a558df5adbea37e9b2e9ea16a58b70822"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a558df5adbea37e9b2e9ea16a58b70822"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a558df5adbea37e9b2e9ea16a58b70822">local</a> ()</td></tr>
<tr class="separator:a558df5adbea37e9b2e9ea16a58b70822"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeedc4a2a6d8bb6067357f461f086e75e"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#aeedc4a2a6d8bb6067357f461f086e75e">fibersAllocated</a> () const </td></tr>
<tr class="separator:aeedc4a2a6d8bb6067357f461f086e75e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea369a2a04bb4fbb7136a6b4d6d1dd32"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#aea369a2a04bb4fbb7136a6b4d6d1dd32">fibersPoolSize</a> () const </td></tr>
<tr class="separator:aea369a2a04bb4fbb7136a6b4d6d1dd32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a95b573e5a020896babe8a4359ff8b3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a9a95b573e5a020896babe8a4359ff8b3">hasActiveFiber</a> () const </td></tr>
<tr class="separator:a9a95b573e5a020896babe8a4359ff8b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06a8a3ee855b70e9f8a86787d744136c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1fibers_1_1Fiber.html">Fiber</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a06a8a3ee855b70e9f8a86787d744136c">currentFiber</a> () const </td></tr>
<tr class="separator:a06a8a3ee855b70e9f8a86787d744136c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf1cb8a1dfcef76c642df5976e7f0fa9"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#acf1cb8a1dfcef76c642df5976e7f0fa9">stackHighWatermark</a> () const </td></tr>
<tr class="separator:acf1cb8a1dfcef76c642df5976e7f0fa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ed42287a031ff5a5538aceb3cfaa83d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a7ed42287a031ff5a5538aceb3cfaa83d">yield</a> ()</td></tr>
<tr class="separator:a7ed42287a031ff5a5538aceb3cfaa83d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a959bd7cdb2b1a0bb0f2e893e0dcf1ca1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a959bd7cdb2b1a0bb0f2e893e0dcf1ca1">setObserver</a> (<a class="el" href="classfolly_1_1ExecutionObserver.html">ExecutionObserver</a> *observer)</td></tr>
<tr class="separator:a959bd7cdb2b1a0bb0f2e893e0dcf1ca1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a45d0b96be40de4fc0a2ac694e26b32"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1ExecutionObserver.html">ExecutionObserver</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a9a45d0b96be40de4fc0a2ac694e26b32">getObserver</a> ()</td></tr>
<tr class="separator:a9a45d0b96be40de4fc0a2ac694e26b32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae98f74d5a88dbd417ab4b60c12f70f93"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#ae98f74d5a88dbd417ab4b60c12f70f93">setPreemptRunner</a> (<a class="el" href="classfolly_1_1fibers_1_1InlineFunctionRunner.html">InlineFunctionRunner</a> *preemptRunner)</td></tr>
<tr class="separator:ae98f74d5a88dbd417ab4b60c12f70f93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2eb7889dda61da3526a5fb525dd61d6"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#ae2eb7889dda61da3526a5fb525dd61d6">runQueueSize</a> () const </td></tr>
<tr class="separator:ae2eb7889dda61da3526a5fb525dd61d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab749843f93e3ac2c3ac3540a93d426f7"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ab749843f93e3ac2c3ac3540a93d426f7"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#ab749843f93e3ac2c3ac3540a93d426f7">localThread</a> ()</td></tr>
<tr class="separator:ab749843f93e3ac2c3ac3540a93d426f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classfolly_1_1Executor"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classfolly_1_1Executor')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classfolly_1_1Executor.html">folly::Executor</a></td></tr>
<tr class="memitem:a2a710c710ae0eba33dc6548f39576f43 inherit pub_methods_classfolly_1_1Executor"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#a2a710c710ae0eba33dc6548f39576f43">~Executor</a> ()</td></tr>
<tr class="separator:a2a710c710ae0eba33dc6548f39576f43 inherit pub_methods_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d84a5a09f7762ca05cdb5ae2dea15b9 inherit pub_methods_classfolly_1_1Executor"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#a3d84a5a09f7762ca05cdb5ae2dea15b9">addWithPriority</a> (<a class="el" href="namespacefolly.html#a4f345dd5f9b26d8dd202c2072badbea8">Func</a>, <a class="el" href="ConstexprMathBenchmark_8cpp.html#a20c38cc5aac7cc6b0a3c6ab05428436d">int8_t</a> priority)</td></tr>
<tr class="separator:a3d84a5a09f7762ca05cdb5ae2dea15b9 inherit pub_methods_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2c2fbd10f0e14f06b329f107dfaf140 inherit pub_methods_classfolly_1_1Executor"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#ad2c2fbd10f0e14f06b329f107dfaf140">getNumPriorities</a> () const </td></tr>
<tr class="separator:ad2c2fbd10f0e14f06b329f107dfaf140 inherit pub_methods_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:acd1a9f4c8e3245ea836a369fab797389"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:acd1a9f4c8e3245ea836a369fab797389"><td class="memTemplItemLeft" align="right" valign="top">static <a class="el" href="CPortability_8h.html#a13e2623b1813a2c6691224df88744c87">FOLLY_EXPORT</a> <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#acd1a9f4c8e3245ea836a369fab797389">localThread</a> ()</td></tr>
<tr class="separator:acd1a9f4c8e3245ea836a369fab797389"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63d2c8f91aa442f4c28af884e1c8bb97"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfolly_1_1fibers_1_1FiberManager.html">FiberManager</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a63d2c8f91aa442f4c28af884e1c8bb97">getFiberManager</a> ()</td></tr>
<tr class="separator:a63d2c8f91aa442f4c28af884e1c8bb97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0d53ca18d2f41f6a5663afe1f0fe3b6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfolly_1_1fibers_1_1FiberManager.html">FiberManager</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#ab0d53ca18d2f41f6a5663afe1f0fe3b6">getFiberManagerUnsafe</a> ()</td></tr>
<tr class="separator:ab0d53ca18d2f41f6a5663afe1f0fe3b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_methods_classfolly_1_1Executor"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classfolly_1_1Executor')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classfolly_1_1Executor.html">folly::Executor</a></td></tr>
<tr class="memitem:a921eb187ac98c7ef6ae0a04d741c55b6 inherit pub_static_methods_classfolly_1_1Executor"><td class="memTemplParams" colspan="2">template&lt;typename ExecutorT &gt; </td></tr>
<tr class="memitem:a921eb187ac98c7ef6ae0a04d741c55b6 inherit pub_static_methods_classfolly_1_1Executor"><td class="memTemplItemLeft" align="right" valign="top">static <a class="el" href="classfolly_1_1Executor_1_1KeepAlive.html">KeepAlive</a>&lt; ExecutorT &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#a921eb187ac98c7ef6ae0a04d741c55b6">getKeepAliveToken</a> (ExecutorT *executor)</td></tr>
<tr class="separator:a921eb187ac98c7ef6ae0a04d741c55b6 inherit pub_static_methods_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1590ff9b76a92b064a41f789e07e764c inherit pub_static_methods_classfolly_1_1Executor"><td class="memTemplParams" colspan="2">template&lt;typename ExecutorT &gt; </td></tr>
<tr class="memitem:a1590ff9b76a92b064a41f789e07e764c inherit pub_static_methods_classfolly_1_1Executor"><td class="memTemplItemLeft" align="right" valign="top">static <a class="el" href="classfolly_1_1Executor_1_1KeepAlive.html">KeepAlive</a>&lt; ExecutorT &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#a1590ff9b76a92b064a41f789e07e764c">getKeepAliveToken</a> (ExecutorT &amp;executor)</td></tr>
<tr class="separator:a1590ff9b76a92b064a41f789e07e764c inherit pub_static_methods_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a9777ff9807251e65901461c7b0aa0b8e"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="namespacefolly.html#a2d31b2b9594c8a64b49dece626c4a8fa">folly::IntrusiveList</a>&lt; <a class="el" href="classfolly_1_1fibers_1_1Fiber.html">Fiber</a>,&amp;<a class="el" href="classfolly_1_1fibers_1_1Fiber.html#a5fea77cccb2fe20a924a4ce631da0a59">Fiber::listHook_</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a9777ff9807251e65901461c7b0aa0b8e">FiberTailQueue</a></td></tr>
<tr class="separator:a9777ff9807251e65901461c7b0aa0b8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15d7c29f80437881626ce5ab308dcee5"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="namespacefolly.html#a2d31b2b9594c8a64b49dece626c4a8fa">folly::IntrusiveList</a>&lt; <a class="el" href="classfolly_1_1fibers_1_1Fiber.html">Fiber</a>,&amp;<a class="el" href="classfolly_1_1fibers_1_1Fiber.html#a6b738d372662408981e33b2fe2cebe4f">Fiber::globalListHook_</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a15d7c29f80437881626ce5ab308dcee5">GlobalFiberTailQueue</a></td></tr>
<tr class="separator:a15d7c29f80437881626ce5ab308dcee5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ad7c199710b7be54795b80bc614107860"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#ad7c199710b7be54795b80bc614107860">activateFiber</a> (<a class="el" href="classfolly_1_1fibers_1_1Fiber.html">Fiber</a> *fiber)</td></tr>
<tr class="separator:ad7c199710b7be54795b80bc614107860"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b70f9ee586c620b031ce742a4bc52c1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a3b70f9ee586c620b031ce742a4bc52c1">deactivateFiber</a> (<a class="el" href="classfolly_1_1fibers_1_1Fiber.html">Fiber</a> *fiber)</td></tr>
<tr class="separator:a3b70f9ee586c620b031ce742a4bc52c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af13e9d81ab59be054c7ec304dd6ec11f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#af13e9d81ab59be054c7ec304dd6ec11f">ensureLoopScheduled</a> ()</td></tr>
<tr class="separator:af13e9d81ab59be054c7ec304dd6ec11f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f07b809e3ca2a9069ddc295a16b4c73"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1fibers_1_1Fiber.html">Fiber</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a5f07b809e3ca2a9069ddc295a16b4c73">getFiber</a> ()</td></tr>
<tr class="separator:a5f07b809e3ca2a9069ddc295a16b4c73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f56add77534cc849fba62079447d682"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a6f56add77534cc849fba62079447d682">initLocalData</a> (<a class="el" href="classfolly_1_1fibers_1_1Fiber.html">Fiber</a> &amp;fiber)</td></tr>
<tr class="separator:a6f56add77534cc849fba62079447d682"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5152ae4b02c0a08df29044b697272001"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a5152ae4b02c0a08df29044b697272001">doFibersPoolResizing</a> ()</td></tr>
<tr class="separator:a5152ae4b02c0a08df29044b697272001"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ec30cbbf70fcfba24928f5bfff38646"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a0ec30cbbf70fcfba24928f5bfff38646">runReadyFiber</a> (<a class="el" href="classfolly_1_1fibers_1_1Fiber.html">Fiber</a> *fiber)</td></tr>
<tr class="separator:a0ec30cbbf70fcfba24928f5bfff38646"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9a7ceefea0d77523c87ad997dc3e0a8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#af9a7ceefea0d77523c87ad997dc3e0a8">remoteReadyInsert</a> (<a class="el" href="classfolly_1_1fibers_1_1Fiber.html">Fiber</a> *fiber)</td></tr>
<tr class="separator:af9a7ceefea0d77523c87ad997dc3e0a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3563c6a70f59af4295a9ac6f17d902b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#ae3563c6a70f59af4295a9ac6f17d902b">registerAlternateSignalStack</a> ()</td></tr>
<tr class="separator:ae3563c6a70f59af4295a9ac6f17d902b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ab83c6f4f665aedc45317c9a42827a4e9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1fibers_1_1Fiber.html">Fiber</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#ab83c6f4f665aedc45317c9a42827a4e9">activeFiber_</a> {<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>}</td></tr>
<tr class="separator:ab83c6f4f665aedc45317c9a42827a4e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca84d2616a3e048271a1eb55cbd3c408"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1fibers_1_1Fiber.html">Fiber</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#aca84d2616a3e048271a1eb55cbd3c408">currentFiber_</a> {<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>}</td></tr>
<tr class="separator:aca84d2616a3e048271a1eb55cbd3c408"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90d6f76e5f9062071e61c076cfb289a0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a9777ff9807251e65901461c7b0aa0b8e">FiberTailQueue</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a90d6f76e5f9062071e61c076cfb289a0">readyFibers_</a></td></tr>
<tr class="separator:a90d6f76e5f9062071e61c076cfb289a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb3a0e6f801a22eba03427ee8900b2b4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a9777ff9807251e65901461c7b0aa0b8e">FiberTailQueue</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#aeb3a0e6f801a22eba03427ee8900b2b4">yieldedFibers_</a></td></tr>
<tr class="separator:aeb3a0e6f801a22eba03427ee8900b2b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a921f17ae377c2de2bc52304caf6d976b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a9777ff9807251e65901461c7b0aa0b8e">FiberTailQueue</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a921f17ae377c2de2bc52304caf6d976b">fibersPool_</a></td></tr>
<tr class="separator:a921f17ae377c2de2bc52304caf6d976b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3af77f2b76369d7a37cc2869bf639261"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a15d7c29f80437881626ce5ab308dcee5">GlobalFiberTailQueue</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a3af77f2b76369d7a37cc2869bf639261">allFibers_</a></td></tr>
<tr class="separator:a3af77f2b76369d7a37cc2869bf639261"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdb57392116fded07d410b6781fd6ff8"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#abdb57392116fded07d410b6781fd6ff8">fibersAllocated_</a> {0}</td></tr>
<tr class="separator:abdb57392116fded07d410b6781fd6ff8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab693d2e8c51df3895e19d7127424fd55"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#ab693d2e8c51df3895e19d7127424fd55">fibersPoolSize_</a> {0}</td></tr>
<tr class="separator:ab693d2e8c51df3895e19d7127424fd55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0ed46e7735a68b296445e443f32b92a"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#ac0ed46e7735a68b296445e443f32b92a">fibersActive_</a> {0}</td></tr>
<tr class="separator:ac0ed46e7735a68b296445e443f32b92a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a880af583ca09f8cca9982a1a66a18e6b"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a880af583ca09f8cca9982a1a66a18e6b">fiberId_</a> {0}</td></tr>
<tr class="separator:a880af583ca09f8cca9982a1a66a18e6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9efb3c72484be0f67405e89790f3d2d"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#ae9efb3c72484be0f67405e89790f3d2d">maxFibersActiveLastPeriod_</a> {0}</td></tr>
<tr class="separator:ae9efb3c72484be0f67405e89790f3d2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ecc213fac4752d8c94f520dcbfe958a"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classfolly_1_1fibers_1_1LoopController.html">LoopController</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a0ecc213fac4752d8c94f520dcbfe958a">loopController_</a></td></tr>
<tr class="separator:a0ecc213fac4752d8c94f520dcbfe958a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a249f40d4e85c4ec29b0c5abe2d4d9465"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a249f40d4e85c4ec29b0c5abe2d4d9465">isLoopScheduled_</a> {false}</td></tr>
<tr class="separator:a249f40d4e85c4ec29b0c5abe2d4d9465"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55ba8c2f568917fe659020587cf986f7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1fibers_1_1GuardPageAllocator.html">GuardPageAllocator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a55ba8c2f568917fe659020587cf986f7">stackAllocator_</a></td></tr>
<tr class="separator:a55ba8c2f568917fe659020587cf986f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51621a9791d0f3e5f10279827a8166ed"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structfolly_1_1fibers_1_1FiberManager_1_1Options.html">Options</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a51621a9791d0f3e5f10279827a8166ed">options_</a></td></tr>
<tr class="separator:a51621a9791d0f3e5f10279827a8166ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d4abcb0d01365abeae78893deed831c"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a6d4abcb0d01365abeae78893deed831c">stackHighWatermark_</a> {0}</td></tr>
<tr class="separator:a6d4abcb0d01365abeae78893deed831c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b9580b6ccf6a98f1a8b5b4cadf16af7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1Function.html">folly::Function</a>&lt; void(<a class="el" href="classfolly_1_1fibers_1_1Fiber.html">Fiber</a> &amp;)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a4b9580b6ccf6a98f1a8b5b4cadf16af7">awaitFunc_</a></td></tr>
<tr class="separator:a4b9580b6ccf6a98f1a8b5b4cadf16af7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a059ec636263bc9a60824908482e2b2c4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1Function.html">folly::Function</a>&lt; void()&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a059ec636263bc9a60824908482e2b2c4">immediateFunc_</a></td></tr>
<tr class="separator:a059ec636263bc9a60824908482e2b2c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1f32fe0d3803147b4fadd649dddfbd7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1fibers_1_1InlineFunctionRunner.html">InlineFunctionRunner</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#ae1f32fe0d3803147b4fadd649dddfbd7">preemptRunner_</a> {<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>}</td></tr>
<tr class="separator:ae1f32fe0d3803147b4fadd649dddfbd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0f81919fe53bb76fd66de48d2428163"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1ExecutionObserver.html">ExecutionObserver</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#aa0f81919fe53bb76fd66de48d2428163">observer_</a> {<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>}</td></tr>
<tr class="separator:aa0f81919fe53bb76fd66de48d2428163"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85ec9f41bf70c1d6c7e2f2ac7d02d5f0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a0b101796ea86a8d29260a520ec3e72e5">ExceptionCallback</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a85ec9f41bf70c1d6c7e2f2ac7d02d5f0">exceptionCallback_</a></td></tr>
<tr class="separator:a85ec9f41bf70c1d6c7e2f2ac7d02d5f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c50e7634b78f7f80132a90e197f5b3c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1AtomicIntrusiveLinkedList.html">folly::AtomicIntrusiveLinkedList</a>&lt; <a class="el" href="classfolly_1_1fibers_1_1Fiber.html">Fiber</a>,&amp;<a class="el" href="classfolly_1_1fibers_1_1Fiber.html#ae29e6882e1fc229008aaab437ff3fd62">Fiber::nextRemoteReady_</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a0c50e7634b78f7f80132a90e197f5b3c">remoteReadyQueue_</a></td></tr>
<tr class="separator:a0c50e7634b78f7f80132a90e197f5b3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2558ee3df69e0c868e0ccba3c6f977a4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1AtomicIntrusiveLinkedList.html">folly::AtomicIntrusiveLinkedList</a>&lt; <a class="el" href="structfolly_1_1fibers_1_1FiberManager_1_1RemoteTask.html">RemoteTask</a>,&amp;<a class="el" href="structfolly_1_1fibers_1_1FiberManager_1_1RemoteTask.html#a73eb92ebda7bd11b183ed85181732876">RemoteTask::nextRemoteTask</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a2558ee3df69e0c868e0ccba3c6f977a4">remoteTaskQueue_</a></td></tr>
<tr class="separator:a2558ee3df69e0c868e0ccba3c6f977a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8bb7fed95f46e8d84de2b9fcfa51d58"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#ae8bb7fed95f46e8d84de2b9fcfa51d58">remoteCount_</a> {0}</td></tr>
<tr class="separator:ae8bb7fed95f46e8d84de2b9fcfa51d58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebbefd1505f46578b01a37bf53d71b01"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classfolly_1_1fibers_1_1TimeoutController.html">TimeoutController</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#aebbefd1505f46578b01a37bf53d71b01">timeoutManager_</a></td></tr>
<tr class="separator:aebbefd1505f46578b01a37bf53d71b01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e75f8ae203bd06c2251fc70a3eddbd9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfolly_1_1fibers_1_1FiberManager_1_1FibersPoolResizer.html">FibersPoolResizer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a2e75f8ae203bd06c2251fc70a3eddbd9">fibersPoolResizer_</a></td></tr>
<tr class="separator:a2e75f8ae203bd06c2251fc70a3eddbd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a062f5ea04708c3367bc36854d8825caa"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a062f5ea04708c3367bc36854d8825caa">fibersPoolResizerScheduled_</a> {false}</td></tr>
<tr class="separator:a062f5ea04708c3367bc36854d8825caa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54ed8e163b11c728fd215e960cd53b3d"><td class="memItemLeft" align="right" valign="top">std::type_index&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a54ed8e163b11c728fd215e960cd53b3d">localType_</a></td></tr>
<tr class="separator:a54ed8e163b11c728fd215e960cd53b3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9b4a771327546c6209dd10b80f8ed72"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#ab9b4a771327546c6209dd10b80f8ed72">alternateSignalStackRegistered_</a> {false}</td></tr>
<tr class="separator:ab9b4a771327546c6209dd10b80f8ed72"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a05ce87b893be2ab0309debfd078e5408"><td class="memItemLeft" align="right" valign="top">static FOLLY_TLS <a class="el" href="classfolly_1_1fibers_1_1FiberManager.html">FiberManager</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a05ce87b893be2ab0309debfd078e5408">currentFiberManager_</a> = <a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a></td></tr>
<tr class="separator:a05ce87b893be2ab0309debfd078e5408"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a6d78b4c9d9bdb83bd89799970f956ebe"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a6d78b4c9d9bdb83bd89799970f956ebe">Baton</a></td></tr>
<tr class="separator:a6d78b4c9d9bdb83bd89799970f956ebe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87a616a1350a043ee7172754e2521db8"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a87a616a1350a043ee7172754e2521db8">Fiber</a></td></tr>
<tr class="separator:a87a616a1350a043ee7172754e2521db8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_attribs_classfolly_1_1Executor"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_classfolly_1_1Executor')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="classfolly_1_1Executor.html">folly::Executor</a></td></tr>
<tr class="memitem:afbb7f50dbb65dd3395aab6dcd5603cf5 inherit pub_static_attribs_classfolly_1_1Executor"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="ConstexprMathBenchmark_8cpp.html#a20c38cc5aac7cc6b0a3c6ab05428436d">int8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#afbb7f50dbb65dd3395aab6dcd5603cf5">LO_PRI</a> = SCHAR_MIN</td></tr>
<tr class="separator:afbb7f50dbb65dd3395aab6dcd5603cf5 inherit pub_static_attribs_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a579944074469580e7a967aa1231ba57a inherit pub_static_attribs_classfolly_1_1Executor"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="ConstexprMathBenchmark_8cpp.html#a20c38cc5aac7cc6b0a3c6ab05428436d">int8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#a579944074469580e7a967aa1231ba57a">MID_PRI</a> = 0</td></tr>
<tr class="separator:a579944074469580e7a967aa1231ba57a inherit pub_static_attribs_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9acf25ca896f289cddb1164a77928d43 inherit pub_static_attribs_classfolly_1_1Executor"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="ConstexprMathBenchmark_8cpp.html#a20c38cc5aac7cc6b0a3c6ab05428436d">int8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#a9acf25ca896f289cddb1164a77928d43">HI_PRI</a> = SCHAR_MAX</td></tr>
<tr class="separator:a9acf25ca896f289cddb1164a77928d43 inherit pub_static_attribs_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classfolly_1_1Executor"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classfolly_1_1Executor')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classfolly_1_1Executor.html">folly::Executor</a></td></tr>
<tr class="memitem:a28667362d4369bae08cf7d2fb2b8f6e4 inherit pro_methods_classfolly_1_1Executor"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#a28667362d4369bae08cf7d2fb2b8f6e4">keepAliveAcquire</a> ()</td></tr>
<tr class="separator:a28667362d4369bae08cf7d2fb2b8f6e4 inherit pro_methods_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd6e861b8332e8466eb62950aa10f4b7 inherit pro_methods_classfolly_1_1Executor"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#abd6e861b8332e8466eb62950aa10f4b7">keepAliveRelease</a> ()</td></tr>
<tr class="separator:abd6e861b8332e8466eb62950aa10f4b7 inherit pro_methods_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_static_methods_classfolly_1_1Executor"><td colspan="2" onclick="javascript:toggleInherit('pro_static_methods_classfolly_1_1Executor')"><img src="closed.png" alt="-"/>&#160;Static Protected Member Functions inherited from <a class="el" href="classfolly_1_1Executor.html">folly::Executor</a></td></tr>
<tr class="memitem:ac65c1aa0dc2f340496c77f64f69067ff inherit pro_static_methods_classfolly_1_1Executor"><td class="memTemplParams" colspan="2">template&lt;typename ExecutorT &gt; </td></tr>
<tr class="memitem:ac65c1aa0dc2f340496c77f64f69067ff inherit pro_static_methods_classfolly_1_1Executor"><td class="memTemplItemLeft" align="right" valign="top">static bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#ac65c1aa0dc2f340496c77f64f69067ff">isKeepAliveDummy</a> (const <a class="el" href="classfolly_1_1Executor_1_1KeepAlive.html">KeepAlive</a>&lt; ExecutorT &gt; &amp;keepAlive)</td></tr>
<tr class="separator:ac65c1aa0dc2f340496c77f64f69067ff inherit pro_static_methods_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c9692aa8d5e046467df1f73776270bf inherit pro_static_methods_classfolly_1_1Executor"><td class="memTemplParams" colspan="2">template&lt;typename ExecutorT &gt; </td></tr>
<tr class="memitem:a8c9692aa8d5e046467df1f73776270bf inherit pro_static_methods_classfolly_1_1Executor"><td class="memTemplItemLeft" align="right" valign="top">static <a class="el" href="classfolly_1_1Executor_1_1KeepAlive.html">KeepAlive</a>&lt; ExecutorT &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#a8c9692aa8d5e046467df1f73776270bf">makeKeepAlive</a> (ExecutorT *executor)</td></tr>
<tr class="separator:a8c9692aa8d5e046467df1f73776270bf inherit pro_static_methods_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Single-threaded task execution engine. </p>
<p><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html" title="Single-threaded task execution engine. ">FiberManager</a> allows semi-parallel task execution on the same thread. Each task can notify <a class="el" href="classfolly_1_1fibers_1_1FiberManager.html" title="Single-threaded task execution engine. ">FiberManager</a> that it is blocked on something (via <a class="el" href="namespacefolly_1_1fibers.html#a6d41d11c2abd9aa82f603a71b5b71082">await()</a>) call. This will pause execution of this task and it will be resumed only when it is unblocked (via setData()). </p>

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00077">77</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a0b101796ea86a8d29260a520ec3e72e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a0b101796ea86a8d29260a520ec3e72e5">folly::fibers::FiberManager::ExceptionCallback</a> =  <a class="el" href="classfolly_1_1Function.html">folly::Function</a>&lt;void(std::exception_ptr, <a class="el" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a>)&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00129">129</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9777ff9807251e65901461c7b0aa0b8e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="namespacefolly.html#a2d31b2b9594c8a64b49dece626c4a8fa">folly::IntrusiveList</a>&lt;<a class="el" href="classfolly_1_1fibers_1_1Fiber.html">Fiber</a>, &amp;<a class="el" href="classfolly_1_1fibers_1_1Fiber.html#a5fea77cccb2fe20a924a4ce631da0a59">Fiber::listHook_</a>&gt; <a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a9777ff9807251e65901461c7b0aa0b8e">folly::fibers::FiberManager::FiberTailQueue</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00370">370</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

</div>
</div>
<a class="anchor" id="a15d7c29f80437881626ce5ab308dcee5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="namespacefolly.html#a2d31b2b9594c8a64b49dece626c4a8fa">folly::IntrusiveList</a>&lt;<a class="el" href="classfolly_1_1fibers_1_1Fiber.html">Fiber</a>, &amp;<a class="el" href="classfolly_1_1fibers_1_1Fiber.html#a6b738d372662408981e33b2fe2cebe4f">Fiber::globalListHook_</a>&gt; <a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a15d7c29f80437881626ce5ab308dcee5">folly::fibers::FiberManager::GlobalFiberTailQueue</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00372">372</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a1d1403b5d648001daebbbb51853677fb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">folly::fibers::FiberManager::FiberManager </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfolly_1_1fibers_1_1FiberManager.html">FiberManager</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a18ceb4c5f60532f5fcafe097485c2651"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">folly::fibers::FiberManager::FiberManager </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classfolly_1_1fibers_1_1LoopController.html">LoopController</a> &gt;&#160;</td>
          <td class="paramname"><em>loopController</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfolly_1_1fibers_1_1FiberManager_1_1Options.html">Options</a>&#160;</td>
          <td class="paramname"><em>options</em> = <code><a class="el" href="structfolly_1_1fibers_1_1FiberManager_1_1Options.html">Options</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Initializes, but doesn't start <a class="el" href="classfolly_1_1fibers_1_1FiberManager.html" title="Single-threaded task execution engine. ">FiberManager</a> loop</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loopController</td><td></td></tr>
    <tr><td class="paramname">options</td><td><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html" title="Single-threaded task execution engine. ">FiberManager</a> options </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="FiberManager_8cpp_source.html#l00073">73</a> of file <a class="el" href="FiberManager_8cpp_source.html">FiberManager.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    : <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a1d1403b5d648001daebbbb51853677fb">FiberManager</a>(</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;          LocalType&lt;void&gt;(),</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;          <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(loopController),</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;          <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(options)) {}</div><div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a1d1403b5d648001daebbbb51853677fb"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a1d1403b5d648001daebbbb51853677fb">folly::fibers::FiberManager::FiberManager</a></div><div class="ttdeci">FiberManager(const FiberManager &amp;)=delete</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a989a40d18af48888a78145f840d71bc3"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename LocalT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">folly::fibers::FiberManager::FiberManager </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1fibers_1_1LocalType.html">LocalType</a>&lt; LocalT &gt;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classfolly_1_1fibers_1_1LoopController.html">LoopController</a> &gt;&#160;</td>
          <td class="paramname"><em>loopController</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfolly_1_1fibers_1_1FiberManager_1_1Options.html">Options</a>&#160;</td>
          <td class="paramname"><em>options</em> = <code><a class="el" href="structfolly_1_1fibers_1_1FiberManager_1_1Options.html">Options</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes, but doesn't start <a class="el" href="classfolly_1_1fibers_1_1FiberManager.html" title="Single-threaded task execution engine. ">FiberManager</a> loop</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loopController</td><td></td></tr>
    <tr><td class="paramname">options</td><td><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html" title="Single-threaded task execution engine. ">FiberManager</a> options </td></tr>
  </table>
  </dd>
</dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">LocalT</td><td>only local of this type may be stored on fibers. Locals of other types will be considered thread-locals. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00531">531</a> of file <a class="el" href="FiberManagerInternal-inl_8h_source.html">FiberManagerInternal-inl.h</a>.</p>

<p>References <a class="el" href="fizz_2build___2CMakeCache_8txt_source.html#l00563">context</a>, <a class="el" href="namespacefolly.html#a925db14fdb0096fe395f6acc43118f4aad301b1984c2230caf8836ab7e69e4453">folly::DFATAL</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00476">fibersPoolResizer_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00484">localType_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00399">loopController_</a>, <a class="el" href="http__parser_8c_source.html#l00437">name</a>, and <a class="el" href="FiberManagerInternal_8h_source.html#l00466">timeoutManager_</a>.</p>
<div class="fragment"><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    : <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a0ecc213fac4752d8c94f520dcbfe958a">loopController_</a>(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(loopController__)),</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;      <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a55ba8c2f568917fe659020587cf986f7">stackAllocator_</a>(options.useGuardPages),</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;      <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a51621a9791d0f3e5f10279827a8166ed">options_</a>(preprocessOptions(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(options))),</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;      <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a85ec9f41bf70c1d6c7e2f2ac7d02d5f0">exceptionCallback_</a>([](std::exception_ptr eptr, <a class="code" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a> <a class="code" href="fizz_2build___2CMakeCache_8txt.html#a261f9f58ccbeaa962c4e675e4212c9cc">context</a>) {</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        <span class="keywordflow">try</span> {</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;          <a class="code" href="ExceptionTracerLib_8cpp.html#a14bf5b6a962f91f8313ef5efb6f5c67a">std::rethrow_exception</a>(eptr);</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        } <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception&amp; e) {</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;          LOG(DFATAL) &lt;&lt; <span class="stringliteral">&quot;Exception &quot;</span> &lt;&lt; <span class="keyword">typeid</span>(e).<a class="code" href="http__parser_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>() &lt;&lt; <span class="stringliteral">&quot; with message &#39;&quot;</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                      &lt;&lt; e.what() &lt;&lt; <span class="stringliteral">&quot;&#39; was thrown in &quot;</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;FiberManager with context &#39;&quot;</span> &lt;&lt; context &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span>;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        } <span class="keywordflow">catch</span> (...) {</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;          LOG(DFATAL) &lt;&lt; <span class="stringliteral">&quot;Unknown exception was thrown in FiberManager with &quot;</span></div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;context &#39;&quot;</span> &lt;&lt; context &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span>;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        }</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;      }),</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;      <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#aebbefd1505f46578b01a37bf53d71b01">timeoutManager_</a>(std::make_shared&lt;TimeoutController&gt;(*<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a0ecc213fac4752d8c94f520dcbfe958a">loopController_</a>)),</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a2e75f8ae203bd06c2251fc70a3eddbd9">fibersPoolResizer_</a>(*<span class="keyword">this</span>),</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;      <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a54ed8e163b11c728fd215e960cd53b3d">localType_</a>(<span class="keyword">typeid</span>(LocalT)) {</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a0ecc213fac4752d8c94f520dcbfe958a">loopController_</a>-&gt;setFiberManager(<span class="keyword">this</span>);</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;}</div><div class="ttc" id="ExceptionTracerLib_8cpp_html_a14bf5b6a962f91f8313ef5efb6f5c67a"><div class="ttname"><a href="ExceptionTracerLib_8cpp.html#a14bf5b6a962f91f8313ef5efb6f5c67a">std::rethrow_exception</a></div><div class="ttdeci">void rethrow_exception(std::exception_ptr ep)</div><div class="ttdef"><b>Definition:</b> <a href="ExceptionTracerLib_8cpp_source.html#l00144">ExceptionTracerLib.cpp:144</a></div></div>
<div class="ttc" id="fizz_2build___2CMakeCache_8txt_html_a261f9f58ccbeaa962c4e675e4212c9cc"><div class="ttname"><a href="fizz_2build___2CMakeCache_8txt.html#a261f9f58ccbeaa962c4e675e4212c9cc">context</a></div><div class="ttdeci">context</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2build___2CMakeCache_8txt_source.html#l00563">CMakeCache.txt:563</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a0ecc213fac4752d8c94f520dcbfe958a"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a0ecc213fac4752d8c94f520dcbfe958a">folly::fibers::FiberManager::loopController_</a></div><div class="ttdeci">std::unique_ptr&lt; LoopController &gt; loopController_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00399">FiberManagerInternal.h:399</a></div></div>
<div class="ttc" id="http__parser_8c_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="http__parser_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="http__parser_8c_source.html#l00437">http_parser.c:437</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a51621a9791d0f3e5f10279827a8166ed"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a51621a9791d0f3e5f10279827a8166ed">folly::fibers::FiberManager::options_</a></div><div class="ttdeci">const Options options_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00414">FiberManagerInternal.h:414</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_aebbefd1505f46578b01a37bf53d71b01"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#aebbefd1505f46578b01a37bf53d71b01">folly::fibers::FiberManager::timeoutManager_</a></div><div class="ttdeci">std::shared_ptr&lt; TimeoutController &gt; timeoutManager_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00466">FiberManagerInternal.h:466</a></div></div>
<div class="ttc" id="Conv_8cpp_html_ae1adbce218e7a9d09164012443191d24"><div class="ttname"><a href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">string</a></div><div class="ttdeci">const char * string</div><div class="ttdef"><b>Definition:</b> <a href="Conv_8cpp_source.html#l00212">Conv.cpp:212</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a2e75f8ae203bd06c2251fc70a3eddbd9"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a2e75f8ae203bd06c2251fc70a3eddbd9">folly::fibers::FiberManager::fibersPoolResizer_</a></div><div class="ttdeci">FibersPoolResizer fibersPoolResizer_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00476">FiberManagerInternal.h:476</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a85ec9f41bf70c1d6c7e2f2ac7d02d5f0"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a85ec9f41bf70c1d6c7e2f2ac7d02d5f0">folly::fibers::FiberManager::exceptionCallback_</a></div><div class="ttdeci">ExceptionCallback exceptionCallback_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00456">FiberManagerInternal.h:456</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a55ba8c2f568917fe659020587cf986f7"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a55ba8c2f568917fe659020587cf986f7">folly::fibers::FiberManager::stackAllocator_</a></div><div class="ttdeci">GuardPageAllocator stackAllocator_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00412">FiberManagerInternal.h:412</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a54ed8e163b11c728fd215e960cd53b3d"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a54ed8e163b11c728fd215e960cd53b3d">folly::fibers::FiberManager::localType_</a></div><div class="ttdeci">std::type_index localType_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00484">FiberManagerInternal.h:484</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1fd9dae213a23f2a0bd7a292ddaae739"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">folly::fibers::FiberManager::~FiberManager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FiberManager_8cpp_source.html#l00081">81</a> of file <a class="el" href="FiberManager_8cpp_source.html">FiberManager.cpp</a>.</p>

<p>References <a class="el" href="FiberManagerInternal_8h_source.html#l00390">fibersActive_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00384">fibersPool_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00399">loopController_</a>, and <a class="el" href="FiberManagerInternal_8h_source.html#l00381">readyFibers_</a>.</p>
<div class="fragment"><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                            {</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a0ecc213fac4752d8c94f520dcbfe958a">loopController_</a>.reset();</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="keywordflow">while</span> (!<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a921f17ae377c2de2bc52304caf6d976b">fibersPool_</a>.empty()) {</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a921f17ae377c2de2bc52304caf6d976b">fibersPool_</a>.pop_front_and_dispose([](<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a87a616a1350a043ee7172754e2521db8">Fiber</a>* fiber) { <span class="keyword">delete</span> fiber; });</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  }</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  assert(<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a90d6f76e5f9062071e61c076cfb289a0">readyFibers_</a>.empty());</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  assert(<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ac0ed46e7735a68b296445e443f32b92a">fibersActive_</a> == 0);</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;}</div><div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_ac0ed46e7735a68b296445e443f32b92a"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#ac0ed46e7735a68b296445e443f32b92a">folly::fibers::FiberManager::fibersActive_</a></div><div class="ttdeci">size_t fibersActive_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00390">FiberManagerInternal.h:390</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a90d6f76e5f9062071e61c076cfb289a0"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a90d6f76e5f9062071e61c076cfb289a0">folly::fibers::FiberManager::readyFibers_</a></div><div class="ttdeci">FiberTailQueue readyFibers_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00381">FiberManagerInternal.h:381</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a0ecc213fac4752d8c94f520dcbfe958a"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a0ecc213fac4752d8c94f520dcbfe958a">folly::fibers::FiberManager::loopController_</a></div><div class="ttdeci">std::unique_ptr&lt; LoopController &gt; loopController_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00399">FiberManagerInternal.h:399</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a921f17ae377c2de2bc52304caf6d976b"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a921f17ae377c2de2bc52304caf6d976b">folly::fibers::FiberManager::fibersPool_</a></div><div class="ttdeci">FiberTailQueue fibersPool_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00384">FiberManagerInternal.h:384</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a87a616a1350a043ee7172754e2521db8"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a87a616a1350a043ee7172754e2521db8">folly::fibers::FiberManager::Fiber</a></div><div class="ttdeci">friend class Fiber</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00346">FiberManagerInternal.h:346</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ad7c199710b7be54795b80bc614107860"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::fibers::FiberManager::activateFiber </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1fibers_1_1Fiber.html">Fiber</a> *&#160;</td>
          <td class="paramname"><em>fiber</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00059">59</a> of file <a class="el" href="FiberManagerInternal-inl_8h_source.html">FiberManagerInternal-inl.h</a>.</p>

<p>References <a class="el" href="BoostContextCompatibility_8h_source.html#l00086">folly::fibers::FiberImpl::activate()</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00374">activeFiber_</a>, <a class="el" href="Fiber_8h_source.html#l00112">folly::fibers::Fiber::fiberImpl_</a>, <a class="el" href="Fiber_8h_source.html#l00062">folly::fibers::Fiber::getStack()</a>, and <a class="el" href="ScopeGuard_8h_source.html#l00274">SCOPE_EXIT</a>.</p>

<p>Referenced by <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00103">runReadyFiber()</a>.</p>
<div class="fragment"><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                                                    {</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  DCHECK_EQ(<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ab83c6f4f665aedc45317c9a42827a4e9">activeFiber_</a>, (<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a87a616a1350a043ee7172754e2521db8">Fiber</a>*)<span class="keyword">nullptr</span>);</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#ifdef FOLLY_SANITIZE_ADDRESS</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  DCHECK(!fiber-&gt;asanMainStackBase_);</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  DCHECK(!fiber-&gt;asanMainStackSize_);</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="keyword">auto</span> stack = fiber-&gt;getStack();</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="keywordtype">void</span>* asanFakeStack;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  registerStartSwitchStackWithAsan(&amp;asanFakeStack, stack.first, stack.second);</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <a class="code" href="ScopeGuard_8h.html#a175c354c3e38222bc00ce5df5e6d431d">SCOPE_EXIT</a> {</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    registerFinishSwitchStackWithAsan(asanFakeStack, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    fiber-&gt;asanMainStackBase_ = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    fiber-&gt;asanMainStackSize_ = 0;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  };</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ab83c6f4f665aedc45317c9a42827a4e9">activeFiber_</a> = fiber;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  fiber-&gt;<a class="code" href="classfolly_1_1fibers_1_1Fiber.html#a17a6143e1e49cc1f063aa51442b0784a">fiberImpl_</a>.<a class="code" href="classfolly_1_1fibers_1_1FiberImpl.html#a39592802e15e4df026b67fc11516c191">activate</a>();</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;}</div><div class="ttc" id="classfolly_1_1fibers_1_1Fiber_html_a17a6143e1e49cc1f063aa51442b0784a"><div class="ttname"><a href="classfolly_1_1fibers_1_1Fiber.html#a17a6143e1e49cc1f063aa51442b0784a">folly::fibers::Fiber::fiberImpl_</a></div><div class="ttdeci">FiberImpl fiberImpl_</div><div class="ttdef"><b>Definition:</b> <a href="Fiber_8h_source.html#l00112">Fiber.h:112</a></div></div>
<div class="ttc" id="ScopeGuard_8h_html_a175c354c3e38222bc00ce5df5e6d431d"><div class="ttname"><a href="ScopeGuard_8h.html#a175c354c3e38222bc00ce5df5e6d431d">SCOPE_EXIT</a></div><div class="ttdeci">#define SCOPE_EXIT</div><div class="ttdef"><b>Definition:</b> <a href="ScopeGuard_8h_source.html#l00274">ScopeGuard.h:274</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberImpl_html_a39592802e15e4df026b67fc11516c191"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberImpl.html#a39592802e15e4df026b67fc11516c191">folly::fibers::FiberImpl::activate</a></div><div class="ttdeci">void activate()</div><div class="ttdef"><b>Definition:</b> <a href="BoostContextCompatibility_8h_source.html#l00086">BoostContextCompatibility.h:86</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_ab83c6f4f665aedc45317c9a42827a4e9"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#ab83c6f4f665aedc45317c9a42827a4e9">folly::fibers::FiberManager::activeFiber_</a></div><div class="ttdeci">Fiber * activeFiber_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00374">FiberManagerInternal.h:374</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a87a616a1350a043ee7172754e2521db8"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a87a616a1350a043ee7172754e2521db8">folly::fibers::FiberManager::Fiber</a></div><div class="ttdeci">friend class Fiber</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00346">FiberManagerInternal.h:346</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac2a67910d675705bcb9e9909c2e7cff8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::fibers::FiberManager::add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacefolly.html#a4f345dd5f9b26d8dd202c2072badbea8">folly::Func</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Enqueue a function to executed by this executor. This and all variants must be threadsafe. </p>

<p>Implements <a class="el" href="classfolly_1_1Executor.html#aeeeb38a61c76b212940bbc324320173b">folly::Executor</a>.</p>

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00239">239</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>References <a class="el" href="FiberManagerInternal_8h_source.html#l00545">folly::fibers::addTaskFinally()</a>, <a class="el" href="CPortability_8h_source.html#l00133">FOLLY_EXPORT</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00584">folly::fibers::local()</a>, <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00568">folly::fibers::runInMainContext()</a>, and <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">folly::T</a>.</p>

<p>Referenced by <a class="el" href="FiberIOExecutor_8h_source.html#l00038">folly::FiberIOExecutor::add()</a>, and <a class="el" href="FibersTest_8cpp_source.html#l01844">AtomicBatchDispatcherTesting::dispatchJobs()</a>.</p>
<div class="fragment"><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                                 {</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a6a4bf08c007bb307f68da976f4e963c2">addTaskRemote</a>(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(<a class="code" href="PushmiBenchmarks_8cpp.html#ad94c2c2f9fd35a12cc099962b7540071">f</a>));</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  }</div><div class="ttc" id="PushmiBenchmarks_8cpp_html_ad94c2c2f9fd35a12cc099962b7540071"><div class="ttname"><a href="PushmiBenchmarks_8cpp.html#ad94c2c2f9fd35a12cc099962b7540071">f</a></div><div class="ttdeci">auto f</div><div class="ttdef"><b>Definition:</b> <a href="PushmiBenchmarks_8cpp_source.html#l00515">PushmiBenchmarks.cpp:515</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a6a4bf08c007bb307f68da976f4e963c2"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a6a4bf08c007bb307f68da976f4e963c2">folly::fibers::FiberManager::addTaskRemote</a></div><div class="ttdeci">void addTaskRemote(F &amp;&amp;func)</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal-inl_8h_source.html#l00332">FiberManagerInternal-inl.h:332</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8aad674d853ce51489e0ba3e1a0bdd55"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename F &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void folly::fibers::FiberManager::addTask </td>
          <td>(</td>
          <td class="paramtype">F &amp;&amp;&#160;</td>
          <td class="paramname"><em>func</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a new task to be executed. Must be called from <a class="el" href="classfolly_1_1fibers_1_1FiberManager.html" title="Single-threaded task execution engine. ">FiberManager</a>'s thread.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>Task functor; must have a signature of <code>void func()</code>. The object will be destroyed once task execution is complete. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00306">306</a> of file <a class="el" href="FiberManagerInternal-inl_8h_source.html">FiberManagerInternal-inl.h</a>.</p>

<p>References <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00050">ensureLoopScheduled()</a>, <a class="el" href="FiberManager_8cpp_source.html#l00104">getFiber()</a>, <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00522">initLocalData()</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00454">observer_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00381">readyFibers_</a>, and <a class="el" href="classfolly_1_1ExecutionObserver.html#a75a0f156c288b4867ef02eacc90ca985">folly::ExecutionObserver::runnable()</a>.</p>

<p>Referenced by <a class="el" href="FiberManagerInternal_8h_source.html#l00529">folly::fibers::addTask()</a>, <a class="el" href="FibersBenchmark_8cpp_source.html#l00084">BENCHMARK()</a>, <a class="el" href="StackOverflow_8cpp_source.html#l00033">main()</a>, <a class="el" href="FibersBenchmark_8cpp_source.html#l00031">runBenchmark()</a>, <a class="el" href="FibersTest_8cpp_source.html#l00043">TEST()</a>, and <a class="el" href="FibersTest_8cpp_source.html#l01163">testFiberLocal()</a>.</p>
<div class="fragment"><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                                   {</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="keyword">typedef</span> AddTaskHelper&lt;F&gt; Helper;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="keyword">auto</span> fiber = <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a5f07b809e3ca2a9069ddc295a16b4c73">getFiber</a>();</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a6f56add77534cc849fba62079447d682">initLocalData</a>(*fiber);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="keywordflow">if</span> (Helper::allocateInBuffer) {</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keyword">auto</span> funcLoc = <span class="keyword">static_cast&lt;</span>typename <a class="code" href="namespacefolly.html#a4f345dd5f9b26d8dd202c2072badbea8">Helper::Func</a>*<span class="keyword">&gt;</span>(fiber-&gt;getUserBuffer());</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keyword">new</span> (funcLoc) <span class="keyword">typename</span> <a class="code" href="namespacefolly.html#a4f345dd5f9b26d8dd202c2072badbea8">Helper::Func</a>(std::forward&lt;F&gt;(func), *<span class="keyword">this</span>);</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    fiber-&gt;setFunction(std::ref(*funcLoc));</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keyword">auto</span> funcLoc = <span class="keyword">new</span> <span class="keyword">typename</span> <a class="code" href="namespacefolly.html#a4f345dd5f9b26d8dd202c2072badbea8">Helper::Func</a>(std::forward&lt;F&gt;(func), *<span class="keyword">this</span>);</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    fiber-&gt;setFunction(std::ref(*funcLoc));</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  }</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a90d6f76e5f9062071e61c076cfb289a0">readyFibers_</a>.push_back(*fiber);</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#aa0f81919fe53bb76fd66de48d2428163">observer_</a>) {</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#aa0f81919fe53bb76fd66de48d2428163">observer_</a>-&gt;<a class="code" href="classfolly_1_1ExecutionObserver.html#a75a0f156c288b4867ef02eacc90ca985">runnable</a>(reinterpret_cast&lt;uintptr_t&gt;(fiber));</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  }</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#af13e9d81ab59be054c7ec304dd6ec11f">ensureLoopScheduled</a>();</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;}</div><div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_af13e9d81ab59be054c7ec304dd6ec11f"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#af13e9d81ab59be054c7ec304dd6ec11f">folly::fibers::FiberManager::ensureLoopScheduled</a></div><div class="ttdeci">void ensureLoopScheduled()</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal-inl_8h_source.html#l00050">FiberManagerInternal-inl.h:50</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a5f07b809e3ca2a9069ddc295a16b4c73"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a5f07b809e3ca2a9069ddc295a16b4c73">folly::fibers::FiberManager::getFiber</a></div><div class="ttdeci">Fiber * getFiber()</div><div class="ttdef"><b>Definition:</b> <a href="FiberManager_8cpp_source.html#l00104">FiberManager.cpp:104</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a90d6f76e5f9062071e61c076cfb289a0"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a90d6f76e5f9062071e61c076cfb289a0">folly::fibers::FiberManager::readyFibers_</a></div><div class="ttdeci">FiberTailQueue readyFibers_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00381">FiberManagerInternal.h:381</a></div></div>
<div class="ttc" id="classfolly_1_1ExecutionObserver_html_a75a0f156c288b4867ef02eacc90ca985"><div class="ttname"><a href="classfolly_1_1ExecutionObserver.html#a75a0f156c288b4867ef02eacc90ca985">folly::ExecutionObserver::runnable</a></div><div class="ttdeci">virtual void runnable(uintptr_t id) noexcept=0</div></div>
<div class="ttc" id="namespacefolly_html_a4f345dd5f9b26d8dd202c2072badbea8"><div class="ttname"><a href="namespacefolly.html#a4f345dd5f9b26d8dd202c2072badbea8">folly::Func</a></div><div class="ttdeci">Function&lt; void()&gt; Func</div><div class="ttdef"><b>Definition:</b> <a href="Executor_8h_source.html#l00027">Executor.h:27</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a6f56add77534cc849fba62079447d682"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a6f56add77534cc849fba62079447d682">folly::fibers::FiberManager::initLocalData</a></div><div class="ttdeci">void initLocalData(Fiber &amp;fiber)</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal-inl_8h_source.html#l00522">FiberManagerInternal-inl.h:522</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_aa0f81919fe53bb76fd66de48d2428163"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#aa0f81919fe53bb76fd66de48d2428163">folly::fibers::FiberManager::observer_</a></div><div class="ttdeci">ExecutionObserver * observer_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00454">FiberManagerInternal.h:454</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a65aad1466338d8765458ee5faf1a2800"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename F , typename G &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void folly::fibers::FiberManager::addTaskFinally </td>
          <td>(</td>
          <td class="paramtype">F &amp;&amp;&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">G &amp;&amp;&#160;</td>
          <td class="paramname"><em>finally</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a new task. When the task is complete, execute finally(Try&lt;Result&gt;&amp;&amp;) on the main context.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>Task functor; must have a signature of <code>T func()</code> for some T. </td></tr>
    <tr><td class="paramname">finally</td><td>Finally functor; must have a signature of <code>void finally(<a class="el" href="classfolly_1_1Try.html">Try</a>&lt;T&gt;&amp;&amp;)</code> and will be passed the result of func() (including the exception if occurred). </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00417">417</a> of file <a class="el" href="FiberManagerInternal-inl_8h_source.html">FiberManagerInternal-inl.h</a>.</p>

<p>References <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00050">ensureLoopScheduled()</a>, <a class="el" href="FiberManager_8cpp_source.html#l00104">getFiber()</a>, <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00522">initLocalData()</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00454">observer_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00381">readyFibers_</a>, <a class="el" href="classfolly_1_1ExecutionObserver.html#a75a0f156c288b4867ef02eacc90ca985">folly::ExecutionObserver::runnable()</a>, <a class="el" href="ClientProtocol_8cpp_source.html#l00777">type</a>, and <a class="el" href="LockFreeRingBufferTest_8cpp_source.html#l00096">folly::value()</a>.</p>

<p>Referenced by <a class="el" href="FiberManagerInternal_8h_source.html#l00545">folly::fibers::addTaskFinally()</a>, and <a class="el" href="FibersTest_8cpp_source.html#l00963">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                                                       {</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <span class="keyword">typedef</span> invoke_result_t&lt;F&gt; Result;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  static_assert(</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;      IsRvalueRefTry&lt;<span class="keyword">typename</span> <a class="code" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">FirstArgOf&lt;G&gt;::type</a>&gt;::<a class="code" href="namespacefolly.html#af765fccfa9242184196b4906286ada49">value</a>,</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;      <span class="stringliteral">&quot;finally(arg): arg must be Try&lt;T&gt;&amp;&amp;&quot;</span>);</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  static_assert(</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      std::is_convertible&lt;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;          Result,</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;          <span class="keyword">typename</span> std::remove_reference&lt;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;              <span class="keyword">typename</span> <a class="code" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">FirstArgOf&lt;G&gt;::type</a>&gt;::type::element_type&gt;::<a class="code" href="namespacefolly.html#af765fccfa9242184196b4906286ada49">value</a>,</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      <span class="stringliteral">&quot;finally(Try&lt;T&gt;&amp;&amp;): T must be convertible from func()&#39;s return type&quot;</span>);</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <span class="keyword">auto</span> fiber = <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a5f07b809e3ca2a9069ddc295a16b4c73">getFiber</a>();</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a6f56add77534cc849fba62079447d682">initLocalData</a>(*fiber);</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <span class="keyword">typedef</span> AddTaskFinallyHelper&lt;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      <span class="keyword">typename</span> <a class="code" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">std::decay&lt;F&gt;::type</a>,</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      <span class="keyword">typename</span> <a class="code" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">std::decay&lt;G&gt;::type</a>&gt;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      Helper;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <span class="keywordflow">if</span> (Helper::allocateInBuffer) {</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="keyword">auto</span> funcLoc = <span class="keyword">static_cast&lt;</span>typename <a class="code" href="namespacefolly.html#a4f345dd5f9b26d8dd202c2072badbea8">Helper::Func</a>*<span class="keyword">&gt;</span>(fiber-&gt;getUserBuffer());</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="keyword">auto</span> finallyLoc =</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <span class="keyword">static_cast&lt;</span>typename Helper::Finally*<span class="keyword">&gt;</span>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(funcLoc + 1));</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keyword">new</span> (finallyLoc) <span class="keyword">typename</span> Helper::Finally(std::forward&lt;G&gt;(<span class="keywordflow">finally</span>), *<span class="keyword">this</span>);</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keyword">new</span> (funcLoc) <span class="keyword">typename</span> <a class="code" href="namespacefolly.html#a4f345dd5f9b26d8dd202c2072badbea8">Helper::Func</a>(std::forward&lt;F&gt;(func), *finallyLoc);</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    fiber-&gt;setFunctionFinally(std::ref(*funcLoc), std::ref(*finallyLoc));</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="keyword">auto</span> finallyLoc =</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <span class="keyword">new</span> <span class="keyword">typename</span> Helper::Finally(std::forward&lt;G&gt;(<span class="keywordflow">finally</span>), *<span class="keyword">this</span>);</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="keyword">auto</span> funcLoc =</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        <span class="keyword">new</span> <span class="keyword">typename</span> <a class="code" href="namespacefolly.html#a4f345dd5f9b26d8dd202c2072badbea8">Helper::Func</a>(std::forward&lt;F&gt;(func), *finallyLoc);</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    fiber-&gt;setFunctionFinally(std::ref(*funcLoc), std::ref(*finallyLoc));</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  }</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a90d6f76e5f9062071e61c076cfb289a0">readyFibers_</a>.push_back(*fiber);</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#aa0f81919fe53bb76fd66de48d2428163">observer_</a>) {</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#aa0f81919fe53bb76fd66de48d2428163">observer_</a>-&gt;<a class="code" href="classfolly_1_1ExecutionObserver.html#a75a0f156c288b4867ef02eacc90ca985">runnable</a>(reinterpret_cast&lt;uintptr_t&gt;(fiber));</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  }</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#af13e9d81ab59be054c7ec304dd6ec11f">ensureLoopScheduled</a>();</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;}</div><div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_af13e9d81ab59be054c7ec304dd6ec11f"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#af13e9d81ab59be054c7ec304dd6ec11f">folly::fibers::FiberManager::ensureLoopScheduled</a></div><div class="ttdeci">void ensureLoopScheduled()</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal-inl_8h_source.html#l00050">FiberManagerInternal-inl.h:50</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a5f07b809e3ca2a9069ddc295a16b4c73"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a5f07b809e3ca2a9069ddc295a16b4c73">folly::fibers::FiberManager::getFiber</a></div><div class="ttdeci">Fiber * getFiber()</div><div class="ttdef"><b>Definition:</b> <a href="FiberManager_8cpp_source.html#l00104">FiberManager.cpp:104</a></div></div>
<div class="ttc" id="ClientProtocol_8cpp_html_afb6f25e8ca4d7adb175ad413430bbb90"><div class="ttname"><a href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">type</a></div><div class="ttdeci">PskType type</div><div class="ttdef"><b>Definition:</b> <a href="ClientProtocol_8cpp_source.html#l00777">ClientProtocol.cpp:777</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a90d6f76e5f9062071e61c076cfb289a0"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a90d6f76e5f9062071e61c076cfb289a0">folly::fibers::FiberManager::readyFibers_</a></div><div class="ttdeci">FiberTailQueue readyFibers_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00381">FiberManagerInternal.h:381</a></div></div>
<div class="ttc" id="classfolly_1_1ExecutionObserver_html_a75a0f156c288b4867ef02eacc90ca985"><div class="ttname"><a href="classfolly_1_1ExecutionObserver.html#a75a0f156c288b4867ef02eacc90ca985">folly::ExecutionObserver::runnable</a></div><div class="ttdeci">virtual void runnable(uintptr_t id) noexcept=0</div></div>
<div class="ttc" id="namespacefolly_html_a4f345dd5f9b26d8dd202c2072badbea8"><div class="ttname"><a href="namespacefolly.html#a4f345dd5f9b26d8dd202c2072badbea8">folly::Func</a></div><div class="ttdeci">Function&lt; void()&gt; Func</div><div class="ttdef"><b>Definition:</b> <a href="Executor_8h_source.html#l00027">Executor.h:27</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a6f56add77534cc849fba62079447d682"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a6f56add77534cc849fba62079447d682">folly::fibers::FiberManager::initLocalData</a></div><div class="ttdeci">void initLocalData(Fiber &amp;fiber)</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal-inl_8h_source.html#l00522">FiberManagerInternal-inl.h:522</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_aa0f81919fe53bb76fd66de48d2428163"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#aa0f81919fe53bb76fd66de48d2428163">folly::fibers::FiberManager::observer_</a></div><div class="ttdeci">ExecutionObserver * observer_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00454">FiberManagerInternal.h:454</a></div></div>
<div class="ttc" id="namespacefolly_html_af765fccfa9242184196b4906286ada49"><div class="ttname"><a href="namespacefolly.html#af765fccfa9242184196b4906286ada49">folly::value</a></div><div class="ttdeci">uint64_t value(const typename LockFreeRingBuffer&lt; T, Atom &gt;::Cursor &amp;rbcursor)</div><div class="ttdef"><b>Definition:</b> <a href="LockFreeRingBufferTest_8cpp_source.html#l00096">LockFreeRingBufferTest.cpp:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac91d76715617af9b73771f27eef21cf0"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename F &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">auto folly::fibers::FiberManager::addTaskFuture </td>
          <td>(</td>
          <td class="paramtype">F &amp;&amp;&#160;</td>
          <td class="paramname"><em>func</em></td><td>)</td>
          <td> -&gt; <a class="el" href="classfolly_1_1Future.html">folly::Future</a>&lt;typename <a class="el" href="structfolly_1_1lift__unit.html">folly::lift_unit</a>&lt;<a class="el" href="namespacefolly.html#a959935d9eb6cce6bd25049997b200b93">invoke_result_t</a>&lt;F&gt;&gt;::<a class="el" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">type</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a new task to be executed and return a future that will be set on return from func. Must be called from <a class="el" href="classfolly_1_1fibers_1_1FiberManager.html" title="Single-threaded task execution engine. ">FiberManager</a>'s thread.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>Task functor; must have a signature of <code>void func()</code>. The object will be destroyed once task execution is complete. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="FiberManager-inl_8h_source.html#l00025">25</a> of file <a class="el" href="FiberManager-inl_8h_source.html">FiberManager-inl.h</a>.</p>

<p>References <a class="el" href="FiberManagerInternal_8h_source.html#l00545">folly::fibers::addTaskFinally()</a>, <a class="el" href="PushmiBenchmarks_8cpp_source.html#l00515">f</a>, <a class="el" href="futures_2Promise-inl_8h_source.html#l00097">folly::Promise&lt; T &gt;::getFuture()</a>, <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>, <a class="el" href="futures_2Promise-inl_8h_source.html#l00122">folly::Promise&lt; T &gt;::setTry()</a>, <a class="el" href="extension__operators_8h_source.html#l00048">folly::pushmi::detail::t</a>, and <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">folly::T</a>.</p>

<p>Referenced by <a class="el" href="FibersTest_8cpp_source.html#l00330">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;                                                                    {</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;  <span class="keyword">using</span> <a class="code" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> = invoke_result_t&lt;F&gt;;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;  <span class="keyword">using</span> FutureT = <span class="keyword">typename</span> <a class="code" href="structfolly_1_1lift__unit.html#abbfa69d931890791a37c083ff25fbc5b">folly::lift_unit&lt;T&gt;::type</a>;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;  <a class="code" href="classfolly_1_1Promise.html">folly::Promise&lt;FutureT&gt;</a> p;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  <span class="keyword">auto</span> <a class="code" href="PushmiBenchmarks_8cpp.html#ad94c2c2f9fd35a12cc099962b7540071">f</a> = p.<a class="code" href="classfolly_1_1Promise.html#aa64a5fe13a4e69d6c02b9affd4691d38">getFuture</a>();</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a65aad1466338d8765458ee5faf1a2800">addTaskFinally</a>(</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;      [func = std::forward&lt;F&gt;(func)]() <span class="keyword">mutable</span> { <span class="keywordflow">return</span> func(); },</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;      [p = <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(p)](<a class="code" href="classfolly_1_1Try.html">folly::Try&lt;T&gt;</a>&amp;&amp; <a class="code" href="namespacefolly_1_1pushmi_1_1detail.html#a83db2e678e3a0679ce63d24026fcf5ff">t</a>) <span class="keyword">mutable</span> {</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        p.<a class="code" href="classfolly_1_1Promise.html#a630ee0a30f479ab51ee676cfc4974117">setTry</a>(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(<a class="code" href="namespacefolly_1_1pushmi_1_1detail.html#a83db2e678e3a0679ce63d24026fcf5ff">t</a>));</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;      });</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="PushmiBenchmarks_8cpp.html#ad94c2c2f9fd35a12cc099962b7540071">f</a>;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;}</div><div class="ttc" id="PushmiBenchmarks_8cpp_html_ad94c2c2f9fd35a12cc099962b7540071"><div class="ttname"><a href="PushmiBenchmarks_8cpp.html#ad94c2c2f9fd35a12cc099962b7540071">f</a></div><div class="ttdeci">auto f</div><div class="ttdef"><b>Definition:</b> <a href="PushmiBenchmarks_8cpp_source.html#l00515">PushmiBenchmarks.cpp:515</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a65aad1466338d8765458ee5faf1a2800"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a65aad1466338d8765458ee5faf1a2800">folly::fibers::FiberManager::addTaskFinally</a></div><div class="ttdeci">void addTaskFinally(F &amp;&amp;func, G &amp;&amp;finally)</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal-inl_8h_source.html#l00417">FiberManagerInternal-inl.h:417</a></div></div>
<div class="ttc" id="namespacefolly_html_a0652a9c51b69e7a13d40ccbcb139bc55"><div class="ttname"><a href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">folly::T</a></div><div class="ttdeci">folly::std T</div></div>
<div class="ttc" id="classfolly_1_1Promise_html"><div class="ttname"><a href="classfolly_1_1Promise.html">folly::Promise</a></div><div class="ttdef"><b>Definition:</b> <a href="Future-pre_8h_source.html#l00023">Future-pre.h:23</a></div></div>
<div class="ttc" id="classfolly_1_1Promise_html_a630ee0a30f479ab51ee676cfc4974117"><div class="ttname"><a href="classfolly_1_1Promise.html#a630ee0a30f479ab51ee676cfc4974117">folly::Promise::setTry</a></div><div class="ttdeci">void setTry(Try&lt; T &gt; &amp;&amp;t)</div><div class="ttdef"><b>Definition:</b> <a href="futures_2Promise-inl_8h_source.html#l00122">Promise-inl.h:122</a></div></div>
<div class="ttc" id="structfolly_1_1lift__unit_html_abbfa69d931890791a37c083ff25fbc5b"><div class="ttname"><a href="structfolly_1_1lift__unit.html#abbfa69d931890791a37c083ff25fbc5b">folly::lift_unit::type</a></div><div class="ttdeci">T type</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8h_source.html#l00049">Unit.h:49</a></div></div>
<div class="ttc" id="classfolly_1_1Promise_html_aa64a5fe13a4e69d6c02b9affd4691d38"><div class="ttname"><a href="classfolly_1_1Promise.html#aa64a5fe13a4e69d6c02b9affd4691d38">folly::Promise::getFuture</a></div><div class="ttdeci">Future&lt; T &gt; getFuture()</div><div class="ttdef"><b>Definition:</b> <a href="futures_2Promise-inl_8h_source.html#l00097">Promise-inl.h:97</a></div></div>
<div class="ttc" id="classfolly_1_1Try_html"><div class="ttname"><a href="classfolly_1_1Try.html">folly::Try</a></div><div class="ttdef"><b>Definition:</b> <a href="Try_8h_source.html#l00051">Try.h:51</a></div></div>
<div class="ttc" id="namespacefolly_1_1pushmi_1_1detail_html_a83db2e678e3a0679ce63d24026fcf5ff"><div class="ttname"><a href="namespacefolly_1_1pushmi_1_1detail.html#a83db2e678e3a0679ce63d24026fcf5ff">folly::pushmi::detail::t</a></div><div class="ttdeci">requires Tuple &amp;&amp; t</div><div class="ttdef"><b>Definition:</b> <a href="extension__operators_8h_source.html#l00048">extension_operators.h:48</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6a4bf08c007bb307f68da976f4e963c2"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename F &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void folly::fibers::FiberManager::addTaskRemote </td>
          <td>(</td>
          <td class="paramtype">F &amp;&amp;&#160;</td>
          <td class="paramname"><em>func</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a new task to be executed. Safe to call from other threads.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>Task function; must have a signature of <code>void func()</code>. The object will be destroyed once task execution is complete. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00332">332</a> of file <a class="el" href="FiberManagerInternal-inl_8h_source.html">FiberManagerInternal-inl.h</a>.</p>

<p>References <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00488">getFiberManagerUnsafe()</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00484">localType_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00399">loopController_</a>, and <a class="el" href="FiberManagerInternal_8h_source.html#l00462">remoteTaskQueue_</a>.</p>

<p>Referenced by <a class="el" href="FibersTest_8cpp_source.html#l01079">TEST()</a>, and <a class="el" href="FibersTest_8cpp_source.html#l01163">testFiberLocal()</a>.</p>
<div class="fragment"><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                                         {</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <span class="keyword">auto</span> task = [&amp;]() {</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keyword">auto</span> currentFm = <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ab0d53ca18d2f41f6a5663afe1f0fe3b6">getFiberManagerUnsafe</a>();</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordflow">if</span> (currentFm &amp;&amp; currentFm-&gt;currentFiber_ &amp;&amp;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        currentFm-&gt;localType_ == <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a54ed8e163b11c728fd215e960cd53b3d">localType_</a>) {</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      <span class="keywordflow">return</span> std::make_unique&lt;RemoteTask&gt;(</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;          std::forward&lt;F&gt;(func), currentFm-&gt;currentFiber_-&gt;localData_);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    }</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordflow">return</span> std::make_unique&lt;RemoteTask&gt;(std::forward&lt;F&gt;(func));</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  }();</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a2558ee3df69e0c868e0ccba3c6f977a4">remoteTaskQueue_</a>.insertHead(task.release())) {</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a0ecc213fac4752d8c94f520dcbfe958a">loopController_</a>-&gt;scheduleThreadSafe();</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  }</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;}</div><div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a0ecc213fac4752d8c94f520dcbfe958a"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a0ecc213fac4752d8c94f520dcbfe958a">folly::fibers::FiberManager::loopController_</a></div><div class="ttdeci">std::unique_ptr&lt; LoopController &gt; loopController_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00399">FiberManagerInternal.h:399</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_ab0d53ca18d2f41f6a5663afe1f0fe3b6"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#ab0d53ca18d2f41f6a5663afe1f0fe3b6">folly::fibers::FiberManager::getFiberManagerUnsafe</a></div><div class="ttdeci">static FiberManager * getFiberManagerUnsafe()</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal-inl_8h_source.html#l00488">FiberManagerInternal-inl.h:488</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a2558ee3df69e0c868e0ccba3c6f977a4"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a2558ee3df69e0c868e0ccba3c6f977a4">folly::fibers::FiberManager::remoteTaskQueue_</a></div><div class="ttdeci">folly::AtomicIntrusiveLinkedList&lt; RemoteTask,&amp;RemoteTask::nextRemoteTask &gt; remoteTaskQueue_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00462">FiberManagerInternal.h:462</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a54ed8e163b11c728fd215e960cd53b3d"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a54ed8e163b11c728fd215e960cd53b3d">folly::fibers::FiberManager::localType_</a></div><div class="ttdeci">std::type_index localType_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00484">FiberManagerInternal.h:484</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a71204dcccff587aa9e4ac7ded6986866"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename F &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">auto folly::fibers::FiberManager::addTaskRemoteFuture </td>
          <td>(</td>
          <td class="paramtype">F &amp;&amp;&#160;</td>
          <td class="paramname"><em>func</em></td><td>)</td>
          <td> -&gt; <a class="el" href="classfolly_1_1Future.html">folly::Future</a>&lt;typename <a class="el" href="structfolly_1_1lift__unit.html">folly::lift_unit</a>&lt;<a class="el" href="namespacefolly.html#a959935d9eb6cce6bd25049997b200b93">invoke_result_t</a>&lt;F&gt;&gt;::<a class="el" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">type</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a new task to be executed and return a future that will be set on return from func. Safe to call from other threads.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>Task function; must have a signature of <code>void func()</code>. The object will be destroyed once task execution is complete. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="FiberManager-inl_8h_source.html#l00041">41</a> of file <a class="el" href="FiberManager-inl_8h_source.html">FiberManager-inl.h</a>.</p>

<p>References <a class="el" href="PushmiBenchmarks_8cpp_source.html#l00515">f</a>, <a class="el" href="futures_2Promise-inl_8h_source.html#l00097">folly::Promise&lt; T &gt;::getFuture()</a>, <a class="el" href="Try-inl_8h_source.html#l00223">folly::makeTryWith()</a>, <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00568">folly::fibers::runInMainContext()</a>, <a class="el" href="futures_2Promise-inl_8h_source.html#l00122">folly::Promise&lt; T &gt;::setTry()</a>, <a class="el" href="extension__operators_8h_source.html#l00048">folly::pushmi::detail::t</a>, and <a class="el" href="ClientProtocol_8cpp_source.html#l00777">type</a>.</p>

<p>Referenced by <a class="el" href="FibersTest_8cpp_source.html#l01486">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                                                                    {</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <a class="code" href="classfolly_1_1Promise.html">folly::Promise&lt;typename folly::lift_unit&lt;invoke_result_t&lt;F&gt;</a>&gt;<a class="code" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">::type</a>&gt; p;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <span class="keyword">auto</span> <a class="code" href="PushmiBenchmarks_8cpp.html#ad94c2c2f9fd35a12cc099962b7540071">f</a> = p.<a class="code" href="classfolly_1_1Promise.html#aa64a5fe13a4e69d6c02b9affd4691d38">getFuture</a>();</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a6a4bf08c007bb307f68da976f4e963c2">addTaskRemote</a>(</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;      [p = <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(p), func = std::forward&lt;F&gt;(func), <span class="keyword">this</span>]() <span class="keyword">mutable</span> {</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        <span class="keyword">auto</span> <a class="code" href="namespacefolly_1_1pushmi_1_1detail.html#a83db2e678e3a0679ce63d24026fcf5ff">t</a> = <a class="code" href="namespacefolly.html#a672e670d53d388e2407291c730ddd493">folly::makeTryWith</a>(std::forward&lt;F&gt;(func));</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a5114ccdf275bc73cd4ffd9f1ed807769">runInMainContext</a>([&amp;]() { p.<a class="code" href="classfolly_1_1Promise.html#a630ee0a30f479ab51ee676cfc4974117">setTry</a>(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(<a class="code" href="namespacefolly_1_1pushmi_1_1detail.html#a83db2e678e3a0679ce63d24026fcf5ff">t</a>)); });</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;      });</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="PushmiBenchmarks_8cpp.html#ad94c2c2f9fd35a12cc099962b7540071">f</a>;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;}</div><div class="ttc" id="PushmiBenchmarks_8cpp_html_ad94c2c2f9fd35a12cc099962b7540071"><div class="ttname"><a href="PushmiBenchmarks_8cpp.html#ad94c2c2f9fd35a12cc099962b7540071">f</a></div><div class="ttdeci">auto f</div><div class="ttdef"><b>Definition:</b> <a href="PushmiBenchmarks_8cpp_source.html#l00515">PushmiBenchmarks.cpp:515</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a6a4bf08c007bb307f68da976f4e963c2"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a6a4bf08c007bb307f68da976f4e963c2">folly::fibers::FiberManager::addTaskRemote</a></div><div class="ttdeci">void addTaskRemote(F &amp;&amp;func)</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal-inl_8h_source.html#l00332">FiberManagerInternal-inl.h:332</a></div></div>
<div class="ttc" id="ClientProtocol_8cpp_html_afb6f25e8ca4d7adb175ad413430bbb90"><div class="ttname"><a href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">type</a></div><div class="ttdeci">PskType type</div><div class="ttdef"><b>Definition:</b> <a href="ClientProtocol_8cpp_source.html#l00777">ClientProtocol.cpp:777</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a5114ccdf275bc73cd4ffd9f1ed807769"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a5114ccdf275bc73cd4ffd9f1ed807769">folly::fibers::FiberManager::runInMainContext</a></div><div class="ttdeci">invoke_result_t&lt; F &gt; runInMainContext(F &amp;&amp;func)</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal-inl_8h_source.html#l00465">FiberManagerInternal-inl.h:465</a></div></div>
<div class="ttc" id="classfolly_1_1Promise_html"><div class="ttname"><a href="classfolly_1_1Promise.html">folly::Promise</a></div><div class="ttdef"><b>Definition:</b> <a href="Future-pre_8h_source.html#l00023">Future-pre.h:23</a></div></div>
<div class="ttc" id="classfolly_1_1Promise_html_a630ee0a30f479ab51ee676cfc4974117"><div class="ttname"><a href="classfolly_1_1Promise.html#a630ee0a30f479ab51ee676cfc4974117">folly::Promise::setTry</a></div><div class="ttdeci">void setTry(Try&lt; T &gt; &amp;&amp;t)</div><div class="ttdef"><b>Definition:</b> <a href="futures_2Promise-inl_8h_source.html#l00122">Promise-inl.h:122</a></div></div>
<div class="ttc" id="classfolly_1_1Promise_html_aa64a5fe13a4e69d6c02b9affd4691d38"><div class="ttname"><a href="classfolly_1_1Promise.html#aa64a5fe13a4e69d6c02b9affd4691d38">folly::Promise::getFuture</a></div><div class="ttdeci">Future&lt; T &gt; getFuture()</div><div class="ttdef"><b>Definition:</b> <a href="futures_2Promise-inl_8h_source.html#l00097">Promise-inl.h:97</a></div></div>
<div class="ttc" id="namespacefolly_html_a672e670d53d388e2407291c730ddd493"><div class="ttname"><a href="namespacefolly.html#a672e670d53d388e2407291c730ddd493">folly::makeTryWith</a></div><div class="ttdeci">std::enable_if&lt; !std::is_same&lt; invoke_result_t&lt; F &gt;, void &gt;::value, Try&lt; invoke_result_t&lt; F &gt; &gt; &gt;::type makeTryWith(F &amp;&amp;f)</div><div class="ttdef"><b>Definition:</b> <a href="Try-inl_8h_source.html#l00223">Try-inl.h:223</a></div></div>
<div class="ttc" id="namespacefolly_1_1pushmi_1_1detail_html_a83db2e678e3a0679ce63d24026fcf5ff"><div class="ttname"><a href="namespacefolly_1_1pushmi_1_1detail.html#a83db2e678e3a0679ce63d24026fcf5ff">folly::pushmi::detail::t</a></div><div class="ttdeci">requires Tuple &amp;&amp; t</div><div class="ttdef"><b>Definition:</b> <a href="extension__operators_8h_source.html#l00048">extension_operators.h:48</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a06a8a3ee855b70e9f8a86787d744136c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1fibers_1_1Fiber.html">Fiber</a>* folly::fibers::FiberManager::currentFiber </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The currently running fiber or null if no fiber is executing. </dd></dl>

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00297">297</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>References <a class="el" href="FiberManagerInternal_8h_source.html#l00592">folly::fibers::yield()</a>.</p>
<div class="fragment"><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                              {</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#aca84d2616a3e048271a1eb55cbd3c408">currentFiber_</a>;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  }</div><div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_aca84d2616a3e048271a1eb55cbd3c408"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#aca84d2616a3e048271a1eb55cbd3c408">folly::fibers::FiberManager::currentFiber_</a></div><div class="ttdeci">Fiber * currentFiber_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00379">FiberManagerInternal.h:379</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3b70f9ee586c620b031ce742a4bc52c1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::fibers::FiberManager::deactivateFiber </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1fibers_1_1Fiber.html">Fiber</a> *&#160;</td>
          <td class="paramname"><em>fiber</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00079">79</a> of file <a class="el" href="FiberManagerInternal-inl_8h_source.html">FiberManagerInternal-inl.h</a>.</p>

<p>References <a class="el" href="FiberManagerInternal_8h_source.html#l00374">activeFiber_</a>, <a class="el" href="BoostContextCompatibility_8h_source.html#l00101">folly::fibers::FiberImpl::deactivate()</a>, <a class="el" href="Fiber_8h_source.html#l00112">folly::fibers::Fiber::fiberImpl_</a>, and <a class="el" href="ScopeGuard_8h_source.html#l00274">SCOPE_EXIT</a>.</p>

<p>Referenced by <a class="el" href="Fiber_8cpp_source.html#l00128">folly::fibers::Fiber::fiberFunc()</a>, and <a class="el" href="Fiber_8cpp_source.html#l00172">folly::fibers::Fiber::preempt()</a>.</p>
<div class="fragment"><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                                                      {</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  DCHECK_EQ(<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ab83c6f4f665aedc45317c9a42827a4e9">activeFiber_</a>, fiber);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#ifdef FOLLY_SANITIZE_ADDRESS</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  DCHECK(fiber-&gt;asanMainStackBase_);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  DCHECK(fiber-&gt;asanMainStackSize_);</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  registerStartSwitchStackWithAsan(</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;      &amp;fiber-&gt;asanFakeStack_,</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      fiber-&gt;asanMainStackBase_,</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      fiber-&gt;asanMainStackSize_);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <a class="code" href="ScopeGuard_8h.html#a175c354c3e38222bc00ce5df5e6d431d">SCOPE_EXIT</a> {</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    registerFinishSwitchStackWithAsan(</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        fiber-&gt;asanFakeStack_,</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        &amp;fiber-&gt;asanMainStackBase_,</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        &amp;fiber-&gt;asanMainStackSize_);</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    fiber-&gt;asanFakeStack_ = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  };</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ab83c6f4f665aedc45317c9a42827a4e9">activeFiber_</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  fiber-&gt;<a class="code" href="classfolly_1_1fibers_1_1Fiber.html#a17a6143e1e49cc1f063aa51442b0784a">fiberImpl_</a>.<a class="code" href="classfolly_1_1fibers_1_1FiberImpl.html#a7b740408a30bcd5c8cad95343058a772">deactivate</a>();</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;}</div><div class="ttc" id="classfolly_1_1fibers_1_1Fiber_html_a17a6143e1e49cc1f063aa51442b0784a"><div class="ttname"><a href="classfolly_1_1fibers_1_1Fiber.html#a17a6143e1e49cc1f063aa51442b0784a">folly::fibers::Fiber::fiberImpl_</a></div><div class="ttdeci">FiberImpl fiberImpl_</div><div class="ttdef"><b>Definition:</b> <a href="Fiber_8h_source.html#l00112">Fiber.h:112</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberImpl_html_a7b740408a30bcd5c8cad95343058a772"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberImpl.html#a7b740408a30bcd5c8cad95343058a772">folly::fibers::FiberImpl::deactivate</a></div><div class="ttdeci">void deactivate()</div><div class="ttdef"><b>Definition:</b> <a href="BoostContextCompatibility_8h_source.html#l00101">BoostContextCompatibility.h:101</a></div></div>
<div class="ttc" id="ScopeGuard_8h_html_a175c354c3e38222bc00ce5df5e6d431d"><div class="ttname"><a href="ScopeGuard_8h.html#a175c354c3e38222bc00ce5df5e6d431d">SCOPE_EXIT</a></div><div class="ttdeci">#define SCOPE_EXIT</div><div class="ttdef"><b>Definition:</b> <a href="ScopeGuard_8h_source.html#l00274">ScopeGuard.h:274</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_ab83c6f4f665aedc45317c9a42827a4e9"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#ab83c6f4f665aedc45317c9a42827a4e9">folly::fibers::FiberManager::activeFiber_</a></div><div class="ttdeci">Fiber * activeFiber_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00374">FiberManagerInternal.h:374</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5152ae4b02c0a08df29044b697272001"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::fibers::FiberManager::doFibersPoolResizing </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FiberManager_8cpp_source.html#l00170">170</a> of file <a class="el" href="FiberManager_8cpp_source.html">FiberManager.cpp</a>.</p>

<p>References <a class="el" href="FiberManagerInternal_8h_source.html#l00390">fibersActive_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00388">fibersAllocated_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00384">fibersPool_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00389">fibersPoolSize_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00397">maxFibersActiveLastPeriod_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00111">folly::fibers::FiberManager::Options::maxFibersPoolSize</a>, and <a class="el" href="FiberManagerInternal_8h_source.html#l00414">options_</a>.</p>
<div class="fragment"><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                                        {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="keywordflow">while</span> (<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#abdb57392116fded07d410b6781fd6ff8">fibersAllocated_</a> &gt; <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ae9efb3c72484be0f67405e89790f3d2d">maxFibersActiveLastPeriod_</a> &amp;&amp;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;         <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ab693d2e8c51df3895e19d7127424fd55">fibersPoolSize_</a> &gt; <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a51621a9791d0f3e5f10279827a8166ed">options_</a>.<a class="code" href="structfolly_1_1fibers_1_1FiberManager_1_1Options.html#ae2c5074037f56351ba833a692a3e9172">maxFibersPoolSize</a>) {</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keyword">auto</span> fiber = &amp;<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a921f17ae377c2de2bc52304caf6d976b">fibersPool_</a>.front();</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    assert(fiber != <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a921f17ae377c2de2bc52304caf6d976b">fibersPool_</a>.pop_front();</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keyword">delete</span> fiber;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    --<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ab693d2e8c51df3895e19d7127424fd55">fibersPoolSize_</a>;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    --<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#abdb57392116fded07d410b6781fd6ff8">fibersAllocated_</a>;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  }</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ae9efb3c72484be0f67405e89790f3d2d">maxFibersActiveLastPeriod_</a> = <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ac0ed46e7735a68b296445e443f32b92a">fibersActive_</a>;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;}</div><div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_ac0ed46e7735a68b296445e443f32b92a"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#ac0ed46e7735a68b296445e443f32b92a">folly::fibers::FiberManager::fibersActive_</a></div><div class="ttdeci">size_t fibersActive_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00390">FiberManagerInternal.h:390</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_ab693d2e8c51df3895e19d7127424fd55"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#ab693d2e8c51df3895e19d7127424fd55">folly::fibers::FiberManager::fibersPoolSize_</a></div><div class="ttdeci">size_t fibersPoolSize_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00389">FiberManagerInternal.h:389</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_abdb57392116fded07d410b6781fd6ff8"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#abdb57392116fded07d410b6781fd6ff8">folly::fibers::FiberManager::fibersAllocated_</a></div><div class="ttdeci">size_t fibersAllocated_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00388">FiberManagerInternal.h:388</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a51621a9791d0f3e5f10279827a8166ed"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a51621a9791d0f3e5f10279827a8166ed">folly::fibers::FiberManager::options_</a></div><div class="ttdeci">const Options options_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00414">FiberManagerInternal.h:414</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_ae9efb3c72484be0f67405e89790f3d2d"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#ae9efb3c72484be0f67405e89790f3d2d">folly::fibers::FiberManager::maxFibersActiveLastPeriod_</a></div><div class="ttdeci">size_t maxFibersActiveLastPeriod_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00397">FiberManagerInternal.h:397</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a921f17ae377c2de2bc52304caf6d976b"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a921f17ae377c2de2bc52304caf6d976b">folly::fibers::FiberManager::fibersPool_</a></div><div class="ttdeci">FiberTailQueue fibersPool_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00384">FiberManagerInternal.h:384</a></div></div>
<div class="ttc" id="structfolly_1_1fibers_1_1FiberManager_1_1Options_html_ae2c5074037f56351ba833a692a3e9172"><div class="ttname"><a href="structfolly_1_1fibers_1_1FiberManager_1_1Options.html#ae2c5074037f56351ba833a692a3e9172">folly::fibers::FiberManager::Options::maxFibersPoolSize</a></div><div class="ttdeci">size_t maxFibersPoolSize</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00111">FiberManagerInternal.h:111</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af13e9d81ab59be054c7ec304dd6ec11f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::fibers::FiberManager::ensureLoopScheduled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Schedules a loop with loopController (unless already scheduled before). </p>

<p>Definition at line <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00050">50</a> of file <a class="el" href="FiberManagerInternal-inl_8h_source.html">FiberManagerInternal-inl.h</a>.</p>

<p>References <a class="el" href="FiberManagerInternal_8h_source.html#l00400">isLoopScheduled_</a>, and <a class="el" href="FiberManagerInternal_8h_source.html#l00399">loopController_</a>.</p>

<p>Referenced by <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00306">addTask()</a>, <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00417">addTaskFinally()</a>, <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00190">loopUntilNoReadyImpl()</a>, and <a class="el" href="Fiber_8cpp_source.html#l00054">folly::fibers::Fiber::resume()</a>.</p>
<div class="fragment"><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                                              {</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a249f40d4e85c4ec29b0c5abe2d4d9465">isLoopScheduled_</a>) {</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  }</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a249f40d4e85c4ec29b0c5abe2d4d9465">isLoopScheduled_</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a0ecc213fac4752d8c94f520dcbfe958a">loopController_</a>-&gt;schedule();</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;}</div><div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a0ecc213fac4752d8c94f520dcbfe958a"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a0ecc213fac4752d8c94f520dcbfe958a">folly::fibers::FiberManager::loopController_</a></div><div class="ttdeci">std::unique_ptr&lt; LoopController &gt; loopController_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00399">FiberManagerInternal.h:399</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a249f40d4e85c4ec29b0c5abe2d4d9465"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a249f40d4e85c4ec29b0c5abe2d4d9465">folly::fibers::FiberManager::isLoopScheduled_</a></div><div class="ttdeci">bool isLoopScheduled_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00400">FiberManagerInternal.h:400</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aeedc4a2a6d8bb6067357f461f086e75e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t folly::fibers::FiberManager::fibersAllocated </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>How many fiber objects (and stacks) has this manager allocated. </dd></dl>

<p>Definition at line <a class="el" href="FiberManager_8cpp_source.html#l00137">137</a> of file <a class="el" href="FiberManager_8cpp_source.html">FiberManager.cpp</a>.</p>

<p>References <a class="el" href="FiberManagerInternal_8h_source.html#l00388">fibersAllocated_</a>.</p>

<p>Referenced by <a class="el" href="FibersTest_8cpp_source.html#l00987">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                                           {</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#abdb57392116fded07d410b6781fd6ff8">fibersAllocated_</a>;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;}</div><div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_abdb57392116fded07d410b6781fd6ff8"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#abdb57392116fded07d410b6781fd6ff8">folly::fibers::FiberManager::fibersAllocated_</a></div><div class="ttdeci">size_t fibersAllocated_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00388">FiberManagerInternal.h:388</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aea369a2a04bb4fbb7136a6b4d6d1dd32"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t folly::fibers::FiberManager::fibersPoolSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>How many of the allocated fiber objects are currently in the free pool. </dd></dl>

<p>Definition at line <a class="el" href="FiberManager_8cpp_source.html#l00141">141</a> of file <a class="el" href="FiberManager_8cpp_source.html">FiberManager.cpp</a>.</p>

<p>References <a class="el" href="FiberManagerInternal_8h_source.html#l00389">fibersPoolSize_</a>.</p>

<p>Referenced by <a class="el" href="FibersBenchmark_8cpp_source.html#l00084">BENCHMARK()</a>, and <a class="el" href="FibersTest_8cpp_source.html#l00987">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                                          {</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ab693d2e8c51df3895e19d7127424fd55">fibersPoolSize_</a>;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;}</div><div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_ab693d2e8c51df3895e19d7127424fd55"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#ab693d2e8c51df3895e19d7127424fd55">folly::fibers::FiberManager::fibersPoolSize_</a></div><div class="ttdeci">size_t fibersPoolSize_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00389">FiberManagerInternal.h:389</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5f07b809e3ca2a9069ddc295a16b4c73"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1fibers_1_1Fiber.html">Fiber</a> * folly::fibers::FiberManager::getFiber </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>An initialized <a class="el" href="classfolly_1_1fibers_1_1Fiber.html" title="Fiber object used by FiberManager to execute tasks. ">Fiber</a> object from the pool </dd></dl>

<p>Definition at line <a class="el" href="FiberManager_8cpp_source.html#l00104">104</a> of file <a class="el" href="FiberManager_8cpp_source.html">FiberManager.cpp</a>.</p>

<p>References <a class="el" href="FiberManagerInternal_8h_source.html#l00346">Fiber</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00391">fiberId_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00390">fibersActive_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00388">fibersAllocated_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00384">fibersPool_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00123">folly::fibers::FiberManager::Options::fibersPoolResizePeriodMs</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00476">fibersPoolResizer_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00477">fibersPoolResizerScheduled_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00389">fibersPoolSize_</a>, <a class="el" href="Fiber_8cpp_source.html#l00078">folly::fibers::Fiber::init()</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00397">maxFibersActiveLastPeriod_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00414">options_</a>, and <a class="el" href="FiberManagerInternal_8h_source.html#l00104">folly::fibers::FiberManager::Options::recordStackEvery</a>.</p>

<p>Referenced by <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00306">addTask()</a>, <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00417">addTaskFinally()</a>, and <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00190">loopUntilNoReadyImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                              {</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a87a616a1350a043ee7172754e2521db8">Fiber</a>* fiber = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a51621a9791d0f3e5f10279827a8166ed">options_</a>.<a class="code" href="structfolly_1_1fibers_1_1FiberManager_1_1Options.html#af6121039ef253d4e79c1b2c30c714e62">fibersPoolResizePeriodMs</a> &gt; 0 &amp;&amp; !<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a062f5ea04708c3367bc36854d8825caa">fibersPoolResizerScheduled_</a>) {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a2e75f8ae203bd06c2251fc70a3eddbd9">fibersPoolResizer_</a>();</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a062f5ea04708c3367bc36854d8825caa">fibersPoolResizerScheduled_</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  }</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a921f17ae377c2de2bc52304caf6d976b">fibersPool_</a>.empty()) {</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    fiber = <span class="keyword">new</span> <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a87a616a1350a043ee7172754e2521db8">Fiber</a>(*<span class="keyword">this</span>);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    ++<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#abdb57392116fded07d410b6781fd6ff8">fibersAllocated_</a>;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    fiber = &amp;<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a921f17ae377c2de2bc52304caf6d976b">fibersPool_</a>.front();</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a921f17ae377c2de2bc52304caf6d976b">fibersPool_</a>.pop_front();</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    assert(<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ab693d2e8c51df3895e19d7127424fd55">fibersPoolSize_</a> &gt; 0);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    --<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ab693d2e8c51df3895e19d7127424fd55">fibersPoolSize_</a>;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  }</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  assert(fiber);</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="keywordflow">if</span> (++<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ac0ed46e7735a68b296445e443f32b92a">fibersActive_</a> &gt; <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ae9efb3c72484be0f67405e89790f3d2d">maxFibersActiveLastPeriod_</a>) {</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ae9efb3c72484be0f67405e89790f3d2d">maxFibersActiveLastPeriod_</a> = <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ac0ed46e7735a68b296445e443f32b92a">fibersActive_</a>;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  }</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  ++<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a880af583ca09f8cca9982a1a66a18e6b">fiberId_</a>;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keywordtype">bool</span> recordStack = (<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a51621a9791d0f3e5f10279827a8166ed">options_</a>.<a class="code" href="structfolly_1_1fibers_1_1FiberManager_1_1Options.html#a61b2225bf76244a899ae737ad267d139">recordStackEvery</a> != 0) &amp;&amp;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      (<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a880af583ca09f8cca9982a1a66a18e6b">fiberId_</a> % <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a51621a9791d0f3e5f10279827a8166ed">options_</a>.<a class="code" href="structfolly_1_1fibers_1_1FiberManager_1_1Options.html#a61b2225bf76244a899ae737ad267d139">recordStackEvery</a> == 0);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  fiber-&gt;init(recordStack);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="keywordflow">return</span> fiber;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;}</div><div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_ac0ed46e7735a68b296445e443f32b92a"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#ac0ed46e7735a68b296445e443f32b92a">folly::fibers::FiberManager::fibersActive_</a></div><div class="ttdeci">size_t fibersActive_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00390">FiberManagerInternal.h:390</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_ab693d2e8c51df3895e19d7127424fd55"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#ab693d2e8c51df3895e19d7127424fd55">folly::fibers::FiberManager::fibersPoolSize_</a></div><div class="ttdeci">size_t fibersPoolSize_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00389">FiberManagerInternal.h:389</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_abdb57392116fded07d410b6781fd6ff8"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#abdb57392116fded07d410b6781fd6ff8">folly::fibers::FiberManager::fibersAllocated_</a></div><div class="ttdeci">size_t fibersAllocated_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00388">FiberManagerInternal.h:388</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a062f5ea04708c3367bc36854d8825caa"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a062f5ea04708c3367bc36854d8825caa">folly::fibers::FiberManager::fibersPoolResizerScheduled_</a></div><div class="ttdeci">bool fibersPoolResizerScheduled_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00477">FiberManagerInternal.h:477</a></div></div>
<div class="ttc" id="structfolly_1_1fibers_1_1FiberManager_1_1Options_html_af6121039ef253d4e79c1b2c30c714e62"><div class="ttname"><a href="structfolly_1_1fibers_1_1FiberManager_1_1Options.html#af6121039ef253d4e79c1b2c30c714e62">folly::fibers::FiberManager::Options::fibersPoolResizePeriodMs</a></div><div class="ttdeci">uint32_t fibersPoolResizePeriodMs</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00123">FiberManagerInternal.h:123</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a51621a9791d0f3e5f10279827a8166ed"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a51621a9791d0f3e5f10279827a8166ed">folly::fibers::FiberManager::options_</a></div><div class="ttdeci">const Options options_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00414">FiberManagerInternal.h:414</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_ae9efb3c72484be0f67405e89790f3d2d"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#ae9efb3c72484be0f67405e89790f3d2d">folly::fibers::FiberManager::maxFibersActiveLastPeriod_</a></div><div class="ttdeci">size_t maxFibersActiveLastPeriod_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00397">FiberManagerInternal.h:397</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a880af583ca09f8cca9982a1a66a18e6b"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a880af583ca09f8cca9982a1a66a18e6b">folly::fibers::FiberManager::fiberId_</a></div><div class="ttdeci">size_t fiberId_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00391">FiberManagerInternal.h:391</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a921f17ae377c2de2bc52304caf6d976b"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a921f17ae377c2de2bc52304caf6d976b">folly::fibers::FiberManager::fibersPool_</a></div><div class="ttdeci">FiberTailQueue fibersPool_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00384">FiberManagerInternal.h:384</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a2e75f8ae203bd06c2251fc70a3eddbd9"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a2e75f8ae203bd06c2251fc70a3eddbd9">folly::fibers::FiberManager::fibersPoolResizer_</a></div><div class="ttdeci">FibersPoolResizer fibersPoolResizer_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00476">FiberManagerInternal.h:476</a></div></div>
<div class="ttc" id="structfolly_1_1fibers_1_1FiberManager_1_1Options_html_a61b2225bf76244a899ae737ad267d139"><div class="ttname"><a href="structfolly_1_1fibers_1_1FiberManager_1_1Options.html#a61b2225bf76244a899ae737ad267d139">folly::fibers::FiberManager::Options::recordStackEvery</a></div><div class="ttdeci">size_t recordStackEvery</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00104">FiberManagerInternal.h:104</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a87a616a1350a043ee7172754e2521db8"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a87a616a1350a043ee7172754e2521db8">folly::fibers::FiberManager::Fiber</a></div><div class="ttdeci">friend class Fiber</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00346">FiberManagerInternal.h:346</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a63d2c8f91aa442f4c28af884e1c8bb97"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html">FiberManager</a> &amp; folly::fibers::FiberManager::getFiberManager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00483">483</a> of file <a class="el" href="FiberManagerInternal-inl_8h_source.html">FiberManagerInternal-inl.h</a>.</p>

<p>References <a class="el" href="FiberManagerInternal_8h_source.html#l00406">currentFiberManager_</a>.</p>

<p>Referenced by <a class="el" href="FiberManagerInternal_8h_source.html#l00529">folly::fibers::addTask()</a>, and <a class="el" href="FiberManagerInternal_8h_source.html#l00545">folly::fibers::addTaskFinally()</a>.</p>
<div class="fragment"><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                                                   {</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  assert(<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a05ce87b893be2ab0309debfd078e5408">currentFiberManager_</a> != <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <span class="keywordflow">return</span> *<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a05ce87b893be2ab0309debfd078e5408">currentFiberManager_</a>;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;}</div><div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a05ce87b893be2ab0309debfd078e5408"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a05ce87b893be2ab0309debfd078e5408">folly::fibers::FiberManager::currentFiberManager_</a></div><div class="ttdeci">static FOLLY_TLS FiberManager * currentFiberManager_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00406">FiberManagerInternal.h:406</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab0d53ca18d2f41f6a5663afe1f0fe3b6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html">FiberManager</a> * folly::fibers::FiberManager::getFiberManagerUnsafe </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00488">488</a> of file <a class="el" href="FiberManagerInternal-inl_8h_source.html">FiberManagerInternal-inl.h</a>.</p>

<p>References <a class="el" href="FiberManagerInternal_8h_source.html#l00406">currentFiberManager_</a>.</p>

<p>Referenced by <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00332">addTaskRemote()</a>, <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00522">initLocalData()</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00584">folly::fibers::local()</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00517">folly::fibers::onFiber()</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00568">folly::fibers::runInMainContext()</a>, <a class="el" href="FibersTest_8cpp_source.html#l01526">TEST()</a>, <a class="el" href="Baton-inl_8h_source.html#l00075">folly::fibers::Baton::try_wait_for()</a>, <a class="el" href="fibers_2Baton_8cpp_source.html#l00049">folly::fibers::Baton::wait()</a>, and <a class="el" href="FiberManagerInternal_8h_source.html#l00592">folly::fibers::yield()</a>.</p>
<div class="fragment"><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                                                         {</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a05ce87b893be2ab0309debfd078e5408">currentFiberManager_</a>;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;}</div><div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a05ce87b893be2ab0309debfd078e5408"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a05ce87b893be2ab0309debfd078e5408">folly::fibers::FiberManager::currentFiberManager_</a></div><div class="ttdeci">static FOLLY_TLS FiberManager * currentFiberManager_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00406">FiberManagerInternal.h:406</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9a45d0b96be40de4fc0a2ac694e26b32"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1ExecutionObserver.html">ExecutionObserver</a> * folly::fibers::FiberManager::getObserver </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Current observer for this <a class="el" href="classfolly_1_1fibers_1_1FiberManager.html" title="Single-threaded task execution engine. ">FiberManager</a>. Returns nullptr if no observer has been set. </dd></dl>

<p>Definition at line <a class="el" href="FiberManager_8cpp_source.html#l00162">162</a> of file <a class="el" href="FiberManager_8cpp_source.html">FiberManager.cpp</a>.</p>

<p>References <a class="el" href="FiberManagerInternal_8h_source.html#l00454">observer_</a>.</p>
<div class="fragment"><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                                             {</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#aa0f81919fe53bb76fd66de48d2428163">observer_</a>;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;}</div><div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_aa0f81919fe53bb76fd66de48d2428163"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#aa0f81919fe53bb76fd66de48d2428163">folly::fibers::FiberManager::observer_</a></div><div class="ttdeci">ExecutionObserver * observer_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00454">FiberManagerInternal.h:454</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9a95b573e5a020896babe8a4359ff8b3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::fibers::FiberManager::hasActiveFiber </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>return true if running activeFiber_ is not nullptr. </p>

<p>Definition at line <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00492">492</a> of file <a class="el" href="FiberManagerInternal-inl_8h_source.html">FiberManagerInternal-inl.h</a>.</p>

<p>References <a class="el" href="FiberManagerInternal_8h_source.html#l00374">activeFiber_</a>.</p>

<p>Referenced by <a class="el" href="FibersTest_8cpp_source.html#l00230">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                                               {</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ab83c6f4f665aedc45317c9a42827a4e9">activeFiber_</a> != <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;}</div><div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_ab83c6f4f665aedc45317c9a42827a4e9"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#ab83c6f4f665aedc45317c9a42827a4e9">folly::fibers::FiberManager::activeFiber_</a></div><div class="ttdeci">Fiber * activeFiber_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00374">FiberManagerInternal.h:374</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab4c84f0c5257df1a3595acf25330563a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::fibers::FiberManager::hasReadyTasks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>true if there are tasks ready to run. </dd></dl>

<p>Definition at line <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00267">267</a> of file <a class="el" href="FiberManagerInternal-inl_8h_source.html">FiberManagerInternal-inl.h</a>.</p>

<p>References <a class="el" href="FiberManagerInternal_8h_source.html#l00381">readyFibers_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00459">remoteReadyQueue_</a>, and <a class="el" href="FiberManagerInternal_8h_source.html#l00462">remoteTaskQueue_</a>.</p>

<p>Referenced by <a class="el" href="EventBaseLoopController-inl_8h_source.html#l00066">folly::fibers::EventBaseLoopController::runLoop()</a>.</p>
<div class="fragment"><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                                              {</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="keywordflow">return</span> !<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a90d6f76e5f9062071e61c076cfb289a0">readyFibers_</a>.empty() || !<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a0c50e7634b78f7f80132a90e197f5b3c">remoteReadyQueue_</a>.empty() ||</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      !<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a2558ee3df69e0c868e0ccba3c6f977a4">remoteTaskQueue_</a>.empty();</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;}</div><div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a90d6f76e5f9062071e61c076cfb289a0"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a90d6f76e5f9062071e61c076cfb289a0">folly::fibers::FiberManager::readyFibers_</a></div><div class="ttdeci">FiberTailQueue readyFibers_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00381">FiberManagerInternal.h:381</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a0c50e7634b78f7f80132a90e197f5b3c"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a0c50e7634b78f7f80132a90e197f5b3c">folly::fibers::FiberManager::remoteReadyQueue_</a></div><div class="ttdeci">folly::AtomicIntrusiveLinkedList&lt; Fiber,&amp;Fiber::nextRemoteReady_ &gt; remoteReadyQueue_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00459">FiberManagerInternal.h:459</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a2558ee3df69e0c868e0ccba3c6f977a4"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a2558ee3df69e0c868e0ccba3c6f977a4">folly::fibers::FiberManager::remoteTaskQueue_</a></div><div class="ttdeci">folly::AtomicIntrusiveLinkedList&lt; RemoteTask,&amp;RemoteTask::nextRemoteTask &gt; remoteTaskQueue_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00462">FiberManagerInternal.h:462</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac3d1eeb2de2d945dc0f3e562cf1d1367"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::fibers::FiberManager::hasTasks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>true if there are outstanding tasks. </dd></dl>

<p>Definition at line <a class="el" href="FiberManager_8cpp_source.html#l00099">99</a> of file <a class="el" href="FiberManager_8cpp_source.html">FiberManager.cpp</a>.</p>

<p>References <a class="el" href="FiberManagerInternal_8h_source.html#l00390">fibersActive_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00464">remoteCount_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00459">remoteReadyQueue_</a>, and <a class="el" href="FiberManagerInternal_8h_source.html#l00462">remoteTaskQueue_</a>.</p>

<p>Referenced by <a class="el" href="SimpleLoopController_8h_source.html#l00049">folly::fibers::SimpleLoopController::loop()</a>, <a class="el" href="ExecutorLoopController-inl_8h_source.html#l00039">folly::fibers::ExecutorLoopController::runLoop()</a>, <a class="el" href="EventBaseLoopController-inl_8h_source.html#l00066">folly::fibers::EventBaseLoopController::runLoop()</a>, <a class="el" href="EventBaseLoopController-inl_8h_source.html#l00087">folly::fibers::EventBaseLoopController::scheduleThreadSafe()</a>, <a class="el" href="FibersTest_8cpp_source.html#l01119">TEST()</a>, and <a class="el" href="FibersTest_8cpp_source.html#l01163">testFiberLocal()</a>.</p>
<div class="fragment"><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                                  {</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ac0ed46e7735a68b296445e443f32b92a">fibersActive_</a> &gt; 0 || !<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a0c50e7634b78f7f80132a90e197f5b3c">remoteReadyQueue_</a>.empty() ||</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      !<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a2558ee3df69e0c868e0ccba3c6f977a4">remoteTaskQueue_</a>.empty() || <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ae8bb7fed95f46e8d84de2b9fcfa51d58">remoteCount_</a> &gt; 0;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;}</div><div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_ac0ed46e7735a68b296445e443f32b92a"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#ac0ed46e7735a68b296445e443f32b92a">folly::fibers::FiberManager::fibersActive_</a></div><div class="ttdeci">size_t fibersActive_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00390">FiberManagerInternal.h:390</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a0c50e7634b78f7f80132a90e197f5b3c"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a0c50e7634b78f7f80132a90e197f5b3c">folly::fibers::FiberManager::remoteReadyQueue_</a></div><div class="ttdeci">folly::AtomicIntrusiveLinkedList&lt; Fiber,&amp;Fiber::nextRemoteReady_ &gt; remoteReadyQueue_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00459">FiberManagerInternal.h:459</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a2558ee3df69e0c868e0ccba3c6f977a4"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a2558ee3df69e0c868e0ccba3c6f977a4">folly::fibers::FiberManager::remoteTaskQueue_</a></div><div class="ttdeci">folly::AtomicIntrusiveLinkedList&lt; RemoteTask,&amp;RemoteTask::nextRemoteTask &gt; remoteTaskQueue_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00462">FiberManagerInternal.h:462</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_ae8bb7fed95f46e8d84de2b9fcfa51d58"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#ae8bb7fed95f46e8d84de2b9fcfa51d58">folly::fibers::FiberManager::remoteCount_</a></div><div class="ttdeci">ssize_t remoteCount_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00464">FiberManagerInternal.h:464</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6f56add77534cc849fba62079447d682"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::fibers::FiberManager::initLocalData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1fibers_1_1Fiber.html">Fiber</a> &amp;&#160;</td>
          <td class="paramname"><em>fiber</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sets local data for given fiber if all conditions are met. </p>

<p>Definition at line <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00522">522</a> of file <a class="el" href="FiberManagerInternal-inl_8h_source.html">FiberManagerInternal-inl.h</a>.</p>

<p>References <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00488">getFiberManagerUnsafe()</a>, <a class="el" href="Fiber_8h_source.html#l00173">folly::fibers::Fiber::localData_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00484">localType_</a>, <a class="el" href="Fiber_8h_source.html#l00113">folly::fibers::Fiber::rcontext_</a>, and <a class="el" href="Request_8h_source.html#l00196">folly::RequestContext::saveContext()</a>.</p>

<p>Referenced by <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00306">addTask()</a>, and <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00417">addTaskFinally()</a>.</p>
<div class="fragment"><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                                                    {</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <span class="keyword">auto</span> fm = <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ab0d53ca18d2f41f6a5663afe1f0fe3b6">getFiberManagerUnsafe</a>();</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <span class="keywordflow">if</span> (fm &amp;&amp; fm-&gt;currentFiber_ &amp;&amp; fm-&gt;localType_ == <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a54ed8e163b11c728fd215e960cd53b3d">localType_</a>) {</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    fiber.localData_ = fm-&gt;currentFiber_-&gt;localData_;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  }</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  fiber.rcontext_ = <a class="code" href="classfolly_1_1RequestContext.html#a400dbde2d305cda780eaf9fbcfe3087c">RequestContext::saveContext</a>();</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;}</div><div class="ttc" id="classfolly_1_1RequestContext_html_a400dbde2d305cda780eaf9fbcfe3087c"><div class="ttname"><a href="classfolly_1_1RequestContext.html#a400dbde2d305cda780eaf9fbcfe3087c">folly::RequestContext::saveContext</a></div><div class="ttdeci">static std::shared_ptr&lt; RequestContext &gt; saveContext()</div><div class="ttdef"><b>Definition:</b> <a href="Request_8h_source.html#l00196">Request.h:196</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_ab0d53ca18d2f41f6a5663afe1f0fe3b6"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#ab0d53ca18d2f41f6a5663afe1f0fe3b6">folly::fibers::FiberManager::getFiberManagerUnsafe</a></div><div class="ttdeci">static FiberManager * getFiberManagerUnsafe()</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal-inl_8h_source.html#l00488">FiberManagerInternal-inl.h:488</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a54ed8e163b11c728fd215e960cd53b3d"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a54ed8e163b11c728fd215e960cd53b3d">folly::fibers::FiberManager::localType_</a></div><div class="ttdeci">std::type_index localType_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00484">FiberManagerInternal.h:484</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a558df5adbea37e9b2e9ea16a58b70822"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &amp; folly::fibers::FiberManager::local </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a refference to a fiber-local context for given <a class="el" href="classfolly_1_1fibers_1_1Fiber.html" title="Fiber object used by FiberManager to execute tasks. ">Fiber</a>. Should be always called with the same T for each fiber. Fiber-local context is lazily default-constructed on first request. When new task is scheduled via addTask / addTaskRemote from a fiber its fiber-local context is copied into the new fiber. </p>

<p>Definition at line <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00504">504</a> of file <a class="el" href="FiberManagerInternal-inl_8h_source.html">FiberManagerInternal-inl.h</a>.</p>

<p>References <a class="el" href="FiberManagerInternal_8h_source.html#l00379">currentFiber_</a>, <a class="el" href="Fiber_8h_source.html#l00139">folly::fibers::Fiber::LocalData::get()</a>, <a class="el" href="Fiber_8h_source.html#l00173">folly::fibers::Fiber::localData_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00484">localType_</a>, and <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">folly::T</a>.</p>
<div class="fragment"><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                       {</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <span class="keywordflow">if</span> (std::type_index(<span class="keyword">typeid</span>(<a class="code" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>)) == <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a54ed8e163b11c728fd215e960cd53b3d">localType_</a> &amp;&amp; <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#aca84d2616a3e048271a1eb55cbd3c408">currentFiber_</a>) {</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#aca84d2616a3e048271a1eb55cbd3c408">currentFiber_</a>-&gt;<a class="code" href="classfolly_1_1fibers_1_1Fiber.html#afb0fec1ffcd13d38edb8abb347d05c18">localData_</a>.<a class="code" href="classfolly_1_1fibers_1_1Fiber_1_1LocalData.html#adc4c049d96c7315f36f4f2736e9eea78">get</a>&lt;<a class="code" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>&gt;();</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  }</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="keywordflow">return</span> localThread&lt;T&gt;();</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;}</div><div class="ttc" id="namespacefolly_html_a0652a9c51b69e7a13d40ccbcb139bc55"><div class="ttname"><a href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">folly::T</a></div><div class="ttdeci">folly::std T</div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_aca84d2616a3e048271a1eb55cbd3c408"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#aca84d2616a3e048271a1eb55cbd3c408">folly::fibers::FiberManager::currentFiber_</a></div><div class="ttdeci">Fiber * currentFiber_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00379">FiberManagerInternal.h:379</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1Fiber_1_1LocalData_html_adc4c049d96c7315f36f4f2736e9eea78"><div class="ttname"><a href="classfolly_1_1fibers_1_1Fiber_1_1LocalData.html#adc4c049d96c7315f36f4f2736e9eea78">folly::fibers::Fiber::LocalData::get</a></div><div class="ttdeci">T &amp; get()</div><div class="ttdef"><b>Definition:</b> <a href="Fiber_8h_source.html#l00139">Fiber.h:139</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1Fiber_html_afb0fec1ffcd13d38edb8abb347d05c18"><div class="ttname"><a href="classfolly_1_1fibers_1_1Fiber.html#afb0fec1ffcd13d38edb8abb347d05c18">folly::fibers::Fiber::localData_</a></div><div class="ttdeci">LocalData localData_</div><div class="ttdef"><b>Definition:</b> <a href="Fiber_8h_source.html#l00173">Fiber.h:173</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a54ed8e163b11c728fd215e960cd53b3d"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a54ed8e163b11c728fd215e960cd53b3d">folly::fibers::FiberManager::localType_</a></div><div class="ttdeci">std::type_index localType_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00484">FiberManagerInternal.h:484</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acd1a9f4c8e3245ea836a369fab797389"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="CPortability_8h.html#a13e2623b1813a2c6691224df88744c87">FOLLY_EXPORT</a> <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>&amp; folly::fibers::FiberManager::localThread </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab749843f93e3ac2c3ac3540a93d426f7"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>&amp; folly::fibers::FiberManager::localThread </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00512">512</a> of file <a class="el" href="FiberManagerInternal-inl_8h_source.html">FiberManagerInternal-inl.h</a>.</p>

<p>References <a class="el" href="extension__operators_8h_source.html#l00048">folly::pushmi::detail::t</a>, and <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">folly::T</a>.</p>
<div class="fragment"><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                             {</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="preprocessor">#ifndef __APPLE__</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="keyword">static</span> thread_local <a class="code" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> <a class="code" href="namespacefolly_1_1pushmi_1_1detail.html#a83db2e678e3a0679ce63d24026fcf5ff">t</a>;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacefolly_1_1pushmi_1_1detail.html#a83db2e678e3a0679ce63d24026fcf5ff">t</a>;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="preprocessor">#else // osx doesn&#39;t support thread_local</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  <span class="keyword">static</span> ThreadLocal&lt;T&gt; <a class="code" href="namespacefolly_1_1pushmi_1_1detail.html#a83db2e678e3a0679ce63d24026fcf5ff">t</a>;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <span class="keywordflow">return</span> *<a class="code" href="namespacefolly_1_1pushmi_1_1detail.html#a83db2e678e3a0679ce63d24026fcf5ff">t</a>;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;}</div><div class="ttc" id="namespacefolly_html_a0652a9c51b69e7a13d40ccbcb139bc55"><div class="ttname"><a href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">folly::T</a></div><div class="ttdeci">folly::std T</div></div>
<div class="ttc" id="namespacefolly_1_1pushmi_1_1detail_html_a83db2e678e3a0679ce63d24026fcf5ff"><div class="ttname"><a href="namespacefolly_1_1pushmi_1_1detail.html#a83db2e678e3a0679ce63d24026fcf5ff">folly::pushmi::detail::t</a></div><div class="ttdeci">requires Tuple &amp;&amp; t</div><div class="ttdef"><b>Definition:</b> <a href="extension__operators_8h_source.html#l00048">extension_operators.h:48</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a381115ed02eb29958264f96a261728b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1fibers_1_1LoopController.html">LoopController</a> &amp; folly::fibers::FiberManager::loopController </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Controller access. </p>

<p>Definition at line <a class="el" href="FiberManager_8cpp_source.html#l00091">91</a> of file <a class="el" href="FiberManager_8cpp_source.html">FiberManager.cpp</a>.</p>

<p>References <a class="el" href="FiberManagerInternal_8h_source.html#l00399">loopController_</a>.</p>

<p>Referenced by <a class="el" href="FibersTestApp_8cpp_source.html#l00080">main()</a>, <a class="el" href="FibersBenchmark_8cpp_source.html#l00031">runBenchmark()</a>, and <a class="el" href="FibersTest_8cpp_source.html#l00043">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                                             {</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="keywordflow">return</span> *<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a0ecc213fac4752d8c94f520dcbfe958a">loopController_</a>;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;}</div><div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a0ecc213fac4752d8c94f520dcbfe958a"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a0ecc213fac4752d8c94f520dcbfe958a">folly::fibers::FiberManager::loopController_</a></div><div class="ttdeci">std::unique_ptr&lt; LoopController &gt; loopController_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00399">FiberManagerInternal.h:399</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a331138cbad647b6337d31ba3a49a7b2b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classfolly_1_1fibers_1_1LoopController.html">LoopController</a> &amp; folly::fibers::FiberManager::loopController </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FiberManager_8cpp_source.html#l00095">95</a> of file <a class="el" href="FiberManager_8cpp_source.html">FiberManager.cpp</a>.</p>

<p>References <a class="el" href="FiberManagerInternal_8h_source.html#l00399">loopController_</a>.</p>
<div class="fragment"><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                                                         {</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="keywordflow">return</span> *<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a0ecc213fac4752d8c94f520dcbfe958a">loopController_</a>;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;}</div><div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a0ecc213fac4752d8c94f520dcbfe958a"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a0ecc213fac4752d8c94f520dcbfe958a">folly::fibers::FiberManager::loopController_</a></div><div class="ttdeci">std::unique_ptr&lt; LoopController &gt; loopController_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00399">FiberManagerInternal.h:399</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3059d4943a345bca39e753d664ada9b9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::fibers::FiberManager::loopUntilNoReady </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Keeps running ready tasks until the list of ready tasks is empty. </p>

<p>Definition at line <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00186">186</a> of file <a class="el" href="FiberManagerInternal-inl_8h_source.html">FiberManagerInternal-inl.h</a>.</p>

<p>References <a class="el" href="FiberManagerInternal_8h_source.html#l00399">loopController_</a>.</p>

<p>Referenced by <a class="el" href="FibersBenchmark_8cpp_source.html#l00084">BENCHMARK()</a>, <a class="el" href="FibersTest_8cpp_source.html#l00197">TEST()</a>, and <a class="el" href="FibersTest_8cpp_source.html#l01163">testFiberLocal()</a>.</p>
<div class="fragment"><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                                           {</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a0ecc213fac4752d8c94f520dcbfe958a">loopController_</a>-&gt;runLoop();</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;}</div><div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a0ecc213fac4752d8c94f520dcbfe958a"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a0ecc213fac4752d8c94f520dcbfe958a">folly::fibers::FiberManager::loopController_</a></div><div class="ttdeci">std::unique_ptr&lt; LoopController &gt; loopController_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00399">FiberManagerInternal.h:399</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8ad9ffc5162e8b42a67c08f4e72b4bad"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::fibers::FiberManager::loopUntilNoReadyImpl </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This should only be called by a <a class="el" href="classfolly_1_1fibers_1_1LoopController.html">LoopController</a>. </p>

<p>Definition at line <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00190">190</a> of file <a class="el" href="FiberManagerInternal-inl_8h_source.html">FiberManagerInternal-inl.h</a>.</p>

<p>References <a class="el" href="FiberManagerInternal_8h_source.html#l00508">alternateSignalStackRegistered_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00406">currentFiberManager_</a>, <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00050">ensureLoopScheduled()</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00361">folly::fibers::FiberManager::RemoteTask::func</a>, <a class="el" href="FiberManager_8cpp_source.html#l00104">getFiber()</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00400">isLoopScheduled_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00362">folly::fibers::FiberManager::RemoteTask::localData</a>, <a class="el" href="Fiber_8h_source.html#l00173">folly::fibers::Fiber::localData_</a>, <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00454">observer_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00363">folly::fibers::FiberManager::RemoteTask::rcontext</a>, <a class="el" href="Fiber_8h_source.html#l00113">folly::fibers::Fiber::rcontext_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00381">readyFibers_</a>, <a class="el" href="FiberManager_8cpp_source.html#l00361">registerAlternateSignalStack()</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00464">remoteCount_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00459">remoteReadyQueue_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00462">remoteTaskQueue_</a>, <a class="el" href="classfolly_1_1ExecutionObserver.html#a75a0f156c288b4867ef02eacc90ca985">folly::ExecutionObserver::runnable()</a>, <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00103">runReadyFiber()</a>, <a class="el" href="Request_8h_source.html#l00196">folly::RequestContext::saveContext()</a>, <a class="el" href="ScopeGuard_8h_source.html#l00274">SCOPE_EXIT</a>, <a class="el" href="Request_8cpp_source.html#l00227">folly::RequestContext::setContext()</a>, <a class="el" href="Fiber-inl_8h_source.html#l00024">folly::fibers::Fiber::setFunction()</a>, <a class="el" href="F14TestUtil_8h_source.html#l00414">folly::f14::swap()</a>, <a class="el" href="Likely_8h_source.html#l00048">UNLIKELY</a>, and <a class="el" href="FiberManagerInternal_8h_source.html#l00382">yieldedFibers_</a>.</p>

<p>Referenced by <a class="el" href="ExecutorLoopController-inl_8h_source.html#l00039">folly::fibers::ExecutorLoopController::runLoop()</a>, <a class="el" href="EventBaseLoopController-inl_8h_source.html#l00066">folly::fibers::EventBaseLoopController::runLoop()</a>, and <a class="el" href="SimpleLoopController_8h_source.html#l00086">folly::fibers::SimpleLoopController::runLoop()</a>.</p>
<div class="fragment"><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                                               {</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="preprocessor">#ifndef _WIN32</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="Likely_8h.html#ab10d0a221f4d7a706701b806c8135fd7">UNLIKELY</a>(!<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ab9b4a771327546c6209dd10b80f8ed72">alternateSignalStackRegistered_</a>)) {</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ae3563c6a70f59af4295a9ac6f17d902b">registerAlternateSignalStack</a>();</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  }</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <span class="comment">// Support nested FiberManagers</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="keyword">auto</span> originalFiberManager = <span class="keyword">this</span>;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <a class="code" href="namespacefolly_1_1f14.html#a20b1454bd115690f6bccf4b9121f2b38">std::swap</a>(<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a05ce87b893be2ab0309debfd078e5408">currentFiberManager_</a>, originalFiberManager);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="comment">// Save current context, and reset it after executing all fibers.</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="comment">// This can avoid a lot of context swapping,</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <span class="comment">// if the Fibers share the same context</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="keyword">auto</span> curCtx = <a class="code" href="classfolly_1_1RequestContext.html#a400dbde2d305cda780eaf9fbcfe3087c">RequestContext::saveContext</a>();</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <a class="code" href="ScopeGuard_8h.html#a175c354c3e38222bc00ce5df5e6d431d">SCOPE_EXIT</a> {</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <a class="code" href="classfolly_1_1RequestContext.html#a55236af0154a1ab4d6fca74f55a6307d">RequestContext::setContext</a>(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(curCtx));</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a249f40d4e85c4ec29b0c5abe2d4d9465">isLoopScheduled_</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a90d6f76e5f9062071e61c076cfb289a0">readyFibers_</a>.empty()) {</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#af13e9d81ab59be054c7ec304dd6ec11f">ensureLoopScheduled</a>();</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    }</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <a class="code" href="namespacefolly_1_1f14.html#a20b1454bd115690f6bccf4b9121f2b38">std::swap</a>(<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a05ce87b893be2ab0309debfd078e5408">currentFiberManager_</a>, originalFiberManager);</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    CHECK_EQ(<span class="keyword">this</span>, originalFiberManager);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  };</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  <span class="keywordtype">bool</span> hadRemote = <span class="keyword">true</span>;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <span class="keywordflow">while</span> (hadRemote) {</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordflow">while</span> (!<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a90d6f76e5f9062071e61c076cfb289a0">readyFibers_</a>.empty()) {</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      <span class="keyword">auto</span>&amp; fiber = <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a90d6f76e5f9062071e61c076cfb289a0">readyFibers_</a>.front();</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a90d6f76e5f9062071e61c076cfb289a0">readyFibers_</a>.pop_front();</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a0ec30cbbf70fcfba24928f5bfff38646">runReadyFiber</a>(&amp;fiber);</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    }</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keyword">auto</span> hadRemoteFiber = <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a0c50e7634b78f7f80132a90e197f5b3c">remoteReadyQueue_</a>.sweepOnce(</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        [<span class="keyword">this</span>](<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a87a616a1350a043ee7172754e2521db8">Fiber</a>* fiber) { <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a0ec30cbbf70fcfba24928f5bfff38646">runReadyFiber</a>(fiber); });</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keywordflow">if</span> (hadRemoteFiber) {</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;      ++<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ae8bb7fed95f46e8d84de2b9fcfa51d58">remoteCount_</a>;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    }</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keyword">auto</span> hadRemoteTask =</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a2558ee3df69e0c868e0ccba3c6f977a4">remoteTaskQueue_</a>.sweepOnce([<span class="keyword">this</span>](RemoteTask* taskPtr) {</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;          std::unique_ptr&lt;RemoteTask&gt; task(taskPtr);</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;          <span class="keyword">auto</span> fiber = <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a5f07b809e3ca2a9069ddc295a16b4c73">getFiber</a>();</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;          <span class="keywordflow">if</span> (task-&gt;localData) {</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            fiber-&gt;localData_ = *task-&gt;localData;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;          }</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;          fiber-&gt;rcontext_ = <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(task-&gt;rcontext);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;          fiber-&gt;setFunction(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(task-&gt;func));</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#aa0f81919fe53bb76fd66de48d2428163">observer_</a>) {</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#aa0f81919fe53bb76fd66de48d2428163">observer_</a>-&gt;<a class="code" href="classfolly_1_1ExecutionObserver.html#a75a0f156c288b4867ef02eacc90ca985">runnable</a>(reinterpret_cast&lt;uintptr_t&gt;(fiber));</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;          }</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;          <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a0ec30cbbf70fcfba24928f5bfff38646">runReadyFiber</a>(fiber);</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        });</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordflow">if</span> (hadRemoteTask) {</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      ++<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ae8bb7fed95f46e8d84de2b9fcfa51d58">remoteCount_</a>;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    }</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    hadRemote = hadRemoteTask || hadRemoteFiber;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  }</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#aa0f81919fe53bb76fd66de48d2428163">observer_</a>) {</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; yielded : <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#aeb3a0e6f801a22eba03427ee8900b2b4">yieldedFibers_</a>) {</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#aa0f81919fe53bb76fd66de48d2428163">observer_</a>-&gt;<a class="code" href="classfolly_1_1ExecutionObserver.html#a75a0f156c288b4867ef02eacc90ca985">runnable</a>(reinterpret_cast&lt;uintptr_t&gt;(&amp;yielded));</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    }</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  }</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a90d6f76e5f9062071e61c076cfb289a0">readyFibers_</a>.splice(<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a90d6f76e5f9062071e61c076cfb289a0">readyFibers_</a>.end(), <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#aeb3a0e6f801a22eba03427ee8900b2b4">yieldedFibers_</a>);</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;}</div><div class="ttc" id="classfolly_1_1RequestContext_html_a55236af0154a1ab4d6fca74f55a6307d"><div class="ttname"><a href="classfolly_1_1RequestContext.html#a55236af0154a1ab4d6fca74f55a6307d">folly::RequestContext::setContext</a></div><div class="ttdeci">static std::shared_ptr&lt; RequestContext &gt; setContext(std::shared_ptr&lt; RequestContext &gt; ctx)</div><div class="ttdef"><b>Definition:</b> <a href="Request_8cpp_source.html#l00227">Request.cpp:227</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_af13e9d81ab59be054c7ec304dd6ec11f"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#af13e9d81ab59be054c7ec304dd6ec11f">folly::fibers::FiberManager::ensureLoopScheduled</a></div><div class="ttdeci">void ensureLoopScheduled()</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal-inl_8h_source.html#l00050">FiberManagerInternal-inl.h:50</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a5f07b809e3ca2a9069ddc295a16b4c73"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a5f07b809e3ca2a9069ddc295a16b4c73">folly::fibers::FiberManager::getFiber</a></div><div class="ttdeci">Fiber * getFiber()</div><div class="ttdef"><b>Definition:</b> <a href="FiberManager_8cpp_source.html#l00104">FiberManager.cpp:104</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a90d6f76e5f9062071e61c076cfb289a0"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a90d6f76e5f9062071e61c076cfb289a0">folly::fibers::FiberManager::readyFibers_</a></div><div class="ttdeci">FiberTailQueue readyFibers_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00381">FiberManagerInternal.h:381</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a05ce87b893be2ab0309debfd078e5408"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a05ce87b893be2ab0309debfd078e5408">folly::fibers::FiberManager::currentFiberManager_</a></div><div class="ttdeci">static FOLLY_TLS FiberManager * currentFiberManager_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00406">FiberManagerInternal.h:406</a></div></div>
<div class="ttc" id="ScopeGuard_8h_html_a175c354c3e38222bc00ce5df5e6d431d"><div class="ttname"><a href="ScopeGuard_8h.html#a175c354c3e38222bc00ce5df5e6d431d">SCOPE_EXIT</a></div><div class="ttdeci">#define SCOPE_EXIT</div><div class="ttdef"><b>Definition:</b> <a href="ScopeGuard_8h_source.html#l00274">ScopeGuard.h:274</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_ae3563c6a70f59af4295a9ac6f17d902b"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#ae3563c6a70f59af4295a9ac6f17d902b">folly::fibers::FiberManager::registerAlternateSignalStack</a></div><div class="ttdeci">void registerAlternateSignalStack()</div><div class="ttdef"><b>Definition:</b> <a href="FiberManager_8cpp_source.html#l00361">FiberManager.cpp:361</a></div></div>
<div class="ttc" id="classfolly_1_1ExecutionObserver_html_a75a0f156c288b4867ef02eacc90ca985"><div class="ttname"><a href="classfolly_1_1ExecutionObserver.html#a75a0f156c288b4867ef02eacc90ca985">folly::ExecutionObserver::runnable</a></div><div class="ttdeci">virtual void runnable(uintptr_t id) noexcept=0</div></div>
<div class="ttc" id="classfolly_1_1RequestContext_html_a400dbde2d305cda780eaf9fbcfe3087c"><div class="ttname"><a href="classfolly_1_1RequestContext.html#a400dbde2d305cda780eaf9fbcfe3087c">folly::RequestContext::saveContext</a></div><div class="ttdeci">static std::shared_ptr&lt; RequestContext &gt; saveContext()</div><div class="ttdef"><b>Definition:</b> <a href="Request_8h_source.html#l00196">Request.h:196</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a249f40d4e85c4ec29b0c5abe2d4d9465"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a249f40d4e85c4ec29b0c5abe2d4d9465">folly::fibers::FiberManager::isLoopScheduled_</a></div><div class="ttdeci">bool isLoopScheduled_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00400">FiberManagerInternal.h:400</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_aa0f81919fe53bb76fd66de48d2428163"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#aa0f81919fe53bb76fd66de48d2428163">folly::fibers::FiberManager::observer_</a></div><div class="ttdeci">ExecutionObserver * observer_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00454">FiberManagerInternal.h:454</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a0ec30cbbf70fcfba24928f5bfff38646"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a0ec30cbbf70fcfba24928f5bfff38646">folly::fibers::FiberManager::runReadyFiber</a></div><div class="ttdeci">void runReadyFiber(Fiber *fiber)</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal-inl_8h_source.html#l00103">FiberManagerInternal-inl.h:103</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_ab9b4a771327546c6209dd10b80f8ed72"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#ab9b4a771327546c6209dd10b80f8ed72">folly::fibers::FiberManager::alternateSignalStackRegistered_</a></div><div class="ttdeci">bool alternateSignalStackRegistered_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00508">FiberManagerInternal.h:508</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a0c50e7634b78f7f80132a90e197f5b3c"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a0c50e7634b78f7f80132a90e197f5b3c">folly::fibers::FiberManager::remoteReadyQueue_</a></div><div class="ttdeci">folly::AtomicIntrusiveLinkedList&lt; Fiber,&amp;Fiber::nextRemoteReady_ &gt; remoteReadyQueue_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00459">FiberManagerInternal.h:459</a></div></div>
<div class="ttc" id="namespacefolly_1_1f14_html_a20b1454bd115690f6bccf4b9121f2b38"><div class="ttname"><a href="namespacefolly_1_1f14.html#a20b1454bd115690f6bccf4b9121f2b38">folly::f14::swap</a></div><div class="ttdeci">void swap(SwapTrackingAlloc&lt; T &gt; &amp;, SwapTrackingAlloc&lt; T &gt; &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="F14TestUtil_8h_source.html#l00414">F14TestUtil.h:414</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a2558ee3df69e0c868e0ccba3c6f977a4"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a2558ee3df69e0c868e0ccba3c6f977a4">folly::fibers::FiberManager::remoteTaskQueue_</a></div><div class="ttdeci">folly::AtomicIntrusiveLinkedList&lt; RemoteTask,&amp;RemoteTask::nextRemoteTask &gt; remoteTaskQueue_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00462">FiberManagerInternal.h:462</a></div></div>
<div class="ttc" id="Likely_8h_html_ab10d0a221f4d7a706701b806c8135fd7"><div class="ttname"><a href="Likely_8h.html#ab10d0a221f4d7a706701b806c8135fd7">UNLIKELY</a></div><div class="ttdeci">#define UNLIKELY(x)</div><div class="ttdef"><b>Definition:</b> <a href="Likely_8h_source.html#l00048">Likely.h:48</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a87a616a1350a043ee7172754e2521db8"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a87a616a1350a043ee7172754e2521db8">folly::fibers::FiberManager::Fiber</a></div><div class="ttdeci">friend class Fiber</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00346">FiberManagerInternal.h:346</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_ae8bb7fed95f46e8d84de2b9fcfa51d58"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#ae8bb7fed95f46e8d84de2b9fcfa51d58">folly::fibers::FiberManager::remoteCount_</a></div><div class="ttdeci">ssize_t remoteCount_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00464">FiberManagerInternal.h:464</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_aeb3a0e6f801a22eba03427ee8900b2b4"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#aeb3a0e6f801a22eba03427ee8900b2b4">folly::fibers::FiberManager::yieldedFibers_</a></div><div class="ttdeci">FiberTailQueue yieldedFibers_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00382">FiberManagerInternal.h:382</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab8d83dfdc3a4a43f9b7457afa188a527"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html">FiberManager</a>&amp; folly::fibers::FiberManager::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfolly_1_1fibers_1_1FiberManager.html">FiberManager</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="FiberManager_8cpp_source.html#l00184">folly::fibers::FiberManager::FibersPoolResizer::operator()()</a>.</p>

</div>
</div>
<a class="anchor" id="ae3563c6a70f59af4295a9ac6f17d902b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::fibers::FiberManager::registerAlternateSignalStack </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FiberManager_8cpp_source.html#l00361">361</a> of file <a class="el" href="FiberManager_8cpp_source.html">FiberManager.cpp</a>.</p>

<p>References <a class="el" href="FiberManagerInternal_8h_source.html#l00508">alternateSignalStackRegistered_</a>, and <a class="el" href="SingletonThreadLocal_8h_source.html#l00155">folly::SingletonThreadLocal&lt; T, Tag, Make, TLTag &gt;::get()</a>.</p>

<p>Referenced by <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00190">loopUntilNoReadyImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                                                {</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <a class="code" href="classfolly_1_1SingletonThreadLocal.html#ae10d6fb6008666afb75dc91b5eb96de9">SingletonThreadLocal&lt;ScopedAlternateSignalStack&gt;::get</a>();</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ab9b4a771327546c6209dd10b80f8ed72">alternateSignalStackRegistered_</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;}</div><div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_ab9b4a771327546c6209dd10b80f8ed72"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#ab9b4a771327546c6209dd10b80f8ed72">folly::fibers::FiberManager::alternateSignalStackRegistered_</a></div><div class="ttdeci">bool alternateSignalStackRegistered_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00508">FiberManagerInternal.h:508</a></div></div>
<div class="ttc" id="classfolly_1_1SingletonThreadLocal_html_ae10d6fb6008666afb75dc91b5eb96de9"><div class="ttname"><a href="classfolly_1_1SingletonThreadLocal.html#ae10d6fb6008666afb75dc91b5eb96de9">folly::SingletonThreadLocal::get</a></div><div class="ttdeci">FOLLY_EXPORT static FOLLY_ALWAYS_INLINE T &amp; get()</div><div class="ttdef"><b>Definition:</b> <a href="SingletonThreadLocal_8h_source.html#l00155">SingletonThreadLocal.h:155</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af9a7ceefea0d77523c87ad997dc3e0a8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::fibers::FiberManager::remoteReadyInsert </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1fibers_1_1Fiber.html">Fiber</a> *&#160;</td>
          <td class="paramname"><em>fiber</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FiberManager_8cpp_source.html#l00149">149</a> of file <a class="el" href="FiberManager_8cpp_source.html">FiberManager.cpp</a>.</p>

<p>References <a class="el" href="FiberManagerInternal_8h_source.html#l00399">loopController_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00454">observer_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00459">remoteReadyQueue_</a>, and <a class="el" href="classfolly_1_1ExecutionObserver.html#a75a0f156c288b4867ef02eacc90ca985">folly::ExecutionObserver::runnable()</a>.</p>

<p>Referenced by <a class="el" href="Fiber_8cpp_source.html#l00054">folly::fibers::Fiber::resume()</a>.</p>
<div class="fragment"><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                                                 {</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#aa0f81919fe53bb76fd66de48d2428163">observer_</a>) {</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#aa0f81919fe53bb76fd66de48d2428163">observer_</a>-&gt;<a class="code" href="classfolly_1_1ExecutionObserver.html#a75a0f156c288b4867ef02eacc90ca985">runnable</a>(reinterpret_cast&lt;uintptr_t&gt;(fiber));</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a0c50e7634b78f7f80132a90e197f5b3c">remoteReadyQueue_</a>.insertHead(fiber)) {</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a0ecc213fac4752d8c94f520dcbfe958a">loopController_</a>-&gt;scheduleThreadSafe();</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  }</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;}</div><div class="ttc" id="classfolly_1_1ExecutionObserver_html_a75a0f156c288b4867ef02eacc90ca985"><div class="ttname"><a href="classfolly_1_1ExecutionObserver.html#a75a0f156c288b4867ef02eacc90ca985">folly::ExecutionObserver::runnable</a></div><div class="ttdeci">virtual void runnable(uintptr_t id) noexcept=0</div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a0ecc213fac4752d8c94f520dcbfe958a"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a0ecc213fac4752d8c94f520dcbfe958a">folly::fibers::FiberManager::loopController_</a></div><div class="ttdeci">std::unique_ptr&lt; LoopController &gt; loopController_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00399">FiberManagerInternal.h:399</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_aa0f81919fe53bb76fd66de48d2428163"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#aa0f81919fe53bb76fd66de48d2428163">folly::fibers::FiberManager::observer_</a></div><div class="ttdeci">ExecutionObserver * observer_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00454">FiberManagerInternal.h:454</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a0c50e7634b78f7f80132a90e197f5b3c"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a0c50e7634b78f7f80132a90e197f5b3c">folly::fibers::FiberManager::remoteReadyQueue_</a></div><div class="ttdeci">folly::AtomicIntrusiveLinkedList&lt; Fiber,&amp;Fiber::nextRemoteReady_ &gt; remoteReadyQueue_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00459">FiberManagerInternal.h:459</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5114ccdf275bc73cd4ffd9f1ed807769"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename F &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacefolly.html#a959935d9eb6cce6bd25049997b200b93">invoke_result_t</a>&lt; F &gt; folly::fibers::FiberManager::runInMainContext </td>
          <td>(</td>
          <td class="paramtype">F &amp;&amp;&#160;</td>
          <td class="paramname"><em>func</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If called from a fiber, immediately switches to the <a class="el" href="classfolly_1_1fibers_1_1FiberManager.html" title="Single-threaded task execution engine. ">FiberManager</a>'s context and runs func(), going back to the <a class="el" href="classfolly_1_1fibers_1_1Fiber.html" title="Fiber object used by FiberManager to execute tasks. ">Fiber</a>'s context after completion. Outside a fiber, just calls func() directly.</p>
<dl class="section return"><dt>Returns</dt><dd>value returned by func(). </dd></dl>

<p>Definition at line <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00465">465</a> of file <a class="el" href="FiberManagerInternal-inl_8h_source.html">FiberManagerInternal-inl.h</a>.</p>

<p>References <a class="el" href="FiberManagerInternal_8h_source.html#l00374">activeFiber_</a>, <a class="el" href="Fiber_8h_source.html#l00073">folly::fibers::Fiber::AWAITING_IMMEDIATE</a>, <a class="el" href="PushmiBenchmarks_8cpp_source.html#l00515">f</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00444">immediateFunc_</a>, <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>, <a class="el" href="Fiber_8cpp_source.html#l00172">folly::fibers::Fiber::preempt()</a>, <a class="el" href="Try-inl_8h_source.html#l00266">folly::tryEmplaceWith()</a>, and <a class="el" href="Likely_8h_source.html#l00048">UNLIKELY</a>.</p>

<p>Referenced by <a class="el" href="FibersTest_8cpp_source.html#l00927">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                                                          {</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="Likely_8h.html#ab10d0a221f4d7a706701b806c8135fd7">UNLIKELY</a>(<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ab83c6f4f665aedc45317c9a42827a4e9">activeFiber_</a> == <span class="keyword">nullptr</span>)) {</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="keywordflow">return</span> func();</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  }</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  <span class="keyword">typedef</span> invoke_result_t&lt;F&gt; Result;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <a class="code" href="classfolly_1_1Try.html">folly::Try&lt;Result&gt;</a> result;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <span class="keyword">auto</span> <a class="code" href="PushmiBenchmarks_8cpp.html#ad94c2c2f9fd35a12cc099962b7540071">f</a> = [&amp;func, &amp;result]() <span class="keyword">mutable</span> {</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <a class="code" href="namespacefolly.html#a3a8a2dac861e9e43f3f8f92fedf4fb8e">folly::tryEmplaceWith</a>(result, std::forward&lt;F&gt;(func));</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  };</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a059ec636263bc9a60824908482e2b2c4">immediateFunc_</a> = std::ref(<a class="code" href="PushmiBenchmarks_8cpp.html#ad94c2c2f9fd35a12cc099962b7540071">f</a>);</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ab83c6f4f665aedc45317c9a42827a4e9">activeFiber_</a>-&gt;<a class="code" href="classfolly_1_1fibers_1_1Fiber.html#a62fc6790118225f0b7cce1693a9bf1ca">preempt</a>(<a class="code" href="classfolly_1_1fibers_1_1Fiber.html#ab1540a8aeb9f1878cb48e99ebe47b394aafce56d859d89837becffeb8caf7382c">Fiber::AWAITING_IMMEDIATE</a>);</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(result).value();</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;}</div><div class="ttc" id="PushmiBenchmarks_8cpp_html_ad94c2c2f9fd35a12cc099962b7540071"><div class="ttname"><a href="PushmiBenchmarks_8cpp.html#ad94c2c2f9fd35a12cc099962b7540071">f</a></div><div class="ttdeci">auto f</div><div class="ttdef"><b>Definition:</b> <a href="PushmiBenchmarks_8cpp_source.html#l00515">PushmiBenchmarks.cpp:515</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="namespacefolly_html_a3a8a2dac861e9e43f3f8f92fedf4fb8e"><div class="ttname"><a href="namespacefolly.html#a3a8a2dac861e9e43f3f8f92fedf4fb8e">folly::tryEmplaceWith</a></div><div class="ttdeci">T * tryEmplaceWith(Try&lt; T &gt; &amp;t, Func &amp;&amp;func) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="Try-inl_8h_source.html#l00266">Try-inl.h:266</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_ab83c6f4f665aedc45317c9a42827a4e9"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#ab83c6f4f665aedc45317c9a42827a4e9">folly::fibers::FiberManager::activeFiber_</a></div><div class="ttdeci">Fiber * activeFiber_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00374">FiberManagerInternal.h:374</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1Fiber_html_a62fc6790118225f0b7cce1693a9bf1ca"><div class="ttname"><a href="classfolly_1_1fibers_1_1Fiber.html#a62fc6790118225f0b7cce1693a9bf1ca">folly::fibers::Fiber::preempt</a></div><div class="ttdeci">void preempt(State state)</div><div class="ttdef"><b>Definition:</b> <a href="Fiber_8cpp_source.html#l00172">Fiber.cpp:172</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1Fiber_html_ab1540a8aeb9f1878cb48e99ebe47b394aafce56d859d89837becffeb8caf7382c"><div class="ttname"><a href="classfolly_1_1fibers_1_1Fiber.html#ab1540a8aeb9f1878cb48e99ebe47b394aafce56d859d89837becffeb8caf7382c">folly::fibers::Fiber::AWAITING_IMMEDIATE</a></div><div class="ttdef"><b>Definition:</b> <a href="Fiber_8h_source.html#l00073">Fiber.h:73</a></div></div>
<div class="ttc" id="classfolly_1_1Try_html"><div class="ttname"><a href="classfolly_1_1Try.html">folly::Try&lt; Result &gt;</a></div></div>
<div class="ttc" id="Likely_8h_html_ab10d0a221f4d7a706701b806c8135fd7"><div class="ttname"><a href="Likely_8h.html#ab10d0a221f4d7a706701b806c8135fd7">UNLIKELY</a></div><div class="ttdeci">#define UNLIKELY(x)</div><div class="ttdef"><b>Definition:</b> <a href="Likely_8h_source.html#l00048">Likely.h:48</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a059ec636263bc9a60824908482e2b2c4"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a059ec636263bc9a60824908482e2b2c4">folly::fibers::FiberManager::immediateFunc_</a></div><div class="ttdeci">folly::Function&lt; void()&gt; immediateFunc_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00444">FiberManagerInternal.h:444</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae2eb7889dda61da3526a5fb525dd61d6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t folly::fibers::FiberManager::runQueueSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns an estimate of the number of fibers which are waiting to run (does not include fibers or tasks scheduled remotely). </p>

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00337">337</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>References <a class="el" href="FiberManagerMap_8cpp_source.html#l00183">folly::fibers::getFiberManager()</a>.</p>
<div class="fragment"><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                              {</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a90d6f76e5f9062071e61c076cfb289a0">readyFibers_</a>.size() + <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#aeb3a0e6f801a22eba03427ee8900b2b4">yieldedFibers_</a>.size();</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  }</div><div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a90d6f76e5f9062071e61c076cfb289a0"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a90d6f76e5f9062071e61c076cfb289a0">folly::fibers::FiberManager::readyFibers_</a></div><div class="ttdeci">FiberTailQueue readyFibers_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00381">FiberManagerInternal.h:381</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_aeb3a0e6f801a22eba03427ee8900b2b4"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#aeb3a0e6f801a22eba03427ee8900b2b4">folly::fibers::FiberManager::yieldedFibers_</a></div><div class="ttdeci">FiberTailQueue yieldedFibers_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00382">FiberManagerInternal.h:382</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0ec30cbbf70fcfba24928f5bfff38646"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::fibers::FiberManager::runReadyFiber </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1fibers_1_1Fiber.html">Fiber</a> *&#160;</td>
          <td class="paramname"><em>fiber</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00103">103</a> of file <a class="el" href="FiberManagerInternal-inl_8h_source.html">FiberManagerInternal-inl.h</a>.</p>

<p>References <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00059">activateFiber()</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00374">activeFiber_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00439">awaitFunc_</a>, <a class="el" href="Fiber_8h_source.html#l00072">folly::fibers::Fiber::AWAITING</a>, <a class="el" href="Fiber_8h_source.html#l00073">folly::fibers::Fiber::AWAITING_IMMEDIATE</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00379">currentFiber_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00456">exceptionCallback_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00390">fibersActive_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00388">fibersAllocated_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00384">fibersPool_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00123">folly::fibers::FiberManager::Options::fibersPoolResizePeriodMs</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00389">fibersPoolSize_</a>, <a class="el" href="Fiber_8h_source.html#l00129">folly::fibers::Fiber::finallyFunc_</a>, <a class="el" href="Fiber_8h_source.html#l00114">folly::fibers::Fiber::func_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00444">immediateFunc_</a>, <a class="el" href="Fiber_8h_source.html#l00068">folly::fibers::Fiber::INVALID</a>, <a class="el" href="Fiber_8h_source.html#l00173">folly::fibers::Fiber::localData_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00111">folly::fibers::FiberManager::Options::maxFibersPoolSize</a>, <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>, <a class="el" href="Fiber_8h_source.html#l00069">folly::fibers::Fiber::NOT_STARTED</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00454">observer_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00414">options_</a>, <a class="el" href="Fiber_8h_source.html#l00113">folly::fibers::Fiber::rcontext_</a>, <a class="el" href="Fiber_8h_source.html#l00070">folly::fibers::Fiber::READY_TO_RUN</a>, <a class="el" href="Fiber_8cpp_source.html#l00227">folly::fibers::Fiber::LocalData::reset()</a>, <a class="el" href="Fiber_8h_source.html#l00128">folly::fibers::Fiber::resultFunc_</a>, <a class="el" href="Request_8h_source.html#l00196">folly::RequestContext::saveContext()</a>, <a class="el" href="ScopeGuard_8h_source.html#l00274">SCOPE_EXIT</a>, <a class="el" href="Request_8cpp_source.html#l00227">folly::RequestContext::setContext()</a>, <a class="el" href="classfolly_1_1ExecutionObserver.html#ab422e3d97fc97b35004ee6ebe91dea6e">folly::ExecutionObserver::starting()</a>, <a class="el" href="Fiber_8h_source.html#l00078">folly::fibers::Fiber::state_</a>, <a class="el" href="classfolly_1_1ExecutionObserver.html#ab1807bae52b8ed8473cfe4c899ac2f8a">folly::ExecutionObserver::stopped()</a>, <a class="el" href="Fiber_8h_source.html#l00075">folly::fibers::Fiber::YIELDED</a>, and <a class="el" href="FiberManagerInternal_8h_source.html#l00382">yieldedFibers_</a>.</p>

<p>Referenced by <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00190">loopUntilNoReadyImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                                                    {</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <a class="code" href="ScopeGuard_8h.html#a175c354c3e38222bc00ce5df5e6d431d">SCOPE_EXIT</a> {</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    assert(<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#aca84d2616a3e048271a1eb55cbd3c408">currentFiber_</a> == <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    assert(<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ab83c6f4f665aedc45317c9a42827a4e9">activeFiber_</a> == <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  };</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  assert(</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;      fiber-&gt;state_ == <a class="code" href="classfolly_1_1fibers_1_1Fiber.html#ab1540a8aeb9f1878cb48e99ebe47b394ab50ef610882c02152c1a3d8de17aaa36">Fiber::NOT_STARTED</a> ||</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      fiber-&gt;state_ == <a class="code" href="classfolly_1_1fibers_1_1Fiber.html#ab1540a8aeb9f1878cb48e99ebe47b394a06d0fbfc51634fbddeaa629de6c9424d">Fiber::READY_TO_RUN</a>);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#aca84d2616a3e048271a1eb55cbd3c408">currentFiber_</a> = fiber;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="comment">// Note: resetting the context is handled by the loop</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <a class="code" href="classfolly_1_1RequestContext.html#a55236af0154a1ab4d6fca74f55a6307d">RequestContext::setContext</a>(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(fiber-&gt;rcontext_));</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#aa0f81919fe53bb76fd66de48d2428163">observer_</a>) {</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#aa0f81919fe53bb76fd66de48d2428163">observer_</a>-&gt;<a class="code" href="classfolly_1_1ExecutionObserver.html#ab422e3d97fc97b35004ee6ebe91dea6e">starting</a>(reinterpret_cast&lt;uintptr_t&gt;(fiber));</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  }</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="keywordflow">while</span> (fiber-&gt;state_ == <a class="code" href="classfolly_1_1fibers_1_1Fiber.html#ab1540a8aeb9f1878cb48e99ebe47b394ab50ef610882c02152c1a3d8de17aaa36">Fiber::NOT_STARTED</a> ||</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;         fiber-&gt;state_ == <a class="code" href="classfolly_1_1fibers_1_1Fiber.html#ab1540a8aeb9f1878cb48e99ebe47b394a06d0fbfc51634fbddeaa629de6c9424d">Fiber::READY_TO_RUN</a>) {</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ad7c199710b7be54795b80bc614107860">activateFiber</a>(fiber);</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">if</span> (fiber-&gt;state_ == <a class="code" href="classfolly_1_1fibers_1_1Fiber.html#ab1540a8aeb9f1878cb48e99ebe47b394aafce56d859d89837becffeb8caf7382c">Fiber::AWAITING_IMMEDIATE</a>) {</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      <span class="keywordflow">try</span> {</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a059ec636263bc9a60824908482e2b2c4">immediateFunc_</a>();</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;      } <span class="keywordflow">catch</span> (...) {</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a85ec9f41bf70c1d6c7e2f2ac7d02d5f0">exceptionCallback_</a>(std::current_exception(), <span class="stringliteral">&quot;running immediateFunc_&quot;</span>);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      }</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a059ec636263bc9a60824908482e2b2c4">immediateFunc_</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      fiber-&gt;state_ = <a class="code" href="classfolly_1_1fibers_1_1Fiber.html#ab1540a8aeb9f1878cb48e99ebe47b394a06d0fbfc51634fbddeaa629de6c9424d">Fiber::READY_TO_RUN</a>;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    }</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  }</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="keywordflow">if</span> (fiber-&gt;state_ == <a class="code" href="classfolly_1_1fibers_1_1Fiber.html#ab1540a8aeb9f1878cb48e99ebe47b394a866ad0b4e1d60a21f6bf08e65bbe07a3">Fiber::AWAITING</a>) {</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a4b9580b6ccf6a98f1a8b5b4cadf16af7">awaitFunc_</a>(*fiber);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a4b9580b6ccf6a98f1a8b5b4cadf16af7">awaitFunc_</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#aa0f81919fe53bb76fd66de48d2428163">observer_</a>) {</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;      <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#aa0f81919fe53bb76fd66de48d2428163">observer_</a>-&gt;<a class="code" href="classfolly_1_1ExecutionObserver.html#ab1807bae52b8ed8473cfe4c899ac2f8a">stopped</a>(reinterpret_cast&lt;uintptr_t&gt;(fiber));</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    }</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#aca84d2616a3e048271a1eb55cbd3c408">currentFiber_</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    fiber-&gt;<a class="code" href="classfolly_1_1fibers_1_1Fiber.html#ac82d0604aaa113e91187403cebfbd0ef">rcontext_</a> = <a class="code" href="classfolly_1_1RequestContext.html#a400dbde2d305cda780eaf9fbcfe3087c">RequestContext::saveContext</a>();</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (fiber-&gt;state_ == <a class="code" href="classfolly_1_1fibers_1_1Fiber.html#ab1540a8aeb9f1878cb48e99ebe47b394aa80d881f77243f2ebfa1dd264d1ce046">Fiber::INVALID</a>) {</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    assert(<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ac0ed46e7735a68b296445e443f32b92a">fibersActive_</a> &gt; 0);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    --<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ac0ed46e7735a68b296445e443f32b92a">fibersActive_</a>;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="comment">// Making sure that task functor is deleted once task is complete.</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="comment">// NOTE: we must do it on main context, as the fiber is not</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="comment">// running at this point.</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    fiber-&gt;func_ = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    fiber-&gt;resultFunc_ = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">if</span> (fiber-&gt;finallyFunc_) {</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      <span class="keywordflow">try</span> {</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        fiber-&gt;finallyFunc_();</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      } <span class="keywordflow">catch</span> (...) {</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a85ec9f41bf70c1d6c7e2f2ac7d02d5f0">exceptionCallback_</a>(std::current_exception(), <span class="stringliteral">&quot;running finallyFunc_&quot;</span>);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      }</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      fiber-&gt;finallyFunc_ = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    }</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="comment">// Make sure LocalData is not accessible from its destructor</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#aa0f81919fe53bb76fd66de48d2428163">observer_</a>) {</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#aa0f81919fe53bb76fd66de48d2428163">observer_</a>-&gt;<a class="code" href="classfolly_1_1ExecutionObserver.html#ab1807bae52b8ed8473cfe4c899ac2f8a">stopped</a>(reinterpret_cast&lt;uintptr_t&gt;(fiber));</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    }</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#aca84d2616a3e048271a1eb55cbd3c408">currentFiber_</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    fiber-&gt;<a class="code" href="classfolly_1_1fibers_1_1Fiber.html#ac82d0604aaa113e91187403cebfbd0ef">rcontext_</a> = <a class="code" href="classfolly_1_1RequestContext.html#a400dbde2d305cda780eaf9fbcfe3087c">RequestContext::saveContext</a>();</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    fiber-&gt;localData_.reset();</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    fiber-&gt;rcontext_.reset();</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ab693d2e8c51df3895e19d7127424fd55">fibersPoolSize_</a> &lt; <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a51621a9791d0f3e5f10279827a8166ed">options_</a>.<a class="code" href="structfolly_1_1fibers_1_1FiberManager_1_1Options.html#ae2c5074037f56351ba833a692a3e9172">maxFibersPoolSize</a> ||</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a51621a9791d0f3e5f10279827a8166ed">options_</a>.<a class="code" href="structfolly_1_1fibers_1_1FiberManager_1_1Options.html#af6121039ef253d4e79c1b2c30c714e62">fibersPoolResizePeriodMs</a> &gt; 0) {</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a921f17ae377c2de2bc52304caf6d976b">fibersPool_</a>.push_front(*fiber);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      ++<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ab693d2e8c51df3895e19d7127424fd55">fibersPoolSize_</a>;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      <span class="keyword">delete</span> fiber;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      assert(<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#abdb57392116fded07d410b6781fd6ff8">fibersAllocated_</a> &gt; 0);</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      --<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#abdb57392116fded07d410b6781fd6ff8">fibersAllocated_</a>;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    }</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (fiber-&gt;state_ == <a class="code" href="classfolly_1_1fibers_1_1Fiber.html#ab1540a8aeb9f1878cb48e99ebe47b394aed357daa284b33b1e741be67815bdf5a">Fiber::YIELDED</a>) {</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#aa0f81919fe53bb76fd66de48d2428163">observer_</a>) {</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#aa0f81919fe53bb76fd66de48d2428163">observer_</a>-&gt;<a class="code" href="classfolly_1_1ExecutionObserver.html#ab1807bae52b8ed8473cfe4c899ac2f8a">stopped</a>(reinterpret_cast&lt;uintptr_t&gt;(fiber));</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    }</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#aca84d2616a3e048271a1eb55cbd3c408">currentFiber_</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    fiber-&gt;<a class="code" href="classfolly_1_1fibers_1_1Fiber.html#ac82d0604aaa113e91187403cebfbd0ef">rcontext_</a> = <a class="code" href="classfolly_1_1RequestContext.html#a400dbde2d305cda780eaf9fbcfe3087c">RequestContext::saveContext</a>();</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    fiber-&gt;state_ = <a class="code" href="classfolly_1_1fibers_1_1Fiber.html#ab1540a8aeb9f1878cb48e99ebe47b394a06d0fbfc51634fbddeaa629de6c9424d">Fiber::READY_TO_RUN</a>;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#aeb3a0e6f801a22eba03427ee8900b2b4">yieldedFibers_</a>.push_back(*fiber);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  }</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;}</div><div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_ad7c199710b7be54795b80bc614107860"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#ad7c199710b7be54795b80bc614107860">folly::fibers::FiberManager::activateFiber</a></div><div class="ttdeci">void activateFiber(Fiber *fiber)</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal-inl_8h_source.html#l00059">FiberManagerInternal-inl.h:59</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_ac0ed46e7735a68b296445e443f32b92a"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#ac0ed46e7735a68b296445e443f32b92a">folly::fibers::FiberManager::fibersActive_</a></div><div class="ttdeci">size_t fibersActive_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00390">FiberManagerInternal.h:390</a></div></div>
<div class="ttc" id="classfolly_1_1RequestContext_html_a55236af0154a1ab4d6fca74f55a6307d"><div class="ttname"><a href="classfolly_1_1RequestContext.html#a55236af0154a1ab4d6fca74f55a6307d">folly::RequestContext::setContext</a></div><div class="ttdeci">static std::shared_ptr&lt; RequestContext &gt; setContext(std::shared_ptr&lt; RequestContext &gt; ctx)</div><div class="ttdef"><b>Definition:</b> <a href="Request_8cpp_source.html#l00227">Request.cpp:227</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a4b9580b6ccf6a98f1a8b5b4cadf16af7"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a4b9580b6ccf6a98f1a8b5b4cadf16af7">folly::fibers::FiberManager::awaitFunc_</a></div><div class="ttdeci">folly::Function&lt; void(Fiber &amp;)&gt; awaitFunc_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00439">FiberManagerInternal.h:439</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_ab693d2e8c51df3895e19d7127424fd55"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#ab693d2e8c51df3895e19d7127424fd55">folly::fibers::FiberManager::fibersPoolSize_</a></div><div class="ttdeci">size_t fibersPoolSize_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00389">FiberManagerInternal.h:389</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="ScopeGuard_8h_html_a175c354c3e38222bc00ce5df5e6d431d"><div class="ttname"><a href="ScopeGuard_8h.html#a175c354c3e38222bc00ce5df5e6d431d">SCOPE_EXIT</a></div><div class="ttdeci">#define SCOPE_EXIT</div><div class="ttdef"><b>Definition:</b> <a href="ScopeGuard_8h_source.html#l00274">ScopeGuard.h:274</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_abdb57392116fded07d410b6781fd6ff8"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#abdb57392116fded07d410b6781fd6ff8">folly::fibers::FiberManager::fibersAllocated_</a></div><div class="ttdeci">size_t fibersAllocated_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00388">FiberManagerInternal.h:388</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1Fiber_html_ab1540a8aeb9f1878cb48e99ebe47b394aa80d881f77243f2ebfa1dd264d1ce046"><div class="ttname"><a href="classfolly_1_1fibers_1_1Fiber.html#ab1540a8aeb9f1878cb48e99ebe47b394aa80d881f77243f2ebfa1dd264d1ce046">folly::fibers::Fiber::INVALID</a></div><div class="ttdef"><b>Definition:</b> <a href="Fiber_8h_source.html#l00068">Fiber.h:68</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_aca84d2616a3e048271a1eb55cbd3c408"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#aca84d2616a3e048271a1eb55cbd3c408">folly::fibers::FiberManager::currentFiber_</a></div><div class="ttdeci">Fiber * currentFiber_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00379">FiberManagerInternal.h:379</a></div></div>
<div class="ttc" id="classfolly_1_1RequestContext_html_a400dbde2d305cda780eaf9fbcfe3087c"><div class="ttname"><a href="classfolly_1_1RequestContext.html#a400dbde2d305cda780eaf9fbcfe3087c">folly::RequestContext::saveContext</a></div><div class="ttdeci">static std::shared_ptr&lt; RequestContext &gt; saveContext()</div><div class="ttdef"><b>Definition:</b> <a href="Request_8h_source.html#l00196">Request.h:196</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1Fiber_html_ac82d0604aaa113e91187403cebfbd0ef"><div class="ttname"><a href="classfolly_1_1fibers_1_1Fiber.html#ac82d0604aaa113e91187403cebfbd0ef">folly::fibers::Fiber::rcontext_</a></div><div class="ttdeci">std::shared_ptr&lt; RequestContext &gt; rcontext_</div><div class="ttdef"><b>Definition:</b> <a href="Fiber_8h_source.html#l00113">Fiber.h:113</a></div></div>
<div class="ttc" id="structfolly_1_1fibers_1_1FiberManager_1_1Options_html_af6121039ef253d4e79c1b2c30c714e62"><div class="ttname"><a href="structfolly_1_1fibers_1_1FiberManager_1_1Options.html#af6121039ef253d4e79c1b2c30c714e62">folly::fibers::FiberManager::Options::fibersPoolResizePeriodMs</a></div><div class="ttdeci">uint32_t fibersPoolResizePeriodMs</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00123">FiberManagerInternal.h:123</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a51621a9791d0f3e5f10279827a8166ed"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a51621a9791d0f3e5f10279827a8166ed">folly::fibers::FiberManager::options_</a></div><div class="ttdeci">const Options options_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00414">FiberManagerInternal.h:414</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1Fiber_html_ab1540a8aeb9f1878cb48e99ebe47b394ab50ef610882c02152c1a3d8de17aaa36"><div class="ttname"><a href="classfolly_1_1fibers_1_1Fiber.html#ab1540a8aeb9f1878cb48e99ebe47b394ab50ef610882c02152c1a3d8de17aaa36">folly::fibers::Fiber::NOT_STARTED</a></div><div class="ttdef"><b>Definition:</b> <a href="Fiber_8h_source.html#l00069">Fiber.h:69</a></div></div>
<div class="ttc" id="classfolly_1_1ExecutionObserver_html_ab1807bae52b8ed8473cfe4c899ac2f8a"><div class="ttname"><a href="classfolly_1_1ExecutionObserver.html#ab1807bae52b8ed8473cfe4c899ac2f8a">folly::ExecutionObserver::stopped</a></div><div class="ttdeci">virtual void stopped(uintptr_t id) noexcept=0</div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_ab83c6f4f665aedc45317c9a42827a4e9"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#ab83c6f4f665aedc45317c9a42827a4e9">folly::fibers::FiberManager::activeFiber_</a></div><div class="ttdeci">Fiber * activeFiber_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00374">FiberManagerInternal.h:374</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_aa0f81919fe53bb76fd66de48d2428163"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#aa0f81919fe53bb76fd66de48d2428163">folly::fibers::FiberManager::observer_</a></div><div class="ttdeci">ExecutionObserver * observer_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00454">FiberManagerInternal.h:454</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1Fiber_html_ab1540a8aeb9f1878cb48e99ebe47b394aafce56d859d89837becffeb8caf7382c"><div class="ttname"><a href="classfolly_1_1fibers_1_1Fiber.html#ab1540a8aeb9f1878cb48e99ebe47b394aafce56d859d89837becffeb8caf7382c">folly::fibers::Fiber::AWAITING_IMMEDIATE</a></div><div class="ttdef"><b>Definition:</b> <a href="Fiber_8h_source.html#l00073">Fiber.h:73</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a921f17ae377c2de2bc52304caf6d976b"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a921f17ae377c2de2bc52304caf6d976b">folly::fibers::FiberManager::fibersPool_</a></div><div class="ttdeci">FiberTailQueue fibersPool_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00384">FiberManagerInternal.h:384</a></div></div>
<div class="ttc" id="classfolly_1_1ExecutionObserver_html_ab422e3d97fc97b35004ee6ebe91dea6e"><div class="ttname"><a href="classfolly_1_1ExecutionObserver.html#ab422e3d97fc97b35004ee6ebe91dea6e">folly::ExecutionObserver::starting</a></div><div class="ttdeci">virtual void starting(uintptr_t id) noexcept=0</div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1Fiber_html_ab1540a8aeb9f1878cb48e99ebe47b394a06d0fbfc51634fbddeaa629de6c9424d"><div class="ttname"><a href="classfolly_1_1fibers_1_1Fiber.html#ab1540a8aeb9f1878cb48e99ebe47b394a06d0fbfc51634fbddeaa629de6c9424d">folly::fibers::Fiber::READY_TO_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="Fiber_8h_source.html#l00070">Fiber.h:70</a></div></div>
<div class="ttc" id="structfolly_1_1fibers_1_1FiberManager_1_1Options_html_ae2c5074037f56351ba833a692a3e9172"><div class="ttname"><a href="structfolly_1_1fibers_1_1FiberManager_1_1Options.html#ae2c5074037f56351ba833a692a3e9172">folly::fibers::FiberManager::Options::maxFibersPoolSize</a></div><div class="ttdeci">size_t maxFibersPoolSize</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00111">FiberManagerInternal.h:111</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1Fiber_html_ab1540a8aeb9f1878cb48e99ebe47b394a866ad0b4e1d60a21f6bf08e65bbe07a3"><div class="ttname"><a href="classfolly_1_1fibers_1_1Fiber.html#ab1540a8aeb9f1878cb48e99ebe47b394a866ad0b4e1d60a21f6bf08e65bbe07a3">folly::fibers::Fiber::AWAITING</a></div><div class="ttdef"><b>Definition:</b> <a href="Fiber_8h_source.html#l00072">Fiber.h:72</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a85ec9f41bf70c1d6c7e2f2ac7d02d5f0"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a85ec9f41bf70c1d6c7e2f2ac7d02d5f0">folly::fibers::FiberManager::exceptionCallback_</a></div><div class="ttdeci">ExceptionCallback exceptionCallback_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00456">FiberManagerInternal.h:456</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a059ec636263bc9a60824908482e2b2c4"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a059ec636263bc9a60824908482e2b2c4">folly::fibers::FiberManager::immediateFunc_</a></div><div class="ttdeci">folly::Function&lt; void()&gt; immediateFunc_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00444">FiberManagerInternal.h:444</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_aeb3a0e6f801a22eba03427ee8900b2b4"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#aeb3a0e6f801a22eba03427ee8900b2b4">folly::fibers::FiberManager::yieldedFibers_</a></div><div class="ttdeci">FiberTailQueue yieldedFibers_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00382">FiberManagerInternal.h:382</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1Fiber_html_ab1540a8aeb9f1878cb48e99ebe47b394aed357daa284b33b1e741be67815bdf5a"><div class="ttname"><a href="classfolly_1_1fibers_1_1Fiber.html#ab1540a8aeb9f1878cb48e99ebe47b394aed357daa284b33b1e741be67815bdf5a">folly::fibers::Fiber::YIELDED</a></div><div class="ttdef"><b>Definition:</b> <a href="Fiber_8h_source.html#l00075">Fiber.h:75</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2116c06e2c77222d13a3681313b3615c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void folly::fibers::FiberManager::setExceptionCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a0b101796ea86a8d29260a520ec3e72e5">FiberManager::ExceptionCallback</a>&#160;</td>
          <td class="paramname"><em>ec</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets exception callback which will be called if any of the tasks throws an exception.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ec</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="FiberManager_8cpp_source.html#l00132">132</a> of file <a class="el" href="FiberManager_8cpp_source.html">FiberManager.cpp</a>.</p>

<p>References <a class="el" href="FiberManagerInternal_8h_source.html#l00456">exceptionCallback_</a>, and <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>.</p>
<div class="fragment"><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                                                                        {</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  assert(ec);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a85ec9f41bf70c1d6c7e2f2ac7d02d5f0">exceptionCallback_</a> = <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(ec);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;}</div><div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a85ec9f41bf70c1d6c7e2f2ac7d02d5f0"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a85ec9f41bf70c1d6c7e2f2ac7d02d5f0">folly::fibers::FiberManager::exceptionCallback_</a></div><div class="ttdeci">ExceptionCallback exceptionCallback_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00456">FiberManagerInternal.h:456</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a959bd7cdb2b1a0bb0f2e893e0dcf1ca1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void folly::fibers::FiberManager::setObserver </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1ExecutionObserver.html">ExecutionObserver</a> *&#160;</td>
          <td class="paramname"><em>observer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Setup fibers execution observation/instrumentation. <a class="el" href="classfolly_1_1fibers_1_1Fiber.html" title="Fiber object used by FiberManager to execute tasks. ">Fiber</a> locals are available to observer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">observer</td><td><a class="el" href="classfolly_1_1fibers_1_1Fiber.html" title="Fiber object used by FiberManager to execute tasks. ">Fiber</a>'s execution observer. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="FiberManager_8cpp_source.html#l00158">158</a> of file <a class="el" href="FiberManager_8cpp_source.html">FiberManager.cpp</a>.</p>

<p>References <a class="el" href="FiberManagerInternal_8h_source.html#l00454">observer_</a>.</p>
<div class="fragment"><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                                                          {</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#aa0f81919fe53bb76fd66de48d2428163">observer_</a> = observer;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;}</div><div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_aa0f81919fe53bb76fd66de48d2428163"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#aa0f81919fe53bb76fd66de48d2428163">folly::fibers::FiberManager::observer_</a></div><div class="ttdeci">ExecutionObserver * observer_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00454">FiberManagerInternal.h:454</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae98f74d5a88dbd417ab4b60c12f70f93"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void folly::fibers::FiberManager::setPreemptRunner </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1fibers_1_1InlineFunctionRunner.html">InlineFunctionRunner</a> *&#160;</td>
          <td class="paramname"><em>preemptRunner</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Setup fibers preempt runner. </p>

<p>Definition at line <a class="el" href="FiberManager_8cpp_source.html#l00166">166</a> of file <a class="el" href="FiberManager_8cpp_source.html">FiberManager.cpp</a>.</p>

<p>References <a class="el" href="FiberManagerInternal_8h_source.html#l00449">preemptRunner_</a>.</p>
<div class="fragment"><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                                                                       {</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ae1f32fe0d3803147b4fadd649dddfbd7">preemptRunner_</a> = preemptRunner;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;}</div><div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_ae1f32fe0d3803147b4fadd649dddfbd7"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#ae1f32fe0d3803147b4fadd649dddfbd7">folly::fibers::FiberManager::preemptRunner_</a></div><div class="ttdeci">InlineFunctionRunner * preemptRunner_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00449">FiberManagerInternal.h:449</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a087e17150919277add9fdc3fd7577389"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::fibers::FiberManager::shouldRunLoopRemote </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This should only be called by a <a class="el" href="classfolly_1_1fibers_1_1LoopController.html">LoopController</a>. </p>

<p>Definition at line <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00262">262</a> of file <a class="el" href="FiberManagerInternal-inl_8h_source.html">FiberManagerInternal-inl.h</a>.</p>

<p>References <a class="el" href="FiberManagerInternal_8h_source.html#l00464">remoteCount_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00459">remoteReadyQueue_</a>, and <a class="el" href="FiberManagerInternal_8h_source.html#l00462">remoteTaskQueue_</a>.</p>

<p>Referenced by <a class="el" href="SimpleLoopController_8h_source.html#l00086">folly::fibers::SimpleLoopController::runLoop()</a>, <a class="el" href="ExecutorLoopController-inl_8h_source.html#l00052">folly::fibers::ExecutorLoopController::scheduleThreadSafe()</a>, and <a class="el" href="EventBaseLoopController-inl_8h_source.html#l00087">folly::fibers::EventBaseLoopController::scheduleThreadSafe()</a>.</p>
<div class="fragment"><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                                              {</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  --<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ae8bb7fed95f46e8d84de2b9fcfa51d58">remoteCount_</a>;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="keywordflow">return</span> !<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a0c50e7634b78f7f80132a90e197f5b3c">remoteReadyQueue_</a>.empty() || !<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a2558ee3df69e0c868e0ccba3c6f977a4">remoteTaskQueue_</a>.empty();</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;}</div><div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a0c50e7634b78f7f80132a90e197f5b3c"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a0c50e7634b78f7f80132a90e197f5b3c">folly::fibers::FiberManager::remoteReadyQueue_</a></div><div class="ttdeci">folly::AtomicIntrusiveLinkedList&lt; Fiber,&amp;Fiber::nextRemoteReady_ &gt; remoteReadyQueue_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00459">FiberManagerInternal.h:459</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a2558ee3df69e0c868e0ccba3c6f977a4"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a2558ee3df69e0c868e0ccba3c6f977a4">folly::fibers::FiberManager::remoteTaskQueue_</a></div><div class="ttdeci">folly::AtomicIntrusiveLinkedList&lt; RemoteTask,&amp;RemoteTask::nextRemoteTask &gt; remoteTaskQueue_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00462">FiberManagerInternal.h:462</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_ae8bb7fed95f46e8d84de2b9fcfa51d58"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#ae8bb7fed95f46e8d84de2b9fcfa51d58">folly::fibers::FiberManager::remoteCount_</a></div><div class="ttdeci">ssize_t remoteCount_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00464">FiberManagerInternal.h:464</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acf1cb8a1dfcef76c642df5976e7f0fa9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t folly::fibers::FiberManager::stackHighWatermark </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>What was the most observed fiber stack usage (in bytes). </dd></dl>

<p>Definition at line <a class="el" href="FiberManager_8cpp_source.html#l00145">145</a> of file <a class="el" href="FiberManager_8cpp_source.html">FiberManager.cpp</a>.</p>

<p>References <a class="el" href="FiberManagerInternal_8h_source.html#l00419">stackHighWatermark_</a>.</p>

<p>Referenced by <a class="el" href="FibersTest_8cpp_source.html#l02202">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                                              {</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a6d4abcb0d01365abeae78893deed831c">stackHighWatermark_</a>;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;}</div><div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a6d4abcb0d01365abeae78893deed831c"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a6d4abcb0d01365abeae78893deed831c">folly::fibers::FiberManager::stackHighWatermark_</a></div><div class="ttdeci">size_t stackHighWatermark_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00419">FiberManagerInternal.h:419</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7ed42287a031ff5a5538aceb3cfaa83d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::fibers::FiberManager::yield </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Yield execution of the currently running fiber. Must only be called from a fiber executing on this <a class="el" href="classfolly_1_1fibers_1_1FiberManager.html" title="Single-threaded task execution engine. ">FiberManager</a>. The calling fiber will be scheduled when all other fibers have had a chance to run and the event loop is serviced. </p>

<p>Definition at line <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00496">496</a> of file <a class="el" href="FiberManagerInternal-inl_8h_source.html">FiberManagerInternal-inl.h</a>.</p>

<p>References <a class="el" href="FiberManagerInternal_8h_source.html#l00374">activeFiber_</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00406">currentFiberManager_</a>, <a class="el" href="Fiber_8cpp_source.html#l00172">folly::fibers::Fiber::preempt()</a>, <a class="el" href="Fiber_8h_source.html#l00071">folly::fibers::Fiber::RUNNING</a>, <a class="el" href="Fiber_8h_source.html#l00078">folly::fibers::Fiber::state_</a>, and <a class="el" href="Fiber_8h_source.html#l00075">folly::fibers::Fiber::YIELDED</a>.</p>

<p>Referenced by <a class="el" href="FibersTest_8cpp_source.html#l01794">AtomicBatchDispatcherTesting::Job::preprocess()</a>, and <a class="el" href="FibersTest_8cpp_source.html#l01247">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                                {</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  assert(<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a05ce87b893be2ab0309debfd078e5408">currentFiberManager_</a> == <span class="keyword">this</span>);</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  assert(<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ab83c6f4f665aedc45317c9a42827a4e9">activeFiber_</a> != <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  assert(<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ab83c6f4f665aedc45317c9a42827a4e9">activeFiber_</a>-&gt;<a class="code" href="classfolly_1_1fibers_1_1Fiber.html#ade4c484d7df76575db99a9a01c897226">state_</a> == <a class="code" href="classfolly_1_1fibers_1_1Fiber.html#ab1540a8aeb9f1878cb48e99ebe47b394a9e2c94e859917a6718f3e8bedf8ccdd9">Fiber::RUNNING</a>);</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  <a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#ab83c6f4f665aedc45317c9a42827a4e9">activeFiber_</a>-&gt;<a class="code" href="classfolly_1_1fibers_1_1Fiber.html#a62fc6790118225f0b7cce1693a9bf1ca">preempt</a>(<a class="code" href="classfolly_1_1fibers_1_1Fiber.html#ab1540a8aeb9f1878cb48e99ebe47b394aed357daa284b33b1e741be67815bdf5a">Fiber::YIELDED</a>);</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;}</div><div class="ttc" id="classfolly_1_1fibers_1_1Fiber_html_ade4c484d7df76575db99a9a01c897226"><div class="ttname"><a href="classfolly_1_1fibers_1_1Fiber.html#ade4c484d7df76575db99a9a01c897226">folly::fibers::Fiber::state_</a></div><div class="ttdeci">State state_</div><div class="ttdef"><b>Definition:</b> <a href="Fiber_8h_source.html#l00078">Fiber.h:78</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1Fiber_html_ab1540a8aeb9f1878cb48e99ebe47b394a9e2c94e859917a6718f3e8bedf8ccdd9"><div class="ttname"><a href="classfolly_1_1fibers_1_1Fiber.html#ab1540a8aeb9f1878cb48e99ebe47b394a9e2c94e859917a6718f3e8bedf8ccdd9">folly::fibers::Fiber::RUNNING</a></div><div class="ttdef"><b>Definition:</b> <a href="Fiber_8h_source.html#l00071">Fiber.h:71</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a05ce87b893be2ab0309debfd078e5408"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a05ce87b893be2ab0309debfd078e5408">folly::fibers::FiberManager::currentFiberManager_</a></div><div class="ttdeci">static FOLLY_TLS FiberManager * currentFiberManager_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00406">FiberManagerInternal.h:406</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_ab83c6f4f665aedc45317c9a42827a4e9"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#ab83c6f4f665aedc45317c9a42827a4e9">folly::fibers::FiberManager::activeFiber_</a></div><div class="ttdeci">Fiber * activeFiber_</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00374">FiberManagerInternal.h:374</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1Fiber_html_a62fc6790118225f0b7cce1693a9bf1ca"><div class="ttname"><a href="classfolly_1_1fibers_1_1Fiber.html#a62fc6790118225f0b7cce1693a9bf1ca">folly::fibers::Fiber::preempt</a></div><div class="ttdeci">void preempt(State state)</div><div class="ttdef"><b>Definition:</b> <a href="Fiber_8cpp_source.html#l00172">Fiber.cpp:172</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1Fiber_html_ab1540a8aeb9f1878cb48e99ebe47b394aed357daa284b33b1e741be67815bdf5a"><div class="ttname"><a href="classfolly_1_1fibers_1_1Fiber.html#ab1540a8aeb9f1878cb48e99ebe47b394aed357daa284b33b1e741be67815bdf5a">folly::fibers::Fiber::YIELDED</a></div><div class="ttdef"><b>Definition:</b> <a href="Fiber_8h_source.html#l00075">Fiber.h:75</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="a6d78b4c9d9bdb83bd89799970f956ebe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classfolly_1_1fibers_1_1Baton.html">Baton</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00345">345</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

</div>
</div>
<a class="anchor" id="a87a616a1350a043ee7172754e2521db8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classfolly_1_1fibers_1_1Fiber.html">Fiber</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00346">346</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>Referenced by <a class="el" href="FiberManager_8cpp_source.html#l00104">getFiber()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ab83c6f4f665aedc45317c9a42827a4e9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1fibers_1_1Fiber.html">Fiber</a>* folly::fibers::FiberManager::activeFiber_ {<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>active fiber, nullptr on main context </p>

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00374">374</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>Referenced by <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00059">activateFiber()</a>, <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00079">deactivateFiber()</a>, <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00492">hasActiveFiber()</a>, <a class="el" href="Fiber_8cpp_source.html#l00172">folly::fibers::Fiber::preempt()</a>, <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00465">runInMainContext()</a>, <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00103">runReadyFiber()</a>, <a class="el" href="Baton-inl_8h_source.html#l00061">folly::fibers::Baton::waitFiber()</a>, and <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00496">yield()</a>.</p>

</div>
</div>
<a class="anchor" id="a3af77f2b76369d7a37cc2869bf639261"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a15d7c29f80437881626ce5ab308dcee5">GlobalFiberTailQueue</a> folly::fibers::FiberManager::allFibers_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>list of all <a class="el" href="classfolly_1_1fibers_1_1Fiber.html" title="Fiber object used by FiberManager to execute tasks. ">Fiber</a> objects owned </p>

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00386">386</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>Referenced by <a class="el" href="Fiber_8cpp_source.html#l00070">folly::fibers::Fiber::Fiber()</a>.</p>

</div>
</div>
<a class="anchor" id="ab9b4a771327546c6209dd10b80f8ed72"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::fibers::FiberManager::alternateSignalStackRegistered_ {false}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00508">508</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>Referenced by <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00190">loopUntilNoReadyImpl()</a>, and <a class="el" href="FiberManager_8cpp_source.html#l00361">registerAlternateSignalStack()</a>.</p>

</div>
</div>
<a class="anchor" id="a4b9580b6ccf6a98f1a8b5b4cadf16af7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1Function.html">folly::Function</a>&lt;void(<a class="el" href="classfolly_1_1fibers_1_1Fiber.html">Fiber</a>&amp;)&gt; folly::fibers::FiberManager::awaitFunc_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="classfolly_1_1Function.html">Function</a> passed to the await call. </p>

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00439">439</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>Referenced by <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00103">runReadyFiber()</a>, and <a class="el" href="Baton-inl_8h_source.html#l00061">folly::fibers::Baton::waitFiber()</a>.</p>

</div>
</div>
<a class="anchor" id="aca84d2616a3e048271a1eb55cbd3c408"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1fibers_1_1Fiber.html">Fiber</a>* folly::fibers::FiberManager::currentFiber_ {<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Same as active fiber, but also set for functions run from fiber on main context. </p>

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00379">379</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>Referenced by <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00504">local()</a>, and <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00103">runReadyFiber()</a>.</p>

</div>
</div>
<a class="anchor" id="a05ce87b893be2ab0309debfd078e5408"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FOLLY_TLS <a class="el" href="classfolly_1_1fibers_1_1FiberManager.html">FiberManager</a> * folly::fibers::FiberManager::currentFiberManager_ = <a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>When we are inside <a class="el" href="classfolly_1_1fibers_1_1FiberManager.html" title="Single-threaded task execution engine. ">FiberManager</a> loop this points to <a class="el" href="classfolly_1_1fibers_1_1FiberManager.html" title="Single-threaded task execution engine. ">FiberManager</a>. Otherwise it's nullptr </p>

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00406">406</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>Referenced by <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00483">getFiberManager()</a>, <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00488">getFiberManagerUnsafe()</a>, <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00190">loopUntilNoReadyImpl()</a>, and <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00496">yield()</a>.</p>

</div>
</div>
<a class="anchor" id="a85ec9f41bf70c1d6c7e2f2ac7d02d5f0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a0b101796ea86a8d29260a520ec3e72e5">ExceptionCallback</a> folly::fibers::FiberManager::exceptionCallback_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>task exception callback </p>

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00456">456</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>Referenced by <a class="el" href="Fiber_8cpp_source.html#l00128">folly::fibers::Fiber::fiberFunc()</a>, <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00103">runReadyFiber()</a>, and <a class="el" href="FiberManager_8cpp_source.html#l00132">setExceptionCallback()</a>.</p>

</div>
</div>
<a class="anchor" id="a880af583ca09f8cca9982a1a66a18e6b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t folly::fibers::FiberManager::fiberId_ {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>id of last fiber used </p>

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00391">391</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>Referenced by <a class="el" href="FiberManager_8cpp_source.html#l00104">getFiber()</a>.</p>

</div>
</div>
<a class="anchor" id="ac0ed46e7735a68b296445e443f32b92a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t folly::fibers::FiberManager::fibersActive_ {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>number of running or blocked fibers </p>

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00390">390</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>Referenced by <a class="el" href="FiberManager_8cpp_source.html#l00170">doFibersPoolResizing()</a>, <a class="el" href="FiberManager_8cpp_source.html#l00104">getFiber()</a>, <a class="el" href="FiberManager_8cpp_source.html#l00099">hasTasks()</a>, <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00103">runReadyFiber()</a>, and <a class="el" href="FiberManager_8cpp_source.html#l00081">~FiberManager()</a>.</p>

</div>
</div>
<a class="anchor" id="abdb57392116fded07d410b6781fd6ff8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t folly::fibers::FiberManager::fibersAllocated_ {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>total number of fibers allocated </p>

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00388">388</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>Referenced by <a class="el" href="FiberManager_8cpp_source.html#l00170">doFibersPoolResizing()</a>, <a class="el" href="FiberManager_8cpp_source.html#l00137">fibersAllocated()</a>, <a class="el" href="FiberManager_8cpp_source.html#l00104">getFiber()</a>, and <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00103">runReadyFiber()</a>.</p>

</div>
</div>
<a class="anchor" id="a921f17ae377c2de2bc52304caf6d976b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a9777ff9807251e65901461c7b0aa0b8e">FiberTailQueue</a> folly::fibers::FiberManager::fibersPool_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>pool of uninitialized <a class="el" href="classfolly_1_1fibers_1_1Fiber.html" title="Fiber object used by FiberManager to execute tasks. ">Fiber</a> objects </p>

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00384">384</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>Referenced by <a class="el" href="FiberManager_8cpp_source.html#l00170">doFibersPoolResizing()</a>, <a class="el" href="FiberManager_8cpp_source.html#l00104">getFiber()</a>, <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00103">runReadyFiber()</a>, and <a class="el" href="FiberManager_8cpp_source.html#l00081">~FiberManager()</a>.</p>

</div>
</div>
<a class="anchor" id="a2e75f8ae203bd06c2251fc70a3eddbd9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfolly_1_1fibers_1_1FiberManager_1_1FibersPoolResizer.html">FibersPoolResizer</a> folly::fibers::FiberManager::fibersPoolResizer_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00476">476</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>Referenced by <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00531">FiberManager()</a>, and <a class="el" href="FiberManager_8cpp_source.html#l00104">getFiber()</a>.</p>

</div>
</div>
<a class="anchor" id="a062f5ea04708c3367bc36854d8825caa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::fibers::FiberManager::fibersPoolResizerScheduled_ {false}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00477">477</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>Referenced by <a class="el" href="FiberManager_8cpp_source.html#l00104">getFiber()</a>.</p>

</div>
</div>
<a class="anchor" id="ab693d2e8c51df3895e19d7127424fd55"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t folly::fibers::FiberManager::fibersPoolSize_ {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>total number of fibers in the free pool </p>

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00389">389</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>Referenced by <a class="el" href="FiberManager_8cpp_source.html#l00170">doFibersPoolResizing()</a>, <a class="el" href="FiberManager_8cpp_source.html#l00141">fibersPoolSize()</a>, <a class="el" href="FiberManager_8cpp_source.html#l00104">getFiber()</a>, and <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00103">runReadyFiber()</a>.</p>

</div>
</div>
<a class="anchor" id="a059ec636263bc9a60824908482e2b2c4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1Function.html">folly::Function</a>&lt;void()&gt; folly::fibers::FiberManager::immediateFunc_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="classfolly_1_1Function.html">Function</a> passed to the runInMainContext call. </p>

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00444">444</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>Referenced by <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00465">runInMainContext()</a>, and <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00103">runReadyFiber()</a>.</p>

</div>
</div>
<a class="anchor" id="a249f40d4e85c4ec29b0c5abe2d4d9465"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::fibers::FiberManager::isLoopScheduled_ {false}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>was the ready loop scheduled to run? </p>

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00400">400</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>Referenced by <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00050">ensureLoopScheduled()</a>, and <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00190">loopUntilNoReadyImpl()</a>.</p>

</div>
</div>
<a class="anchor" id="a54ed8e163b11c728fd215e960cd53b3d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::type_index folly::fibers::FiberManager::localType_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Only local of this type will be available for fibers. </p>

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00484">484</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>Referenced by <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00332">addTaskRemote()</a>, <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00531">FiberManager()</a>, <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00522">initLocalData()</a>, and <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00504">local()</a>.</p>

</div>
</div>
<a class="anchor" id="a0ecc213fac4752d8c94f520dcbfe958a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classfolly_1_1fibers_1_1LoopController.html">LoopController</a>&gt; folly::fibers::FiberManager::loopController_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00399">399</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>Referenced by <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00332">addTaskRemote()</a>, <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00050">ensureLoopScheduled()</a>, <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00531">FiberManager()</a>, <a class="el" href="FiberManager_8cpp_source.html#l00091">loopController()</a>, <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00186">loopUntilNoReady()</a>, <a class="el" href="FiberManager_8cpp_source.html#l00149">remoteReadyInsert()</a>, and <a class="el" href="FiberManager_8cpp_source.html#l00081">~FiberManager()</a>.</p>

</div>
</div>
<a class="anchor" id="ae9efb3c72484be0f67405e89790f3d2d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t folly::fibers::FiberManager::maxFibersActiveLastPeriod_ {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Maximum number of active fibers in the last period lasting Options::fibersPoolResizePeriod milliseconds. </p>

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00397">397</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>Referenced by <a class="el" href="FiberManager_8cpp_source.html#l00170">doFibersPoolResizing()</a>, and <a class="el" href="FiberManager_8cpp_source.html#l00104">getFiber()</a>.</p>

</div>
</div>
<a class="anchor" id="aa0f81919fe53bb76fd66de48d2428163"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1ExecutionObserver.html">ExecutionObserver</a>* folly::fibers::FiberManager::observer_ {<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="classfolly_1_1fibers_1_1Fiber.html" title="Fiber object used by FiberManager to execute tasks. ">Fiber</a>'s execution observer. </p>

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00454">454</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>Referenced by <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00306">addTask()</a>, <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00417">addTaskFinally()</a>, <a class="el" href="FiberManager_8cpp_source.html#l00162">getObserver()</a>, <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00190">loopUntilNoReadyImpl()</a>, <a class="el" href="FiberManager_8cpp_source.html#l00149">remoteReadyInsert()</a>, <a class="el" href="Fiber_8cpp_source.html#l00054">folly::fibers::Fiber::resume()</a>, <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00103">runReadyFiber()</a>, and <a class="el" href="FiberManager_8cpp_source.html#l00158">setObserver()</a>.</p>

</div>
</div>
<a class="anchor" id="a51621a9791d0f3e5f10279827a8166ed"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structfolly_1_1fibers_1_1FiberManager_1_1Options.html">Options</a> folly::fibers::FiberManager::options_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html" title="Single-threaded task execution engine. ">FiberManager</a> options </p>

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00414">414</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>Referenced by <a class="el" href="FiberManager_8cpp_source.html#l00170">doFibersPoolResizing()</a>, <a class="el" href="Fiber_8cpp_source.html#l00128">folly::fibers::Fiber::fiberFunc()</a>, <a class="el" href="FiberManager_8cpp_source.html#l00104">getFiber()</a>, and <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00103">runReadyFiber()</a>.</p>

</div>
</div>
<a class="anchor" id="ae1f32fe0d3803147b4fadd649dddfbd7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1fibers_1_1InlineFunctionRunner.html">InlineFunctionRunner</a>* folly::fibers::FiberManager::preemptRunner_ {<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Preempt runner. </p>

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00449">449</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>Referenced by <a class="el" href="Fiber_8cpp_source.html#l00172">folly::fibers::Fiber::preempt()</a>, and <a class="el" href="FiberManager_8cpp_source.html#l00166">setPreemptRunner()</a>.</p>

</div>
</div>
<a class="anchor" id="a90d6f76e5f9062071e61c076cfb289a0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a9777ff9807251e65901461c7b0aa0b8e">FiberTailQueue</a> folly::fibers::FiberManager::readyFibers_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>queue of fibers ready to be executed </p>

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00381">381</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>Referenced by <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00306">addTask()</a>, <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00417">addTaskFinally()</a>, <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00267">hasReadyTasks()</a>, <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00190">loopUntilNoReadyImpl()</a>, <a class="el" href="Fiber_8cpp_source.html#l00054">folly::fibers::Fiber::resume()</a>, and <a class="el" href="FiberManager_8cpp_source.html#l00081">~FiberManager()</a>.</p>

</div>
</div>
<a class="anchor" id="ae8bb7fed95f46e8d84de2b9fcfa51d58"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t folly::fibers::FiberManager::remoteCount_ {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00464">464</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>Referenced by <a class="el" href="FiberManager_8cpp_source.html#l00099">hasTasks()</a>, <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00190">loopUntilNoReadyImpl()</a>, and <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00262">shouldRunLoopRemote()</a>.</p>

</div>
</div>
<a class="anchor" id="a0c50e7634b78f7f80132a90e197f5b3c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1AtomicIntrusiveLinkedList.html">folly::AtomicIntrusiveLinkedList</a>&lt;<a class="el" href="classfolly_1_1fibers_1_1Fiber.html">Fiber</a>, &amp;<a class="el" href="classfolly_1_1fibers_1_1Fiber.html#ae29e6882e1fc229008aaab437ff3fd62">Fiber::nextRemoteReady_</a>&gt; folly::fibers::FiberManager::remoteReadyQueue_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00459">459</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>Referenced by <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00267">hasReadyTasks()</a>, <a class="el" href="FiberManager_8cpp_source.html#l00099">hasTasks()</a>, <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00190">loopUntilNoReadyImpl()</a>, <a class="el" href="FiberManager_8cpp_source.html#l00149">remoteReadyInsert()</a>, and <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00262">shouldRunLoopRemote()</a>.</p>

</div>
</div>
<a class="anchor" id="a2558ee3df69e0c868e0ccba3c6f977a4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1AtomicIntrusiveLinkedList.html">folly::AtomicIntrusiveLinkedList</a>&lt;<a class="el" href="structfolly_1_1fibers_1_1FiberManager_1_1RemoteTask.html">RemoteTask</a>, &amp;<a class="el" href="structfolly_1_1fibers_1_1FiberManager_1_1RemoteTask.html#a73eb92ebda7bd11b183ed85181732876">RemoteTask::nextRemoteTask</a>&gt; folly::fibers::FiberManager::remoteTaskQueue_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00462">462</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>Referenced by <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00332">addTaskRemote()</a>, <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00267">hasReadyTasks()</a>, <a class="el" href="FiberManager_8cpp_source.html#l00099">hasTasks()</a>, <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00190">loopUntilNoReadyImpl()</a>, and <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00262">shouldRunLoopRemote()</a>.</p>

</div>
</div>
<a class="anchor" id="a55ba8c2f568917fe659020587cf986f7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1fibers_1_1GuardPageAllocator.html">GuardPageAllocator</a> folly::fibers::FiberManager::stackAllocator_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Allocator used to allocate stack for Fibers in the pool. Allocates stack on the stack of the main context. </p>

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00412">412</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>Referenced by <a class="el" href="Fiber_8cpp_source.html#l00104">folly::fibers::Fiber::~Fiber()</a>.</p>

</div>
</div>
<a class="anchor" id="a6d4abcb0d01365abeae78893deed831c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t folly::fibers::FiberManager::stackHighWatermark_ {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Largest observed individual <a class="el" href="classfolly_1_1fibers_1_1Fiber.html" title="Fiber object used by FiberManager to execute tasks. ">Fiber</a> stack usage in bytes. </p>

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00419">419</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>Referenced by <a class="el" href="Fiber_8cpp_source.html#l00128">folly::fibers::Fiber::fiberFunc()</a>, <a class="el" href="Fiber_8cpp_source.html#l00114">folly::fibers::Fiber::recordStackPosition()</a>, and <a class="el" href="FiberManager_8cpp_source.html#l00145">stackHighWatermark()</a>.</p>

</div>
</div>
<a class="anchor" id="aebbefd1505f46578b01a37bf53d71b01"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classfolly_1_1fibers_1_1TimeoutController.html">TimeoutController</a>&gt; folly::fibers::FiberManager::timeoutManager_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00466">466</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>Referenced by <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00531">FiberManager()</a>.</p>

</div>
</div>
<a class="anchor" id="aeb3a0e6f801a22eba03427ee8900b2b4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html#a9777ff9807251e65901461c7b0aa0b8e">FiberTailQueue</a> folly::fibers::FiberManager::yieldedFibers_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>queue of fibers which have yielded execution </p>

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00382">382</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>Referenced by <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00190">loopUntilNoReadyImpl()</a>, and <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00103">runReadyFiber()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>proxygen/folly/folly/fibers/<a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a></li>
<li>proxygen/folly/folly/fibers/<a class="el" href="FiberManager-inl_8h_source.html">FiberManager-inl.h</a></li>
<li>proxygen/folly/folly/fibers/<a class="el" href="FiberManager_8cpp_source.html">FiberManager.cpp</a></li>
<li>proxygen/folly/folly/fibers/<a class="el" href="FiberManagerInternal-inl_8h_source.html">FiberManagerInternal-inl.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefolly.html">folly</a></li><li class="navelem"><a class="el" href="namespacefolly_1_1fibers.html">fibers</a></li><li class="navelem"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html">FiberManager</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
