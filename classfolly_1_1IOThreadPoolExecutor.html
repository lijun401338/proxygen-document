<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>proxygen: folly::IOThreadPoolExecutor Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">proxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classfolly_1_1IOThreadPoolExecutor.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classfolly_1_1IOThreadPoolExecutor-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">folly::IOThreadPoolExecutor Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="IOThreadPoolExecutor_8h_source.html">IOThreadPoolExecutor.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for folly::IOThreadPoolExecutor:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classfolly_1_1IOThreadPoolExecutor.png" usemap="#folly::IOThreadPoolExecutor_map" alt=""/>
  <map id="folly::IOThreadPoolExecutor_map" name="folly::IOThreadPoolExecutor_map">
<area href="classfolly_1_1ThreadPoolExecutor.html" alt="folly::ThreadPoolExecutor" shape="rect" coords="0,112,190,136"/>
<area href="classfolly_1_1IOExecutor.html" alt="folly::IOExecutor" shape="rect" coords="200,112,390,136"/>
<area href="classfolly_1_1DefaultKeepAliveExecutor.html" alt="folly::DefaultKeepAliveExecutor" shape="rect" coords="0,56,190,80"/>
<area href="classfolly_1_1Executor.html" alt="folly::Executor" shape="rect" coords="200,56,390,80"/>
<area href="classfolly_1_1Executor.html" alt="folly::Executor" shape="rect" coords="0,0,190,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1IOThreadPoolExecutor_1_1IOThread.html">IOThread</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab7bf4e3b55c71530cd4de3adff4b6ad3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOThreadPoolExecutor.html#ab7bf4e3b55c71530cd4de3adff4b6ad3">IOThreadPoolExecutor</a> (size_t <a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a36fbef224fe2c6caf61191a93676da87">numThreads</a>, std::shared_ptr&lt; <a class="el" href="classfolly_1_1ThreadFactory.html">ThreadFactory</a> &gt; threadFactory=std::make_shared&lt; <a class="el" href="classfolly_1_1NamedThreadFactory.html">NamedThreadFactory</a> &gt;(&quot;IOThreadPool&quot;), folly::EventBaseManager *ebm=<a class="el" href="classfolly_1_1EventBaseManager.html#ad259c68850ca758d4cc80c23b7d03c04">folly::EventBaseManager::get</a>(), bool waitForAll=false)</td></tr>
<tr class="separator:ab7bf4e3b55c71530cd4de3adff4b6ad3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2e202b98e95737e6b9274702ead57df"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOThreadPoolExecutor.html#af2e202b98e95737e6b9274702ead57df">~IOThreadPoolExecutor</a> () override</td></tr>
<tr class="separator:af2e202b98e95737e6b9274702ead57df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9693b74569f4e5da88a4b06015ca81de"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOThreadPoolExecutor.html#a9693b74569f4e5da88a4b06015ca81de">add</a> (<a class="el" href="namespacefolly.html#a4f345dd5f9b26d8dd202c2072badbea8">Func</a> func) override</td></tr>
<tr class="separator:a9693b74569f4e5da88a4b06015ca81de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49564a0df5aceb018cc6b02f56ca8fdd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOThreadPoolExecutor.html#a49564a0df5aceb018cc6b02f56ca8fdd">add</a> (<a class="el" href="namespacefolly.html#a4f345dd5f9b26d8dd202c2072badbea8">Func</a> func, std::chrono::milliseconds <a class="el" href="ThreadPoolExecutorTest_8cpp.html#aa0075c0a3668827a8cbf0376308b7d86">expiration</a>, <a class="el" href="namespacefolly.html#a4f345dd5f9b26d8dd202c2072badbea8">Func</a> expireCallback=<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>) override</td></tr>
<tr class="separator:a49564a0df5aceb018cc6b02f56ca8fdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88d709e228a8c5ab54dca5b6e919e9f2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1EventBase.html">folly::EventBase</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOThreadPoolExecutor.html#a88d709e228a8c5ab54dca5b6e919e9f2">getEventBase</a> () override</td></tr>
<tr class="separator:a88d709e228a8c5ab54dca5b6e919e9f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55c8436d640a99ec3ee41a7824fd50b7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1EventBaseManager.html">folly::EventBaseManager</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOThreadPoolExecutor.html#a55c8436d640a99ec3ee41a7824fd50b7">getEventBaseManager</a> ()</td></tr>
<tr class="separator:a55c8436d640a99ec3ee41a7824fd50b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classfolly_1_1ThreadPoolExecutor"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classfolly_1_1ThreadPoolExecutor')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classfolly_1_1ThreadPoolExecutor.html">folly::ThreadPoolExecutor</a></td></tr>
<tr class="memitem:a5dc98446bbe79d693530ad67dc9cab83 inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a5dc98446bbe79d693530ad67dc9cab83">ThreadPoolExecutor</a> (size_t maxThreads, size_t minThreads, std::shared_ptr&lt; <a class="el" href="classfolly_1_1ThreadFactory.html">ThreadFactory</a> &gt; threadFactory, bool isWaitForAll=false)</td></tr>
<tr class="separator:a5dc98446bbe79d693530ad67dc9cab83 inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa06fa1428d8aae40ced9ea356d42489b inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#aa06fa1428d8aae40ced9ea356d42489b">~ThreadPoolExecutor</a> () override</td></tr>
<tr class="separator:aa06fa1428d8aae40ced9ea356d42489b inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec2eaa5cb24d4feca340f70bea999d16 inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#aec2eaa5cb24d4feca340f70bea999d16">setThreadFactory</a> (std::shared_ptr&lt; <a class="el" href="classfolly_1_1ThreadFactory.html">ThreadFactory</a> &gt; threadFactory)</td></tr>
<tr class="separator:aec2eaa5cb24d4feca340f70bea999d16 inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21cb2e74bf689c8fc135403381cb85d4 inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classfolly_1_1ThreadFactory.html">ThreadFactory</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a21cb2e74bf689c8fc135403381cb85d4">getThreadFactory</a> ()</td></tr>
<tr class="separator:a21cb2e74bf689c8fc135403381cb85d4 inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36fbef224fe2c6caf61191a93676da87 inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a36fbef224fe2c6caf61191a93676da87">numThreads</a> ()</td></tr>
<tr class="separator:a36fbef224fe2c6caf61191a93676da87 inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15c88220843c608ee79cb23378dc082d inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a15c88220843c608ee79cb23378dc082d">setNumThreads</a> (size_t <a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a36fbef224fe2c6caf61191a93676da87">numThreads</a>)</td></tr>
<tr class="separator:a15c88220843c608ee79cb23378dc082d inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74b1e7d0fbbc431e829093933d351a7f inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a74b1e7d0fbbc431e829093933d351a7f">numActiveThreads</a> ()</td></tr>
<tr class="separator:a74b1e7d0fbbc431e829093933d351a7f inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b9eb26a916a19565c89cf6280986e6f inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a1b9eb26a916a19565c89cf6280986e6f">stop</a> ()</td></tr>
<tr class="separator:a1b9eb26a916a19565c89cf6280986e6f inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa40e4a728e35ab35f239c01cc1d3391a inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#aa40e4a728e35ab35f239c01cc1d3391a">join</a> ()</td></tr>
<tr class="separator:aa40e4a728e35ab35f239c01cc1d3391a inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7716e8f2d37755f7906b2b1c8123ca5 inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfolly_1_1ThreadPoolExecutor_1_1PoolStats.html">PoolStats</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#ab7716e8f2d37755f7906b2b1c8123ca5">getPoolStats</a> ()</td></tr>
<tr class="separator:ab7716e8f2d37755f7906b2b1c8123ca5 inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60c24296d5d6e190213107553b497980 inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a60c24296d5d6e190213107553b497980">getPendingTaskCount</a> ()</td></tr>
<tr class="separator:a60c24296d5d6e190213107553b497980 inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09608f7f181f828d9dcb927a19bc963b inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a09608f7f181f828d9dcb927a19bc963b">getName</a> ()</td></tr>
<tr class="separator:a09608f7f181f828d9dcb927a19bc963b inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f7f36cbe8df7c2d8b7deb50d7fb8660 inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a7f7f36cbe8df7c2d8b7deb50d7fb8660">subscribeToTaskStats</a> (<a class="el" href="classfolly_1_1ThreadPoolExecutor.html#ad55136fd6445e02f3bfd1bb67d560e63">TaskStatsCallback</a> cb)</td></tr>
<tr class="separator:a7f7f36cbe8df7c2d8b7deb50d7fb8660 inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8eeaa352e64d27a201013265594760df inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a8eeaa352e64d27a201013265594760df">addObserver</a> (std::shared_ptr&lt; <a class="el" href="classfolly_1_1ThreadPoolExecutor_1_1Observer.html">Observer</a> &gt;)</td></tr>
<tr class="separator:a8eeaa352e64d27a201013265594760df inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e188770a55d017190177d47e83e6c74 inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a1e188770a55d017190177d47e83e6c74">removeObserver</a> (std::shared_ptr&lt; <a class="el" href="classfolly_1_1ThreadPoolExecutor_1_1Observer.html">Observer</a> &gt;)</td></tr>
<tr class="separator:a1e188770a55d017190177d47e83e6c74 inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d15f8899d9fdacb8fa03dc389cf115b inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a7d15f8899d9fdacb8fa03dc389cf115b">setThreadDeathTimeout</a> (std::chrono::milliseconds timeout)</td></tr>
<tr class="separator:a7d15f8899d9fdacb8fa03dc389cf115b inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classfolly_1_1DefaultKeepAliveExecutor"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classfolly_1_1DefaultKeepAliveExecutor')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classfolly_1_1DefaultKeepAliveExecutor.html">folly::DefaultKeepAliveExecutor</a></td></tr>
<tr class="memitem:a097b7568b0b3336dc93413717fc7cf0a inherit pub_methods_classfolly_1_1DefaultKeepAliveExecutor"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1DefaultKeepAliveExecutor.html#a097b7568b0b3336dc93413717fc7cf0a">DefaultKeepAliveExecutor</a> ()</td></tr>
<tr class="separator:a097b7568b0b3336dc93413717fc7cf0a inherit pub_methods_classfolly_1_1DefaultKeepAliveExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c34edeed7db492c9e733e73eea5af48 inherit pub_methods_classfolly_1_1DefaultKeepAliveExecutor"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1DefaultKeepAliveExecutor.html#a3c34edeed7db492c9e733e73eea5af48">~DefaultKeepAliveExecutor</a> ()</td></tr>
<tr class="separator:a3c34edeed7db492c9e733e73eea5af48 inherit pub_methods_classfolly_1_1DefaultKeepAliveExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae939fdeb81b34affb25ee1481b35f90 inherit pub_methods_classfolly_1_1DefaultKeepAliveExecutor"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1Executor_1_1KeepAlive.html">folly::Executor::KeepAlive</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1DefaultKeepAliveExecutor.html#aae939fdeb81b34affb25ee1481b35f90">weakRef</a> ()</td></tr>
<tr class="separator:aae939fdeb81b34affb25ee1481b35f90 inherit pub_methods_classfolly_1_1DefaultKeepAliveExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classfolly_1_1Executor"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classfolly_1_1Executor')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classfolly_1_1Executor.html">folly::Executor</a></td></tr>
<tr class="memitem:a2a710c710ae0eba33dc6548f39576f43 inherit pub_methods_classfolly_1_1Executor"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#a2a710c710ae0eba33dc6548f39576f43">~Executor</a> ()</td></tr>
<tr class="separator:a2a710c710ae0eba33dc6548f39576f43 inherit pub_methods_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d84a5a09f7762ca05cdb5ae2dea15b9 inherit pub_methods_classfolly_1_1Executor"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#a3d84a5a09f7762ca05cdb5ae2dea15b9">addWithPriority</a> (<a class="el" href="namespacefolly.html#a4f345dd5f9b26d8dd202c2072badbea8">Func</a>, <a class="el" href="ConstexprMathBenchmark_8cpp.html#a20c38cc5aac7cc6b0a3c6ab05428436d">int8_t</a> priority)</td></tr>
<tr class="separator:a3d84a5a09f7762ca05cdb5ae2dea15b9 inherit pub_methods_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2c2fbd10f0e14f06b329f107dfaf140 inherit pub_methods_classfolly_1_1Executor"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#ad2c2fbd10f0e14f06b329f107dfaf140">getNumPriorities</a> () const </td></tr>
<tr class="separator:ad2c2fbd10f0e14f06b329f107dfaf140 inherit pub_methods_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classfolly_1_1IOExecutor"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classfolly_1_1IOExecutor')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classfolly_1_1IOExecutor.html">folly::IOExecutor</a></td></tr>
<tr class="memitem:a52d44f8907fa6505b1094c1c040b3a98 inherit pub_methods_classfolly_1_1IOExecutor"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOExecutor.html#a52d44f8907fa6505b1094c1c040b3a98">~IOExecutor</a> () override=default</td></tr>
<tr class="separator:a52d44f8907fa6505b1094c1c040b3a98 inherit pub_methods_classfolly_1_1IOExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a94bed60293e0a4cb939da25ef4fee1e8"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfolly_1_1EventBase.html">folly::EventBase</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOThreadPoolExecutor.html#a94bed60293e0a4cb939da25ef4fee1e8">getEventBase</a> (<a class="el" href="classfolly_1_1ThreadPoolExecutor_1_1ThreadHandle.html">ThreadPoolExecutor::ThreadHandle</a> *)</td></tr>
<tr class="separator:a94bed60293e0a4cb939da25ef4fee1e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_methods_classfolly_1_1ThreadPoolExecutor"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classfolly_1_1ThreadPoolExecutor')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classfolly_1_1ThreadPoolExecutor.html">folly::ThreadPoolExecutor</a></td></tr>
<tr class="memitem:a8f55cd593fc402a2cbf123692a42c453 inherit pub_static_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a8f55cd593fc402a2cbf123692a42c453">withAll</a> (<a class="el" href="classfolly_1_1FunctionRef.html">FunctionRef</a>&lt; void(<a class="el" href="classfolly_1_1ThreadPoolExecutor.html">ThreadPoolExecutor</a> &amp;)&gt; <a class="el" href="StackOverflow_8cpp.html#a818f01d15ad1b9b4900c4513a27c273f">f</a>)</td></tr>
<tr class="separator:a8f55cd593fc402a2cbf123692a42c453 inherit pub_static_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_methods_classfolly_1_1Executor"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classfolly_1_1Executor')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classfolly_1_1Executor.html">folly::Executor</a></td></tr>
<tr class="memitem:a921eb187ac98c7ef6ae0a04d741c55b6 inherit pub_static_methods_classfolly_1_1Executor"><td class="memTemplParams" colspan="2">template&lt;typename ExecutorT &gt; </td></tr>
<tr class="memitem:a921eb187ac98c7ef6ae0a04d741c55b6 inherit pub_static_methods_classfolly_1_1Executor"><td class="memTemplItemLeft" align="right" valign="top">static <a class="el" href="classfolly_1_1Executor_1_1KeepAlive.html">KeepAlive</a>&lt; ExecutorT &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#a921eb187ac98c7ef6ae0a04d741c55b6">getKeepAliveToken</a> (ExecutorT *executor)</td></tr>
<tr class="separator:a921eb187ac98c7ef6ae0a04d741c55b6 inherit pub_static_methods_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1590ff9b76a92b064a41f789e07e764c inherit pub_static_methods_classfolly_1_1Executor"><td class="memTemplParams" colspan="2">template&lt;typename ExecutorT &gt; </td></tr>
<tr class="memitem:a1590ff9b76a92b064a41f789e07e764c inherit pub_static_methods_classfolly_1_1Executor"><td class="memTemplItemLeft" align="right" valign="top">static <a class="el" href="classfolly_1_1Executor_1_1KeepAlive.html">KeepAlive</a>&lt; ExecutorT &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#a1590ff9b76a92b064a41f789e07e764c">getKeepAliveToken</a> (ExecutorT &amp;executor)</td></tr>
<tr class="separator:a1590ff9b76a92b064a41f789e07e764c inherit pub_static_methods_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a4efd483af6284aebe26accdadc685481"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#ac1aabf9ff5d0c94a8f383e1e2791c4ae">ThreadPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOThreadPoolExecutor.html#a4efd483af6284aebe26accdadc685481">makeThread</a> () override</td></tr>
<tr class="separator:a4efd483af6284aebe26accdadc685481"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad18c5354ffb473a1896014d7e9b4b739"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="structfolly_1_1IOThreadPoolExecutor_1_1IOThread.html">IOThread</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOThreadPoolExecutor.html#ad18c5354ffb473a1896014d7e9b4b739">pickThread</a> ()</td></tr>
<tr class="separator:ad18c5354ffb473a1896014d7e9b4b739"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f27b106492a971315ae0cadadf67225"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOThreadPoolExecutor.html#a0f27b106492a971315ae0cadadf67225">threadRun</a> (<a class="el" href="classfolly_1_1ThreadPoolExecutor.html#ac1aabf9ff5d0c94a8f383e1e2791c4ae">ThreadPtr</a> thread) override</td></tr>
<tr class="separator:a0f27b106492a971315ae0cadadf67225"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9646ccfc09301d8e1a0a5bb6c627e49"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOThreadPoolExecutor.html#ae9646ccfc09301d8e1a0a5bb6c627e49">stopThreads</a> (size_t n) override</td></tr>
<tr class="separator:ae9646ccfc09301d8e1a0a5bb6c627e49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a095f59cb3132508d14fc073527105de0"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOThreadPoolExecutor.html#a095f59cb3132508d14fc073527105de0">getPendingTaskCountImpl</a> () override</td></tr>
<tr class="separator:a095f59cb3132508d14fc073527105de0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a700dbc440aaf83aaae7c9a02ed53faf2"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOThreadPoolExecutor.html#a700dbc440aaf83aaae7c9a02ed53faf2">nextThread_</a></td></tr>
<tr class="separator:a700dbc440aaf83aaae7c9a02ed53faf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c466bedcb6df96f5edde74d47efddcd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1ThreadLocal.html">folly::ThreadLocal</a>&lt; std::shared_ptr&lt; <a class="el" href="structfolly_1_1IOThreadPoolExecutor_1_1IOThread.html">IOThread</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOThreadPoolExecutor.html#a1c466bedcb6df96f5edde74d47efddcd">thisThread_</a></td></tr>
<tr class="separator:a1c466bedcb6df96f5edde74d47efddcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37694952fc1bffcae53a1ac0684049d0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1EventBaseManager.html">folly::EventBaseManager</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOThreadPoolExecutor.html#a37694952fc1bffcae53a1ac0684049d0">eventBaseManager_</a></td></tr>
<tr class="separator:a37694952fc1bffcae53a1ac0684049d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classfolly_1_1ThreadPoolExecutor"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classfolly_1_1ThreadPoolExecutor')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classfolly_1_1ThreadPoolExecutor.html">folly::ThreadPoolExecutor</a></td></tr>
<tr class="memitem:ad55136fd6445e02f3bfd1bb67d560e63 inherit pub_types_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#ad55136fd6445e02f3bfd1bb67d560e63">TaskStatsCallback</a> = std::function&lt; void(<a class="el" href="structfolly_1_1ThreadPoolExecutor_1_1TaskStats.html">TaskStats</a>)&gt;</td></tr>
<tr class="separator:ad55136fd6445e02f3bfd1bb67d560e63 inherit pub_types_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_attribs_classfolly_1_1Executor"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_classfolly_1_1Executor')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="classfolly_1_1Executor.html">folly::Executor</a></td></tr>
<tr class="memitem:afbb7f50dbb65dd3395aab6dcd5603cf5 inherit pub_static_attribs_classfolly_1_1Executor"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="ConstexprMathBenchmark_8cpp.html#a20c38cc5aac7cc6b0a3c6ab05428436d">int8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#afbb7f50dbb65dd3395aab6dcd5603cf5">LO_PRI</a> = SCHAR_MIN</td></tr>
<tr class="separator:afbb7f50dbb65dd3395aab6dcd5603cf5 inherit pub_static_attribs_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a579944074469580e7a967aa1231ba57a inherit pub_static_attribs_classfolly_1_1Executor"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="ConstexprMathBenchmark_8cpp.html#a20c38cc5aac7cc6b0a3c6ab05428436d">int8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#a579944074469580e7a967aa1231ba57a">MID_PRI</a> = 0</td></tr>
<tr class="separator:a579944074469580e7a967aa1231ba57a inherit pub_static_attribs_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9acf25ca896f289cddb1164a77928d43 inherit pub_static_attribs_classfolly_1_1Executor"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="ConstexprMathBenchmark_8cpp.html#a20c38cc5aac7cc6b0a3c6ab05428436d">int8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#a9acf25ca896f289cddb1164a77928d43">HI_PRI</a> = SCHAR_MAX</td></tr>
<tr class="separator:a9acf25ca896f289cddb1164a77928d43 inherit pub_static_attribs_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_types_classfolly_1_1ThreadPoolExecutor"><td colspan="2" onclick="javascript:toggleInherit('pro_types_classfolly_1_1ThreadPoolExecutor')"><img src="closed.png" alt="-"/>&#160;Protected Types inherited from <a class="el" href="classfolly_1_1ThreadPoolExecutor.html">folly::ThreadPoolExecutor</a></td></tr>
<tr class="memitem:ac1aabf9ff5d0c94a8f383e1e2791c4ae inherit pro_types_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">typedef std::shared_ptr&lt; <a class="el" href="structfolly_1_1ThreadPoolExecutor_1_1Thread.html">Thread</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#ac1aabf9ff5d0c94a8f383e1e2791c4ae">ThreadPtr</a></td></tr>
<tr class="separator:ac1aabf9ff5d0c94a8f383e1e2791c4ae inherit pro_types_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classfolly_1_1ThreadPoolExecutor"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classfolly_1_1ThreadPoolExecutor')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classfolly_1_1ThreadPoolExecutor.html">folly::ThreadPoolExecutor</a></td></tr>
<tr class="memitem:a27bb64b39be1cff6c5e6dd6a5171fc1a inherit pro_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a27bb64b39be1cff6c5e6dd6a5171fc1a">addThreads</a> (size_t n)</td></tr>
<tr class="separator:a27bb64b39be1cff6c5e6dd6a5171fc1a inherit pro_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56633d3dcdc3726db6827629b91c51c0 inherit pro_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a56633d3dcdc3726db6827629b91c51c0">removeThreads</a> (size_t n, bool isJoin)</td></tr>
<tr class="separator:a56633d3dcdc3726db6827629b91c51c0 inherit pro_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40bf1d9431b45e73dcb85694874f3a34 inherit pro_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a40bf1d9431b45e73dcb85694874f3a34">joinStoppedThreads</a> (size_t n)</td></tr>
<tr class="separator:a40bf1d9431b45e73dcb85694874f3a34 inherit pro_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa937d4afe12d9de1c972db28255ddf86 inherit pro_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#aa937d4afe12d9de1c972db28255ddf86">ensureActiveThreads</a> ()</td></tr>
<tr class="separator:aa937d4afe12d9de1c972db28255ddf86 inherit pro_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b71ffe95629546b14b23a69561ef981 inherit pro_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a5b71ffe95629546b14b23a69561ef981">ensureJoined</a> ()</td></tr>
<tr class="separator:a5b71ffe95629546b14b23a69561ef981 inherit pro_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf95e26cf3a8a10d4cdd51d14734b360 inherit pro_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#aaf95e26cf3a8a10d4cdd51d14734b360">minActive</a> ()</td></tr>
<tr class="separator:aaf95e26cf3a8a10d4cdd51d14734b360 inherit pro_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4666770785a22ccac5dc9be63cdf04f9 inherit pro_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a4666770785a22ccac5dc9be63cdf04f9">tryTimeoutThread</a> ()</td></tr>
<tr class="separator:a4666770785a22ccac5dc9be63cdf04f9 inherit pro_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae52464d6d00cce830b64bbb7c8578ece inherit pro_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#ae52464d6d00cce830b64bbb7c8578ece">joinKeepAliveOnce</a> ()</td></tr>
<tr class="separator:ae52464d6d00cce830b64bbb7c8578ece inherit pro_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classfolly_1_1DefaultKeepAliveExecutor"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classfolly_1_1DefaultKeepAliveExecutor')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classfolly_1_1DefaultKeepAliveExecutor.html">folly::DefaultKeepAliveExecutor</a></td></tr>
<tr class="memitem:aa038f102572f1383aec6ddeb5a5d8a28 inherit pro_methods_classfolly_1_1DefaultKeepAliveExecutor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1DefaultKeepAliveExecutor.html#aa038f102572f1383aec6ddeb5a5d8a28">joinKeepAlive</a> ()</td></tr>
<tr class="separator:aa038f102572f1383aec6ddeb5a5d8a28 inherit pro_methods_classfolly_1_1DefaultKeepAliveExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_static_methods_classfolly_1_1ThreadPoolExecutor"><td colspan="2" onclick="javascript:toggleInherit('pro_static_methods_classfolly_1_1ThreadPoolExecutor')"><img src="closed.png" alt="-"/>&#160;Static Protected Member Functions inherited from <a class="el" href="classfolly_1_1ThreadPoolExecutor.html">folly::ThreadPoolExecutor</a></td></tr>
<tr class="memitem:a595daa9367382c2d2dece38a0541d348 inherit pro_static_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a595daa9367382c2d2dece38a0541d348">runTask</a> (const <a class="el" href="classfolly_1_1ThreadPoolExecutor.html#ac1aabf9ff5d0c94a8f383e1e2791c4ae">ThreadPtr</a> &amp;thread, <a class="el" href="structfolly_1_1ThreadPoolExecutor_1_1Task.html">Task</a> &amp;&amp;task)</td></tr>
<tr class="separator:a595daa9367382c2d2dece38a0541d348 inherit pro_static_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_static_methods_classfolly_1_1Executor"><td colspan="2" onclick="javascript:toggleInherit('pro_static_methods_classfolly_1_1Executor')"><img src="closed.png" alt="-"/>&#160;Static Protected Member Functions inherited from <a class="el" href="classfolly_1_1Executor.html">folly::Executor</a></td></tr>
<tr class="memitem:ac65c1aa0dc2f340496c77f64f69067ff inherit pro_static_methods_classfolly_1_1Executor"><td class="memTemplParams" colspan="2">template&lt;typename ExecutorT &gt; </td></tr>
<tr class="memitem:ac65c1aa0dc2f340496c77f64f69067ff inherit pro_static_methods_classfolly_1_1Executor"><td class="memTemplItemLeft" align="right" valign="top">static bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#ac65c1aa0dc2f340496c77f64f69067ff">isKeepAliveDummy</a> (const <a class="el" href="classfolly_1_1Executor_1_1KeepAlive.html">KeepAlive</a>&lt; ExecutorT &gt; &amp;keepAlive)</td></tr>
<tr class="separator:ac65c1aa0dc2f340496c77f64f69067ff inherit pro_static_methods_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c9692aa8d5e046467df1f73776270bf inherit pro_static_methods_classfolly_1_1Executor"><td class="memTemplParams" colspan="2">template&lt;typename ExecutorT &gt; </td></tr>
<tr class="memitem:a8c9692aa8d5e046467df1f73776270bf inherit pro_static_methods_classfolly_1_1Executor"><td class="memTemplItemLeft" align="right" valign="top">static <a class="el" href="classfolly_1_1Executor_1_1KeepAlive.html">KeepAlive</a>&lt; ExecutorT &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#a8c9692aa8d5e046467df1f73776270bf">makeKeepAlive</a> (ExecutorT *executor)</td></tr>
<tr class="separator:a8c9692aa8d5e046467df1f73776270bf inherit pro_static_methods_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classfolly_1_1ThreadPoolExecutor"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classfolly_1_1ThreadPoolExecutor')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classfolly_1_1ThreadPoolExecutor.html">folly::ThreadPoolExecutor</a></td></tr>
<tr class="memitem:a26b28f1c64dc7774f7d701b8d064a6ba inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classfolly_1_1ThreadFactory.html">ThreadFactory</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a26b28f1c64dc7774f7d701b8d064a6ba">threadFactory_</a></td></tr>
<tr class="separator:a26b28f1c64dc7774f7d701b8d064a6ba inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d3e15f96cef4a6ec9edf211c3abe27d inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">const bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a3d3e15f96cef4a6ec9edf211c3abe27d">isWaitForAll_</a></td></tr>
<tr class="separator:a3d3e15f96cef4a6ec9edf211c3abe27d inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63382ab18584c9e822e3af01913a7022 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1ThreadPoolExecutor_1_1ThreadList.html">ThreadList</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a63382ab18584c9e822e3af01913a7022">threadList_</a></td></tr>
<tr class="separator:a63382ab18584c9e822e3af01913a7022 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a291baad862005a9dc5d919ebff91b1 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacefolly.html#ae7e470db39b3e07bb689bc4af72fdf0c">SharedMutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a1a291baad862005a9dc5d919ebff91b1">threadListLock_</a></td></tr>
<tr class="separator:a1a291baad862005a9dc5d919ebff91b1 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87202c5f5fdbce422e2d973779fa1689 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1ThreadPoolExecutor_1_1StoppedThreadQueue.html">StoppedThreadQueue</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a87202c5f5fdbce422e2d973779fa1689">stoppedThreads_</a></td></tr>
<tr class="separator:a87202c5f5fdbce422e2d973779fa1689 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a189d66d9d03c7ef361025c0aac1e86bc inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a189d66d9d03c7ef361025c0aac1e86bc">isJoin_</a> {false}</td></tr>
<tr class="separator:a189d66d9d03c7ef361025c0aac1e86bc inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7f7faf330db639c6c7a6c264611959e inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="structfolly_1_1ThreadPoolExecutor_1_1TaskStatsCallbackRegistry.html">TaskStatsCallbackRegistry</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#af7f7faf330db639c6c7a6c264611959e">taskStatsCallbacks_</a></td></tr>
<tr class="separator:af7f7faf330db639c6c7a6c264611959e inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af81dab3b993e3df398e2d90b44702ef9 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::shared_ptr&lt; <a class="el" href="classfolly_1_1ThreadPoolExecutor_1_1Observer.html">Observer</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#af81dab3b993e3df398e2d90b44702ef9">observers_</a></td></tr>
<tr class="separator:af81dab3b993e3df398e2d90b44702ef9 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44998d8ab01644b469bc6de2ee434daf inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1ThreadPoolListHook.html">folly::ThreadPoolListHook</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a44998d8ab01644b469bc6de2ee434daf">threadPoolHook_</a></td></tr>
<tr class="separator:a44998d8ab01644b469bc6de2ee434daf inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3d41215514ada6590ff1f144e395614 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#aa3d41215514ada6590ff1f144e395614">maxThreads_</a> {0}</td></tr>
<tr class="separator:aa3d41215514ada6590ff1f144e395614 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1b176cf609431be0956ab3224ce0083 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#ad1b176cf609431be0956ab3224ce0083">minThreads_</a> {0}</td></tr>
<tr class="separator:ad1b176cf609431be0956ab3224ce0083 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d009ad4ba4db6d3ccb1934e9c4a5397 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a5d009ad4ba4db6d3ccb1934e9c4a5397">activeThreads_</a> {0}</td></tr>
<tr class="separator:a5d009ad4ba4db6d3ccb1934e9c4a5397 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16dc99d6627b2e14d9cd71d9401bb632 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a16dc99d6627b2e14d9cd71d9401bb632">threadsToJoin_</a> {0}</td></tr>
<tr class="separator:a16dc99d6627b2e14d9cd71d9401bb632 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e1d7ff6007e105ca359ff5dc3b7a0c5 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">std::chrono::milliseconds&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a5e1d7ff6007e105ca359ff5dc3b7a0c5">threadTimeout_</a> {0}</td></tr>
<tr class="separator:a5e1d7ff6007e105ca359ff5dc3b7a0c5 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf0b2a4bacd7e6fba4635ead8f03b5b6 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#abf0b2a4bacd7e6fba4635ead8f03b5b6">keepAliveJoined_</a> {false}</td></tr>
<tr class="separator:abf0b2a4bacd7e6fba4635ead8f03b5b6 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="structA.html">A</a> Thread Pool for IO bound tasks</p>
<dl class="section note"><dt>Note</dt><dd>Uses event_fd for notification, and waking an epoll loop. There is one queue (<a class="el" href="classfolly_1_1NotificationQueue.html">NotificationQueue</a> specifically) per thread/epoll. If the thread is already running and not waiting on epoll, we don't make any additional syscalls to wake up the loop, just put the new task in the queue. If any thread has been waiting for more than a few seconds, its stack is madvised away. Currently however tasks are scheduled round robin on the queues, so unless there is no work going on, this isn't very effective. Since there is one queue per thread, there is hardly any contention on the queues - so a simple spinlock around an std::deque is used for the tasks. There is no max queue size. By default, there is one thread per core - it usually doesn't make sense to have more IO threads than this, assuming they don't block.</dd>
<dd>
<a class="el" href="namespacefolly.html#af7fbee06181c27cb9f88984f78293232">getEventBase()</a> will return an <a class="el" href="classfolly_1_1EventBase.html">EventBase</a> you can schedule IO work on directly, chosen round-robin.</dd>
<dd>
N.B. For this thread pool, <a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a1b9eb26a916a19565c89cf6280986e6f">stop()</a> behaves like <a class="el" href="classfolly_1_1ThreadPoolExecutor.html#aa40e4a728e35ab35f239c01cc1d3391a">join()</a> because outstanding tasks belong to the event base and will be executed upon its destruction. </dd></dl>

<p>Definition at line <a class="el" href="IOThreadPoolExecutor_8h_source.html#l00052">52</a> of file <a class="el" href="IOThreadPoolExecutor_8h_source.html">IOThreadPoolExecutor.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ab7bf4e3b55c71530cd4de3adff4b6ad3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">folly::IOThreadPoolExecutor::IOThreadPoolExecutor </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>numThreads</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classfolly_1_1ThreadFactory.html">ThreadFactory</a> &gt;&#160;</td>
          <td class="paramname"><em>threadFactory</em> = <code>std::make_shared&lt;<a class="el" href="classfolly_1_1NamedThreadFactory.html">NamedThreadFactory</a>&gt;(&quot;IOThreadPool&quot;)</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfolly_1_1EventBaseManager.html">folly::EventBaseManager</a> *&#160;</td>
          <td class="paramname"><em>ebm</em> = <code><a class="el" href="classfolly_1_1EventBaseManager.html#ad259c68850ca758d4cc80c23b7d03c04">folly::EventBaseManager::get</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>waitForAll</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOThreadPoolExecutor_8cpp_source.html#l00070">70</a> of file <a class="el" href="IOThreadPoolExecutor_8cpp_source.html">IOThreadPoolExecutor.cpp</a>.</p>

<p>References <a class="el" href="ThreadPoolExecutor_8cpp_source.html#l00125">folly::ThreadPoolExecutor::setNumThreads()</a>.</p>
<div class="fragment"><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    : <a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a5dc98446bbe79d693530ad67dc9cab83">ThreadPoolExecutor</a>(</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;          <a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a36fbef224fe2c6caf61191a93676da87">numThreads</a>,</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;          FLAGS_dynamic_iothreadpoolexecutor ? 0 : <a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a36fbef224fe2c6caf61191a93676da87">numThreads</a>,</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;          <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(threadFactory),</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;          waitForAll),</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;      <a class="code" href="classfolly_1_1IOThreadPoolExecutor.html#a700dbc440aaf83aaae7c9a02ed53faf2">nextThread_</a>(0),</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      <a class="code" href="classfolly_1_1IOThreadPoolExecutor.html#a37694952fc1bffcae53a1ac0684049d0">eventBaseManager_</a>(ebm) {</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a15c88220843c608ee79cb23378dc082d">setNumThreads</a>(numThreads);</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOThreadPoolExecutor_html_a700dbc440aaf83aaae7c9a02ed53faf2"><div class="ttname"><a href="classfolly_1_1IOThreadPoolExecutor.html#a700dbc440aaf83aaae7c9a02ed53faf2">folly::IOThreadPoolExecutor::nextThread_</a></div><div class="ttdeci">std::atomic&lt; size_t &gt; nextThread_</div><div class="ttdef"><b>Definition:</b> <a href="IOThreadPoolExecutor_8h_source.html#l00092">IOThreadPoolExecutor.h:92</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_a36fbef224fe2c6caf61191a93676da87"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#a36fbef224fe2c6caf61191a93676da87">folly::ThreadPoolExecutor::numThreads</a></div><div class="ttdeci">size_t numThreads()</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8cpp_source.html#l00116">ThreadPoolExecutor.cpp:116</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_a5dc98446bbe79d693530ad67dc9cab83"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#a5dc98446bbe79d693530ad67dc9cab83">folly::ThreadPoolExecutor::ThreadPoolExecutor</a></div><div class="ttdeci">ThreadPoolExecutor(size_t maxThreads, size_t minThreads, std::shared_ptr&lt; ThreadFactory &gt; threadFactory, bool isWaitForAll=false)</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8cpp_source.html#l00037">ThreadPoolExecutor.cpp:37</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_a15c88220843c608ee79cb23378dc082d"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#a15c88220843c608ee79cb23378dc082d">folly::ThreadPoolExecutor::setNumThreads</a></div><div class="ttdeci">void setNumThreads(size_t numThreads)</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8cpp_source.html#l00125">ThreadPoolExecutor.cpp:125</a></div></div>
<div class="ttc" id="classfolly_1_1IOThreadPoolExecutor_html_a37694952fc1bffcae53a1ac0684049d0"><div class="ttname"><a href="classfolly_1_1IOThreadPoolExecutor.html#a37694952fc1bffcae53a1ac0684049d0">folly::IOThreadPoolExecutor::eventBaseManager_</a></div><div class="ttdeci">folly::EventBaseManager * eventBaseManager_</div><div class="ttdef"><b>Definition:</b> <a href="IOThreadPoolExecutor_8h_source.html#l00094">IOThreadPoolExecutor.h:94</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af2e202b98e95737e6b9274702ead57df"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">folly::IOThreadPoolExecutor::~IOThreadPoolExecutor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOThreadPoolExecutor_8cpp_source.html#l00085">85</a> of file <a class="el" href="IOThreadPoolExecutor_8cpp_source.html">IOThreadPoolExecutor.cpp</a>.</p>

<p>References <a class="el" href="ThreadPoolExecutor_8cpp_source.html#l00215">folly::ThreadPoolExecutor::stop()</a>.</p>
<div class="fragment"><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                                            {</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a1b9eb26a916a19565c89cf6280986e6f">stop</a>();</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;}</div><div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_a1b9eb26a916a19565c89cf6280986e6f"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#a1b9eb26a916a19565c89cf6280986e6f">folly::ThreadPoolExecutor::stop</a></div><div class="ttdeci">void stop()</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8cpp_source.html#l00215">ThreadPoolExecutor.cpp:215</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a9693b74569f4e5da88a4b06015ca81de"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOThreadPoolExecutor::add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacefolly.html#a4f345dd5f9b26d8dd202c2072badbea8">Func</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Enqueue a function to executed by this executor. This and all variants must be threadsafe. </p>

<p>Implements <a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a44dac8faf429536614cf3d6a4051a4ec">folly::ThreadPoolExecutor</a>.</p>

<p>Definition at line <a class="el" href="IOThreadPoolExecutor_8cpp_source.html#l00089">89</a> of file <a class="el" href="IOThreadPoolExecutor_8cpp_source.html">IOThreadPoolExecutor.cpp</a>.</p>

<p>References <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>.</p>

<p>Referenced by <a class="el" href="ThreadPoolExecutorTest_8cpp_source.html#l00158">destroy&lt; IOThreadPoolExecutor &gt;()</a>, and <a class="el" href="ThreadPoolExecutorTest_8cpp_source.html#l00094">stop&lt; IOThreadPoolExecutor &gt;()</a>.</p>
<div class="fragment"><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                                        {</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <a class="code" href="classfolly_1_1IOThreadPoolExecutor.html#a9693b74569f4e5da88a4b06015ca81de">add</a>(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(func), std::chrono::milliseconds(0));</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;}</div><div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="classfolly_1_1IOThreadPoolExecutor_html_a9693b74569f4e5da88a4b06015ca81de"><div class="ttname"><a href="classfolly_1_1IOThreadPoolExecutor.html#a9693b74569f4e5da88a4b06015ca81de">folly::IOThreadPoolExecutor::add</a></div><div class="ttdeci">void add(Func func) override</div><div class="ttdef"><b>Definition:</b> <a href="IOThreadPoolExecutor_8cpp_source.html#l00089">IOThreadPoolExecutor.cpp:89</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a49564a0df5aceb018cc6b02f56ca8fdd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOThreadPoolExecutor::add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacefolly.html#a4f345dd5f9b26d8dd202c2072badbea8">Func</a>&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::chrono::milliseconds&#160;</td>
          <td class="paramname"><em>expiration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacefolly.html#a4f345dd5f9b26d8dd202c2072badbea8">Func</a>&#160;</td>
          <td class="paramname"><em>expireCallback</em> = <code><a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a6dda08d843975adce8a74b249f6a8b07">folly::ThreadPoolExecutor</a>.</p>

<p>Definition at line <a class="el" href="IOThreadPoolExecutor_8cpp_source.html#l00093">93</a> of file <a class="el" href="IOThreadPoolExecutor_8cpp_source.html">IOThreadPoolExecutor.cpp</a>.</p>

<p>References <a class="el" href="ThreadPoolExecutor_8cpp_source.html#l00434">folly::ThreadPoolExecutor::ensureActiveThreads()</a>, <a class="el" href="ThreadPoolExecutor_8h_source.html#l00261">folly::ThreadPoolExecutor::ThreadList::get()</a>, <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>, <a class="el" href="IOThreadPoolExecutor_8cpp_source.html#l00118">pickThread()</a>, <a class="el" href="ThreadPoolExecutor_8cpp_source.html#l00071">folly::ThreadPoolExecutor::runTask()</a>, <a class="el" href="ThreadPoolExecutor_8h_source.html#l00290">folly::ThreadPoolExecutor::threadList_</a>, and <a class="el" href="ThreadPoolExecutor_8h_source.html#l00291">folly::ThreadPoolExecutor::threadListLock_</a>.</p>
<div class="fragment"><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                         {</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <a class="code" href="classfolly_1_1ThreadPoolExecutor.html#aa937d4afe12d9de1c972db28255ddf86">ensureActiveThreads</a>();</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  SharedMutex::ReadHolder r{&amp;<a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a1a291baad862005a9dc5d919ebff91b1">threadListLock_</a>};</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a63382ab18584c9e822e3af01913a7022">threadList_</a>.<a class="code" href="classfolly_1_1ThreadPoolExecutor_1_1ThreadList.html#a99c38580ddfa3601ea8eb5ccd1be0e66">get</a>().empty()) {</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;No threads available&quot;</span>);</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  }</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="keyword">auto</span> ioThread = <a class="code" href="classfolly_1_1IOThreadPoolExecutor.html#ad18c5354ffb473a1896014d7e9b4b739">pickThread</a>();</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keyword">auto</span> task = Task(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(func), <a class="code" href="ThreadPoolExecutorTest_8cpp.html#aa0075c0a3668827a8cbf0376308b7d86">expiration</a>, <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(expireCallback));</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="keyword">auto</span> wrappedFunc = [ioThread, task = <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(task)]() <span class="keyword">mutable</span> {</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a595daa9367382c2d2dece38a0541d348">runTask</a>(ioThread, <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(task));</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    ioThread-&gt;pendingTasks--;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  };</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  ioThread-&gt;pendingTasks++;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="keywordflow">if</span> (!ioThread-&gt;eventBase-&gt;runInEventBaseThread(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(wrappedFunc))) {</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    ioThread-&gt;pendingTasks--;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Unable to run func in event base thread&quot;</span>);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  }</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;}</div><div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_a595daa9367382c2d2dece38a0541d348"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#a595daa9367382c2d2dece38a0541d348">folly::ThreadPoolExecutor::runTask</a></div><div class="ttdeci">static void runTask(const ThreadPtr &amp;thread, Task &amp;&amp;task)</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8cpp_source.html#l00071">ThreadPoolExecutor.cpp:71</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_a63382ab18584c9e822e3af01913a7022"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#a63382ab18584c9e822e3af01913a7022">folly::ThreadPoolExecutor::threadList_</a></div><div class="ttdeci">ThreadList threadList_</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8h_source.html#l00290">ThreadPoolExecutor.h:290</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_a1a291baad862005a9dc5d919ebff91b1"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#a1a291baad862005a9dc5d919ebff91b1">folly::ThreadPoolExecutor::threadListLock_</a></div><div class="ttdeci">SharedMutex threadListLock_</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8h_source.html#l00291">ThreadPoolExecutor.h:291</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="ThreadPoolExecutorTest_8cpp_html_aa0075c0a3668827a8cbf0376308b7d86"><div class="ttname"><a href="ThreadPoolExecutorTest_8cpp.html#aa0075c0a3668827a8cbf0376308b7d86">expiration</a></div><div class="ttdeci">static void expiration()</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutorTest_8cpp_source.html#l00266">ThreadPoolExecutorTest.cpp:266</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadPoolExecutor_1_1ThreadList_html_a99c38580ddfa3601ea8eb5ccd1be0e66"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor_1_1ThreadList.html#a99c38580ddfa3601ea8eb5ccd1be0e66">folly::ThreadPoolExecutor::ThreadList::get</a></div><div class="ttdeci">const std::vector&lt; ThreadPtr &gt; &amp; get() const </div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8h_source.html#l00261">ThreadPoolExecutor.h:261</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_aa937d4afe12d9de1c972db28255ddf86"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#aa937d4afe12d9de1c972db28255ddf86">folly::ThreadPoolExecutor::ensureActiveThreads</a></div><div class="ttdeci">void ensureActiveThreads()</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8cpp_source.html#l00434">ThreadPoolExecutor.cpp:434</a></div></div>
<div class="ttc" id="classfolly_1_1IOThreadPoolExecutor_html_ad18c5354ffb473a1896014d7e9b4b739"><div class="ttname"><a href="classfolly_1_1IOThreadPoolExecutor.html#ad18c5354ffb473a1896014d7e9b4b739">folly::IOThreadPoolExecutor::pickThread</a></div><div class="ttdeci">std::shared_ptr&lt; IOThread &gt; pickThread()</div><div class="ttdef"><b>Definition:</b> <a href="IOThreadPoolExecutor_8cpp_source.html#l00118">IOThreadPoolExecutor.cpp:118</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a88d709e228a8c5ab54dca5b6e919e9f2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1EventBase.html">EventBase</a> * folly::IOThreadPoolExecutor::getEventBase </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classfolly_1_1IOExecutor.html#aad8eaa1a7bfdf7203884a45bad09d657">folly::IOExecutor</a>.</p>

<p>Definition at line <a class="el" href="IOThreadPoolExecutor_8cpp_source.html#l00144">144</a> of file <a class="el" href="IOThreadPoolExecutor_8cpp_source.html">IOThreadPoolExecutor.cpp</a>.</p>

<p>References <a class="el" href="ThreadPoolExecutor_8cpp_source.html#l00434">folly::ThreadPoolExecutor::ensureActiveThreads()</a>, <a class="el" href="IOThreadPoolExecutor_8cpp_source.html#l00118">pickThread()</a>, and <a class="el" href="ThreadPoolExecutor_8h_source.html#l00291">folly::ThreadPoolExecutor::threadListLock_</a>.</p>

<p>Referenced by <a class="el" href="ServerBootstrap_8cpp_source.html#l00024">wangle::ServerWorkerPool::threadStarted()</a>.</p>
<div class="fragment"><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                                              {</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <a class="code" href="classfolly_1_1ThreadPoolExecutor.html#aa937d4afe12d9de1c972db28255ddf86">ensureActiveThreads</a>();</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  SharedMutex::ReadHolder r{&amp;<a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a1a291baad862005a9dc5d919ebff91b1">threadListLock_</a>};</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1IOThreadPoolExecutor.html#ad18c5354ffb473a1896014d7e9b4b739">pickThread</a>()-&gt;eventBase;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;}</div><div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_a1a291baad862005a9dc5d919ebff91b1"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#a1a291baad862005a9dc5d919ebff91b1">folly::ThreadPoolExecutor::threadListLock_</a></div><div class="ttdeci">SharedMutex threadListLock_</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8h_source.html#l00291">ThreadPoolExecutor.h:291</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_aa937d4afe12d9de1c972db28255ddf86"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#aa937d4afe12d9de1c972db28255ddf86">folly::ThreadPoolExecutor::ensureActiveThreads</a></div><div class="ttdeci">void ensureActiveThreads()</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8cpp_source.html#l00434">ThreadPoolExecutor.cpp:434</a></div></div>
<div class="ttc" id="classfolly_1_1IOThreadPoolExecutor_html_ad18c5354ffb473a1896014d7e9b4b739"><div class="ttname"><a href="classfolly_1_1IOThreadPoolExecutor.html#ad18c5354ffb473a1896014d7e9b4b739">folly::IOThreadPoolExecutor::pickThread</a></div><div class="ttdeci">std::shared_ptr&lt; IOThread &gt; pickThread()</div><div class="ttdef"><b>Definition:</b> <a href="IOThreadPoolExecutor_8cpp_source.html#l00118">IOThreadPoolExecutor.cpp:118</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a94bed60293e0a4cb939da25ef4fee1e8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1EventBase.html">EventBase</a> * folly::IOThreadPoolExecutor::getEventBase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1ThreadPoolExecutor_1_1ThreadHandle.html">ThreadPoolExecutor::ThreadHandle</a> *&#160;</td>
          <td class="paramname"><em>h</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOThreadPoolExecutor_8cpp_source.html#l00150">150</a> of file <a class="el" href="IOThreadPoolExecutor_8cpp_source.html">IOThreadPoolExecutor.cpp</a>.</p>

<p>References <a class="el" href="IOThreadPoolExecutor_8h_source.html#l00082">folly::IOThreadPoolExecutor::IOThread::eventBase</a>, and <a class="el" href="Hazptr_8h_source.html#l00116">h</a>.</p>
<div class="fragment"><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                                       {</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="keyword">auto</span> thread = <span class="keyword">dynamic_cast&lt;</span>IOThread*<span class="keyword">&gt;</span>(<a class="code" href="Hazptr_8h.html#ab25155a2370ac096e61dc7e39e2816df">h</a>);</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keywordflow">if</span> (thread) {</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">return</span> thread-&gt;eventBase;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  }</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;}</div><div class="ttc" id="Hazptr_8h_html_ab25155a2370ac096e61dc7e39e2816df"><div class="ttname"><a href="Hazptr_8h.html#ab25155a2370ac096e61dc7e39e2816df">h</a></div><div class="ttdeci">*than *hazptr_holder h</div><div class="ttdef"><b>Definition:</b> <a href="Hazptr_8h_source.html#l00116">Hazptr.h:116</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a55c8436d640a99ec3ee41a7824fd50b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1EventBaseManager.html">EventBaseManager</a> * folly::IOThreadPoolExecutor::getEventBaseManager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOThreadPoolExecutor_8cpp_source.html#l00161">161</a> of file <a class="el" href="IOThreadPoolExecutor_8cpp_source.html">IOThreadPoolExecutor.cpp</a>.</p>

<p>References <a class="el" href="IOThreadPoolExecutor_8h_source.html#l00094">eventBaseManager_</a>.</p>
<div class="fragment"><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                                                            {</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1IOThreadPoolExecutor.html#a37694952fc1bffcae53a1ac0684049d0">eventBaseManager_</a>;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;}</div><div class="ttc" id="classfolly_1_1IOThreadPoolExecutor_html_a37694952fc1bffcae53a1ac0684049d0"><div class="ttname"><a href="classfolly_1_1IOThreadPoolExecutor.html#a37694952fc1bffcae53a1ac0684049d0">folly::IOThreadPoolExecutor::eventBaseManager_</a></div><div class="ttdeci">folly::EventBaseManager * eventBaseManager_</div><div class="ttdef"><b>Definition:</b> <a href="IOThreadPoolExecutor_8h_source.html#l00094">IOThreadPoolExecutor.h:94</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a095f59cb3132508d14fc073527105de0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t folly::IOThreadPoolExecutor::getPendingTaskCountImpl </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a547c832d48572abad8b51dc185148fc5">folly::ThreadPoolExecutor</a>.</p>

<p>Definition at line <a class="el" href="IOThreadPoolExecutor_8cpp_source.html#l00225">225</a> of file <a class="el" href="IOThreadPoolExecutor_8cpp_source.html">IOThreadPoolExecutor.cpp</a>.</p>

<p>References <a class="el" href="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock__stress__test_8cc_source.html#l00176">count</a>, <a class="el" href="ThreadPoolExecutor_8h_source.html#l00261">folly::ThreadPoolExecutor::ThreadList::get()</a>, <a class="el" href="IOThreadPoolExecutor_8h_source.html#l00081">folly::IOThreadPoolExecutor::IOThread::pendingTasks</a>, and <a class="el" href="ThreadPoolExecutor_8h_source.html#l00290">folly::ThreadPoolExecutor::threadList_</a>.</p>
<div class="fragment"><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                                                     {</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock__stress__test_8cc.html#afd9db40e3361ae09188795e8cbe19752">count</a> = 0;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; thread : <a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a63382ab18584c9e822e3af01913a7022">threadList_</a>.<a class="code" href="classfolly_1_1ThreadPoolExecutor_1_1ThreadList.html#a99c38580ddfa3601ea8eb5ccd1be0e66">get</a>()) {</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keyword">auto</span> ioThread = std::static_pointer_cast&lt;IOThread&gt;(thread);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordtype">size_t</span> pendingTasks = ioThread-&gt;pendingTasks;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordflow">if</span> (pendingTasks &gt; 0 &amp;&amp; !ioThread-&gt;idle) {</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      pendingTasks--;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    }</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    count += pendingTasks;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  }</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock__stress__test_8cc.html#afd9db40e3361ae09188795e8cbe19752">count</a>;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;}</div><div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_a63382ab18584c9e822e3af01913a7022"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#a63382ab18584c9e822e3af01913a7022">folly::ThreadPoolExecutor::threadList_</a></div><div class="ttdeci">ThreadList threadList_</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8h_source.html#l00290">ThreadPoolExecutor.h:290</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadPoolExecutor_1_1ThreadList_html_a99c38580ddfa3601ea8eb5ccd1be0e66"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor_1_1ThreadList.html#a99c38580ddfa3601ea8eb5ccd1be0e66">folly::ThreadPoolExecutor::ThreadList::get</a></div><div class="ttdeci">const std::vector&lt; ThreadPtr &gt; &amp; get() const </div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8h_source.html#l00261">ThreadPoolExecutor.h:261</a></div></div>
<div class="ttc" id="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock__stress__test_8cc_html_afd9db40e3361ae09188795e8cbe19752"><div class="ttname"><a href="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock__stress__test_8cc.html#afd9db40e3361ae09188795e8cbe19752">count</a></div><div class="ttdeci">int * count</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2build___2gtest_2src_2gtest_2googlemock_2test_2gmock__stress__test_8cc_source.html#l00176">gmock_stress_test.cc:176</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4efd483af6284aebe26accdadc685481"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="structfolly_1_1ThreadPoolExecutor_1_1Thread.html">ThreadPoolExecutor::Thread</a> &gt; folly::IOThreadPoolExecutor::makeThread </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classfolly_1_1ThreadPoolExecutor.html#ad5e5d7e0a6899d0f79294226455b900b">folly::ThreadPoolExecutor</a>.</p>

<p>Definition at line <a class="el" href="IOThreadPoolExecutor_8cpp_source.html#l00165">165</a> of file <a class="el" href="IOThreadPoolExecutor_8cpp_source.html">IOThreadPoolExecutor.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                                                                         {</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keywordflow">return</span> std::make_shared&lt;IOThread&gt;(<span class="keyword">this</span>);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad18c5354ffb473a1896014d7e9b4b739"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="structfolly_1_1IOThreadPoolExecutor_1_1IOThread.html">IOThreadPoolExecutor::IOThread</a> &gt; folly::IOThreadPoolExecutor::pickThread </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOThreadPoolExecutor_8cpp_source.html#l00118">118</a> of file <a class="el" href="IOThreadPoolExecutor_8cpp_source.html">IOThreadPoolExecutor.cpp</a>.</p>

<p>References <a class="el" href="ThreadPoolExecutor_8h_source.html#l00261">folly::ThreadPoolExecutor::ThreadList::get()</a>, <a class="el" href="IOThreadPoolExecutor_8h_source.html#l00092">nextThread_</a>, <a class="el" href="IOThreadPoolExecutor_8h_source.html#l00093">thisThread_</a>, and <a class="el" href="ThreadPoolExecutor_8h_source.html#l00290">folly::ThreadPoolExecutor::threadList_</a>.</p>

<p>Referenced by <a class="el" href="IOThreadPoolExecutor_8cpp_source.html#l00093">add()</a>, and <a class="el" href="IOThreadPoolExecutor_8cpp_source.html#l00144">getEventBase()</a>.</p>
<div class="fragment"><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                                 {</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="keyword">auto</span>&amp; me = *<a class="code" href="classfolly_1_1IOThreadPoolExecutor.html#a1c466bedcb6df96f5edde74d47efddcd">thisThread_</a>;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="keyword">auto</span>&amp; ths = <a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a63382ab18584c9e822e3af01913a7022">threadList_</a>.<a class="code" href="classfolly_1_1ThreadPoolExecutor_1_1ThreadList.html#a99c38580ddfa3601ea8eb5ccd1be0e66">get</a>();</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="comment">// When new task is added to IOThreadPoolExecutor, a thread is chosen for it</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="comment">// to be executed on, thisThread_ is by default chosen, however, if the new</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="comment">// task is added by the clean up operations on thread destruction, thisThread_</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="comment">// is not an available thread anymore, thus, always check whether or not</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="comment">// thisThread_ is an available thread before choosing it.</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keywordflow">if</span> (me &amp;&amp; std::find(ths.cbegin(), ths.cend(), me) != ths.cend()) {</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordflow">return</span> me;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  }</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="keyword">auto</span> n = ths.size();</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="keywordflow">if</span> (n == 0) {</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="comment">// XXX I think the only way this can happen is if somebody calls</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="comment">// getEventBase (1) from one of the executor&#39;s threads while the executor</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="comment">// is stopping or getting downsized to zero or (2) from outside the executor</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="comment">// when it has no threads. In the first case, it&#39;s not obvious what the</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="comment">// correct behavior should be-- do we really want to return ourselves even</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="comment">// though we&#39;re about to exit? (The comment above seems to imply no.) In</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="comment">// the second case, `!me` so we&#39;ll crash anyway.</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordflow">return</span> me;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  }</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="keyword">auto</span> thread = ths[<a class="code" href="classfolly_1_1IOThreadPoolExecutor.html#a700dbc440aaf83aaae7c9a02ed53faf2">nextThread_</a>.fetch_add(1, std::memory_order_relaxed) % n];</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="keywordflow">return</span> std::static_pointer_cast&lt;IOThread&gt;(thread);</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;}</div><div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_a63382ab18584c9e822e3af01913a7022"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#a63382ab18584c9e822e3af01913a7022">folly::ThreadPoolExecutor::threadList_</a></div><div class="ttdeci">ThreadList threadList_</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8h_source.html#l00290">ThreadPoolExecutor.h:290</a></div></div>
<div class="ttc" id="classfolly_1_1IOThreadPoolExecutor_html_a700dbc440aaf83aaae7c9a02ed53faf2"><div class="ttname"><a href="classfolly_1_1IOThreadPoolExecutor.html#a700dbc440aaf83aaae7c9a02ed53faf2">folly::IOThreadPoolExecutor::nextThread_</a></div><div class="ttdeci">std::atomic&lt; size_t &gt; nextThread_</div><div class="ttdef"><b>Definition:</b> <a href="IOThreadPoolExecutor_8h_source.html#l00092">IOThreadPoolExecutor.h:92</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadPoolExecutor_1_1ThreadList_html_a99c38580ddfa3601ea8eb5ccd1be0e66"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor_1_1ThreadList.html#a99c38580ddfa3601ea8eb5ccd1be0e66">folly::ThreadPoolExecutor::ThreadList::get</a></div><div class="ttdeci">const std::vector&lt; ThreadPtr &gt; &amp; get() const </div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8h_source.html#l00261">ThreadPoolExecutor.h:261</a></div></div>
<div class="ttc" id="classfolly_1_1IOThreadPoolExecutor_html_a1c466bedcb6df96f5edde74d47efddcd"><div class="ttname"><a href="classfolly_1_1IOThreadPoolExecutor.html#a1c466bedcb6df96f5edde74d47efddcd">folly::IOThreadPoolExecutor::thisThread_</a></div><div class="ttdeci">folly::ThreadLocal&lt; std::shared_ptr&lt; IOThread &gt; &gt; thisThread_</div><div class="ttdef"><b>Definition:</b> <a href="IOThreadPoolExecutor_8h_source.html#l00093">IOThreadPoolExecutor.h:93</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae9646ccfc09301d8e1a0a5bb6c627e49"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOThreadPoolExecutor::stopThreads </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a8396abf474fb343693816796f66ec4d9">folly::ThreadPoolExecutor</a>.</p>

<p>Definition at line <a class="el" href="IOThreadPoolExecutor_8cpp_source.html#l00202">202</a> of file <a class="el" href="IOThreadPoolExecutor_8cpp_source.html">IOThreadPoolExecutor.cpp</a>.</p>

<p>References <a class="el" href="ThreadPoolExecutor_8cpp_source.html#l00305">folly::ThreadPoolExecutor::StoppedThreadQueue::add()</a>, <a class="el" href="ThreadPoolExecutor_8h_source.html#l00261">folly::ThreadPoolExecutor::ThreadList::get()</a>, <a class="el" href="Base_8h_source.html#l00840">folly::gen::guard()</a>, <a class="el" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt_source.html#l00083">i</a>, <a class="el" href="ThreadPoolExecutor_8h_source.html#l00300">folly::ThreadPoolExecutor::observers_</a>, <a class="el" href="ThreadPoolExecutor_8h_source.html#l00247">folly::ThreadPoolExecutor::ThreadList::remove()</a>, <a class="el" href="IOThreadPoolExecutor_8h_source.html#l00080">folly::IOThreadPoolExecutor::IOThread::shouldRun</a>, <a class="el" href="ThreadPoolExecutor_8h_source.html#l00292">folly::ThreadPoolExecutor::stoppedThreads_</a>, and <a class="el" href="ThreadPoolExecutor_8h_source.html#l00290">folly::ThreadPoolExecutor::threadList_</a>.</p>
<div class="fragment"><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                                               {</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  std::vector&lt;ThreadPtr&gt; stoppedThreads;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  stoppedThreads.reserve(n);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> = 0; <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> &lt; n; <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>++) {</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> ioThread =</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        std::static_pointer_cast&lt;IOThread&gt;(<a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a63382ab18584c9e822e3af01913a7022">threadList_</a>.<a class="code" href="classfolly_1_1ThreadPoolExecutor_1_1ThreadList.html#a99c38580ddfa3601ea8eb5ccd1be0e66">get</a>()[<a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>]);</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; o : <a class="code" href="classfolly_1_1ThreadPoolExecutor.html#af81dab3b993e3df398e2d90b44702ef9">observers_</a>) {</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;      o-&gt;threadStopped(ioThread.get());</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    }</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    ioThread-&gt;shouldRun = <span class="keyword">false</span>;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    stoppedThreads.push_back(ioThread);</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    std::lock_guard&lt;std::mutex&gt; <a class="code" href="namespacefolly_1_1gen.html#a4be5af98480886ba055c3d7accd62062">guard</a>(ioThread-&gt;eventBaseShutdownMutex_);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordflow">if</span> (ioThread-&gt;eventBase) {</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      ioThread-&gt;eventBase-&gt;terminateLoopSoon();</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    }</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  }</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> thread : stoppedThreads) {</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a87202c5f5fdbce422e2d973779fa1689">stoppedThreads_</a>.<a class="code" href="classfolly_1_1ThreadPoolExecutor_1_1StoppedThreadQueue.html#a37d8fb71120735fa7e51b5dd392fab74">add</a>(thread);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a63382ab18584c9e822e3af01913a7022">threadList_</a>.<a class="code" href="classfolly_1_1ThreadPoolExecutor_1_1ThreadList.html#a9e96fcda9a27260a66ebf6426c929f22">remove</a>(thread);</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  }</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;}</div><div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_a63382ab18584c9e822e3af01913a7022"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#a63382ab18584c9e822e3af01913a7022">folly::ThreadPoolExecutor::threadList_</a></div><div class="ttdeci">ThreadList threadList_</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8h_source.html#l00290">ThreadPoolExecutor.h:290</a></div></div>
<div class="ttc" id="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt_html_a7e98b8a17c0aad30ba64d47b74e2a6c1"><div class="ttname"><a href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt_source.html#l00083">gtest_output_test_golden_lin.txt:83</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadPoolExecutor_1_1ThreadList_html_a99c38580ddfa3601ea8eb5ccd1be0e66"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor_1_1ThreadList.html#a99c38580ddfa3601ea8eb5ccd1be0e66">folly::ThreadPoolExecutor::ThreadList::get</a></div><div class="ttdeci">const std::vector&lt; ThreadPtr &gt; &amp; get() const </div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8h_source.html#l00261">ThreadPoolExecutor.h:261</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_af81dab3b993e3df398e2d90b44702ef9"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#af81dab3b993e3df398e2d90b44702ef9">folly::ThreadPoolExecutor::observers_</a></div><div class="ttdeci">std::vector&lt; std::shared_ptr&lt; Observer &gt; &gt; observers_</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8h_source.html#l00300">ThreadPoolExecutor.h:300</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_a4be5af98480886ba055c3d7accd62062"><div class="ttname"><a href="namespacefolly_1_1gen.html#a4be5af98480886ba055c3d7accd62062">folly::gen::guard</a></div><div class="ttdeci">GuardImpl guard(ErrorHandler &amp;&amp;handler)</div><div class="ttdef"><b>Definition:</b> <a href="Base_8h_source.html#l00840">Base.h:840</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadPoolExecutor_1_1ThreadList_html_a9e96fcda9a27260a66ebf6426c929f22"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor_1_1ThreadList.html#a9e96fcda9a27260a66ebf6426c929f22">folly::ThreadPoolExecutor::ThreadList::remove</a></div><div class="ttdeci">void remove(const ThreadPtr &amp;state)</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8h_source.html#l00247">ThreadPoolExecutor.h:247</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadPoolExecutor_1_1StoppedThreadQueue_html_a37d8fb71120735fa7e51b5dd392fab74"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor_1_1StoppedThreadQueue.html#a37d8fb71120735fa7e51b5dd392fab74">folly::ThreadPoolExecutor::StoppedThreadQueue::add</a></div><div class="ttdeci">BlockingQueueAddResult add(ThreadPtr item) override</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8cpp_source.html#l00305">ThreadPoolExecutor.cpp:305</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_a87202c5f5fdbce422e2d973779fa1689"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#a87202c5f5fdbce422e2d973779fa1689">folly::ThreadPoolExecutor::stoppedThreads_</a></div><div class="ttdeci">StoppedThreadQueue stoppedThreads_</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8h_source.html#l00292">ThreadPoolExecutor.h:292</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0f27b106492a971315ae0cadadf67225"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::IOThreadPoolExecutor::threadRun </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#ac1aabf9ff5d0c94a8f383e1e2791c4ae">ThreadPtr</a>&#160;</td>
          <td class="paramname"><em>thread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a94dcf617503821d36304ff3bda13d09a">folly::ThreadPoolExecutor</a>.</p>

<p>Definition at line <a class="el" href="IOThreadPoolExecutor_8cpp_source.html#l00169">169</a> of file <a class="el" href="IOThreadPoolExecutor_8cpp_source.html">IOThreadPoolExecutor.cpp</a>.</p>

<p>References <a class="el" href="EventBaseManager_8cpp_source.html#l00056">folly::EventBaseManager::clearEventBase()</a>, <a class="el" href="IOThreadPoolExecutor_8h_source.html#l00082">folly::IOThreadPoolExecutor::IOThread::eventBase</a>, <a class="el" href="IOThreadPoolExecutor_8h_source.html#l00094">eventBaseManager_</a>, <a class="el" href="EventBaseManager_8cpp_source.html#l00065">folly::EventBaseManager::getEventBase()</a>, <a class="el" href="Base_8h_source.html#l00840">folly::gen::guard()</a>, <a class="el" href="ThreadPoolExecutor_8h_source.html#l00293">folly::ThreadPoolExecutor::isJoin_</a>, <a class="el" href="ThreadPoolExecutor_8h_source.html#l00288">folly::ThreadPoolExecutor::isWaitForAll_</a>, <a class="el" href="GlobalThreadPoolList_8cpp_source.html#l00213">folly::ThreadPoolListHook::registerThread()</a>, <a class="el" href="IOThreadPoolExecutor_8h_source.html#l00093">thisThread_</a>, and <a class="el" href="ThreadPoolExecutor_8h_source.html#l00301">folly::ThreadPoolExecutor::threadPoolHook_</a>.</p>
<div class="fragment"><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                                                     {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  this-&gt;<a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a44998d8ab01644b469bc6de2ee434daf">threadPoolHook_</a>.<a class="code" href="classfolly_1_1ThreadPoolListHook.html#a7635ff697a7589a768419b04d02981dc">registerThread</a>();</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> ioThread = std::static_pointer_cast&lt;IOThread&gt;(thread);</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  ioThread-&gt;eventBase = <a class="code" href="classfolly_1_1IOThreadPoolExecutor.html#a37694952fc1bffcae53a1ac0684049d0">eventBaseManager_</a>-&gt;<a class="code" href="classfolly_1_1EventBaseManager.html#a2bf61941e7ed4f12f5da26c53daef9fe">getEventBase</a>();</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <a class="code" href="classfolly_1_1IOThreadPoolExecutor.html#a1c466bedcb6df96f5edde74d47efddcd">thisThread_</a>.reset(<span class="keyword">new</span> std::shared_ptr&lt;IOThread&gt;(ioThread));</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <span class="keyword">auto</span> idler = std::make_unique&lt;MemoryIdlerTimeout&gt;(ioThread-&gt;eventBase);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  ioThread-&gt;eventBase-&gt;runBeforeLoop(idler.get());</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  ioThread-&gt;eventBase-&gt;runInEventBaseThread(</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      [thread] { thread-&gt;startupBaton.post(); });</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="keywordflow">while</span> (ioThread-&gt;shouldRun) {</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    ioThread-&gt;eventBase-&gt;loopForever();</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  }</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a189d66d9d03c7ef361025c0aac1e86bc">isJoin_</a>) {</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">while</span> (ioThread-&gt;pendingTasks &gt; 0) {</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      ioThread-&gt;eventBase-&gt;loopOnce();</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    }</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  }</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  idler.reset();</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a3d3e15f96cef4a6ec9edf211c3abe27d">isWaitForAll_</a>) {</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="comment">// some tasks, like thrift asynchronous calls, create additional</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="comment">// event base hookups, let&#39;s wait till all of them complete.</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    ioThread-&gt;eventBase-&gt;loop();</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  }</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  std::lock_guard&lt;std::mutex&gt; <a class="code" href="namespacefolly_1_1gen.html#a4be5af98480886ba055c3d7accd62062">guard</a>(ioThread-&gt;eventBaseShutdownMutex_);</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  ioThread-&gt;eventBase = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <a class="code" href="classfolly_1_1IOThreadPoolExecutor.html#a37694952fc1bffcae53a1ac0684049d0">eventBaseManager_</a>-&gt;<a class="code" href="classfolly_1_1EventBaseManager.html#aefe043a4c200eac224cf97c2df05ea86">clearEventBase</a>();</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventBaseManager_html_a2bf61941e7ed4f12f5da26c53daef9fe"><div class="ttname"><a href="classfolly_1_1EventBaseManager.html#a2bf61941e7ed4f12f5da26c53daef9fe">folly::EventBaseManager::getEventBase</a></div><div class="ttdeci">EventBase * getEventBase() const </div><div class="ttdef"><b>Definition:</b> <a href="EventBaseManager_8cpp_source.html#l00065">EventBaseManager.cpp:65</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_a44998d8ab01644b469bc6de2ee434daf"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#a44998d8ab01644b469bc6de2ee434daf">folly::ThreadPoolExecutor::threadPoolHook_</a></div><div class="ttdeci">folly::ThreadPoolListHook threadPoolHook_</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8h_source.html#l00301">ThreadPoolExecutor.h:301</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_a189d66d9d03c7ef361025c0aac1e86bc"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#a189d66d9d03c7ef361025c0aac1e86bc">folly::ThreadPoolExecutor::isJoin_</a></div><div class="ttdeci">std::atomic&lt; bool &gt; isJoin_</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8h_source.html#l00293">ThreadPoolExecutor.h:293</a></div></div>
<div class="ttc" id="classfolly_1_1EventBaseManager_html_aefe043a4c200eac224cf97c2df05ea86"><div class="ttname"><a href="classfolly_1_1EventBaseManager.html#aefe043a4c200eac224cf97c2df05ea86">folly::EventBaseManager::clearEventBase</a></div><div class="ttdeci">void clearEventBase()</div><div class="ttdef"><b>Definition:</b> <a href="EventBaseManager_8cpp_source.html#l00056">EventBaseManager.cpp:56</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_a4be5af98480886ba055c3d7accd62062"><div class="ttname"><a href="namespacefolly_1_1gen.html#a4be5af98480886ba055c3d7accd62062">folly::gen::guard</a></div><div class="ttdeci">GuardImpl guard(ErrorHandler &amp;&amp;handler)</div><div class="ttdef"><b>Definition:</b> <a href="Base_8h_source.html#l00840">Base.h:840</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_a3d3e15f96cef4a6ec9edf211c3abe27d"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#a3d3e15f96cef4a6ec9edf211c3abe27d">folly::ThreadPoolExecutor::isWaitForAll_</a></div><div class="ttdeci">const bool isWaitForAll_</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8h_source.html#l00288">ThreadPoolExecutor.h:288</a></div></div>
<div class="ttc" id="classfolly_1_1IOThreadPoolExecutor_html_a37694952fc1bffcae53a1ac0684049d0"><div class="ttname"><a href="classfolly_1_1IOThreadPoolExecutor.html#a37694952fc1bffcae53a1ac0684049d0">folly::IOThreadPoolExecutor::eventBaseManager_</a></div><div class="ttdeci">folly::EventBaseManager * eventBaseManager_</div><div class="ttdef"><b>Definition:</b> <a href="IOThreadPoolExecutor_8h_source.html#l00094">IOThreadPoolExecutor.h:94</a></div></div>
<div class="ttc" id="classfolly_1_1IOThreadPoolExecutor_html_a1c466bedcb6df96f5edde74d47efddcd"><div class="ttname"><a href="classfolly_1_1IOThreadPoolExecutor.html#a1c466bedcb6df96f5edde74d47efddcd">folly::IOThreadPoolExecutor::thisThread_</a></div><div class="ttdeci">folly::ThreadLocal&lt; std::shared_ptr&lt; IOThread &gt; &gt; thisThread_</div><div class="ttdef"><b>Definition:</b> <a href="IOThreadPoolExecutor_8h_source.html#l00093">IOThreadPoolExecutor.h:93</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadPoolListHook_html_a7635ff697a7589a768419b04d02981dc"><div class="ttname"><a href="classfolly_1_1ThreadPoolListHook.html#a7635ff697a7589a768419b04d02981dc">folly::ThreadPoolListHook::registerThread</a></div><div class="ttdeci">void registerThread()</div><div class="ttdef"><b>Definition:</b> <a href="GlobalThreadPoolList_8cpp_source.html#l00213">GlobalThreadPoolList.cpp:213</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a37694952fc1bffcae53a1ac0684049d0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1EventBaseManager.html">folly::EventBaseManager</a>* folly::IOThreadPoolExecutor::eventBaseManager_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOThreadPoolExecutor_8h_source.html#l00094">94</a> of file <a class="el" href="IOThreadPoolExecutor_8h_source.html">IOThreadPoolExecutor.h</a>.</p>

<p>Referenced by <a class="el" href="IOThreadPoolExecutor_8cpp_source.html#l00161">getEventBaseManager()</a>, and <a class="el" href="IOThreadPoolExecutor_8cpp_source.html#l00169">threadRun()</a>.</p>

</div>
</div>
<a class="anchor" id="a700dbc440aaf83aaae7c9a02ed53faf2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;size_t&gt; folly::IOThreadPoolExecutor::nextThread_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOThreadPoolExecutor_8h_source.html#l00092">92</a> of file <a class="el" href="IOThreadPoolExecutor_8h_source.html">IOThreadPoolExecutor.h</a>.</p>

<p>Referenced by <a class="el" href="IOThreadPoolExecutor_8cpp_source.html#l00118">pickThread()</a>.</p>

</div>
</div>
<a class="anchor" id="a1c466bedcb6df96f5edde74d47efddcd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1ThreadLocal.html">folly::ThreadLocal</a>&lt;std::shared_ptr&lt;<a class="el" href="structfolly_1_1IOThreadPoolExecutor_1_1IOThread.html">IOThread</a>&gt; &gt; folly::IOThreadPoolExecutor::thisThread_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="IOThreadPoolExecutor_8h_source.html#l00093">93</a> of file <a class="el" href="IOThreadPoolExecutor_8h_source.html">IOThreadPoolExecutor.h</a>.</p>

<p>Referenced by <a class="el" href="IOThreadPoolExecutor_8cpp_source.html#l00118">pickThread()</a>, and <a class="el" href="IOThreadPoolExecutor_8cpp_source.html#l00169">threadRun()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>proxygen/folly/folly/executors/<a class="el" href="IOThreadPoolExecutor_8h_source.html">IOThreadPoolExecutor.h</a></li>
<li>proxygen/folly/folly/executors/<a class="el" href="IOThreadPoolExecutor_8cpp_source.html">IOThreadPoolExecutor.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefolly.html">folly</a></li><li class="navelem"><a class="el" href="classfolly_1_1IOThreadPoolExecutor.html">IOThreadPoolExecutor</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
