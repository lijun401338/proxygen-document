<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>proxygen: wangle::FilePoller Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">proxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classwangle_1_1FilePoller.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="classwangle_1_1FilePoller-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">wangle::FilePoller Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="FilePoller_8h_source.html">FilePoller.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for wangle::FilePoller:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classwangle_1_1FilePoller.png" usemap="#wangle::FilePoller_map" alt=""/>
  <map id="wangle::FilePoller_map" name="wangle::FilePoller_map">
<area href="classNoDiskPoller.html" alt="NoDiskPoller" shape="rect" coords="0,56,112,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structwangle_1_1FilePoller_1_1FileData.html">FileData</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structwangle_1_1FilePoller_1_1FileModificationData.html">FileModificationData</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1FilePoller_1_1ThreadProtector.html">ThreadProtector</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:afcb8fd1abf44052e03ab7a9b8a8cb0f9"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1FilePoller.html#afcb8fd1abf44052e03ab7a9b8a8cb0f9">Cob</a> = std::function&lt; void()&gt;</td></tr>
<tr class="separator:afcb8fd1abf44052e03ab7a9b8a8cb0f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa86090298a9d32756f995854c66845b4"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1FilePoller.html#aa86090298a9d32756f995854c66845b4">Condition</a> = std::function&lt; bool(const <a class="el" href="structwangle_1_1FilePoller_1_1FileModificationData.html">FileModificationData</a> &amp;, const <a class="el" href="structwangle_1_1FilePoller_1_1FileModificationData.html">FileModificationData</a> &amp;)&gt;</td></tr>
<tr class="separator:aa86090298a9d32756f995854c66845b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a194abc9b7e77633e474f58c5ad65a207"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1FilePoller.html#a194abc9b7e77633e474f58c5ad65a207">FilePoller</a> (std::chrono::milliseconds pollInterval=<a class="el" href="classwangle_1_1FilePoller.html#aaab7c5d8209cdb34a8f15e811689e21c">kDefaultPollInterval</a>)</td></tr>
<tr class="separator:a194abc9b7e77633e474f58c5ad65a207"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac241fce5444e57f22f528fe43232ec4c"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1FilePoller.html#ac241fce5444e57f22f528fe43232ec4c">~FilePoller</a> ()</td></tr>
<tr class="separator:ac241fce5444e57f22f528fe43232ec4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cf92cc8edcd3d32aa7e6f836a86d182"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1FilePoller.html#a4cf92cc8edcd3d32aa7e6f836a86d182">FilePoller</a> (const <a class="el" href="classwangle_1_1FilePoller.html">FilePoller</a> &amp;other)=delete</td></tr>
<tr class="separator:a4cf92cc8edcd3d32aa7e6f836a86d182"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16ca014c0769818292d1462d3b176738"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classwangle_1_1FilePoller.html">FilePoller</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1FilePoller.html#a16ca014c0769818292d1462d3b176738">operator=</a> (const <a class="el" href="classwangle_1_1FilePoller.html">FilePoller</a> &amp;other)=delete</td></tr>
<tr class="separator:a16ca014c0769818292d1462d3b176738"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a394442a69289a7b625aacf0eac153bc1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1FilePoller.html#a394442a69289a7b625aacf0eac153bc1">FilePoller</a> (<a class="el" href="classwangle_1_1FilePoller.html">FilePoller</a> &amp;&amp;other)=delete</td></tr>
<tr class="separator:a394442a69289a7b625aacf0eac153bc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40d1f501b50f0e489b01d45097d28303"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classwangle_1_1FilePoller.html">FilePoller</a> &amp;&amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1FilePoller.html#a40d1f501b50f0e489b01d45097d28303">operator=</a> (<a class="el" href="classwangle_1_1FilePoller.html">FilePoller</a> &amp;&amp;other)=delete</td></tr>
<tr class="separator:a40d1f501b50f0e489b01d45097d28303"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77c9ff0db28040faa305760ea3039b3b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1FilePoller.html#a77c9ff0db28040faa305760ea3039b3b">addFileToTrack</a> (const <a class="el" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a> &amp;fileName, <a class="el" href="classwangle_1_1FilePoller.html#afcb8fd1abf44052e03ab7a9b8a8cb0f9">Cob</a> yCob, <a class="el" href="classwangle_1_1FilePoller.html#afcb8fd1abf44052e03ab7a9b8a8cb0f9">Cob</a> nCob=<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>, <a class="el" href="classwangle_1_1FilePoller.html#aa86090298a9d32756f995854c66845b4">Condition</a> condition=<a class="el" href="classwangle_1_1FilePoller.html#a98a884da86b3de0bbedc30b99bd1647d">fileTouchedCondInternal</a>)</td></tr>
<tr class="separator:a77c9ff0db28040faa305760ea3039b3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b7b394d5870f6b953c2c7eac9a7f793"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1FilePoller.html#a4b7b394d5870f6b953c2c7eac9a7f793">removeFileToTrack</a> (const <a class="el" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a> &amp;fileName)</td></tr>
<tr class="separator:a4b7b394d5870f6b953c2c7eac9a7f793"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab322c3faecc8ebeaf98d398c0f4b90c6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1FilePoller.html#ab322c3faecc8ebeaf98d398c0f4b90c6">stop</a> ()</td></tr>
<tr class="separator:ab322c3faecc8ebeaf98d398c0f4b90c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ad7cd744bba9ca1e090c6a287097d6e52"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classwangle_1_1FilePoller.html#aa86090298a9d32756f995854c66845b4">Condition</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1FilePoller.html#ad7cd744bba9ca1e090c6a287097d6e52">fileTouchedWithinCond</a> (std::chrono::seconds expireTime)</td></tr>
<tr class="separator:ad7cd744bba9ca1e090c6a287097d6e52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9b08547db582562877a2450be98c002"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classwangle_1_1FilePoller.html#aa86090298a9d32756f995854c66845b4">Condition</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1FilePoller.html#ac9b08547db582562877a2450be98c002">doAlwaysCond</a> ()</td></tr>
<tr class="separator:ac9b08547db582562877a2450be98c002"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0e074ca1638c9e64d0e46cf76106cc1"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classwangle_1_1FilePoller.html#aa86090298a9d32756f995854c66845b4">Condition</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1FilePoller.html#af0e074ca1638c9e64d0e46cf76106cc1">fileTouchedCond</a> ()</td></tr>
<tr class="separator:af0e074ca1638c9e64d0e46cf76106cc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:af0379ebaa3a1f2a703b09c8b78165a66"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="structwangle_1_1FilePoller_1_1FileModificationData.html">FileModificationData</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1FilePoller.html#af0379ebaa3a1f2a703b09c8b78165a66">getFileModData</a> (const <a class="el" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a> &amp;path) noexcept</td></tr>
<tr class="separator:af0379ebaa3a1f2a703b09c8b78165a66"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:afecd0068b6755c032757932c20870c19"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1FilePoller.html#afecd0068b6755c032757932c20870c19">FileDatas</a> = std::unordered_map&lt; <a class="el" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a>, <a class="el" href="structwangle_1_1FilePoller_1_1FileData.html">FileData</a> &gt;</td></tr>
<tr class="separator:afecd0068b6755c032757932c20870c19"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a9f8a1e78f38490f875dc33a4dfbb2054"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1FilePoller.html#a9f8a1e78f38490f875dc33a4dfbb2054">checkFiles</a> () noexcept</td></tr>
<tr class="separator:a9f8a1e78f38490f875dc33a4dfbb2054"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebbede8975e9a7ad32daafc0caaaf1b4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1FilePoller.html#aebbede8975e9a7ad32daafc0caaaf1b4">initFileData</a> (const <a class="el" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a> &amp;fName, <a class="el" href="structwangle_1_1FilePoller_1_1FileData.html">FileData</a> &amp;fData) noexcept</td></tr>
<tr class="separator:aebbede8975e9a7ad32daafc0caaaf1b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3b0115533a65e4c816deaa30a33856c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1FilePoller.html#ae3b0115533a65e4c816deaa30a33856c">init</a> (std::chrono::milliseconds pollInterval)</td></tr>
<tr class="separator:ae3b0115533a65e4c816deaa30a33856c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a1191503a5926a81e7dde6a3a49fd24ad"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1FilePoller.html#a1191503a5926a81e7dde6a3a49fd24ad">fileTouchedWithinCondInternal</a> (const <a class="el" href="structwangle_1_1FilePoller_1_1FileModificationData.html">FilePoller::FileModificationData</a> &amp;, const <a class="el" href="structwangle_1_1FilePoller_1_1FileModificationData.html">FilePoller::FileModificationData</a> &amp;fModData, std::chrono::seconds expireTime)</td></tr>
<tr class="separator:a1191503a5926a81e7dde6a3a49fd24ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56f3ddc6db84caa5f69cb550066b8da9"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1FilePoller.html#a56f3ddc6db84caa5f69cb550066b8da9">doAlwaysCondInternal</a> (const <a class="el" href="structwangle_1_1FilePoller_1_1FileModificationData.html">FileModificationData</a> &amp;, const <a class="el" href="structwangle_1_1FilePoller_1_1FileModificationData.html">FileModificationData</a> &amp;)</td></tr>
<tr class="separator:a56f3ddc6db84caa5f69cb550066b8da9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98a884da86b3de0bbedc30b99bd1647d"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1FilePoller.html#a98a884da86b3de0bbedc30b99bd1647d">fileTouchedCondInternal</a> (const <a class="el" href="structwangle_1_1FilePoller_1_1FileModificationData.html">FileModificationData</a> &amp;oldModData, const <a class="el" href="structwangle_1_1FilePoller_1_1FileModificationData.html">FileModificationData</a> &amp;modData)</td></tr>
<tr class="separator:a98a884da86b3de0bbedc30b99bd1647d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a4b2f0f49502e5fbd08d2bf0e9a6ff377"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classwangle_1_1FilePoller.html#afecd0068b6755c032757932c20870c19">FileDatas</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1FilePoller.html#a4b2f0f49502e5fbd08d2bf0e9a6ff377">fileDatum_</a></td></tr>
<tr class="separator:a4b2f0f49502e5fbd08d2bf0e9a6ff377"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ae3de5668b8929bd9e0dc6092eae772"><td class="memItemLeft" align="right" valign="top"><a class="el" href="OpenSSLThreading_8cpp.html#a1be3f7fa26e4521098de5f1ec0f865f3">std::mutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1FilePoller.html#a1ae3de5668b8929bd9e0dc6092eae772">filesMutex_</a></td></tr>
<tr class="separator:a1ae3de5668b8929bd9e0dc6092eae772"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2e15728393359b1e5f712ed83a26496"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1FilePoller.html#ac2e15728393359b1e5f712ed83a26496">pollerId_</a> {0}</td></tr>
<tr class="separator:ac2e15728393359b1e5f712ed83a26496"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94fe740ca3975ed24d980c16acff8a44"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classfolly_1_1FunctionScheduler.html">folly::FunctionScheduler</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1FilePoller.html#a94fe740ca3975ed24d980c16acff8a44">scheduler_</a></td></tr>
<tr class="separator:a94fe740ca3975ed24d980c16acff8a44"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:aaab7c5d8209cdb34a8f15e811689e21c"><td class="memItemLeft" align="right" valign="top">static constexpr std::chrono::milliseconds&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwangle_1_1FilePoller.html#aaab7c5d8209cdb34a8f15e811689e21c">kDefaultPollInterval</a></td></tr>
<tr class="separator:aaab7c5d8209cdb34a8f15e811689e21c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Polls for updates in the files. This poller uses modified times to track changes in the files, so it is the responsibility of the caller to check whether the contents have actually changed. It also assumes that when the file is modified, the modfied time changes. This is a reasonable assumption to make, so it should not be used in situations where files may be modified without changing the modified time. </p>

<p>Definition at line <a class="el" href="FilePoller_8h_source.html#l00041">41</a> of file <a class="el" href="FilePoller_8h_source.html">FilePoller.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="afcb8fd1abf44052e03ab7a9b8a8cb0f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classwangle_1_1FilePoller.html#afcb8fd1abf44052e03ab7a9b8a8cb0f9">wangle::FilePoller::Cob</a> =  std::function&lt;void()&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FilePoller_8h_source.html#l00050">50</a> of file <a class="el" href="FilePoller_8h_source.html">FilePoller.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa86090298a9d32756f995854c66845b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classwangle_1_1FilePoller.html#aa86090298a9d32756f995854c66845b4">wangle::FilePoller::Condition</a> =  std::function&lt; bool(const <a class="el" href="structwangle_1_1FilePoller_1_1FileModificationData.html">FileModificationData</a>&amp;, const <a class="el" href="structwangle_1_1FilePoller_1_1FileModificationData.html">FileModificationData</a>&amp;)&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FilePoller_8h_source.html#l00054">54</a> of file <a class="el" href="FilePoller_8h_source.html">FilePoller.h</a>.</p>

</div>
</div>
<a class="anchor" id="afecd0068b6755c032757932c20870c19"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classwangle_1_1FilePoller.html#afecd0068b6755c032757932c20870c19">wangle::FilePoller::FileDatas</a> =  std::unordered_map&lt;<a class="el" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a>, <a class="el" href="structwangle_1_1FilePoller_1_1FileData.html">FileData</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FilePoller_8h_source.html#l00113">113</a> of file <a class="el" href="FilePoller_8h_source.html">FilePoller.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a194abc9b7e77633e474f58c5ad65a207"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">wangle::FilePoller::FilePoller </td>
          <td>(</td>
          <td class="paramtype">std::chrono::milliseconds&#160;</td>
          <td class="paramname"><em>pollInterval</em> = <code><a class="el" href="classwangle_1_1FilePoller.html#aaab7c5d8209cdb34a8f15e811689e21c">kDefaultPollInterval</a></code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FilePoller_8cpp_source.html#l00065">65</a> of file <a class="el" href="FilePoller_8cpp_source.html">FilePoller.cpp</a>.</p>

<p>References <a class="el" href="init_2Init_8cpp_source.html#l00034">folly::init()</a>.</p>
<div class="fragment"><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                                                         {</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <a class="code" href="classwangle_1_1FilePoller.html#ae3b0115533a65e4c816deaa30a33856c">init</a>(pollInterval);</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;}</div><div class="ttc" id="classwangle_1_1FilePoller_html_ae3b0115533a65e4c816deaa30a33856c"><div class="ttname"><a href="classwangle_1_1FilePoller.html#ae3b0115533a65e4c816deaa30a33856c">wangle::FilePoller::init</a></div><div class="ttdeci">void init(std::chrono::milliseconds pollInterval)</div><div class="ttdef"><b>Definition:</b> <a href="FilePoller_8cpp_source.html#l00071">FilePoller.cpp:71</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac241fce5444e57f22f528fe43232ec4c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">wangle::FilePoller::~FilePoller </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FilePoller_8cpp_source.html#l00069">69</a> of file <a class="el" href="FilePoller_8cpp_source.html">FilePoller.cpp</a>.</p>

<p>References <a class="el" href="ThreadPoolExecutorTest_8cpp_source.html#l00076">stop()</a>.</p>
<div class="fragment"><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;{ <a class="code" href="classwangle_1_1FilePoller.html#ab322c3faecc8ebeaf98d398c0f4b90c6">stop</a>(); }</div><div class="ttc" id="classwangle_1_1FilePoller_html_ab322c3faecc8ebeaf98d398c0f4b90c6"><div class="ttname"><a href="classwangle_1_1FilePoller.html#ab322c3faecc8ebeaf98d398c0f4b90c6">wangle::FilePoller::stop</a></div><div class="ttdeci">void stop()</div><div class="ttdef"><b>Definition:</b> <a href="FilePoller_8cpp_source.html#l00085">FilePoller.cpp:85</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4cf92cc8edcd3d32aa7e6f836a86d182"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">wangle::FilePoller::FilePoller </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classwangle_1_1FilePoller.html">FilePoller</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a394442a69289a7b625aacf0eac153bc1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">wangle::FilePoller::FilePoller </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classwangle_1_1FilePoller.html">FilePoller</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a77c9ff0db28040faa305760ea3039b3b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wangle::FilePoller::addFileToTrack </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a> &amp;&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classwangle_1_1FilePoller.html#afcb8fd1abf44052e03ab7a9b8a8cb0f9">Cob</a>&#160;</td>
          <td class="paramname"><em>yCob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classwangle_1_1FilePoller.html#afcb8fd1abf44052e03ab7a9b8a8cb0f9">Cob</a>&#160;</td>
          <td class="paramname"><em>nCob</em> = <code><a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classwangle_1_1FilePoller.html#aa86090298a9d32756f995854c66845b4">Condition</a>&#160;</td>
          <td class="paramname"><em>condition</em> = <code><a class="el" href="classwangle_1_1FilePoller.html#a98a884da86b3de0bbedc30b99bd1647d">fileTouchedCondInternal</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FilePoller_8cpp_source.html#l00115">115</a> of file <a class="el" href="FilePoller_8cpp_source.html">FilePoller.cpp</a>.</p>

<p>Referenced by <a class="el" href="MultiFilePoller_8cpp_source.html#l00049">wangle::MultiFilePoller::registerFiles()</a>, and <a class="el" href="FilePollerTest_8cpp_source.html#l00058">TEST_F()</a>.</p>
<div class="fragment"><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                         {</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="keywordflow">if</span> (fileName.empty()) {</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="comment">// ignore empty file paths</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  }</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classwangle_1_1FilePoller_1_1ThreadProtector.html#aed561404ab08cfbea6d64c05a4845272">ThreadProtector::inPollerThread</a>()) {</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    LOG(ERROR) &lt;&lt; <span class="stringliteral">&quot;Adding files from a callback is disallowed&quot;</span>;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  }</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  std::lock_guard&lt;std::mutex&gt; lg(<a class="code" href="classwangle_1_1FilePoller.html#a1ae3de5668b8929bd9e0dc6092eae772">filesMutex_</a>);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <a class="code" href="classwangle_1_1FilePoller.html#a4b2f0f49502e5fbd08d2bf0e9a6ff377">fileDatum_</a>[fileName] = FileData(yCob, nCob, condition);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <a class="code" href="classwangle_1_1FilePoller.html#aebbede8975e9a7ad32daafc0caaaf1b4">initFileData</a>(fileName, <a class="code" href="classwangle_1_1FilePoller.html#a4b2f0f49502e5fbd08d2bf0e9a6ff377">fileDatum_</a>[fileName]);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;}</div><div class="ttc" id="classwangle_1_1FilePoller_1_1ThreadProtector_html_aed561404ab08cfbea6d64c05a4845272"><div class="ttname"><a href="classwangle_1_1FilePoller_1_1ThreadProtector.html#aed561404ab08cfbea6d64c05a4845272">wangle::FilePoller::ThreadProtector::inPollerThread</a></div><div class="ttdeci">static bool inPollerThread()</div><div class="ttdef"><b>Definition:</b> <a href="FilePoller_8h_source.html#l00164">FilePoller.h:164</a></div></div>
<div class="ttc" id="classwangle_1_1FilePoller_html_a4b2f0f49502e5fbd08d2bf0e9a6ff377"><div class="ttname"><a href="classwangle_1_1FilePoller.html#a4b2f0f49502e5fbd08d2bf0e9a6ff377">wangle::FilePoller::fileDatum_</a></div><div class="ttdeci">FileDatas fileDatum_</div><div class="ttdef"><b>Definition:</b> <a href="FilePoller_8h_source.html#l00143">FilePoller.h:143</a></div></div>
<div class="ttc" id="classwangle_1_1FilePoller_html_aebbede8975e9a7ad32daafc0caaaf1b4"><div class="ttname"><a href="classwangle_1_1FilePoller.html#aebbede8975e9a7ad32daafc0caaaf1b4">wangle::FilePoller::initFileData</a></div><div class="ttdeci">void initFileData(const std::string &amp;fName, FileData &amp;fData) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="FilePoller_8cpp_source.html#l00107">FilePoller.cpp:107</a></div></div>
<div class="ttc" id="classwangle_1_1FilePoller_html_a1ae3de5668b8929bd9e0dc6092eae772"><div class="ttname"><a href="classwangle_1_1FilePoller.html#a1ae3de5668b8929bd9e0dc6092eae772">wangle::FilePoller::filesMutex_</a></div><div class="ttdeci">std::mutex filesMutex_</div><div class="ttdef"><b>Definition:</b> <a href="FilePoller_8h_source.html#l00146">FilePoller.h:146</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9f8a1e78f38490f875dc33a4dfbb2054"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void wangle::FilePoller::checkFiles </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FilePoller_8cpp_source.html#l00092">92</a> of file <a class="el" href="FilePoller_8cpp_source.html">FilePoller.cpp</a>.</p>

<p>References <a class="el" href="extension__points_8h_source.html#l00081">folly::pushmi::__adl::tp</a>.</p>

<p>Referenced by <a class="el" href="FilePoller_8h_source.html#l00129">fileTouchedCondInternal()</a>.</p>
<div class="fragment"><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                                     {</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  std::lock_guard&lt;std::mutex&gt; lg(<a class="code" href="classwangle_1_1FilePoller.html#a1ae3de5668b8929bd9e0dc6092eae772">filesMutex_</a>);</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  ThreadProtector <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#a5a29b529c223c12008cad53d5a2b9158">tp</a>;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; fData : <a class="code" href="classwangle_1_1FilePoller.html#a4b2f0f49502e5fbd08d2bf0e9a6ff377">fileDatum_</a>) {</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keyword">auto</span> modData = <a class="code" href="classwangle_1_1FilePoller.html#af0379ebaa3a1f2a703b09c8b78165a66">getFileModData</a>(fData.first);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keyword">auto</span>&amp; fileData = fData.second;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">if</span> (fileData.condition(fileData.modData, modData) &amp;&amp; fileData.yCob) {</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      fileData.yCob();</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (fileData.nCob) {</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      fileData.nCob();</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    }</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    fileData.modData = modData;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  }</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;}</div><div class="ttc" id="classwangle_1_1FilePoller_html_af0379ebaa3a1f2a703b09c8b78165a66"><div class="ttname"><a href="classwangle_1_1FilePoller.html#af0379ebaa3a1f2a703b09c8b78165a66">wangle::FilePoller::getFileModData</a></div><div class="ttdeci">virtual FileModificationData getFileModData(const std::string &amp;path) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="FilePoller_8cpp_source.html#l00146">FilePoller.cpp:146</a></div></div>
<div class="ttc" id="classwangle_1_1FilePoller_html_a4b2f0f49502e5fbd08d2bf0e9a6ff377"><div class="ttname"><a href="classwangle_1_1FilePoller.html#a4b2f0f49502e5fbd08d2bf0e9a6ff377">wangle::FilePoller::fileDatum_</a></div><div class="ttdeci">FileDatas fileDatum_</div><div class="ttdef"><b>Definition:</b> <a href="FilePoller_8h_source.html#l00143">FilePoller.h:143</a></div></div>
<div class="ttc" id="namespacefolly_1_1pushmi_1_1____adl_html_a5a29b529c223c12008cad53d5a2b9158"><div class="ttname"><a href="namespacefolly_1_1pushmi_1_1____adl.html#a5a29b529c223c12008cad53d5a2b9158">folly::pushmi::__adl::tp</a></div><div class="ttdeci">requires TP tp</div><div class="ttdef"><b>Definition:</b> <a href="extension__points_8h_source.html#l00081">extension_points.h:81</a></div></div>
<div class="ttc" id="classwangle_1_1FilePoller_html_a1ae3de5668b8929bd9e0dc6092eae772"><div class="ttname"><a href="classwangle_1_1FilePoller.html#a1ae3de5668b8929bd9e0dc6092eae772">wangle::FilePoller::filesMutex_</a></div><div class="ttdeci">std::mutex filesMutex_</div><div class="ttdef"><b>Definition:</b> <a href="FilePoller_8h_source.html#l00146">FilePoller.h:146</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac9b08547db582562877a2450be98c002"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classwangle_1_1FilePoller.html#aa86090298a9d32756f995854c66845b4">Condition</a> wangle::FilePoller::doAlwaysCond </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FilePoller_8h_source.html#l00088">88</a> of file <a class="el" href="FilePoller_8h_source.html">FilePoller.h</a>.</p>

<p>References <a class="el" href="FilePoller_8h_source.html#l00123">doAlwaysCondInternal()</a>.</p>
<div class="fragment"><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                                  {</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classwangle_1_1FilePoller.html#a56f3ddc6db84caa5f69cb550066b8da9">doAlwaysCondInternal</a>;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  }</div><div class="ttc" id="classwangle_1_1FilePoller_html_a56f3ddc6db84caa5f69cb550066b8da9"><div class="ttname"><a href="classwangle_1_1FilePoller.html#a56f3ddc6db84caa5f69cb550066b8da9">wangle::FilePoller::doAlwaysCondInternal</a></div><div class="ttdeci">static bool doAlwaysCondInternal(const FileModificationData &amp;, const FileModificationData &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="FilePoller_8h_source.html#l00123">FilePoller.h:123</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a56f3ddc6db84caa5f69cb550066b8da9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool wangle::FilePoller::doAlwaysCondInternal </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structwangle_1_1FilePoller_1_1FileModificationData.html">FileModificationData</a> &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structwangle_1_1FilePoller_1_1FileModificationData.html">FileModificationData</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FilePoller_8h_source.html#l00123">123</a> of file <a class="el" href="FilePoller_8h_source.html">FilePoller.h</a>.</p>

<p>Referenced by <a class="el" href="FilePoller_8h_source.html#l00088">doAlwaysCond()</a>.</p>
<div class="fragment"><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                                   {</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af0e074ca1638c9e64d0e46cf76106cc1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classwangle_1_1FilePoller.html#aa86090298a9d32756f995854c66845b4">Condition</a> wangle::FilePoller::fileTouchedCond </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FilePoller_8h_source.html#l00092">92</a> of file <a class="el" href="FilePoller_8h_source.html">FilePoller.h</a>.</p>

<p>References <a class="el" href="FilePoller_8h_source.html#l00129">fileTouchedCondInternal()</a>, <a class="el" href="FilePoller_8cpp_source.html#l00146">getFileModData()</a>, <a class="el" href="extension__points_8h_source.html#l00040">folly::pushmi::__adl::noexcept()</a>, and <a class="el" href="Conv_8cpp_source.html#l00212">string</a>.</p>
<div class="fragment"><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                                     {</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classwangle_1_1FilePoller.html#a98a884da86b3de0bbedc30b99bd1647d">fileTouchedCondInternal</a>;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  }</div><div class="ttc" id="classwangle_1_1FilePoller_html_a98a884da86b3de0bbedc30b99bd1647d"><div class="ttname"><a href="classwangle_1_1FilePoller.html#a98a884da86b3de0bbedc30b99bd1647d">wangle::FilePoller::fileTouchedCondInternal</a></div><div class="ttdeci">static bool fileTouchedCondInternal(const FileModificationData &amp;oldModData, const FileModificationData &amp;modData)</div><div class="ttdef"><b>Definition:</b> <a href="FilePoller_8h_source.html#l00129">FilePoller.h:129</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a98a884da86b3de0bbedc30b99bd1647d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool wangle::FilePoller::fileTouchedCondInternal </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structwangle_1_1FilePoller_1_1FileModificationData.html">FileModificationData</a> &amp;&#160;</td>
          <td class="paramname"><em>oldModData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structwangle_1_1FilePoller_1_1FileModificationData.html">FileModificationData</a> &amp;&#160;</td>
          <td class="paramname"><em>modData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FilePoller_8h_source.html#l00129">129</a> of file <a class="el" href="FilePoller_8h_source.html">FilePoller.h</a>.</p>

<p>References <a class="el" href="FilePoller_8cpp_source.html#l00092">checkFiles()</a>, <a class="el" href="FilePoller_8h_source.html#l00047">wangle::FilePoller::FileModificationData::exists</a>, <a class="el" href="FilePoller_8cpp_source.html#l00071">init()</a>, <a class="el" href="FilePoller_8cpp_source.html#l00107">initFileData()</a>, <a class="el" href="FilePoller_8h_source.html#l00048">wangle::FilePoller::FileModificationData::modTime</a>, <a class="el" href="extension__points_8h_source.html#l00040">folly::pushmi::__adl::noexcept()</a>, and <a class="el" href="Conv_8cpp_source.html#l00212">string</a>.</p>

<p>Referenced by <a class="el" href="FilePoller_8h_source.html#l00092">fileTouchedCond()</a>.</p>
<div class="fragment"><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                                           {</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> fileStillExists = oldModData.exists &amp;&amp; modData.exists;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> fileTouched = modData.modTime != oldModData.modTime;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> fileCreated = !oldModData.exists &amp;&amp; modData.exists;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordflow">return</span> (fileStillExists &amp;&amp; fileTouched) || fileCreated;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad7cd744bba9ca1e090c6a287097d6e52"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classwangle_1_1FilePoller.html#aa86090298a9d32756f995854c66845b4">Condition</a> wangle::FilePoller::fileTouchedWithinCond </td>
          <td>(</td>
          <td class="paramtype">std::chrono::seconds&#160;</td>
          <td class="paramname"><em>expireTime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FilePoller_8h_source.html#l00080">80</a> of file <a class="el" href="FilePoller_8h_source.html">FilePoller.h</a>.</p>

<p>References <a class="el" href="NetOps_8cpp_source.html#l00076">folly::netops::bind()</a>, and <a class="el" href="FilePoller_8h_source.html#l00115">fileTouchedWithinCondInternal()</a>.</p>
<div class="fragment"><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                                                                      {</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacefolly_1_1netops.html#a169c47f12a823de180fb9e9de51e951f">std::bind</a>(</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <a class="code" href="classwangle_1_1FilePoller.html#a1191503a5926a81e7dde6a3a49fd24ad">fileTouchedWithinCondInternal</a>,</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        std::placeholders::_1,</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        std::placeholders::_2,</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        expireTime);</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  }</div><div class="ttc" id="namespacefolly_1_1netops_html_a169c47f12a823de180fb9e9de51e951f"><div class="ttname"><a href="namespacefolly_1_1netops.html#a169c47f12a823de180fb9e9de51e951f">folly::netops::bind</a></div><div class="ttdeci">int bind(NetworkSocket s, const sockaddr *name, socklen_t namelen)</div><div class="ttdef"><b>Definition:</b> <a href="NetOps_8cpp_source.html#l00076">NetOps.cpp:76</a></div></div>
<div class="ttc" id="classwangle_1_1FilePoller_html_a1191503a5926a81e7dde6a3a49fd24ad"><div class="ttname"><a href="classwangle_1_1FilePoller.html#a1191503a5926a81e7dde6a3a49fd24ad">wangle::FilePoller::fileTouchedWithinCondInternal</a></div><div class="ttdeci">static bool fileTouchedWithinCondInternal(const FilePoller::FileModificationData &amp;, const FilePoller::FileModificationData &amp;fModData, std::chrono::seconds expireTime)</div><div class="ttdef"><b>Definition:</b> <a href="FilePoller_8h_source.html#l00115">FilePoller.h:115</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1191503a5926a81e7dde6a3a49fd24ad"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool wangle::FilePoller::fileTouchedWithinCondInternal </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structwangle_1_1FilePoller_1_1FileModificationData.html">FilePoller::FileModificationData</a> &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structwangle_1_1FilePoller_1_1FileModificationData.html">FilePoller::FileModificationData</a> &amp;&#160;</td>
          <td class="paramname"><em>fModData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::chrono::seconds&#160;</td>
          <td class="paramname"><em>expireTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FilePoller_8h_source.html#l00115">115</a> of file <a class="el" href="FilePoller_8h_source.html">FilePoller.h</a>.</p>

<p>References <a class="el" href="FilePoller_8h_source.html#l00047">wangle::FilePoller::FileModificationData::exists</a>, <a class="el" href="FilePoller_8h_source.html#l00048">wangle::FilePoller::FileModificationData::modTime</a>, and <a class="el" href="DistributedMutex-inl_8h_source.html#l00190">folly::detail::distributed_mutex::time()</a>.</p>

<p>Referenced by <a class="el" href="FilePoller_8h_source.html#l00080">fileTouchedWithinCond()</a>.</p>
<div class="fragment"><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                                   {</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordflow">return</span> fModData.exists &amp;&amp;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        (<a class="code" href="namespacefolly_1_1detail_1_1distributed__mutex.html#a3634625413fb49a7dabe43c63de64949">time</a>(<span class="keyword">nullptr</span>) &lt; fModData.modTime + expireTime.count());</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  }</div><div class="ttc" id="namespacefolly_1_1detail_1_1distributed__mutex_html_a3634625413fb49a7dabe43c63de64949"><div class="ttname"><a href="namespacefolly_1_1detail_1_1distributed__mutex.html#a3634625413fb49a7dabe43c63de64949">folly::detail::distributed_mutex::time</a></div><div class="ttdeci">std::chrono::nanoseconds time()</div><div class="ttdef"><b>Definition:</b> <a href="DistributedMutex-inl_8h_source.html#l00190">DistributedMutex-inl.h:190</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af0379ebaa3a1f2a703b09c8b78165a66"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structwangle_1_1FilePoller_1_1FileModificationData.html">FilePoller::FileModificationData</a> wangle::FilePoller::getFileModData </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a> &amp;&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented in <a class="el" href="classNoDiskPoller.html#adfb77cb066baafb9b13174e9f49846c2">NoDiskPoller</a>.</p>

<p>Definition at line <a class="el" href="FilePoller_8cpp_source.html#l00146">146</a> of file <a class="el" href="FilePoller_8cpp_source.html">FilePoller.cpp</a>.</p>

<p>References <a class="el" href="deadlock_8py_source.html#l00447">deadlock::info()</a>.</p>

<p>Referenced by <a class="el" href="FilePoller_8h_source.html#l00092">fileTouchedCond()</a>.</p>
<div class="fragment"><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                                    {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="keyword">struct </span>stat <a class="code" href="namespacedeadlock.html#a6cba8e3d51735d7ac2ac91a947f4984b">info</a>;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="keywordtype">int</span> ret = stat(path.c_str(), &amp;<a class="code" href="namespacedeadlock.html#a6cba8e3d51735d7ac2ac91a947f4984b">info</a>);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="keywordflow">if</span> (ret != 0) {</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordflow">return</span> FileModificationData{<span class="keyword">false</span>, 0};</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="keywordflow">return</span> FileModificationData{<span class="keyword">true</span>, <a class="code" href="namespacedeadlock.html#a6cba8e3d51735d7ac2ac91a947f4984b">info</a>.st_mtime};</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;}</div><div class="ttc" id="namespacedeadlock_html_a6cba8e3d51735d7ac2ac91a947f4984b"><div class="ttname"><a href="namespacedeadlock.html#a6cba8e3d51735d7ac2ac91a947f4984b">deadlock.info</a></div><div class="ttdeci">def info()</div><div class="ttdef"><b>Definition:</b> <a href="deadlock_8py_source.html#l00447">deadlock.py:447</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae3b0115533a65e4c816deaa30a33856c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void wangle::FilePoller::init </td>
          <td>(</td>
          <td class="paramtype">std::chrono::milliseconds&#160;</td>
          <td class="paramname"><em>pollInterval</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FilePoller_8cpp_source.html#l00071">71</a> of file <a class="el" href="FilePoller_8cpp_source.html">FilePoller.cpp</a>.</p>

<p>References <a class="el" href="fizz_2build___2CMakeCache_8txt_source.html#l00563">context</a>.</p>

<p>Referenced by <a class="el" href="FilePoller_8h_source.html#l00129">fileTouchedCondInternal()</a>.</p>
<div class="fragment"><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                                                        {</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="keyword">auto</span> <a class="code" href="fizz_2build___2CMakeCache_8txt.html#a261f9f58ccbeaa962c4e675e4212c9cc">context</a> = contextSingleton.try_get();</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="fizz_2build___2CMakeCache_8txt.html#a261f9f58ccbeaa962c4e675e4212c9cc">context</a>) {</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    LOG(ERROR) &lt;&lt; <span class="stringliteral">&quot;Poller context requested after destruction.&quot;</span>;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  }</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <a class="code" href="classwangle_1_1FilePoller.html#ac2e15728393359b1e5f712ed83a26496">pollerId_</a> = <a class="code" href="fizz_2build___2CMakeCache_8txt.html#a261f9f58ccbeaa962c4e675e4212c9cc">context</a>-&gt;getNextId();</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <a class="code" href="classwangle_1_1FilePoller.html#a94fe740ca3975ed24d980c16acff8a44">scheduler_</a> = <a class="code" href="fizz_2build___2CMakeCache_8txt.html#a261f9f58ccbeaa962c4e675e4212c9cc">context</a>-&gt;getScheduler();</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <a class="code" href="classwangle_1_1FilePoller.html#a94fe740ca3975ed24d980c16acff8a44">scheduler_</a>-&gt;addFunction(</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;      [<span class="keyword">this</span>] { this-&gt;<a class="code" href="classwangle_1_1FilePoller.html#a9f8a1e78f38490f875dc33a4dfbb2054">checkFiles</a>(); },</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      pollInterval,</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;      folly::to&lt;std::string&gt;(<a class="code" href="classwangle_1_1FilePoller.html#ac2e15728393359b1e5f712ed83a26496">pollerId_</a>));</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;}</div><div class="ttc" id="classwangle_1_1FilePoller_html_a94fe740ca3975ed24d980c16acff8a44"><div class="ttname"><a href="classwangle_1_1FilePoller.html#a94fe740ca3975ed24d980c16acff8a44">wangle::FilePoller::scheduler_</a></div><div class="ttdeci">std::shared_ptr&lt; folly::FunctionScheduler &gt; scheduler_</div><div class="ttdef"><b>Definition:</b> <a href="FilePoller_8h_source.html#l00153">FilePoller.h:153</a></div></div>
<div class="ttc" id="fizz_2build___2CMakeCache_8txt_html_a261f9f58ccbeaa962c4e675e4212c9cc"><div class="ttname"><a href="fizz_2build___2CMakeCache_8txt.html#a261f9f58ccbeaa962c4e675e4212c9cc">context</a></div><div class="ttdeci">context</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2build___2CMakeCache_8txt_source.html#l00563">CMakeCache.txt:563</a></div></div>
<div class="ttc" id="classwangle_1_1FilePoller_html_ac2e15728393359b1e5f712ed83a26496"><div class="ttname"><a href="classwangle_1_1FilePoller.html#ac2e15728393359b1e5f712ed83a26496">wangle::FilePoller::pollerId_</a></div><div class="ttdeci">uint64_t pollerId_</div><div class="ttdef"><b>Definition:</b> <a href="FilePoller_8h_source.html#l00148">FilePoller.h:148</a></div></div>
<div class="ttc" id="classwangle_1_1FilePoller_html_a9f8a1e78f38490f875dc33a4dfbb2054"><div class="ttname"><a href="classwangle_1_1FilePoller.html#a9f8a1e78f38490f875dc33a4dfbb2054">wangle::FilePoller::checkFiles</a></div><div class="ttdeci">void checkFiles() noexcept</div><div class="ttdef"><b>Definition:</b> <a href="FilePoller_8cpp_source.html#l00092">FilePoller.cpp:92</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aebbede8975e9a7ad32daafc0caaaf1b4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void wangle::FilePoller::initFileData </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a> &amp;&#160;</td>
          <td class="paramname"><em>fName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structwangle_1_1FilePoller_1_1FileData.html">FileData</a> &amp;&#160;</td>
          <td class="paramname"><em>fData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FilePoller_8cpp_source.html#l00107">107</a> of file <a class="el" href="FilePoller_8cpp_source.html">FilePoller.cpp</a>.</p>

<p>Referenced by <a class="el" href="FilePoller_8h_source.html#l00129">fileTouchedCondInternal()</a>.</p>
<div class="fragment"><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                              {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="keyword">auto</span> modData = <a class="code" href="classwangle_1_1FilePoller.html#af0379ebaa3a1f2a703b09c8b78165a66">getFileModData</a>(fName);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  fData.modData.exists = modData.exists;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  fData.modData.modTime = modData.modTime;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;}</div><div class="ttc" id="classwangle_1_1FilePoller_html_af0379ebaa3a1f2a703b09c8b78165a66"><div class="ttname"><a href="classwangle_1_1FilePoller.html#af0379ebaa3a1f2a703b09c8b78165a66">wangle::FilePoller::getFileModData</a></div><div class="ttdeci">virtual FileModificationData getFileModData(const std::string &amp;path) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="FilePoller_8cpp_source.html#l00146">FilePoller.cpp:146</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a16ca014c0769818292d1462d3b176738"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classwangle_1_1FilePoller.html">FilePoller</a>&amp; wangle::FilePoller::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classwangle_1_1FilePoller.html">FilePoller</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a40d1f501b50f0e489b01d45097d28303"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classwangle_1_1FilePoller.html">FilePoller</a>&amp;&amp; wangle::FilePoller::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classwangle_1_1FilePoller.html">FilePoller</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4b7b394d5870f6b953c2c7eac9a7f793"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wangle::FilePoller::removeFileToTrack </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a> &amp;&#160;</td>
          <td class="paramname"><em>fileName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FilePoller_8cpp_source.html#l00133">133</a> of file <a class="el" href="FilePoller_8cpp_source.html">FilePoller.cpp</a>.</p>

<p>Referenced by <a class="el" href="MultiFilePoller_8cpp_source.html#l00072">wangle::MultiFilePoller::cancelCallback()</a>.</p>
<div class="fragment"><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                                                            {</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="keywordflow">if</span> (fileName.empty()) {</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="comment">// ignore</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  }</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classwangle_1_1FilePoller_1_1ThreadProtector.html#aed561404ab08cfbea6d64c05a4845272">ThreadProtector::inPollerThread</a>()) {</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    LOG(ERROR) &lt;&lt; <span class="stringliteral">&quot;Adding files from a callback is disallowed&quot;</span>;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  }</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  std::lock_guard&lt;std::mutex&gt; lg(<a class="code" href="classwangle_1_1FilePoller.html#a1ae3de5668b8929bd9e0dc6092eae772">filesMutex_</a>);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <a class="code" href="classwangle_1_1FilePoller.html#a4b2f0f49502e5fbd08d2bf0e9a6ff377">fileDatum_</a>.erase(fileName);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;}</div><div class="ttc" id="classwangle_1_1FilePoller_1_1ThreadProtector_html_aed561404ab08cfbea6d64c05a4845272"><div class="ttname"><a href="classwangle_1_1FilePoller_1_1ThreadProtector.html#aed561404ab08cfbea6d64c05a4845272">wangle::FilePoller::ThreadProtector::inPollerThread</a></div><div class="ttdeci">static bool inPollerThread()</div><div class="ttdef"><b>Definition:</b> <a href="FilePoller_8h_source.html#l00164">FilePoller.h:164</a></div></div>
<div class="ttc" id="classwangle_1_1FilePoller_html_a4b2f0f49502e5fbd08d2bf0e9a6ff377"><div class="ttname"><a href="classwangle_1_1FilePoller.html#a4b2f0f49502e5fbd08d2bf0e9a6ff377">wangle::FilePoller::fileDatum_</a></div><div class="ttdeci">FileDatas fileDatum_</div><div class="ttdef"><b>Definition:</b> <a href="FilePoller_8h_source.html#l00143">FilePoller.h:143</a></div></div>
<div class="ttc" id="classwangle_1_1FilePoller_html_a1ae3de5668b8929bd9e0dc6092eae772"><div class="ttname"><a href="classwangle_1_1FilePoller.html#a1ae3de5668b8929bd9e0dc6092eae772">wangle::FilePoller::filesMutex_</a></div><div class="ttdeci">std::mutex filesMutex_</div><div class="ttdef"><b>Definition:</b> <a href="FilePoller_8h_source.html#l00146">FilePoller.h:146</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab322c3faecc8ebeaf98d398c0f4b90c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wangle::FilePoller::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FilePoller_8cpp_source.html#l00085">85</a> of file <a class="el" href="FilePoller_8cpp_source.html">FilePoller.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                      {</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classwangle_1_1FilePoller.html#a94fe740ca3975ed24d980c16acff8a44">scheduler_</a>) {</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="classwangle_1_1FilePoller.html#a94fe740ca3975ed24d980c16acff8a44">scheduler_</a>-&gt;cancelFunctionAndWait(</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        folly::to&lt;std::string&gt;(<a class="code" href="classwangle_1_1FilePoller.html#ac2e15728393359b1e5f712ed83a26496">pollerId_</a>));</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  }</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;}</div><div class="ttc" id="classwangle_1_1FilePoller_html_a94fe740ca3975ed24d980c16acff8a44"><div class="ttname"><a href="classwangle_1_1FilePoller.html#a94fe740ca3975ed24d980c16acff8a44">wangle::FilePoller::scheduler_</a></div><div class="ttdeci">std::shared_ptr&lt; folly::FunctionScheduler &gt; scheduler_</div><div class="ttdef"><b>Definition:</b> <a href="FilePoller_8h_source.html#l00153">FilePoller.h:153</a></div></div>
<div class="ttc" id="classwangle_1_1FilePoller_html_ac2e15728393359b1e5f712ed83a26496"><div class="ttname"><a href="classwangle_1_1FilePoller.html#ac2e15728393359b1e5f712ed83a26496">wangle::FilePoller::pollerId_</a></div><div class="ttdeci">uint64_t pollerId_</div><div class="ttdef"><b>Definition:</b> <a href="FilePoller_8h_source.html#l00148">FilePoller.h:148</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a4b2f0f49502e5fbd08d2bf0e9a6ff377"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classwangle_1_1FilePoller.html#afecd0068b6755c032757932c20870c19">FileDatas</a> wangle::FilePoller::fileDatum_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FilePoller_8h_source.html#l00143">143</a> of file <a class="el" href="FilePoller_8h_source.html">FilePoller.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1ae3de5668b8929bd9e0dc6092eae772"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="OpenSSLThreading_8cpp.html#a1be3f7fa26e4521098de5f1ec0f865f3">std::mutex</a> wangle::FilePoller::filesMutex_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FilePoller_8h_source.html#l00146">146</a> of file <a class="el" href="FilePoller_8h_source.html">FilePoller.h</a>.</p>

</div>
</div>
<a class="anchor" id="aaab7c5d8209cdb34a8f15e811689e21c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr std::chrono::milliseconds wangle::FilePoller::kDefaultPollInterval</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">        std::chrono::milliseconds(10000)</div></div><!-- fragment -->
<p>Definition at line <a class="el" href="FilePoller_8h_source.html#l00100">100</a> of file <a class="el" href="FilePoller_8h_source.html">FilePoller.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac2e15728393359b1e5f712ed83a26496"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a5dc34568a989dd90728a4ed499cd9fab">uint64_t</a> wangle::FilePoller::pollerId_ {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FilePoller_8h_source.html#l00148">148</a> of file <a class="el" href="FilePoller_8h_source.html">FilePoller.h</a>.</p>

</div>
</div>
<a class="anchor" id="a94fe740ca3975ed24d980c16acff8a44"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classfolly_1_1FunctionScheduler.html">folly::FunctionScheduler</a>&gt; wangle::FilePoller::scheduler_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FilePoller_8h_source.html#l00153">153</a> of file <a class="el" href="FilePoller_8h_source.html">FilePoller.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>proxygen/wangle/wangle/util/<a class="el" href="FilePoller_8h_source.html">FilePoller.h</a></li>
<li>proxygen/wangle/wangle/util/<a class="el" href="FilePoller_8cpp_source.html">FilePoller.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacewangle.html">wangle</a></li><li class="navelem"><a class="el" href="classwangle_1_1FilePoller.html">FilePoller</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
