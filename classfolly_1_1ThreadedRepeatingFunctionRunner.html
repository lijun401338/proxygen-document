<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>proxygen: folly::ThreadedRepeatingFunctionRunner Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">proxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classfolly_1_1ThreadedRepeatingFunctionRunner.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classfolly_1_1ThreadedRepeatingFunctionRunner-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">folly::ThreadedRepeatingFunctionRunner Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="ThreadedRepeatingFunctionRunner_8h_source.html">ThreadedRepeatingFunctionRunner.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a811d9787e8c5751fc999ca014a6e77fb"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#a811d9787e8c5751fc999ca014a6e77fb">RepeatingFn</a> = <a class="el" href="classfolly_1_1Function.html">folly::Function</a>&lt; std::chrono::milliseconds() noexcept &gt;</td></tr>
<tr class="separator:a811d9787e8c5751fc999ca014a6e77fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7df070b82c6219c245992facfc85940b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#a7df070b82c6219c245992facfc85940b">ThreadedRepeatingFunctionRunner</a> ()</td></tr>
<tr class="separator:a7df070b82c6219c245992facfc85940b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a037e74ff1ef1d5513077a9b29914f882"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#a037e74ff1ef1d5513077a9b29914f882">~ThreadedRepeatingFunctionRunner</a> ()</td></tr>
<tr class="separator:a037e74ff1ef1d5513077a9b29914f882"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab86b21591d2c6b5006059a0b3874ca13"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#ab86b21591d2c6b5006059a0b3874ca13">stop</a> ()</td></tr>
<tr class="separator:ab86b21591d2c6b5006059a0b3874ca13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d88ca75bbe92976257f69f648cef875"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#a1d88ca75bbe92976257f69f648cef875">add</a> (<a class="el" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a> <a class="el" href="folly_2folly_2experimental_2symbolizer_2SignalHandler_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <a class="el" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#a811d9787e8c5751fc999ca014a6e77fb">RepeatingFn</a> <a class="el" href="StackOverflow_8cpp.html#a818f01d15ad1b9b4900c4513a27c273f">f</a>, std::chrono::milliseconds initialSleep=std::chrono::milliseconds(0))</td></tr>
<tr class="separator:a1d88ca75bbe92976257f69f648cef875"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03dfdf139a31e57184bba26b7e31e501"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#a03dfdf139a31e57184bba26b7e31e501">size</a> () const </td></tr>
<tr class="separator:a03dfdf139a31e57184bba26b7e31e501"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:aca734374006542f40fd06b72db6c9500"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#aca734374006542f40fd06b72db6c9500">stopImpl</a> ()</td></tr>
<tr class="separator:aca734374006542f40fd06b72db6c9500"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11ba6000726b0c22078e25a22a428c31"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#a11ba6000726b0c22078e25a22a428c31">waitFor</a> (std::chrono::milliseconds duration) noexcept</td></tr>
<tr class="separator:a11ba6000726b0c22078e25a22a428c31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a066bd7dbb2fbf6e926558367e1515025"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#a066bd7dbb2fbf6e926558367e1515025">executeInLoop</a> (<a class="el" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#a811d9787e8c5751fc999ca014a6e77fb">RepeatingFn</a>, std::chrono::milliseconds initialSleep) noexcept</td></tr>
<tr class="separator:a066bd7dbb2fbf6e926558367e1515025"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ae72996097fc5516fd32c15358bd61cbf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="OpenSSLThreading_8cpp.html#a1be3f7fa26e4521098de5f1ec0f865f3">std::mutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#ae72996097fc5516fd32c15358bd61cbf">stopMutex_</a></td></tr>
<tr class="separator:ae72996097fc5516fd32c15358bd61cbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55b9e2eacc8617e1d20997e01662837e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#a55b9e2eacc8617e1d20997e01662837e">stopping_</a> {false}</td></tr>
<tr class="separator:a55b9e2eacc8617e1d20997e01662837e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ba39e54e743543aee9d06cdfdbfcf5b"><td class="memItemLeft" align="right" valign="top">std::condition_variable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#a2ba39e54e743543aee9d06cdfdbfcf5b">stopCv_</a></td></tr>
<tr class="separator:a2ba39e54e743543aee9d06cdfdbfcf5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a260791aa661a3f9879812d10d52269a0"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::thread &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#a260791aa661a3f9879812d10d52269a0">threads_</a></td></tr>
<tr class="separator:a260791aa661a3f9879812d10d52269a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>For each function <code>fn</code> you add to this object, <code>fn</code> will be run in a loop in its own thread, with the thread sleeping between invocations of <code>fn</code> for the duration returned by <code>fn</code>'s previous run.</p>
<p>To clean up these threads, invoke <code><a class="el" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#ab86b21591d2c6b5006059a0b3874ca13">stop()</a></code>, which will interrupt sleeping threads. <code><a class="el" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#ab86b21591d2c6b5006059a0b3874ca13">stop()</a></code> will wait for already-running functions to return.</p>
<p>== Alternatives ==</p>
<p>If you want to multiplex multiple functions on the same thread, you can either use <a class="el" href="classfolly_1_1EventBase.html">EventBase</a> with <a class="el" href="classfolly_1_1AsyncTimeout.html">AsyncTimeout</a> objects, or <a class="el" href="classfolly_1_1FunctionScheduler.html">FunctionScheduler</a> for a slightly simpler API.</p>
<p>== Thread-safety ==</p>
<p>This type follows the common rule that: (1) const member functions are safe to call concurrently with const member functions, but (2) non-const member functions are not safe to call concurrently with any member functions.</p>
<p>== Pitfalls ==</p>
<p>Threads and classes don't mix well in C++, so you have to be very careful if you want to have <a class="el" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html">ThreadedRepeatingFunctionRunner</a> as a member of your class. <a class="el" href="structA.html">A</a> reasonable pattern looks like this:</p>
<p>// Your class must be <code>final</code> because inheriting from a class with // threads can cause all sorts of subtle issues: // - Your base class might start threads that attempt to access derived // class state <b>before</b> that state was constructed. // - Your base class's destructor will only be able to stop threads // <b>after</b> the derived class state was destroyed &ndash; and that state // might be accessed by the threads. // In short, any derived class would have to do work to manage the // threads itself, which makes inheritance a poor means of composition. struct MyClass final { // Note that threads are NOT added in the constructor, for two reasons: // // (1) If you first added some threads, and then had additional // initialization (e.g. derived class constructors), <code>this</code> might // not be fully constructed by the time the function threads // started running, causing heisenbugs. // // (2) If your constructor threw after thread creation, the class // destructor would not be invoked, potentially leaving the // threads running too long. // // It is much safer to have explicit two-step initialization, or to // lazily add threads the first time they are needed. MyClass() : count_(0) {}</p>
<p>// You must stop the threads as early as possible in the destruction // process (or even before). If MyClass had derived classes, the final // derived class MUST always call <a class="el" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#ab86b21591d2c6b5006059a0b3874ca13">stop()</a> as the first thing in its // destructor &ndash; otherwise, the worker threads might access already- // destroyed state. ~MyClass() { threads_.stop(); // Stop threads BEFORE destroying any state they use. }</p>
<p>// See the constructor for why two-stage initialization is preferred. void <a class="el" href="namespacefolly.html#a22f6efa8f87cc630e54fd62f405e3105">init()</a> { threads_.add(bind(&amp;MyClass::incrementCount, this)); }</p>
<p>std::chrono::milliseconds incrementCount() { ++count_; return 10; }</p>
<p>private: std::atomic&lt;int&gt; count_; // CAUTION: Declare last since the threads access other members of <code>this</code>. <a class="el" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html">ThreadedRepeatingFunctionRunner</a> threads_; }; </p>

<p>Definition at line <a class="el" href="ThreadedRepeatingFunctionRunner_8h_source.html#l00104">104</a> of file <a class="el" href="ThreadedRepeatingFunctionRunner_8h_source.html">ThreadedRepeatingFunctionRunner.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a811d9787e8c5751fc999ca014a6e77fb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#a811d9787e8c5751fc999ca014a6e77fb">folly::ThreadedRepeatingFunctionRunner::RepeatingFn</a> =  <a class="el" href="classfolly_1_1Function.html">folly::Function</a>&lt;std::chrono::milliseconds() noexcept&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="ThreadedRepeatingFunctionRunner_8h_source.html#l00107">107</a> of file <a class="el" href="ThreadedRepeatingFunctionRunner_8h_source.html">ThreadedRepeatingFunctionRunner.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a7df070b82c6219c245992facfc85940b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">folly::ThreadedRepeatingFunctionRunner::ThreadedRepeatingFunctionRunner </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="ThreadedRepeatingFunctionRunner_8cpp_source.html#l00024">24</a> of file <a class="el" href="ThreadedRepeatingFunctionRunner_8cpp_source.html">ThreadedRepeatingFunctionRunner.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;{}</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a037e74ff1ef1d5513077a9b29914f882"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">folly::ThreadedRepeatingFunctionRunner::~ThreadedRepeatingFunctionRunner </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="ThreadedRepeatingFunctionRunner_8cpp_source.html#l00026">26</a> of file <a class="el" href="ThreadedRepeatingFunctionRunner_8cpp_source.html">ThreadedRepeatingFunctionRunner.cpp</a>.</p>

<p>References <a class="el" href="ThreadedRepeatingFunctionRunner_8cpp_source.html#l00041">stopImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;                                                                  {</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#aca734374006542f40fd06b72db6c9500">stopImpl</a>()) {</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    LOG(ERROR)</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;ThreadedRepeatingFunctionRunner::stop() should already have been &quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;called, since we are now in the Runner&#39;s destructor. This is &quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;because it means that its threads may be accessing object state &quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;that was already destroyed -- e.g. members that were declared &quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;after the ThreadedRepeatingFunctionRunner.&quot;</span>;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  }</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;}</div><div class="ttc" id="classfolly_1_1ThreadedRepeatingFunctionRunner_html_aca734374006542f40fd06b72db6c9500"><div class="ttname"><a href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#aca734374006542f40fd06b72db6c9500">folly::ThreadedRepeatingFunctionRunner::stopImpl</a></div><div class="ttdeci">bool stopImpl()</div><div class="ttdef"><b>Definition:</b> <a href="ThreadedRepeatingFunctionRunner_8cpp_source.html#l00041">ThreadedRepeatingFunctionRunner.cpp:41</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a1d88ca75bbe92976257f69f648cef875"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void folly::ThreadedRepeatingFunctionRunner::add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a>&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#a811d9787e8c5751fc999ca014a6e77fb">RepeatingFn</a>&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::chrono::milliseconds&#160;</td>
          <td class="paramname"><em>initialSleep</em> = <code>std::chrono::milliseconds(0)</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Run your noexcept function <code>f</code> in a background loop, sleeping between calls for a duration returned by <code>f</code>. Optionally waits for <code>initialSleep</code> before calling <code>f</code> for the first time. Names the thread using up to the first 15 chars of <code>name</code>.</p>
<p>DANGER: If a non-final class has a <a class="el" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html">ThreadedRepeatingFunctionRunner</a> member (which, by the way, must be declared last in the class), then you must not call <a class="el" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#a1d88ca75bbe92976257f69f648cef875">add()</a> in your constructor. Otherwise, your thread risks accessing uninitialized data belonging to a child class. To avoid this design bug, prefer to use two-stage initialization to start your threads. </p>

<p>Definition at line <a class="el" href="ThreadedRepeatingFunctionRunner_8cpp_source.html#l00056">56</a> of file <a class="el" href="ThreadedRepeatingFunctionRunner_8cpp_source.html">ThreadedRepeatingFunctionRunner.cpp</a>.</p>

<p>References <a class="el" href="ThreadedRepeatingFunctionRunner_8cpp_source.html#l00079">executeInLoop()</a>, <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>, <a class="el" href="ThreadName_8cpp_source.html#l00109">folly::setThreadName()</a>, and <a class="el" href="ThreadedRepeatingFunctionRunner_8h_source.html#l00159">threads_</a>.</p>
<div class="fragment"><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                                        {</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <a class="code" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#a260791aa661a3f9879812d10d52269a0">threads_</a>.emplace_back([<a class="code" href="http__parser_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(<a class="code" href="http__parser_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>),</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                         fn = <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(fn),</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                         initialSleep,</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                         <span class="keyword">this</span>]() <span class="keyword">mutable</span> {</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <a class="code" href="namespacefolly.html#a2e933f76070b83ef7519c9c2ac8a1117">setThreadName</a>(<a class="code" href="http__parser_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <a class="code" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#a066bd7dbb2fbf6e926558367e1515025">executeInLoop</a>(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(fn), initialSleep);</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  });</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;}</div><div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="http__parser_8c_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="http__parser_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="http__parser_8c_source.html#l00437">http_parser.c:437</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadedRepeatingFunctionRunner_html_a066bd7dbb2fbf6e926558367e1515025"><div class="ttname"><a href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#a066bd7dbb2fbf6e926558367e1515025">folly::ThreadedRepeatingFunctionRunner::executeInLoop</a></div><div class="ttdeci">void executeInLoop(RepeatingFn, std::chrono::milliseconds initialSleep) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="ThreadedRepeatingFunctionRunner_8cpp_source.html#l00079">ThreadedRepeatingFunctionRunner.cpp:79</a></div></div>
<div class="ttc" id="namespacefolly_html_a2e933f76070b83ef7519c9c2ac8a1117"><div class="ttname"><a href="namespacefolly.html#a2e933f76070b83ef7519c9c2ac8a1117">folly::setThreadName</a></div><div class="ttdeci">bool setThreadName(std::thread::id tid, StringPiece name)</div><div class="ttdef"><b>Definition:</b> <a href="ThreadName_8cpp_source.html#l00109">ThreadName.cpp:109</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadedRepeatingFunctionRunner_html_a260791aa661a3f9879812d10d52269a0"><div class="ttname"><a href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#a260791aa661a3f9879812d10d52269a0">folly::ThreadedRepeatingFunctionRunner::threads_</a></div><div class="ttdeci">std::vector&lt; std::thread &gt; threads_</div><div class="ttdef"><b>Definition:</b> <a href="ThreadedRepeatingFunctionRunner_8h_source.html#l00159">ThreadedRepeatingFunctionRunner.h:159</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a066bd7dbb2fbf6e926558367e1515025"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::ThreadedRepeatingFunctionRunner::executeInLoop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#a811d9787e8c5751fc999ca014a6e77fb">RepeatingFn</a>&#160;</td>
          <td class="paramname"><em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::chrono::milliseconds&#160;</td>
          <td class="paramname"><em>initialSleep</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="ThreadedRepeatingFunctionRunner_8cpp_source.html#l00079">79</a> of file <a class="el" href="ThreadedRepeatingFunctionRunner_8cpp_source.html">ThreadedRepeatingFunctionRunner.cpp</a>.</p>

<p>References <a class="el" href="ThreadedRepeatingFunctionRunner_8cpp_source.html#l00069">waitFor()</a>.</p>

<p>Referenced by <a class="el" href="ThreadedRepeatingFunctionRunner_8cpp_source.html#l00056">add()</a>, and <a class="el" href="ThreadedRepeatingFunctionRunner_8h_source.html#l00138">size()</a>.</p>
<div class="fragment"><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                                                 {</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <span class="keyword">auto</span> duration = initialSleep;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="keywordflow">while</span> (<a class="code" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#a11ba6000726b0c22078e25a22a428c31">waitFor</a>(duration)) {</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    duration = fn();</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  }</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;}</div><div class="ttc" id="classfolly_1_1ThreadedRepeatingFunctionRunner_html_a11ba6000726b0c22078e25a22a428c31"><div class="ttname"><a href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#a11ba6000726b0c22078e25a22a428c31">folly::ThreadedRepeatingFunctionRunner::waitFor</a></div><div class="ttdeci">bool waitFor(std::chrono::milliseconds duration) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="ThreadedRepeatingFunctionRunner_8cpp_source.html#l00069">ThreadedRepeatingFunctionRunner.cpp:69</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a03dfdf139a31e57184bba26b7e31e501"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t folly::ThreadedRepeatingFunctionRunner::size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="ThreadedRepeatingFunctionRunner_8h_source.html#l00138">138</a> of file <a class="el" href="ThreadedRepeatingFunctionRunner_8h_source.html">ThreadedRepeatingFunctionRunner.h</a>.</p>

<p>References <a class="el" href="ThreadedRepeatingFunctionRunner_8cpp_source.html#l00079">executeInLoop()</a>, <a class="el" href="extension__points_8h_source.html#l00040">folly::pushmi::__adl::noexcept()</a>, <a class="el" href="ThreadedRepeatingFunctionRunner_8cpp_source.html#l00041">stopImpl()</a>, <a class="el" href="ThreadedRepeatingFunctionRunner_8h_source.html#l00159">threads_</a>, and <a class="el" href="ThreadedRepeatingFunctionRunner_8cpp_source.html#l00069">waitFor()</a>.</p>
<div class="fragment"><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                      {</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#a260791aa661a3f9879812d10d52269a0">threads_</a>.size();</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  }</div><div class="ttc" id="classfolly_1_1ThreadedRepeatingFunctionRunner_html_a260791aa661a3f9879812d10d52269a0"><div class="ttname"><a href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#a260791aa661a3f9879812d10d52269a0">folly::ThreadedRepeatingFunctionRunner::threads_</a></div><div class="ttdeci">std::vector&lt; std::thread &gt; threads_</div><div class="ttdef"><b>Definition:</b> <a href="ThreadedRepeatingFunctionRunner_8h_source.html#l00159">ThreadedRepeatingFunctionRunner.h:159</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab86b21591d2c6b5006059a0b3874ca13"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void folly::ThreadedRepeatingFunctionRunner::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Ideally, you will call this before initiating the destruction of the host object. Otherwise, this should be the first thing in the destruction sequence. If it comes any later, worker threads may access class state that had already been destroyed. </p>

<p>Definition at line <a class="el" href="ThreadedRepeatingFunctionRunner_8cpp_source.html#l00037">37</a> of file <a class="el" href="ThreadedRepeatingFunctionRunner_8cpp_source.html">ThreadedRepeatingFunctionRunner.cpp</a>.</p>

<p>References <a class="el" href="ThreadedRepeatingFunctionRunner_8cpp_source.html#l00041">stopImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;                                           {</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  <a class="code" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#aca734374006542f40fd06b72db6c9500">stopImpl</a>();</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;}</div><div class="ttc" id="classfolly_1_1ThreadedRepeatingFunctionRunner_html_aca734374006542f40fd06b72db6c9500"><div class="ttname"><a href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#aca734374006542f40fd06b72db6c9500">folly::ThreadedRepeatingFunctionRunner::stopImpl</a></div><div class="ttdeci">bool stopImpl()</div><div class="ttdef"><b>Definition:</b> <a href="ThreadedRepeatingFunctionRunner_8cpp_source.html#l00041">ThreadedRepeatingFunctionRunner.cpp:41</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aca734374006542f40fd06b72db6c9500"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::ThreadedRepeatingFunctionRunner::stopImpl </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="ThreadedRepeatingFunctionRunner_8cpp_source.html#l00041">41</a> of file <a class="el" href="ThreadedRepeatingFunctionRunner_8cpp_source.html">ThreadedRepeatingFunctionRunner.cpp</a>.</p>

<p>References <a class="el" href="Synchronized_8h_source.html#l01531">folly::lock()</a>, <a class="el" href="ThreadedRepeatingFunctionRunner_8h_source.html#l00157">stopCv_</a>, <a class="el" href="ThreadedRepeatingFunctionRunner_8h_source.html#l00155">stopMutex_</a>, <a class="el" href="ThreadedRepeatingFunctionRunner_8h_source.html#l00156">stopping_</a>, <a class="el" href="extension__operators_8h_source.html#l00048">folly::pushmi::detail::t</a>, and <a class="el" href="ThreadedRepeatingFunctionRunner_8h_source.html#l00159">threads_</a>.</p>

<p>Referenced by <a class="el" href="ThreadedRepeatingFunctionRunner_8h_source.html#l00138">size()</a>, <a class="el" href="ThreadedRepeatingFunctionRunner_8cpp_source.html#l00037">stop()</a>, and <a class="el" href="ThreadedRepeatingFunctionRunner_8cpp_source.html#l00026">~ThreadedRepeatingFunctionRunner()</a>.</p>
<div class="fragment"><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;                                               {</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  {</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    std::unique_lock&lt;std::mutex&gt; <a class="code" href="namespacefolly.html#a1c5ca040692d2c4c2b1b7ab9e517a61c">lock</a>(<a class="code" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#ae72996097fc5516fd32c15358bd61cbf">stopMutex_</a>);</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#a55b9e2eacc8617e1d20997e01662837e">stopping_</a>) {</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// Do nothing if stop() is called twice.</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    }</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <a class="code" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#a55b9e2eacc8617e1d20997e01662837e">stopping_</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  }</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <a class="code" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#a2ba39e54e743543aee9d06cdfdbfcf5b">stopCv_</a>.notify_all();</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; <a class="code" href="namespacefolly_1_1pushmi_1_1detail.html#a83db2e678e3a0679ce63d24026fcf5ff">t</a> : <a class="code" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#a260791aa661a3f9879812d10d52269a0">threads_</a>) {</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <a class="code" href="namespacefolly_1_1pushmi_1_1detail.html#a83db2e678e3a0679ce63d24026fcf5ff">t</a>.join();</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  }</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;}</div><div class="ttc" id="classfolly_1_1ThreadedRepeatingFunctionRunner_html_ae72996097fc5516fd32c15358bd61cbf"><div class="ttname"><a href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#ae72996097fc5516fd32c15358bd61cbf">folly::ThreadedRepeatingFunctionRunner::stopMutex_</a></div><div class="ttdeci">std::mutex stopMutex_</div><div class="ttdef"><b>Definition:</b> <a href="ThreadedRepeatingFunctionRunner_8h_source.html#l00155">ThreadedRepeatingFunctionRunner.h:155</a></div></div>
<div class="ttc" id="namespacefolly_html_a1c5ca040692d2c4c2b1b7ab9e517a61c"><div class="ttname"><a href="namespacefolly.html#a1c5ca040692d2c4c2b1b7ab9e517a61c">folly::lock</a></div><div class="ttdeci">auto lock(Synchronized&lt; D, M &gt; &amp;synchronized, Args &amp;&amp;...args)</div><div class="ttdef"><b>Definition:</b> <a href="Synchronized_8h_source.html#l01531">Synchronized.h:1531</a></div></div>
<div class="ttc" id="namespacefolly_1_1pushmi_1_1detail_html_a83db2e678e3a0679ce63d24026fcf5ff"><div class="ttname"><a href="namespacefolly_1_1pushmi_1_1detail.html#a83db2e678e3a0679ce63d24026fcf5ff">folly::pushmi::detail::t</a></div><div class="ttdeci">requires Tuple &amp;&amp; t</div><div class="ttdef"><b>Definition:</b> <a href="extension__operators_8h_source.html#l00048">extension_operators.h:48</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadedRepeatingFunctionRunner_html_a2ba39e54e743543aee9d06cdfdbfcf5b"><div class="ttname"><a href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#a2ba39e54e743543aee9d06cdfdbfcf5b">folly::ThreadedRepeatingFunctionRunner::stopCv_</a></div><div class="ttdeci">std::condition_variable stopCv_</div><div class="ttdef"><b>Definition:</b> <a href="ThreadedRepeatingFunctionRunner_8h_source.html#l00157">ThreadedRepeatingFunctionRunner.h:157</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadedRepeatingFunctionRunner_html_a260791aa661a3f9879812d10d52269a0"><div class="ttname"><a href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#a260791aa661a3f9879812d10d52269a0">folly::ThreadedRepeatingFunctionRunner::threads_</a></div><div class="ttdeci">std::vector&lt; std::thread &gt; threads_</div><div class="ttdef"><b>Definition:</b> <a href="ThreadedRepeatingFunctionRunner_8h_source.html#l00159">ThreadedRepeatingFunctionRunner.h:159</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadedRepeatingFunctionRunner_html_a55b9e2eacc8617e1d20997e01662837e"><div class="ttname"><a href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#a55b9e2eacc8617e1d20997e01662837e">folly::ThreadedRepeatingFunctionRunner::stopping_</a></div><div class="ttdeci">bool stopping_</div><div class="ttdef"><b>Definition:</b> <a href="ThreadedRepeatingFunctionRunner_8h_source.html#l00156">ThreadedRepeatingFunctionRunner.h:156</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a11ba6000726b0c22078e25a22a428c31"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::ThreadedRepeatingFunctionRunner::waitFor </td>
          <td>(</td>
          <td class="paramtype">std::chrono::milliseconds&#160;</td>
          <td class="paramname"><em>duration</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="ThreadedRepeatingFunctionRunner_8cpp_source.html#l00069">69</a> of file <a class="el" href="ThreadedRepeatingFunctionRunner_8cpp_source.html">ThreadedRepeatingFunctionRunner.cpp</a>.</p>

<p>References <a class="el" href="Synchronized_8h_source.html#l01531">folly::lock()</a>, <a class="el" href="TimekeeperTest_8cpp_source.html#l00031">now()</a>, <a class="el" href="ThreadedRepeatingFunctionRunner_8h_source.html#l00157">stopCv_</a>, <a class="el" href="ThreadedRepeatingFunctionRunner_8h_source.html#l00155">stopMutex_</a>, and <a class="el" href="ThreadedRepeatingFunctionRunner_8h_source.html#l00156">stopping_</a>.</p>

<p>Referenced by <a class="el" href="ThreadedRepeatingFunctionRunner_8cpp_source.html#l00079">executeInLoop()</a>, and <a class="el" href="ThreadedRepeatingFunctionRunner_8h_source.html#l00138">size()</a>.</p>
<div class="fragment"><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                                             {</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="keyword">using</span> clock = std::chrono::steady_clock;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> deadline = <a class="code" href="TimekeeperTest_8cpp.html#a562b4baa36dcf267f35a4ba4e0aef329">clock::now</a>() + duration;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  std::unique_lock&lt;std::mutex&gt; <a class="code" href="namespacefolly.html#a1c5ca040692d2c4c2b1b7ab9e517a61c">lock</a>(<a class="code" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#ae72996097fc5516fd32c15358bd61cbf">stopMutex_</a>);</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <a class="code" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#a2ba39e54e743543aee9d06cdfdbfcf5b">stopCv_</a>.wait_until(</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      <a class="code" href="namespacefolly.html#a1c5ca040692d2c4c2b1b7ab9e517a61c">lock</a>, deadline, [&amp;] { <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#a55b9e2eacc8617e1d20997e01662837e">stopping_</a> || <a class="code" href="TimekeeperTest_8cpp.html#a562b4baa36dcf267f35a4ba4e0aef329">clock::now</a>() &gt; deadline; });</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="keywordflow">return</span> !<a class="code" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#a55b9e2eacc8617e1d20997e01662837e">stopping_</a>;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;}</div><div class="ttc" id="TimekeeperTest_8cpp_html_a562b4baa36dcf267f35a4ba4e0aef329"><div class="ttname"><a href="TimekeeperTest_8cpp.html#a562b4baa36dcf267f35a4ba4e0aef329">now</a></div><div class="ttdeci">std::chrono::steady_clock::time_point now()</div><div class="ttdef"><b>Definition:</b> <a href="TimekeeperTest_8cpp_source.html#l00031">TimekeeperTest.cpp:31</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadedRepeatingFunctionRunner_html_ae72996097fc5516fd32c15358bd61cbf"><div class="ttname"><a href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#ae72996097fc5516fd32c15358bd61cbf">folly::ThreadedRepeatingFunctionRunner::stopMutex_</a></div><div class="ttdeci">std::mutex stopMutex_</div><div class="ttdef"><b>Definition:</b> <a href="ThreadedRepeatingFunctionRunner_8h_source.html#l00155">ThreadedRepeatingFunctionRunner.h:155</a></div></div>
<div class="ttc" id="namespacefolly_html_a1c5ca040692d2c4c2b1b7ab9e517a61c"><div class="ttname"><a href="namespacefolly.html#a1c5ca040692d2c4c2b1b7ab9e517a61c">folly::lock</a></div><div class="ttdeci">auto lock(Synchronized&lt; D, M &gt; &amp;synchronized, Args &amp;&amp;...args)</div><div class="ttdef"><b>Definition:</b> <a href="Synchronized_8h_source.html#l01531">Synchronized.h:1531</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadedRepeatingFunctionRunner_html_a2ba39e54e743543aee9d06cdfdbfcf5b"><div class="ttname"><a href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#a2ba39e54e743543aee9d06cdfdbfcf5b">folly::ThreadedRepeatingFunctionRunner::stopCv_</a></div><div class="ttdeci">std::condition_variable stopCv_</div><div class="ttdef"><b>Definition:</b> <a href="ThreadedRepeatingFunctionRunner_8h_source.html#l00157">ThreadedRepeatingFunctionRunner.h:157</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadedRepeatingFunctionRunner_html_a55b9e2eacc8617e1d20997e01662837e"><div class="ttname"><a href="classfolly_1_1ThreadedRepeatingFunctionRunner.html#a55b9e2eacc8617e1d20997e01662837e">folly::ThreadedRepeatingFunctionRunner::stopping_</a></div><div class="ttdeci">bool stopping_</div><div class="ttdef"><b>Definition:</b> <a href="ThreadedRepeatingFunctionRunner_8h_source.html#l00156">ThreadedRepeatingFunctionRunner.h:156</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a2ba39e54e743543aee9d06cdfdbfcf5b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::condition_variable folly::ThreadedRepeatingFunctionRunner::stopCv_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="ThreadedRepeatingFunctionRunner_8h_source.html#l00157">157</a> of file <a class="el" href="ThreadedRepeatingFunctionRunner_8h_source.html">ThreadedRepeatingFunctionRunner.h</a>.</p>

<p>Referenced by <a class="el" href="ThreadedRepeatingFunctionRunner_8cpp_source.html#l00041">stopImpl()</a>, and <a class="el" href="ThreadedRepeatingFunctionRunner_8cpp_source.html#l00069">waitFor()</a>.</p>

</div>
</div>
<a class="anchor" id="ae72996097fc5516fd32c15358bd61cbf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="OpenSSLThreading_8cpp.html#a1be3f7fa26e4521098de5f1ec0f865f3">std::mutex</a> folly::ThreadedRepeatingFunctionRunner::stopMutex_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="ThreadedRepeatingFunctionRunner_8h_source.html#l00155">155</a> of file <a class="el" href="ThreadedRepeatingFunctionRunner_8h_source.html">ThreadedRepeatingFunctionRunner.h</a>.</p>

<p>Referenced by <a class="el" href="ThreadedRepeatingFunctionRunner_8cpp_source.html#l00041">stopImpl()</a>, and <a class="el" href="ThreadedRepeatingFunctionRunner_8cpp_source.html#l00069">waitFor()</a>.</p>

</div>
</div>
<a class="anchor" id="a55b9e2eacc8617e1d20997e01662837e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::ThreadedRepeatingFunctionRunner::stopping_ {false}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="ThreadedRepeatingFunctionRunner_8h_source.html#l00156">156</a> of file <a class="el" href="ThreadedRepeatingFunctionRunner_8h_source.html">ThreadedRepeatingFunctionRunner.h</a>.</p>

<p>Referenced by <a class="el" href="ThreadedRepeatingFunctionRunner_8cpp_source.html#l00041">stopImpl()</a>, and <a class="el" href="ThreadedRepeatingFunctionRunner_8cpp_source.html#l00069">waitFor()</a>.</p>

</div>
</div>
<a class="anchor" id="a260791aa661a3f9879812d10d52269a0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::thread&gt; folly::ThreadedRepeatingFunctionRunner::threads_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="ThreadedRepeatingFunctionRunner_8h_source.html#l00159">159</a> of file <a class="el" href="ThreadedRepeatingFunctionRunner_8h_source.html">ThreadedRepeatingFunctionRunner.h</a>.</p>

<p>Referenced by <a class="el" href="ThreadedRepeatingFunctionRunner_8cpp_source.html#l00056">add()</a>, <a class="el" href="ThreadedRepeatingFunctionRunner_8h_source.html#l00138">size()</a>, and <a class="el" href="ThreadedRepeatingFunctionRunner_8cpp_source.html#l00041">stopImpl()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>proxygen/folly/folly/experimental/<a class="el" href="ThreadedRepeatingFunctionRunner_8h_source.html">ThreadedRepeatingFunctionRunner.h</a></li>
<li>proxygen/folly/folly/experimental/<a class="el" href="ThreadedRepeatingFunctionRunner_8cpp_source.html">ThreadedRepeatingFunctionRunner.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefolly.html">folly</a></li><li class="navelem"><a class="el" href="classfolly_1_1ThreadedRepeatingFunctionRunner.html">ThreadedRepeatingFunctionRunner</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
