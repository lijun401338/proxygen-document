<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>proxygen: folly::DestructorCheck Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">proxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classfolly_1_1DestructorCheck.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classfolly_1_1DestructorCheck-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">folly::DestructorCheck Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="DestructorCheck_8h_source.html">DestructorCheck.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for folly::DestructorCheck:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classfolly_1_1DestructorCheck.png" usemap="#folly::DestructorCheck_map" alt=""/>
  <map id="folly::DestructorCheck_map" name="folly::DestructorCheck_map">
<area href="classwangle_1_1ClientBootstrap.html" alt="wangle::ClientBootstrap&lt; DefaultPipeline &gt;" shape="rect" coords="0,56,252,80"/>
<area href="classproxygen_1_1HPACKQueue.html" alt="proxygen::HPACKQueue" shape="rect" coords="262,56,514,80"/>
<area href="classproxygen_1_1HTTPMessageFilter.html" alt="proxygen::HTTPMessageFilter" shape="rect" coords="524,56,776,80"/>
<area href="classproxygen_1_1QPACKDecoder.html" alt="proxygen::QPACKDecoder" shape="rect" coords="786,56,1038,80"/>
<area href="classwangle_1_1ClientBootstrap.html" alt="wangle::ClientBootstrap&lt; Pipeline &gt;" shape="rect" coords="1048,56,1300,80"/>
<area href="classCustomPipelineMakerTestClient.html" alt="CustomPipelineMakerTestClient" shape="rect" coords="0,112,252,136"/>
<area href="classproxygen_1_1MockHTTPMessageFilter.html" alt="proxygen::MockHTTPMessageFilter" shape="rect" coords="524,112,776,136"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1DestructorCheck_1_1ForwardLink.html">ForwardLink</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1DestructorCheck_1_1Safety.html">Safety</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6c961cbfd142706696b1da6eccc97856"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1DestructorCheck.html#a6c961cbfd142706696b1da6eccc97856">~DestructorCheck</a> ()</td></tr>
<tr class="separator:a6c961cbfd142706696b1da6eccc97856"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:aac7dc800e5e5d4ffb02313d4ab86d53b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1DestructorCheck_1_1ForwardLink.html">ForwardLink</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1DestructorCheck.html#aac7dc800e5e5d4ffb02313d4ab86d53b">rootGuard_</a></td></tr>
<tr class="separator:aac7dc800e5e5d4ffb02313d4ab86d53b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classfolly_1_1DestructorCheck.html">DestructorCheck</a> is a helper class that helps to detect if a tracked object was deleted. This is useful for objects that request callbacks from other components.</p>
<p>Classes needing this functionality should:</p><ul>
<li>derive from <a class="el" href="classfolly_1_1DestructorCheck.html">DestructorCheck</a></li>
</ul>
<p>Callback context can be extended with an instance of <a class="el" href="classfolly_1_1DestructorCheck_1_1Safety.html">DestructorCheck::Safety</a> object initialized with a reference to the object dereferenced from the callback. Once the callback is invoked, it can use this safety object to check if the object was not deallocated yet before dereferencing it.</p>
<p><a class="el" href="classfolly_1_1DestructorCheck.html">DestructorCheck</a> does not perform any locking. It is intended to be used only from a single thread.</p>
<p>Example:</p>
<p>class AsyncFoo : public <a class="el" href="classfolly_1_1DestructorCheck.html">DestructorCheck</a> { public: ~AsyncFoo(); // awesome async code with circuitous deletion paths void async1(); void async2(); };</p>
<p>righteousFunc(AsyncFoo&amp; f) { <a class="el" href="classfolly_1_1DestructorCheck_1_1Safety.html">DestructorCheck::Safety</a> safety(f);</p>
<p>f.async1(); // might have deleted f, oh noes if (!safety.destroyed()) { // phew, still there f.async2(); } } </p>

<p>Definition at line <a class="el" href="DestructorCheck_8h_source.html#l00057">57</a> of file <a class="el" href="DestructorCheck_8h_source.html">DestructorCheck.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a6c961cbfd142706696b1da6eccc97856"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual folly::DestructorCheck::~DestructorCheck </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="DestructorCheck_8h_source.html#l00059">59</a> of file <a class="el" href="DestructorCheck_8h_source.html">DestructorCheck.h</a>.</p>

<p>References <a class="el" href="DestructorCheck_8h_source.html#l00133">rootGuard_</a>, and <a class="el" href="DestructorCheck_8h_source.html#l00069">folly::DestructorCheck::ForwardLink::setAllDestroyed()</a>.</p>
<div class="fragment"><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                             {</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <a class="code" href="classfolly_1_1DestructorCheck.html#aac7dc800e5e5d4ffb02313d4ab86d53b">rootGuard_</a>.<a class="code" href="classfolly_1_1DestructorCheck_1_1ForwardLink.html#af09f96d87e61719280754bead1244a2b">setAllDestroyed</a>();</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  }</div><div class="ttc" id="classfolly_1_1DestructorCheck_html_aac7dc800e5e5d4ffb02313d4ab86d53b"><div class="ttname"><a href="classfolly_1_1DestructorCheck.html#aac7dc800e5e5d4ffb02313d4ab86d53b">folly::DestructorCheck::rootGuard_</a></div><div class="ttdeci">ForwardLink rootGuard_</div><div class="ttdef"><b>Definition:</b> <a href="DestructorCheck_8h_source.html#l00133">DestructorCheck.h:133</a></div></div>
<div class="ttc" id="classfolly_1_1DestructorCheck_1_1ForwardLink_html_af09f96d87e61719280754bead1244a2b"><div class="ttname"><a href="classfolly_1_1DestructorCheck_1_1ForwardLink.html#af09f96d87e61719280754bead1244a2b">folly::DestructorCheck::ForwardLink::setAllDestroyed</a></div><div class="ttdeci">void setAllDestroyed()</div><div class="ttdef"><b>Definition:</b> <a href="DestructorCheck_8h_source.html#l00069">DestructorCheck.h:69</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="aac7dc800e5e5d4ffb02313d4ab86d53b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1DestructorCheck_1_1ForwardLink.html">ForwardLink</a> folly::DestructorCheck::rootGuard_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="DestructorCheck_8h_source.html#l00133">133</a> of file <a class="el" href="DestructorCheck_8h_source.html">DestructorCheck.h</a>.</p>

<p>Referenced by <a class="el" href="DestructorCheck_8h_source.html#l00091">folly::DestructorCheck::Safety::Safety()</a>, and <a class="el" href="DestructorCheck_8h_source.html#l00059">~DestructorCheck()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>proxygen/folly/folly/io/async/<a class="el" href="DestructorCheck_8h_source.html">DestructorCheck.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefolly.html">folly</a></li><li class="navelem"><a class="el" href="classfolly_1_1DestructorCheck.html">DestructorCheck</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
