<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>proxygen: folly::fibers::AtomicBatchDispatcher&lt; InputT, ResultT &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">proxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classfolly_1_1fibers_1_1AtomicBatchDispatcher.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classfolly_1_1fibers_1_1AtomicBatchDispatcher-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">folly::fibers::AtomicBatchDispatcher&lt; InputT, ResultT &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="AtomicBatchDispatcher_8h_source.html">AtomicBatchDispatcher.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1fibers_1_1AtomicBatchDispatcher_1_1DispatchBaton.html">DispatchBaton</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher_1_1Token.html">Token</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a5c59da7540a191cecbd15b8e30392cff"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html#a5c59da7540a191cecbd15b8e30392cff">DispatchFunctionT</a> = <a class="el" href="classfolly_1_1Function.html">folly::Function</a>&lt; std::vector&lt; ResultT &gt;(std::vector&lt; InputT &gt; &amp;&amp;)&gt;</td></tr>
<tr class="separator:a5c59da7540a191cecbd15b8e30392cff"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab8543b2b45072de5c9c18b04f3ba199b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html#ab8543b2b45072de5c9c18b04f3ba199b">AtomicBatchDispatcher</a> (<a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html#a5c59da7540a191cecbd15b8e30392cff">DispatchFunctionT</a> &amp;&amp;dispatchFunc)</td></tr>
<tr class="separator:ab8543b2b45072de5c9c18b04f3ba199b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f66a12bc4172836eb2f8d9411d4ce66"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html#a3f66a12bc4172836eb2f8d9411d4ce66">~AtomicBatchDispatcher</a> ()</td></tr>
<tr class="separator:a3f66a12bc4172836eb2f8d9411d4ce66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94a99fa54212ac99dd988519e5f67fa1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html#a94a99fa54212ac99dd988519e5f67fa1">reserve</a> (size_t numEntries)</td></tr>
<tr class="separator:a94a99fa54212ac99dd988519e5f67fa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9de8ff3e364bced9dc9ba4dd7a6973f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher_1_1Token.html">Token</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html#aa9de8ff3e364bced9dc9ba4dd7a6973f">getToken</a> ()</td></tr>
<tr class="separator:aa9de8ff3e364bced9dc9ba4dd7a6973f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab323c4c27c6b7a44831e160c65eeedd4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html#ab323c4c27c6b7a44831e160c65eeedd4">commit</a> ()</td></tr>
<tr class="separator:ab323c4c27c6b7a44831e160c65eeedd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89ca2c51a3904ca07f07492e6cbcb374"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html#a89ca2c51a3904ca07f07492e6cbcb374">AtomicBatchDispatcher</a> (<a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html">AtomicBatchDispatcher</a> &amp;&amp;)=default</td></tr>
<tr class="separator:a89ca2c51a3904ca07f07492e6cbcb374"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e59ca9e68d2cf1b527f427dd70e2da0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html">AtomicBatchDispatcher</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html#a6e59ca9e68d2cf1b527f427dd70e2da0">operator=</a> (<a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html">AtomicBatchDispatcher</a> &amp;&amp;)=default</td></tr>
<tr class="separator:a6e59ca9e68d2cf1b527f427dd70e2da0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a8472717887357841bca8430bd7e6118f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html#a8472717887357841bca8430bd7e6118f">AtomicBatchDispatcher</a> (const <a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html">AtomicBatchDispatcher</a> &amp;)=delete</td></tr>
<tr class="separator:a8472717887357841bca8430bd7e6118f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9278320d013cf0892e854611907c9e31"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html">AtomicBatchDispatcher</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html#a9278320d013cf0892e854611907c9e31">operator=</a> (const <a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html">AtomicBatchDispatcher</a> &amp;)=delete</td></tr>
<tr class="separator:a9278320d013cf0892e854611907c9e31"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ae2100cf2f6bbbd89d12eb10235ce703d"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html#ae2100cf2f6bbbd89d12eb10235ce703d">numTokensIssued_</a></td></tr>
<tr class="separator:ae2100cf2f6bbbd89d12eb10235ce703d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b2764694385e48f75ea24aec34d1cb0"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="structfolly_1_1fibers_1_1AtomicBatchDispatcher_1_1DispatchBaton.html">DispatchBaton</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html#a4b2764694385e48f75ea24aec34d1cb0">baton_</a></td></tr>
<tr class="separator:a4b2764694385e48f75ea24aec34d1cb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a7a2ab5e1b799aa0743c0ee6bb8f96440"><td class="memItemLeft" align="right" valign="top">struct&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html#a7a2ab5e1b799aa0743c0ee6bb8f96440">DispatchBaton</a></td></tr>
<tr class="separator:a7a2ab5e1b799aa0743c0ee6bb8f96440"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename InputT, typename ResultT&gt;<br />
class folly::fibers::AtomicBatchDispatcher&lt; InputT, ResultT &gt;</h3>

<p><a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html">AtomicBatchDispatcher</a> should be used if you want to process fiber tasks in parallel, but require to synchronize them at some point. The canonical example is to create a database transaction dispatch round. This API notably enforces that all tasks in the batch have reached the synchronization point before the user provided dispatch function is called with all the inputs provided in one function call. It also provides a guarantee that the inputs in the vector of inputs passed to the user provided dispatch function will be in the same order as the order in which the token for the job was issued.</p>
<p>Use this when you want all the inputs in the batch to be processed by a single function call to the user provided dispatch function. The user provided dispatch function takes a vector of InputT as input and returns a vector of ResultT. To use an <a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html">AtomicBatchDispatcher</a>, create it by providing a dispatch function: TO EITHER the constructor of the <a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html">AtomicBatchDispatcher</a> class (can call reserve method on the dispatcher to reserve space (for number of inputs expected)), OR the createAtomicBatchDispatcher function in <a class="el" href="namespacefolly_1_1fibers.html">folly::fibers</a> namespace (optionally specify an initial capacity (for number of inputs expected)). The <a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html">AtomicBatchDispatcher</a> object created using this call (dispatcher), is the only object that can issue tokens (<a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher_1_1Token.html">Token</a> objects) that are used to add an input to the batch. <a class="el" href="structA.html">A</a> single <a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher_1_1Token.html">Token</a> is issued when the user calls the getToken function on the dispatcher. <a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher_1_1Token.html">Token</a> objects cannot be copied (can only be moved). User can call the public dispatch function on the <a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher_1_1Token.html">Token</a> providing a single input value. The dispatch function returns a folly::Future&lt;ResultT&gt; value that the user can then wait on to obtain a ResultT value. The ResultT value will only be available once the dispatch function has been called on all the Tokens in the batch and the user has called dispatcher.commit() to indicate no more batched transactions are to be added. User code pertaining to a task can be run between the point where a token for the task has been issued and before calling the dispatch function on the token. Since this code can potentially throw, the token issued for a task should be moved into this processing code in such a way that if an exception is thrown and then handled, the token object for the task is destroyed. The batch query dispatcher will wait until all tokens have either been destroyed or have had the dispatch function called on them. Leaking an issued token will cause the batch dispatch to wait forever to happen.</p>
<p>The <a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html">AtomicBatchDispatcher</a> object is referred to as the dispatcher below.</p>
<p>POSSIBLE ERRORS: 1) The dispatcher is destroyed before calling commit on it, for example because the user forgot to call commit OR an exception was thrown in user code before the call to commit:</p><ul>
<li>The future ResultT has an exception of type <a class="el" href="classfolly_1_1fibers_1_1ABDCommitNotCalledException.html">ABDCommitNotCalledException</a> set for all tokens that were issued by the dispatcher (once all tokens are either destroyed or have called dispatch) 2) Calling the dispatch function more than once on the same <a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher_1_1Token.html">Token</a> object (or a moved version of the same <a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher_1_1Token.html">Token</a>):</li>
<li>Subsequent calls to dispatch (after the first one) will throw an <a class="el" href="classfolly_1_1fibers_1_1ABDUsageException.html">ABDUsageException</a> exception (the batch itself will not have any errors and will get processed) 3) One/more of the Tokens issued are destroyed before calling dispatch on it/them:</li>
<li>The future ResultT has an <a class="el" href="classfolly_1_1fibers_1_1ABDTokenNotDispatchedException.html">ABDTokenNotDispatchedException</a> set for all tokens that were issued by the dispatcher (once all tokens are either destroyed or have called dispatch) 4) dispatcher.getToken() is called after calling dispatcher.commit()</li>
<li>the call to <a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html#aa9de8ff3e364bced9dc9ba4dd7a6973f">getToken()</a> will throw an <a class="el" href="classfolly_1_1fibers_1_1ABDUsageException.html">ABDUsageException</a> exception (the batch itself will not have any errors and will get processed). 5) All tokens were issued and called dispatch, the user provided batch dispatch function is called, but that function throws any exception.</li>
<li>The future ResultT has exception for all tokens that were issued by the dispatcher. The result will contain the wrapped user exception.</li>
</ul>
<p>EXAMPLE (There are other ways to achieve this, but this is one example):</p><ul>
<li>User creates an <a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html">AtomicBatchDispatcher</a> on stack auto dispatcher = folly::fibers::createAtomicBatchDispatcher(dispatchFunc, count);</li>
<li>User creates "count" number of token objects by calling "getToken" count number of times std::vector&lt;Job&gt; jobs; for (size_t i = 0; i &lt; count; ++i) { auto token = dispatcher.getToken(); jobs.push_back(Job(std::move(token), singleInputValueToProcess); }</li>
<li>User calls <a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html#ab323c4c27c6b7a44831e160c65eeedd4">commit()</a> on the dispatcher to indicate that no new tokens will be issued for this batch dispatcher.commit();</li>
<li>Use any single threaded executor that will process the jobs</li>
<li>On each execution (fiber) preprocess a single "Job" that has been moved in from the original vector "jobs". This way if the preprocessing throws the Job object being processed is destroyed and so is the token.</li>
<li>On each execution (fiber) call the dispatch on the token auto future = job.token.dispatch(job.input);</li>
<li>Save the future returned so that eventually you can wait on the results ResultT result; try { result = future.value(); // future.hasValue() is true } catch (...) { // future.hasException() is true &lt;DO whatever="" you="" want="" in="" case="" of="" error&gt;=""&gt; } }</li>
</ul>
<p>NOTES:</p><ul>
<li><a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html">AtomicBatchDispatcher</a> is not thread safe.</li>
<li>Works for executors that run tasks on a single thread. </li>
</ul>

<p>Definition at line <a class="el" href="AtomicBatchDispatcher_8h_source.html#l00168">168</a> of file <a class="el" href="AtomicBatchDispatcher_8h_source.html">AtomicBatchDispatcher.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a5c59da7540a191cecbd15b8e30392cff"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename InputT, typename ResultT&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html">folly::fibers::AtomicBatchDispatcher</a>&lt; InputT, ResultT &gt;::<a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html#a5c59da7540a191cecbd15b8e30392cff">DispatchFunctionT</a> =  <a class="el" href="classfolly_1_1Function.html">folly::Function</a>&lt;std::vector&lt;ResultT&gt;(std::vector&lt;InputT&gt;&amp;&amp;)&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AtomicBatchDispatcher_8h_source.html#l00175">175</a> of file <a class="el" href="AtomicBatchDispatcher_8h_source.html">AtomicBatchDispatcher.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ab8543b2b45072de5c9c18b04f3ba199b"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename InputT , typename ResultT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html">folly::fibers::AtomicBatchDispatcher</a>&lt; InputT, ResultT &gt;::<a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html">AtomicBatchDispatcher</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html#a5c59da7540a191cecbd15b8e30392cff">DispatchFunctionT</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>dispatchFunc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AtomicBatchDispatcher-inl_8h_source.html#l00171">171</a> of file <a class="el" href="AtomicBatchDispatcher-inl_8h_source.html">AtomicBatchDispatcher-inl.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    : <a class="code" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html#ae2100cf2f6bbbd89d12eb10235ce703d">numTokensIssued_</a>(0),</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <a class="code" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html#a4b2764694385e48f75ea24aec34d1cb0">baton_</a>(std::make_shared&lt;DispatchBaton&gt;(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(dispatchFunc))) {}</div><div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1AtomicBatchDispatcher_html_ae2100cf2f6bbbd89d12eb10235ce703d"><div class="ttname"><a href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html#ae2100cf2f6bbbd89d12eb10235ce703d">folly::fibers::AtomicBatchDispatcher::numTokensIssued_</a></div><div class="ttdeci">size_t numTokensIssued_</div><div class="ttdef"><b>Definition:</b> <a href="AtomicBatchDispatcher_8h_source.html#l00221">AtomicBatchDispatcher.h:221</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1AtomicBatchDispatcher_html_a4b2764694385e48f75ea24aec34d1cb0"><div class="ttname"><a href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html#a4b2764694385e48f75ea24aec34d1cb0">folly::fibers::AtomicBatchDispatcher::baton_</a></div><div class="ttdeci">std::shared_ptr&lt; DispatchBaton &gt; baton_</div><div class="ttdef"><b>Definition:</b> <a href="AtomicBatchDispatcher_8h_source.html#l00222">AtomicBatchDispatcher.h:222</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3f66a12bc4172836eb2f8d9411d4ce66"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename InputT , typename ResultT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html">folly::fibers::AtomicBatchDispatcher</a>&lt; InputT, ResultT &gt;::~<a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html">AtomicBatchDispatcher</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AtomicBatchDispatcher-inl_8h_source.html#l00177">177</a> of file <a class="el" href="AtomicBatchDispatcher-inl_8h_source.html">AtomicBatchDispatcher-inl.h</a>.</p>

<p>References <a class="el" href="AtomicBatchDispatcher_8h_source.html#l00222">folly::fibers::AtomicBatchDispatcher&lt; InputT, ResultT &gt;::baton_</a>, and <a class="el" href="AtomicBatchDispatcher-inl_8h_source.html#l00204">folly::fibers::AtomicBatchDispatcher&lt; InputT, ResultT &gt;::commit()</a>.</p>
<div class="fragment"><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                                                               {</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html#a4b2764694385e48f75ea24aec34d1cb0">baton_</a>) {</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="comment">// Set error here rather than throw because we do not want to throw from</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="comment">// the destructor of AtomicBatchDispatcher</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <a class="code" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html#a4b2764694385e48f75ea24aec34d1cb0">baton_</a>-&gt;setExceptionWrapper(</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        folly::make_exception_wrapper&lt;ABDCommitNotCalledException&gt;());</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <a class="code" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html#ab323c4c27c6b7a44831e160c65eeedd4">commit</a>();</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  }</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;}</div><div class="ttc" id="classfolly_1_1fibers_1_1AtomicBatchDispatcher_html_a4b2764694385e48f75ea24aec34d1cb0"><div class="ttname"><a href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html#a4b2764694385e48f75ea24aec34d1cb0">folly::fibers::AtomicBatchDispatcher::baton_</a></div><div class="ttdeci">std::shared_ptr&lt; DispatchBaton &gt; baton_</div><div class="ttdef"><b>Definition:</b> <a href="AtomicBatchDispatcher_8h_source.html#l00222">AtomicBatchDispatcher.h:222</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1AtomicBatchDispatcher_html_ab323c4c27c6b7a44831e160c65eeedd4"><div class="ttname"><a href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html#ab323c4c27c6b7a44831e160c65eeedd4">folly::fibers::AtomicBatchDispatcher::commit</a></div><div class="ttdeci">void commit()</div><div class="ttdef"><b>Definition:</b> <a href="AtomicBatchDispatcher-inl_8h_source.html#l00204">AtomicBatchDispatcher-inl.h:204</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a89ca2c51a3904ca07f07492e6cbcb374"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename InputT, typename ResultT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html">folly::fibers::AtomicBatchDispatcher</a>&lt; InputT, ResultT &gt;::<a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html">AtomicBatchDispatcher</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html">AtomicBatchDispatcher</a>&lt; InputT, ResultT &gt; &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8472717887357841bca8430bd7e6118f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename InputT, typename ResultT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html">folly::fibers::AtomicBatchDispatcher</a>&lt; InputT, ResultT &gt;::<a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html">AtomicBatchDispatcher</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html">AtomicBatchDispatcher</a>&lt; InputT, ResultT &gt; &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ab323c4c27c6b7a44831e160c65eeedd4"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename InputT , typename ResultT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html">folly::fibers::AtomicBatchDispatcher</a>&lt; InputT, ResultT &gt;::commit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AtomicBatchDispatcher-inl_8h_source.html#l00204">204</a> of file <a class="el" href="AtomicBatchDispatcher-inl_8h_source.html">AtomicBatchDispatcher-inl.h</a>.</p>

<p>References <a class="el" href="AtomicBatchDispatcher_8h_source.html#l00222">folly::fibers::AtomicBatchDispatcher&lt; InputT, ResultT &gt;::baton_</a>, <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>, and <a class="el" href="AtomicBatchDispatcher_8h_source.html#l00221">folly::fibers::AtomicBatchDispatcher&lt; InputT, ResultT &gt;::numTokensIssued_</a>.</p>

<p>Referenced by <a class="el" href="AtomicBatchDispatcher-inl_8h_source.html#l00177">folly::fibers::AtomicBatchDispatcher&lt; InputT, ResultT &gt;::~AtomicBatchDispatcher()</a>.</p>
<div class="fragment"><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                                                    {</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keyword">auto</span> baton = <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(<a class="code" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html#a4b2764694385e48f75ea24aec34d1cb0">baton_</a>);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="keywordflow">if</span> (!baton) {</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">throw</span> ABDUsageException(</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="stringliteral">&quot;Cannot call commit() more than once on the same dispatcher&quot;</span>);</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  }</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  baton-&gt;setExpectedCount(<a class="code" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html#ae2100cf2f6bbbd89d12eb10235ce703d">numTokensIssued_</a>);</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;}</div><div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1AtomicBatchDispatcher_html_ae2100cf2f6bbbd89d12eb10235ce703d"><div class="ttname"><a href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html#ae2100cf2f6bbbd89d12eb10235ce703d">folly::fibers::AtomicBatchDispatcher::numTokensIssued_</a></div><div class="ttdeci">size_t numTokensIssued_</div><div class="ttdef"><b>Definition:</b> <a href="AtomicBatchDispatcher_8h_source.html#l00221">AtomicBatchDispatcher.h:221</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1AtomicBatchDispatcher_html_a4b2764694385e48f75ea24aec34d1cb0"><div class="ttname"><a href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html#a4b2764694385e48f75ea24aec34d1cb0">folly::fibers::AtomicBatchDispatcher::baton_</a></div><div class="ttdeci">std::shared_ptr&lt; DispatchBaton &gt; baton_</div><div class="ttdef"><b>Definition:</b> <a href="AtomicBatchDispatcher_8h_source.html#l00222">AtomicBatchDispatcher.h:222</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa9de8ff3e364bced9dc9ba4dd7a6973f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename InputT , typename ResultT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">auto <a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html">folly::fibers::AtomicBatchDispatcher</a>&lt; InputT, ResultT &gt;::getToken </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AtomicBatchDispatcher-inl_8h_source.html#l00196">196</a> of file <a class="el" href="AtomicBatchDispatcher-inl_8h_source.html">AtomicBatchDispatcher-inl.h</a>.</p>

<p>References <a class="el" href="AtomicBatchDispatcher_8h_source.html#l00222">folly::fibers::AtomicBatchDispatcher&lt; InputT, ResultT &gt;::baton_</a>, and <a class="el" href="AtomicBatchDispatcher_8h_source.html#l00221">folly::fibers::AtomicBatchDispatcher&lt; InputT, ResultT &gt;::numTokensIssued_</a>.</p>

<p>Referenced by <a class="el" href="FibersTest_8cpp_source.html#l01828">AtomicBatchDispatcherTesting::createJobs()</a>.</p>
<div class="fragment"><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                                                               {</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html#a4b2764694385e48f75ea24aec34d1cb0">baton_</a>) {</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordflow">throw</span> ABDUsageException(<span class="stringliteral">&quot;Cannot issue more tokens after calling commit()&quot;</span>);</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  }</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="structToken.html">Token</a>(<a class="code" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html#a4b2764694385e48f75ea24aec34d1cb0">baton_</a>, <a class="code" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html#ae2100cf2f6bbbd89d12eb10235ce703d">numTokensIssued_</a>++);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;}</div><div class="ttc" id="classfolly_1_1fibers_1_1AtomicBatchDispatcher_html_ae2100cf2f6bbbd89d12eb10235ce703d"><div class="ttname"><a href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html#ae2100cf2f6bbbd89d12eb10235ce703d">folly::fibers::AtomicBatchDispatcher::numTokensIssued_</a></div><div class="ttdeci">size_t numTokensIssued_</div><div class="ttdef"><b>Definition:</b> <a href="AtomicBatchDispatcher_8h_source.html#l00221">AtomicBatchDispatcher.h:221</a></div></div>
<div class="ttc" id="structToken_html"><div class="ttname"><a href="structToken.html">Token</a></div><div class="ttdef"><b>Definition:</b> <a href="DynamicConverterTest_8cpp_source.html#l00306">DynamicConverterTest.cpp:306</a></div></div>
<div class="ttc" id="classfolly_1_1fibers_1_1AtomicBatchDispatcher_html_a4b2764694385e48f75ea24aec34d1cb0"><div class="ttname"><a href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html#a4b2764694385e48f75ea24aec34d1cb0">folly::fibers::AtomicBatchDispatcher::baton_</a></div><div class="ttdeci">std::shared_ptr&lt; DispatchBaton &gt; baton_</div><div class="ttdef"><b>Definition:</b> <a href="AtomicBatchDispatcher_8h_source.html#l00222">AtomicBatchDispatcher.h:222</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6e59ca9e68d2cf1b527f427dd70e2da0"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename InputT, typename ResultT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html">AtomicBatchDispatcher</a>&amp; <a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html">folly::fibers::AtomicBatchDispatcher</a>&lt; InputT, ResultT &gt;::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html">AtomicBatchDispatcher</a>&lt; InputT, ResultT &gt; &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a9278320d013cf0892e854611907c9e31"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename InputT, typename ResultT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html">AtomicBatchDispatcher</a>&amp; <a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html">folly::fibers::AtomicBatchDispatcher</a>&lt; InputT, ResultT &gt;::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html">AtomicBatchDispatcher</a>&lt; InputT, ResultT &gt; &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a94a99fa54212ac99dd988519e5f67fa1"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename InputT , typename ResultT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html">folly::fibers::AtomicBatchDispatcher</a>&lt; InputT, ResultT &gt;::reserve </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>numEntries</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AtomicBatchDispatcher-inl_8h_source.html#l00188">188</a> of file <a class="el" href="AtomicBatchDispatcher-inl_8h_source.html">AtomicBatchDispatcher-inl.h</a>.</p>

<p>References <a class="el" href="AtomicBatchDispatcher_8h_source.html#l00222">folly::fibers::AtomicBatchDispatcher&lt; InputT, ResultT &gt;::baton_</a>.</p>

<p>Referenced by <a class="el" href="AtomicBatchDispatcher-inl_8h_source.html#l00214">folly::fibers::createAtomicBatchDispatcher()</a>.</p>
<div class="fragment"><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                                                                      {</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html#a4b2764694385e48f75ea24aec34d1cb0">baton_</a>) {</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">throw</span> ABDUsageException(<span class="stringliteral">&quot;Cannot call reserve(....) after calling commit()&quot;</span>);</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  }</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <a class="code" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html#a4b2764694385e48f75ea24aec34d1cb0">baton_</a>-&gt;reserve(numEntries);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;}</div><div class="ttc" id="classfolly_1_1fibers_1_1AtomicBatchDispatcher_html_a4b2764694385e48f75ea24aec34d1cb0"><div class="ttname"><a href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html#a4b2764694385e48f75ea24aec34d1cb0">folly::fibers::AtomicBatchDispatcher::baton_</a></div><div class="ttdeci">std::shared_ptr&lt; DispatchBaton &gt; baton_</div><div class="ttdef"><b>Definition:</b> <a href="AtomicBatchDispatcher_8h_source.html#l00222">AtomicBatchDispatcher.h:222</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="a7a2ab5e1b799aa0743c0ee6bb8f96440"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename InputT, typename ResultT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend struct <a class="el" href="structfolly_1_1fibers_1_1AtomicBatchDispatcher_1_1DispatchBaton.html">DispatchBaton</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AtomicBatchDispatcher_8h_source.html#l00170">170</a> of file <a class="el" href="AtomicBatchDispatcher_8h_source.html">AtomicBatchDispatcher.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a4b2764694385e48f75ea24aec34d1cb0"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename InputT, typename ResultT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="structfolly_1_1fibers_1_1AtomicBatchDispatcher_1_1DispatchBaton.html">DispatchBaton</a>&gt; <a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html">folly::fibers::AtomicBatchDispatcher</a>&lt; InputT, ResultT &gt;::baton_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AtomicBatchDispatcher_8h_source.html#l00222">222</a> of file <a class="el" href="AtomicBatchDispatcher_8h_source.html">AtomicBatchDispatcher.h</a>.</p>

<p>Referenced by <a class="el" href="AtomicBatchDispatcher-inl_8h_source.html#l00204">folly::fibers::AtomicBatchDispatcher&lt; InputT, ResultT &gt;::commit()</a>, <a class="el" href="AtomicBatchDispatcher-inl_8h_source.html#l00196">folly::fibers::AtomicBatchDispatcher&lt; InputT, ResultT &gt;::getToken()</a>, <a class="el" href="AtomicBatchDispatcher-inl_8h_source.html#l00188">folly::fibers::AtomicBatchDispatcher&lt; InputT, ResultT &gt;::reserve()</a>, and <a class="el" href="AtomicBatchDispatcher-inl_8h_source.html#l00177">folly::fibers::AtomicBatchDispatcher&lt; InputT, ResultT &gt;::~AtomicBatchDispatcher()</a>.</p>

</div>
</div>
<a class="anchor" id="ae2100cf2f6bbbd89d12eb10235ce703d"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename InputT, typename ResultT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html">folly::fibers::AtomicBatchDispatcher</a>&lt; InputT, ResultT &gt;::numTokensIssued_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AtomicBatchDispatcher_8h_source.html#l00221">221</a> of file <a class="el" href="AtomicBatchDispatcher_8h_source.html">AtomicBatchDispatcher.h</a>.</p>

<p>Referenced by <a class="el" href="AtomicBatchDispatcher-inl_8h_source.html#l00204">folly::fibers::AtomicBatchDispatcher&lt; InputT, ResultT &gt;::commit()</a>, and <a class="el" href="AtomicBatchDispatcher-inl_8h_source.html#l00196">folly::fibers::AtomicBatchDispatcher&lt; InputT, ResultT &gt;::getToken()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>proxygen/folly/folly/fibers/<a class="el" href="AtomicBatchDispatcher_8h_source.html">AtomicBatchDispatcher.h</a></li>
<li>proxygen/folly/folly/fibers/<a class="el" href="AtomicBatchDispatcher-inl_8h_source.html">AtomicBatchDispatcher-inl.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefolly.html">folly</a></li><li class="navelem"><a class="el" href="namespacefolly_1_1fibers.html">fibers</a></li><li class="navelem"><a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html">AtomicBatchDispatcher</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
