<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>proxygen: folly::EventBase Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">proxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classfolly_1_1EventBase.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classfolly_1_1EventBase-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">folly::EventBase Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="EventBase_8h_source.html">EventBase.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for folly::EventBase:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classfolly_1_1EventBase.png" usemap="#folly::EventBase_map" alt=""/>
  <map id="folly::EventBase_map" name="folly::EventBase_map">
<area href="classfolly_1_1TimeoutManager.html" alt="folly::TimeoutManager" shape="rect" coords="165,56,320,80"/>
<area href="classfolly_1_1DrivableExecutor.html" alt="folly::DrivableExecutor" shape="rect" coords="330,56,485,80"/>
<area href="classfolly_1_1IOExecutor.html" alt="folly::IOExecutor" shape="rect" coords="495,56,650,80"/>
<area href="classfolly_1_1SequencedExecutor.html" alt="folly::SequencedExecutor" shape="rect" coords="660,56,815,80"/>
<area href="classfolly_1_1ScheduledExecutor.html" alt="folly::ScheduledExecutor" shape="rect" coords="825,56,980,80"/>
<area href="classfolly_1_1Executor.html" alt="folly::Executor" shape="rect" coords="330,0,485,24"/>
<area href="classfolly_1_1Executor.html" alt="folly::Executor" shape="rect" coords="495,0,650,24"/>
<area href="classfolly_1_1Executor.html" alt="folly::Executor" shape="rect" coords="660,0,815,24"/>
<area href="classfolly_1_1Executor.html" alt="folly::Executor" shape="rect" coords="825,0,980,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase_1_1FunctionLoopCallback.html">FunctionLoopCallback</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase_1_1FunctionRunner.html">FunctionRunner</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase_1_1LoopCallback.html">LoopCallback</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase_1_1SmoothLoopTime.html">SmoothLoopTime</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase_1_1StackFunctionLoopCallback.html">StackFunctionLoopCallback</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a908ce60f8e240e91cca117b3e953118c"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a908ce60f8e240e91cca117b3e953118c">Func</a> = <a class="el" href="classfolly_1_1Function.html">folly::Function</a>&lt; void()&gt;</td></tr>
<tr class="separator:a908ce60f8e240e91cca117b3e953118c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_types_classfolly_1_1TimeoutManager"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classfolly_1_1TimeoutManager')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classfolly_1_1TimeoutManager.html">folly::TimeoutManager</a></td></tr>
<tr class="memitem:a91f0d834602dcb7108b525c36fe1981f inherit pub_types_classfolly_1_1TimeoutManager"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1TimeoutManager.html#a91f0d834602dcb7108b525c36fe1981f">InternalEnum</a> { <a class="el" href="classfolly_1_1TimeoutManager.html#a91f0d834602dcb7108b525c36fe1981fa182fa1c42a2468f8488e6dcf75a81b81">InternalEnum::INTERNAL</a>, 
<a class="el" href="classfolly_1_1TimeoutManager.html#a91f0d834602dcb7108b525c36fe1981fa1e23852820b9154316c7c06e2b7ba051">InternalEnum::NORMAL</a>
 }</td></tr>
<tr class="separator:a91f0d834602dcb7108b525c36fe1981f inherit pub_types_classfolly_1_1TimeoutManager"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4e75200e7fa60f6d967b800edcd8001 inherit pub_types_classfolly_1_1TimeoutManager"><td class="memItemLeft" align="right" valign="top">typedef std::chrono::milliseconds&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1TimeoutManager.html#ad4e75200e7fa60f6d967b800edcd8001">timeout_type</a></td></tr>
<tr class="separator:ad4e75200e7fa60f6d967b800edcd8001 inherit pub_types_classfolly_1_1TimeoutManager"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae28b5018f902df2551119077204992d6 inherit pub_types_classfolly_1_1TimeoutManager"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1TimeoutManager.html#ae28b5018f902df2551119077204992d6">Func</a> = <a class="el" href="classfolly_1_1Function.html">folly::Function</a>&lt; void()&gt;</td></tr>
<tr class="separator:ae28b5018f902df2551119077204992d6 inherit pub_types_classfolly_1_1TimeoutManager"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_types_classfolly_1_1ScheduledExecutor"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classfolly_1_1ScheduledExecutor')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classfolly_1_1ScheduledExecutor.html">folly::ScheduledExecutor</a></td></tr>
<tr class="memitem:a38968e7c0ddcd3a2977ff1f185b187d4 inherit pub_types_classfolly_1_1ScheduledExecutor"><td class="memItemLeft" align="right" valign="top">typedef std::chrono::microseconds&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ScheduledExecutor.html#a38968e7c0ddcd3a2977ff1f185b187d4">Duration</a></td></tr>
<tr class="separator:a38968e7c0ddcd3a2977ff1f185b187d4 inherit pub_types_classfolly_1_1ScheduledExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b549e8d553f3805c3c483a82ae58c8c inherit pub_types_classfolly_1_1ScheduledExecutor"><td class="memItemLeft" align="right" valign="top">typedef std::chrono::steady_clock::time_point&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ScheduledExecutor.html#a6b549e8d553f3805c3c483a82ae58c8c">TimePoint</a></td></tr>
<tr class="separator:a6b549e8d553f3805c3c483a82ae58c8c inherit pub_types_classfolly_1_1ScheduledExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4ff298ae2e35687700eb77daddd27565"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a4ff298ae2e35687700eb77daddd27565">EventBase</a> ()</td></tr>
<tr class="separator:a4ff298ae2e35687700eb77daddd27565"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a001fcd3c71c8ec449abb5fff18b417d0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a001fcd3c71c8ec449abb5fff18b417d0">EventBase</a> (bool enableTimeMeasurement)</td></tr>
<tr class="separator:a001fcd3c71c8ec449abb5fff18b417d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87d0aabc959441a706999e7ec0cefdda"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a87d0aabc959441a706999e7ec0cefdda">EventBase</a> (event_base *evb, bool enableTimeMeasurement=true)</td></tr>
<tr class="separator:a87d0aabc959441a706999e7ec0cefdda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d4b3a899522edce50b4d4d942906064"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a6d4b3a899522edce50b4d4d942906064">~EventBase</a> () override</td></tr>
<tr class="separator:a6d4b3a899522edce50b4d4d942906064"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16d5a5f7ff5531f5faca9c22b528f82b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a16d5a5f7ff5531f5faca9c22b528f82b">loop</a> ()</td></tr>
<tr class="separator:a16d5a5f7ff5531f5faca9c22b528f82b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfb78500466eda2e60899f84249aad27"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#adfb78500466eda2e60899f84249aad27">loopIgnoreKeepAlive</a> ()</td></tr>
<tr class="separator:adfb78500466eda2e60899f84249aad27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73967f738470c77247ac89cc97d0c303"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a73967f738470c77247ac89cc97d0c303">loopOnce</a> (int <a class="el" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a>=0)</td></tr>
<tr class="separator:a73967f738470c77247ac89cc97d0c303"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7696dec40156ed3c4c8caa1e80d188e7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a7696dec40156ed3c4c8caa1e80d188e7">loopForever</a> ()</td></tr>
<tr class="separator:a7696dec40156ed3c4c8caa1e80d188e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac274e03942f8358c5a3106eebc56c120"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#ac274e03942f8358c5a3106eebc56c120">terminateLoopSoon</a> ()</td></tr>
<tr class="separator:ac274e03942f8358c5a3106eebc56c120"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a657bdf25f8e72ac620547bf3d064caed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a657bdf25f8e72ac620547bf3d064caed">runInLoop</a> (<a class="el" href="classfolly_1_1EventBase_1_1LoopCallback.html">LoopCallback</a> *callback, bool thisIteration=false)</td></tr>
<tr class="separator:a657bdf25f8e72ac620547bf3d064caed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae894141c6d4645910937eb5de1cee5b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#ae894141c6d4645910937eb5de1cee5b9">runInLoop</a> (<a class="el" href="classfolly_1_1EventBase.html#a908ce60f8e240e91cca117b3e953118c">Func</a> <a class="el" href="OptionalTest_8cpp.html#adc08ed1554f35803d229aeaf11216b3f">c</a>, bool thisIteration=false)</td></tr>
<tr class="separator:ae894141c6d4645910937eb5de1cee5b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23ff5efa297e45ffe4b3eafd863e85a4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a23ff5efa297e45ffe4b3eafd863e85a4">runOnDestruction</a> (<a class="el" href="classfolly_1_1EventBase_1_1LoopCallback.html">LoopCallback</a> *callback)</td></tr>
<tr class="separator:a23ff5efa297e45ffe4b3eafd863e85a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ed54fb56365c1e41455372008a313bd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a1ed54fb56365c1e41455372008a313bd">runBeforeLoop</a> (<a class="el" href="classfolly_1_1EventBase_1_1LoopCallback.html">LoopCallback</a> *callback)</td></tr>
<tr class="separator:a1ed54fb56365c1e41455372008a313bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a064e4b74656102dbb6b9dccc7ffeb8cf"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a064e4b74656102dbb6b9dccc7ffeb8cf"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a064e4b74656102dbb6b9dccc7ffeb8cf">runInEventBaseThread</a> (void(*fn)(<a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> *), <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> *arg)</td></tr>
<tr class="separator:a064e4b74656102dbb6b9dccc7ffeb8cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32138b22ee2a334a2a35aaba5f6ab0c4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a32138b22ee2a334a2a35aaba5f6ab0c4">runInEventBaseThread</a> (<a class="el" href="classfolly_1_1EventBase.html#a908ce60f8e240e91cca117b3e953118c">Func</a> fn)</td></tr>
<tr class="separator:a32138b22ee2a334a2a35aaba5f6ab0c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb94096ef5323ef3a5ec03f8c62880aa"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:adb94096ef5323ef3a5ec03f8c62880aa"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#adb94096ef5323ef3a5ec03f8c62880aa">runInEventBaseThreadAndWait</a> (void(*fn)(<a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> *), <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> *arg)</td></tr>
<tr class="separator:adb94096ef5323ef3a5ec03f8c62880aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7c3735a004a4faa0803060642fd8d86"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#af7c3735a004a4faa0803060642fd8d86">runInEventBaseThreadAndWait</a> (<a class="el" href="classfolly_1_1EventBase.html#a908ce60f8e240e91cca117b3e953118c">Func</a> fn)</td></tr>
<tr class="separator:af7c3735a004a4faa0803060642fd8d86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c2a10afea49da156267b51a84842929"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a5c2a10afea49da156267b51a84842929"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a5c2a10afea49da156267b51a84842929">runImmediatelyOrRunInEventBaseThreadAndWait</a> (void(*fn)(<a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> *), <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> *arg)</td></tr>
<tr class="separator:a5c2a10afea49da156267b51a84842929"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38ba1dc4f87a652bf964af138bc24bdd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a38ba1dc4f87a652bf964af138bc24bdd">runImmediatelyOrRunInEventBaseThreadAndWait</a> (<a class="el" href="classfolly_1_1EventBase.html#a908ce60f8e240e91cca117b3e953118c">Func</a> fn)</td></tr>
<tr class="separator:a38ba1dc4f87a652bf964af138bc24bdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4db9614345c412f530ad6f5bc4e8e7df"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a4db9614345c412f530ad6f5bc4e8e7df">setMaxLatency</a> (std::chrono::microseconds maxLatency, <a class="el" href="classfolly_1_1EventBase.html#a908ce60f8e240e91cca117b3e953118c">Func</a> maxLatencyCob)</td></tr>
<tr class="separator:a4db9614345c412f530ad6f5bc4e8e7df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a377f6fb21de85f9a11eef9afad521184"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a377f6fb21de85f9a11eef9afad521184">setLoadAvgMsec</a> (std::chrono::milliseconds ms)</td></tr>
<tr class="separator:a377f6fb21de85f9a11eef9afad521184"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cdfe4e579993dc2d4ce12625c18b9d5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a1cdfe4e579993dc2d4ce12625c18b9d5">resetLoadAvg</a> (double <a class="el" href="namespacefolly.html#af765fccfa9242184196b4906286ada49">value</a>=0.0)</td></tr>
<tr class="separator:a1cdfe4e579993dc2d4ce12625c18b9d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c64b05b775a8ce6beead930542c427d"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a0c64b05b775a8ce6beead930542c427d">getAvgLoopTime</a> () const </td></tr>
<tr class="separator:a0c64b05b775a8ce6beead930542c427d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a945c69c37196f145c3eb24fa6d719d20"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a945c69c37196f145c3eb24fa6d719d20">isRunning</a> () const </td></tr>
<tr class="separator:a945c69c37196f145c3eb24fa6d719d20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9ea38dd928c52d56e72eaefe310e13a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#af9ea38dd928c52d56e72eaefe310e13a">waitUntilRunning</a> ()</td></tr>
<tr class="separator:af9ea38dd928c52d56e72eaefe310e13a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a743db4fb064ae66088ad96a5447fe8f2"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a743db4fb064ae66088ad96a5447fe8f2">getNotificationQueueSize</a> () const </td></tr>
<tr class="separator:a743db4fb064ae66088ad96a5447fe8f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4447db8c5d8f9a233d928a1bb102d493"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a4447db8c5d8f9a233d928a1bb102d493">setMaxReadAtOnce</a> (<a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> maxAtOnce)</td></tr>
<tr class="separator:a4447db8c5d8f9a233d928a1bb102d493"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb01d21c112777ecf6c7f12c303fe65b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#acb01d21c112777ecf6c7f12c303fe65b">isInEventBaseThread</a> () const </td></tr>
<tr class="separator:acb01d21c112777ecf6c7f12c303fe65b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7350a554066042e9ce12f01bac64631"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#ad7350a554066042e9ce12f01bac64631">inRunningEventBaseThread</a> () const </td></tr>
<tr class="separator:ad7350a554066042e9ce12f01bac64631"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5242b8984a05aa47f298a647c2b3948"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#aa5242b8984a05aa47f298a647c2b3948">checkIsInEventBaseThread</a> () const </td></tr>
<tr class="separator:aa5242b8984a05aa47f298a647c2b3948"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42a80d7c0f6207dcaef1d84b7584d67d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a42a80d7c0f6207dcaef1d84b7584d67d">dcheckIsInEventBaseThread</a> () const </td></tr>
<tr class="separator:a42a80d7c0f6207dcaef1d84b7584d67d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afedcfb0ece654c202aa16ccb61a34249"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1HHWheelTimer.html">HHWheelTimer</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#afedcfb0ece654c202aa16ccb61a34249">timer</a> ()</td></tr>
<tr class="separator:afedcfb0ece654c202aa16ccb61a34249"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04e4e3ccdee7022bac8ec0b574764dce"><td class="memItemLeft" align="right" valign="top">event_base *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a04e4e3ccdee7022bac8ec0b574764dce">getLibeventBase</a> () const </td></tr>
<tr class="separator:a04e4e3ccdee7022bac8ec0b574764dce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1fc81ab3ce7e5c59fefe84758b9723e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#ad1fc81ab3ce7e5c59fefe84758b9723e">bumpHandlingTime</a> () final</td></tr>
<tr class="separator:ad1fc81ab3ce7e5c59fefe84758b9723e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1492a0e4d670f75051e73dc363155f7b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a1492a0e4d670f75051e73dc363155f7b">setObserver</a> (const std::shared_ptr&lt; <a class="el" href="classfolly_1_1EventBaseObserver.html">EventBaseObserver</a> &gt; &amp;observer)</td></tr>
<tr class="separator:a1492a0e4d670f75051e73dc363155f7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54426f1641c4e66c1a31ff743d3d7d04"><td class="memItemLeft" align="right" valign="top">const std::shared_ptr&lt; <a class="el" href="classfolly_1_1EventBaseObserver.html">EventBaseObserver</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a54426f1641c4e66c1a31ff743d3d7d04">getObserver</a> ()</td></tr>
<tr class="separator:a54426f1641c4e66c1a31ff743d3d7d04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac16c79257c9155a82d1c03b1305898cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#ac16c79257c9155a82d1c03b1305898cb">setExecutionObserver</a> (<a class="el" href="classfolly_1_1ExecutionObserver.html">ExecutionObserver</a> *observer)</td></tr>
<tr class="separator:ac16c79257c9155a82d1c03b1305898cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78a4a0fdbb87679018f7573474ce3624"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1ExecutionObserver.html">ExecutionObserver</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a78a4a0fdbb87679018f7573474ce3624">getExecutionObserver</a> ()</td></tr>
<tr class="separator:a78a4a0fdbb87679018f7573474ce3624"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ea0304a1c1891ce4022a92ce1984d48"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a2ea0304a1c1891ce4022a92ce1984d48">setName</a> (const <a class="el" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a> &amp;<a class="el" href="folly_2folly_2experimental_2symbolizer_2SignalHandler_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="separator:a2ea0304a1c1891ce4022a92ce1984d48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f35408cc78fb28419fa5a2a7c843ca1"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a0f35408cc78fb28419fa5a2a7c843ca1">getName</a> ()</td></tr>
<tr class="separator:a0f35408cc78fb28419fa5a2a7c843ca1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d71728eeb12747ad5357b2d1c1ec894"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a3d71728eeb12747ad5357b2d1c1ec894">add</a> (<a class="el" href="namespacefolly.html#a4832c4c9cc8646eb5e0b105d448fc3ad">Cob</a> fn) override</td></tr>
<tr class="memdesc:a3d71728eeb12747ad5357b2d1c1ec894"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements the <a class="el" href="classfolly_1_1Executor.html">Executor</a> interface.  <a href="#a3d71728eeb12747ad5357b2d1c1ec894">More...</a><br /></td></tr>
<tr class="separator:a3d71728eeb12747ad5357b2d1c1ec894"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2683301f4a3f4e7dabea6d6bf4c508d3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a2683301f4a3f4e7dabea6d6bf4c508d3">drive</a> () override</td></tr>
<tr class="memdesc:a2683301f4a3f4e7dabea6d6bf4c508d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements the <a class="el" href="classfolly_1_1DrivableExecutor.html">DrivableExecutor</a> interface.  <a href="#a2683301f4a3f4e7dabea6d6bf4c508d3">More...</a><br /></td></tr>
<tr class="separator:a2683301f4a3f4e7dabea6d6bf4c508d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d32048f96f5582075190ad43f33b76a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a6d32048f96f5582075190ad43f33b76a">scheduleAt</a> (<a class="el" href="classfolly_1_1EventBase.html#a908ce60f8e240e91cca117b3e953118c">Func</a> &amp;&amp;fn, <a class="el" href="classfolly_1_1ScheduledExecutor.html#a6b549e8d553f3805c3c483a82ae58c8c">TimePoint</a> const &amp;timeout) override</td></tr>
<tr class="separator:a6d32048f96f5582075190ad43f33b76a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d5003dcae24468f1412b9306195afbe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a0d5003dcae24468f1412b9306195afbe">attachTimeoutManager</a> (<a class="el" href="classfolly_1_1AsyncTimeout.html">AsyncTimeout</a> *obj, <a class="el" href="classfolly_1_1TimeoutManager.html#a91f0d834602dcb7108b525c36fe1981f">TimeoutManager::InternalEnum</a> internal) final</td></tr>
<tr class="separator:a0d5003dcae24468f1412b9306195afbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4039a78b12e4af16a91ab09114541aae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a4039a78b12e4af16a91ab09114541aae">detachTimeoutManager</a> (<a class="el" href="classfolly_1_1AsyncTimeout.html">AsyncTimeout</a> *obj) final</td></tr>
<tr class="separator:a4039a78b12e4af16a91ab09114541aae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac91240c21e633f773115a8bfcdcb097c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#ac91240c21e633f773115a8bfcdcb097c">scheduleTimeout</a> (<a class="el" href="classfolly_1_1AsyncTimeout.html">AsyncTimeout</a> *obj, <a class="el" href="classfolly_1_1TimeoutManager.html#ad4e75200e7fa60f6d967b800edcd8001">TimeoutManager::timeout_type</a> timeout) final</td></tr>
<tr class="separator:ac91240c21e633f773115a8bfcdcb097c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b73fe85f86499770e3b607bc0e26fa2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a6b73fe85f86499770e3b607bc0e26fa2">cancelTimeout</a> (<a class="el" href="classfolly_1_1AsyncTimeout.html">AsyncTimeout</a> *obj) final</td></tr>
<tr class="separator:a6b73fe85f86499770e3b607bc0e26fa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40c5ec2ff194131ccfb55d97e46d41d8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a40c5ec2ff194131ccfb55d97e46d41d8">isInTimeoutManagerThread</a> () final</td></tr>
<tr class="separator:a40c5ec2ff194131ccfb55d97e46d41d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4ef01da1c01dfa47543125a043e655d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1VirtualEventBase.html">folly::VirtualEventBase</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#ab4ef01da1c01dfa47543125a043e655d">getVirtualEventBase</a> ()</td></tr>
<tr class="separator:ab4ef01da1c01dfa47543125a043e655d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a653d33a403a9b3f1cdd7d78b17fe892d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1EventBase.html">EventBase</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a653d33a403a9b3f1cdd7d78b17fe892d">getEventBase</a> () override</td></tr>
<tr class="memdesc:a653d33a403a9b3f1cdd7d78b17fe892d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements the <a class="el" href="classfolly_1_1IOExecutor.html">IOExecutor</a> interface.  <a href="#a653d33a403a9b3f1cdd7d78b17fe892d">More...</a><br /></td></tr>
<tr class="separator:a653d33a403a9b3f1cdd7d78b17fe892d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classfolly_1_1TimeoutManager"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classfolly_1_1TimeoutManager')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classfolly_1_1TimeoutManager.html">folly::TimeoutManager</a></td></tr>
<tr class="memitem:a455cbddeb6a78163eb08480e52e03c5c inherit pub_methods_classfolly_1_1TimeoutManager"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1TimeoutManager.html#a455cbddeb6a78163eb08480e52e03c5c">TimeoutManager</a> ()</td></tr>
<tr class="separator:a455cbddeb6a78163eb08480e52e03c5c inherit pub_methods_classfolly_1_1TimeoutManager"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13a2e4400fc491d334e63546e6b2e4dd inherit pub_methods_classfolly_1_1TimeoutManager"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1TimeoutManager.html#a13a2e4400fc491d334e63546e6b2e4dd">~TimeoutManager</a> ()</td></tr>
<tr class="separator:a13a2e4400fc491d334e63546e6b2e4dd inherit pub_methods_classfolly_1_1TimeoutManager"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8919da93285b071fb3667b53e6469d95 inherit pub_methods_classfolly_1_1TimeoutManager"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1TimeoutManager.html#a8919da93285b071fb3667b53e6469d95">runAfterDelay</a> (<a class="el" href="classfolly_1_1TimeoutManager.html#ae28b5018f902df2551119077204992d6">Func</a> cob, <a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> milliseconds, <a class="el" href="classfolly_1_1TimeoutManager.html#a91f0d834602dcb7108b525c36fe1981f">InternalEnum</a> internal=<a class="el" href="classfolly_1_1TimeoutManager.html#a91f0d834602dcb7108b525c36fe1981fa1e23852820b9154316c7c06e2b7ba051">InternalEnum::NORMAL</a>)</td></tr>
<tr class="separator:a8919da93285b071fb3667b53e6469d95 inherit pub_methods_classfolly_1_1TimeoutManager"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa106673cca53bdd937e19feb047b939b inherit pub_methods_classfolly_1_1TimeoutManager"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1TimeoutManager.html#aa106673cca53bdd937e19feb047b939b">tryRunAfterDelay</a> (<a class="el" href="classfolly_1_1TimeoutManager.html#ae28b5018f902df2551119077204992d6">Func</a> cob, <a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> milliseconds, <a class="el" href="classfolly_1_1TimeoutManager.html#a91f0d834602dcb7108b525c36fe1981f">InternalEnum</a> internal=<a class="el" href="classfolly_1_1TimeoutManager.html#a91f0d834602dcb7108b525c36fe1981fa1e23852820b9154316c7c06e2b7ba051">InternalEnum::NORMAL</a>)</td></tr>
<tr class="separator:aa106673cca53bdd937e19feb047b939b inherit pub_methods_classfolly_1_1TimeoutManager"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classfolly_1_1DrivableExecutor"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classfolly_1_1DrivableExecutor')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classfolly_1_1DrivableExecutor.html">folly::DrivableExecutor</a></td></tr>
<tr class="memitem:aae8c11ce6029e5ecc7d41d717c1710eb inherit pub_methods_classfolly_1_1DrivableExecutor"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1DrivableExecutor.html#aae8c11ce6029e5ecc7d41d717c1710eb">~DrivableExecutor</a> () override=default</td></tr>
<tr class="separator:aae8c11ce6029e5ecc7d41d717c1710eb inherit pub_methods_classfolly_1_1DrivableExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classfolly_1_1Executor"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classfolly_1_1Executor')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classfolly_1_1Executor.html">folly::Executor</a></td></tr>
<tr class="memitem:a2a710c710ae0eba33dc6548f39576f43 inherit pub_methods_classfolly_1_1Executor"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#a2a710c710ae0eba33dc6548f39576f43">~Executor</a> ()</td></tr>
<tr class="separator:a2a710c710ae0eba33dc6548f39576f43 inherit pub_methods_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d84a5a09f7762ca05cdb5ae2dea15b9 inherit pub_methods_classfolly_1_1Executor"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#a3d84a5a09f7762ca05cdb5ae2dea15b9">addWithPriority</a> (<a class="el" href="namespacefolly.html#a4f345dd5f9b26d8dd202c2072badbea8">Func</a>, <a class="el" href="ConstexprMathBenchmark_8cpp.html#a20c38cc5aac7cc6b0a3c6ab05428436d">int8_t</a> priority)</td></tr>
<tr class="separator:a3d84a5a09f7762ca05cdb5ae2dea15b9 inherit pub_methods_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2c2fbd10f0e14f06b329f107dfaf140 inherit pub_methods_classfolly_1_1Executor"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#ad2c2fbd10f0e14f06b329f107dfaf140">getNumPriorities</a> () const </td></tr>
<tr class="separator:ad2c2fbd10f0e14f06b329f107dfaf140 inherit pub_methods_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classfolly_1_1IOExecutor"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classfolly_1_1IOExecutor')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classfolly_1_1IOExecutor.html">folly::IOExecutor</a></td></tr>
<tr class="memitem:a52d44f8907fa6505b1094c1c040b3a98 inherit pub_methods_classfolly_1_1IOExecutor"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1IOExecutor.html#a52d44f8907fa6505b1094c1c040b3a98">~IOExecutor</a> () override=default</td></tr>
<tr class="separator:a52d44f8907fa6505b1094c1c040b3a98 inherit pub_methods_classfolly_1_1IOExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classfolly_1_1ScheduledExecutor"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classfolly_1_1ScheduledExecutor')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classfolly_1_1ScheduledExecutor.html">folly::ScheduledExecutor</a></td></tr>
<tr class="memitem:a2bb0f313041b24360bbaa4a0a2d4a473 inherit pub_methods_classfolly_1_1ScheduledExecutor"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ScheduledExecutor.html#a2bb0f313041b24360bbaa4a0a2d4a473">~ScheduledExecutor</a> () override=default</td></tr>
<tr class="separator:a2bb0f313041b24360bbaa4a0a2d4a473 inherit pub_methods_classfolly_1_1ScheduledExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41b6d5f9aea0460e20abf979b6f82c15 inherit pub_methods_classfolly_1_1ScheduledExecutor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ScheduledExecutor.html#a41b6d5f9aea0460e20abf979b6f82c15">schedule</a> (<a class="el" href="namespacefolly.html#a4f345dd5f9b26d8dd202c2072badbea8">Func</a> &amp;&amp;<a class="el" href="ThreadLocalTestLib_8cpp.html#ade9333b8d79add4dbffa41b7727714e8">a</a>)</td></tr>
<tr class="memdesc:a41b6d5f9aea0460e20abf979b6f82c15 inherit pub_methods_classfolly_1_1ScheduledExecutor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Alias for <a class="el" href="classfolly_1_1ScheduledExecutor.html#af2b64754b6be3b67c3e034a116a67599">add()</a> (for Rx consistency)  <a href="#a41b6d5f9aea0460e20abf979b6f82c15">More...</a><br /></td></tr>
<tr class="separator:a41b6d5f9aea0460e20abf979b6f82c15 inherit pub_methods_classfolly_1_1ScheduledExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f198b47fdd685429e35bc2034369438 inherit pub_methods_classfolly_1_1ScheduledExecutor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ScheduledExecutor.html#a8f198b47fdd685429e35bc2034369438">schedule</a> (<a class="el" href="namespacefolly.html#a4f345dd5f9b26d8dd202c2072badbea8">Func</a> &amp;&amp;<a class="el" href="ThreadLocalTestLib_8cpp.html#ade9333b8d79add4dbffa41b7727714e8">a</a>, <a class="el" href="classfolly_1_1ScheduledExecutor.html#a38968e7c0ddcd3a2977ff1f185b187d4">Duration</a> const &amp;dur)</td></tr>
<tr class="separator:a8f198b47fdd685429e35bc2034369438 inherit pub_methods_classfolly_1_1ScheduledExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af237fb50f913ad115c2ebc8863a5f82c inherit pub_methods_classfolly_1_1ScheduledExecutor"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classfolly_1_1ScheduledExecutor.html#a6b549e8d553f3805c3c483a82ae58c8c">TimePoint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ScheduledExecutor.html#af237fb50f913ad115c2ebc8863a5f82c">now</a> ()</td></tr>
<tr class="memdesc:af237fb50f913ad115c2ebc8863a5f82c inherit pub_methods_classfolly_1_1ScheduledExecutor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get this executor's notion of time. Must be threadsafe.  <a href="#af237fb50f913ad115c2ebc8863a5f82c">More...</a><br /></td></tr>
<tr class="separator:af237fb50f913ad115c2ebc8863a5f82c inherit pub_methods_classfolly_1_1ScheduledExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a7cabeebcebee9ba0486c2d82433bdb09"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a7cabeebcebee9ba0486c2d82433bdb09">getLibeventVersion</a> ()</td></tr>
<tr class="separator:a7cabeebcebee9ba0486c2d82433bdb09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4828bb064914a4962ccd53c0ea898ac"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#ae4828bb064914a4962ccd53c0ea898ac">getLibeventMethod</a> ()</td></tr>
<tr class="separator:ae4828bb064914a4962ccd53c0ea898ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_methods_classfolly_1_1Executor"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classfolly_1_1Executor')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classfolly_1_1Executor.html">folly::Executor</a></td></tr>
<tr class="memitem:a921eb187ac98c7ef6ae0a04d741c55b6 inherit pub_static_methods_classfolly_1_1Executor"><td class="memTemplParams" colspan="2">template&lt;typename ExecutorT &gt; </td></tr>
<tr class="memitem:a921eb187ac98c7ef6ae0a04d741c55b6 inherit pub_static_methods_classfolly_1_1Executor"><td class="memTemplItemLeft" align="right" valign="top">static <a class="el" href="classfolly_1_1Executor_1_1KeepAlive.html">KeepAlive</a>&lt; ExecutorT &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#a921eb187ac98c7ef6ae0a04d741c55b6">getKeepAliveToken</a> (ExecutorT *executor)</td></tr>
<tr class="separator:a921eb187ac98c7ef6ae0a04d741c55b6 inherit pub_static_methods_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1590ff9b76a92b064a41f789e07e764c inherit pub_static_methods_classfolly_1_1Executor"><td class="memTemplParams" colspan="2">template&lt;typename ExecutorT &gt; </td></tr>
<tr class="memitem:a1590ff9b76a92b064a41f789e07e764c inherit pub_static_methods_classfolly_1_1Executor"><td class="memTemplItemLeft" align="right" valign="top">static <a class="el" href="classfolly_1_1Executor_1_1KeepAlive.html">KeepAlive</a>&lt; ExecutorT &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#a1590ff9b76a92b064a41f789e07e764c">getKeepAliveToken</a> (ExecutorT &amp;executor)</td></tr>
<tr class="separator:a1590ff9b76a92b064a41f789e07e764c inherit pub_static_methods_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:aa0156016acfdf40e77fa1752d8b6ce39"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#aa0156016acfdf40e77fa1752d8b6ce39">keepAliveAcquire</a> () override</td></tr>
<tr class="separator:aa0156016acfdf40e77fa1752d8b6ce39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32e05aec8ac32a882fc56692eeed0d8c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a32e05aec8ac32a882fc56692eeed0d8c">keepAliveRelease</a> () override</td></tr>
<tr class="separator:a32e05aec8ac32a882fc56692eeed0d8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classfolly_1_1TimeoutManager"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classfolly_1_1TimeoutManager')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classfolly_1_1TimeoutManager.html">folly::TimeoutManager</a></td></tr>
<tr class="memitem:ad35247348c71062e2dddb8e1abb2c2bd inherit pro_methods_classfolly_1_1TimeoutManager"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1TimeoutManager.html#ad35247348c71062e2dddb8e1abb2c2bd">clearCobTimeouts</a> ()</td></tr>
<tr class="separator:ad35247348c71062e2dddb8e1abb2c2bd inherit pro_methods_classfolly_1_1TimeoutManager"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:aaa068e1cddd4f46220a35cc9712080bd"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classfolly_1_1EventBase_1_1LoopCallback.html#a8a233f309da7bf986c3df4f74795af18">LoopCallback::List</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#aaa068e1cddd4f46220a35cc9712080bd">LoopCallbackList</a></td></tr>
<tr class="separator:aaa068e1cddd4f46220a35cc9712080bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a4b1ec25d0b7aab33810e8a3274fa6de0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a4b1ec25d0b7aab33810e8a3274fa6de0">applyLoopKeepAlive</a> ()</td></tr>
<tr class="separator:a4b1ec25d0b7aab33810e8a3274fa6de0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a470bbda7f57eb4759f5d04dfd3950978"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a470bbda7f57eb4759f5d04dfd3950978">loopKeepAliveCount</a> ()</td></tr>
<tr class="separator:a470bbda7f57eb4759f5d04dfd3950978"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e60d7ee18d552494e573cba10c60f39"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a7e60d7ee18d552494e573cba10c60f39">nothingHandledYet</a> () const noexcept</td></tr>
<tr class="separator:a7e60d7ee18d552494e573cba10c60f39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a3b34ef460fa0388521cdf6bc4e81d4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a4a3b34ef460fa0388521cdf6bc4e81d4">loopBody</a> (int <a class="el" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a>=0, bool ignoreKeepAlive=false)</td></tr>
<tr class="separator:a4a3b34ef460fa0388521cdf6bc4e81d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab506321e0870c93e2a650b16aaa84873"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#ab506321e0870c93e2a650b16aaa84873">runLoopCallbacks</a> ()</td></tr>
<tr class="separator:ab506321e0870c93e2a650b16aaa84873"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2556ae6bd95289b7dd1e6edd549dc8f1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a2556ae6bd95289b7dd1e6edd549dc8f1">initNotificationQueue</a> ()</td></tr>
<tr class="separator:a2556ae6bd95289b7dd1e6edd549dc8f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a651395c67fb8712defa84d4d3de7251a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1HHWheelTimer.html#ac5c81b3296322bb2afffde0af8a0a797">HHWheelTimer::UniquePtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a651395c67fb8712defa84d4d3de7251a">wheelTimer_</a></td></tr>
<tr class="separator:a651395c67fb8712defa84d4d3de7251a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae13a1de2a9814a3494b562bc58e6f3cd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1EventBase.html#aaa068e1cddd4f46220a35cc9712080bd">LoopCallbackList</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#ae13a1de2a9814a3494b562bc58e6f3cd">loopCallbacks_</a></td></tr>
<tr class="separator:ae13a1de2a9814a3494b562bc58e6f3cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4906484269a6c78046a4fb394badff34"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1EventBase.html#aaa068e1cddd4f46220a35cc9712080bd">LoopCallbackList</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a4906484269a6c78046a4fb394badff34">runBeforeLoopCallbacks_</a></td></tr>
<tr class="separator:a4906484269a6c78046a4fb394badff34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a83d93b08cf459e3b5808e82fc99311"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1EventBase.html#aaa068e1cddd4f46220a35cc9712080bd">LoopCallbackList</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a4a83d93b08cf459e3b5808e82fc99311">onDestructionCallbacks_</a></td></tr>
<tr class="separator:a4a83d93b08cf459e3b5808e82fc99311"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a654f6fb879afc737c265b0b746284e7a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1EventBase.html#aaa068e1cddd4f46220a35cc9712080bd">LoopCallbackList</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a654f6fb879afc737c265b0b746284e7a">runOnceCallbacks_</a></td></tr>
<tr class="separator:a654f6fb879afc737c265b0b746284e7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf0f606ae64ed101e63c0ed5372f5274"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#acf0f606ae64ed101e63c0ed5372f5274">stop_</a></td></tr>
<tr class="separator:acf0f606ae64ed101e63c0ed5372f5274"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6bcd79c854872291c03aef11ba42d43"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; std::thread::id &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#ae6bcd79c854872291c03aef11ba42d43">loopThread_</a></td></tr>
<tr class="separator:ae6bcd79c854872291c03aef11ba42d43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b4458d0f1f1b7a68e26715dc8ddcc88"><td class="memItemLeft" align="right" valign="top">event_base *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a0b4458d0f1f1b7a68e26715dc8ddcc88">evb_</a></td></tr>
<tr class="separator:a0b4458d0f1f1b7a68e26715dc8ddcc88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a767caba2144b07e4acc7096560705283"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classfolly_1_1NotificationQueue.html">NotificationQueue</a>&lt; <a class="el" href="classfolly_1_1EventBase.html#a908ce60f8e240e91cca117b3e953118c">Func</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a767caba2144b07e4acc7096560705283">queue_</a></td></tr>
<tr class="separator:a767caba2144b07e4acc7096560705283"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58df53039cb63db4496275e21c24470e"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classfolly_1_1EventBase_1_1FunctionRunner.html">FunctionRunner</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a58df53039cb63db4496275e21c24470e">fnRunner_</a></td></tr>
<tr class="separator:a58df53039cb63db4496275e21c24470e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ff9288aa1b5c613523eda5d71c5b07d"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a7ff9288aa1b5c613523eda5d71c5b07d">loopKeepAliveCount_</a> {0}</td></tr>
<tr class="separator:a7ff9288aa1b5c613523eda5d71c5b07d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a087b44d8c0bd757b296e373859407143"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; ssize_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a087b44d8c0bd757b296e373859407143">loopKeepAliveCountAtomic_</a> {0}</td></tr>
<tr class="separator:a087b44d8c0bd757b296e373859407143"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5edd3dc7d26dc330922fae6e78712fa2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a5edd3dc7d26dc330922fae6e78712fa2">loopKeepAliveActive_</a> {false}</td></tr>
<tr class="separator:a5edd3dc7d26dc330922fae6e78712fa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adab96ad1af6fa6e1a73e246ae0d03332"><td class="memItemLeft" align="right" valign="top">std::chrono::microseconds&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#adab96ad1af6fa6e1a73e246ae0d03332">maxLatency_</a></td></tr>
<tr class="separator:adab96ad1af6fa6e1a73e246ae0d03332"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e20b42bf343d8bcfc7b9bded59c3af8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1EventBase_1_1SmoothLoopTime.html">SmoothLoopTime</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a5e20b42bf343d8bcfc7b9bded59c3af8">avgLoopTime_</a></td></tr>
<tr class="separator:a5e20b42bf343d8bcfc7b9bded59c3af8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adefe6cee34e657875e6ad139728cb06f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1EventBase_1_1SmoothLoopTime.html">SmoothLoopTime</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#adefe6cee34e657875e6ad139728cb06f">maxLatencyLoopTime_</a></td></tr>
<tr class="separator:adefe6cee34e657875e6ad139728cb06f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed2dacd6acb029a87a081273cdf62604"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1EventBase.html#a908ce60f8e240e91cca117b3e953118c">Func</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#aed2dacd6acb029a87a081273cdf62604">maxLatencyCob_</a></td></tr>
<tr class="separator:aed2dacd6acb029a87a081273cdf62604"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99bee522d749d5e070fdfc01de594868"><td class="memItemLeft" align="right" valign="top">const bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a99bee522d749d5e070fdfc01de594868">enableTimeMeasurement_</a></td></tr>
<tr class="separator:a99bee522d749d5e070fdfc01de594868"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a988ab0bb495552406db82d2f8f38b25c"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a988ab0bb495552406db82d2f8f38b25c">nextLoopCnt_</a></td></tr>
<tr class="separator:a988ab0bb495552406db82d2f8f38b25c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48b58cf7932997126eb778e66da241bf"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a48b58cf7932997126eb778e66da241bf">latestLoopCnt_</a></td></tr>
<tr class="separator:a48b58cf7932997126eb778e66da241bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ad6534553916ba16981f36724621c8f"><td class="memItemLeft" align="right" valign="top">std::chrono::steady_clock::time_point&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a5ad6534553916ba16981f36724621c8f">startWork_</a></td></tr>
<tr class="separator:a5ad6534553916ba16981f36724621c8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33d3f07facb142b2e805833d691d7ced"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a33d3f07facb142b2e805833d691d7ced">invokingLoop_</a> {false}</td></tr>
<tr class="separator:a33d3f07facb142b2e805833d691d7ced"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5107b96390c8e78246f7847863396d7f"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classfolly_1_1EventBaseObserver.html">EventBaseObserver</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a5107b96390c8e78246f7847863396d7f">observer_</a></td></tr>
<tr class="separator:a5107b96390c8e78246f7847863396d7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75756e6bf560517cd8fede82669e5cb3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a75756e6bf560517cd8fede82669e5cb3">observerSampleCount_</a></td></tr>
<tr class="separator:a75756e6bf560517cd8fede82669e5cb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7fcf2326933d11252b84c8cdefe7106"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1ExecutionObserver.html">ExecutionObserver</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#ab7fcf2326933d11252b84c8cdefe7106">executionObserver_</a></td></tr>
<tr class="separator:ab7fcf2326933d11252b84c8cdefe7106"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdcce9804a9705367cee8857a1ff276f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#afdcce9804a9705367cee8857a1ff276f">name_</a></td></tr>
<tr class="separator:afdcce9804a9705367cee8857a1ff276f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb89099bea2e36a455b956898bac8837"><td class="memItemLeft" align="right" valign="top"><a class="el" href="OpenSSLThreading_8cpp.html#a1be3f7fa26e4521098de5f1ec0f865f3">std::mutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#abb89099bea2e36a455b956898bac8837">onDestructionCallbacksMutex_</a></td></tr>
<tr class="separator:abb89099bea2e36a455b956898bac8837"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab50cc007968313892edba59bfcd3da86"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; std::size_t, std::shared_ptr&lt; void &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#ab50cc007968313892edba59bfcd3da86">localStorage_</a></td></tr>
<tr class="separator:ab50cc007968313892edba59bfcd3da86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6036f0b5ae08604d8699c7ca2708886"><td class="memItemLeft" align="right" valign="top">std::unordered_set&lt; <a class="el" href="classfolly_1_1detail_1_1EventBaseLocalBaseBase.html">detail::EventBaseLocalBaseBase</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#ac6036f0b5ae08604d8699c7ca2708886">localStorageToDtor_</a></td></tr>
<tr class="separator:ac6036f0b5ae08604d8699c7ca2708886"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace72770e0ad3ed239cb511bd5f7f29c5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacefolly.html#a0b26611d0d1e59ab71c379c684bb1e8f">folly::once_flag</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#ace72770e0ad3ed239cb511bd5f7f29c5">virtualEventBaseInitFlag_</a></td></tr>
<tr class="separator:ace72770e0ad3ed239cb511bd5f7f29c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a144d0cb2ac0d3749d732eb5163b4c3ce"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classfolly_1_1VirtualEventBase.html">VirtualEventBase</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#a144d0cb2ac0d3749d732eb5163b4c3ce">virtualEventBase_</a></td></tr>
<tr class="separator:a144d0cb2ac0d3749d732eb5163b4c3ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:ad5a06a1b18a04d430c1c9852e5889d96"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#ad5a06a1b18a04d430c1c9852e5889d96">detail::EventBaseLocalBase</a></td></tr>
<tr class="separator:ad5a06a1b18a04d430c1c9852e5889d96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af560ac5db5178f124ba673c624962b98"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:af560ac5db5178f124ba673c624962b98"><td class="memTemplItemLeft" align="right" valign="top">class&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1EventBase.html#af560ac5db5178f124ba673c624962b98">EventBaseLocal</a></td></tr>
<tr class="separator:af560ac5db5178f124ba673c624962b98"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_attribs_classfolly_1_1Executor"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_classfolly_1_1Executor')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="classfolly_1_1Executor.html">folly::Executor</a></td></tr>
<tr class="memitem:afbb7f50dbb65dd3395aab6dcd5603cf5 inherit pub_static_attribs_classfolly_1_1Executor"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="ConstexprMathBenchmark_8cpp.html#a20c38cc5aac7cc6b0a3c6ab05428436d">int8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#afbb7f50dbb65dd3395aab6dcd5603cf5">LO_PRI</a> = SCHAR_MIN</td></tr>
<tr class="separator:afbb7f50dbb65dd3395aab6dcd5603cf5 inherit pub_static_attribs_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a579944074469580e7a967aa1231ba57a inherit pub_static_attribs_classfolly_1_1Executor"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="ConstexprMathBenchmark_8cpp.html#a20c38cc5aac7cc6b0a3c6ab05428436d">int8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#a579944074469580e7a967aa1231ba57a">MID_PRI</a> = 0</td></tr>
<tr class="separator:a579944074469580e7a967aa1231ba57a inherit pub_static_attribs_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9acf25ca896f289cddb1164a77928d43 inherit pub_static_attribs_classfolly_1_1Executor"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="ConstexprMathBenchmark_8cpp.html#a20c38cc5aac7cc6b0a3c6ab05428436d">int8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#a9acf25ca896f289cddb1164a77928d43">HI_PRI</a> = SCHAR_MAX</td></tr>
<tr class="separator:a9acf25ca896f289cddb1164a77928d43 inherit pub_static_attribs_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_static_methods_classfolly_1_1Executor"><td colspan="2" onclick="javascript:toggleInherit('pro_static_methods_classfolly_1_1Executor')"><img src="closed.png" alt="-"/>&#160;Static Protected Member Functions inherited from <a class="el" href="classfolly_1_1Executor.html">folly::Executor</a></td></tr>
<tr class="memitem:ac65c1aa0dc2f340496c77f64f69067ff inherit pro_static_methods_classfolly_1_1Executor"><td class="memTemplParams" colspan="2">template&lt;typename ExecutorT &gt; </td></tr>
<tr class="memitem:ac65c1aa0dc2f340496c77f64f69067ff inherit pro_static_methods_classfolly_1_1Executor"><td class="memTemplItemLeft" align="right" valign="top">static bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#ac65c1aa0dc2f340496c77f64f69067ff">isKeepAliveDummy</a> (const <a class="el" href="classfolly_1_1Executor_1_1KeepAlive.html">KeepAlive</a>&lt; ExecutorT &gt; &amp;keepAlive)</td></tr>
<tr class="separator:ac65c1aa0dc2f340496c77f64f69067ff inherit pro_static_methods_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c9692aa8d5e046467df1f73776270bf inherit pro_static_methods_classfolly_1_1Executor"><td class="memTemplParams" colspan="2">template&lt;typename ExecutorT &gt; </td></tr>
<tr class="memitem:a8c9692aa8d5e046467df1f73776270bf inherit pro_static_methods_classfolly_1_1Executor"><td class="memTemplItemLeft" align="right" valign="top">static <a class="el" href="classfolly_1_1Executor_1_1KeepAlive.html">KeepAlive</a>&lt; ExecutorT &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#a8c9692aa8d5e046467df1f73776270bf">makeKeepAlive</a> (ExecutorT *executor)</td></tr>
<tr class="separator:a8c9692aa8d5e046467df1f73776270bf inherit pro_static_methods_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class is a wrapper for all asynchronous I/O processing functionality</p>
<p><a class="el" href="classfolly_1_1EventBase.html">EventBase</a> provides a main loop that notifies <a class="el" href="classfolly_1_1EventHandler.html">EventHandler</a> callback objects when I/O is ready on a file descriptor, and notifies <a class="el" href="classfolly_1_1AsyncTimeout.html">AsyncTimeout</a> objects when a specified timeout has expired. More complex, higher-level callback mechanisms can then be built on top of <a class="el" href="classfolly_1_1EventHandler.html">EventHandler</a> and <a class="el" href="classfolly_1_1AsyncTimeout.html">AsyncTimeout</a>.</p>
<p><a class="el" href="structA.html">A</a> <a class="el" href="classfolly_1_1EventBase.html">EventBase</a> object can only drive an event loop for a single thread. To take advantage of multiple CPU cores, most asynchronous I/O servers have one thread per CPU, and use a separate <a class="el" href="classfolly_1_1EventBase.html">EventBase</a> for each thread.</p>
<p>In general, most <a class="el" href="classfolly_1_1EventBase.html">EventBase</a> methods may only be called from the thread running the <a class="el" href="classfolly_1_1EventBase.html">EventBase</a>'s loop. There are a few exceptions to this rule, for methods that are explicitly intended to allow communication with a <a class="el" href="classfolly_1_1EventBase.html">EventBase</a> from other threads. When it is safe to call a method from another thread it is explicitly listed in the method comments. </p>

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00128">128</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a908ce60f8e240e91cca117b3e953118c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classfolly_1_1EventBase.html#a908ce60f8e240e91cca117b3e953118c">folly::EventBase::Func</a> =  <a class="el" href="classfolly_1_1Function.html">folly::Function</a>&lt;void()&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00135">135</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

</div>
</div>
<a class="anchor" id="aaa068e1cddd4f46220a35cc9712080bd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classfolly_1_1EventBase_1_1LoopCallback.html#a8a233f309da7bf986c3df4f74795af18">LoopCallback::List</a> <a class="el" href="classfolly_1_1EventBase.html#aaa068e1cddd4f46220a35cc9712080bd">folly::EventBase::LoopCallbackList</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00698">698</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a4ff298ae2e35687700eb77daddd27565"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">folly::EventBase::EventBase </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a new <a class="el" href="classfolly_1_1EventBase.html">EventBase</a> object.</p>
<p>Same as EventBase(true), which constructs an <a class="el" href="classfolly_1_1EventBase.html">EventBase</a> that measures time. </p>

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00210">210</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>References <a class="el" href="OptionalTest_8cpp_source.html#l00053">c</a>, <a class="el" href="ExceptionTracerBenchmark_8cpp_source.html#l00035">loop()</a>, and <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">folly::T</a>.</p>
<div class="fragment"><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;: <a class="code" href="classfolly_1_1EventBase.html#a4ff298ae2e35687700eb77daddd27565">EventBase</a>(<span class="keyword">true</span>) {}</div><div class="ttc" id="classfolly_1_1EventBase_html_a4ff298ae2e35687700eb77daddd27565"><div class="ttname"><a href="classfolly_1_1EventBase.html#a4ff298ae2e35687700eb77daddd27565">folly::EventBase::EventBase</a></div><div class="ttdeci">EventBase()</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00210">EventBase.h:210</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a001fcd3c71c8ec449abb5fff18b417d0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">folly::EventBase::EventBase </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enableTimeMeasurement</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a new <a class="el" href="classfolly_1_1EventBase.html">EventBase</a> object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">enableTimeMeasurement</td><td>Informs whether this event base should measure time. Disabling it would likely improve performance, but will disable some features that relies on time-measurement, including: observer, max latency and avg loop time. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="EventBase_8cpp_source.html#l00076">76</a> of file <a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a>.</p>

<p>References <a class="el" href="EventBase_8h_source.html#l00730">evb_</a>, <a class="el" href="EventBase_8cpp_source.html#l00640">initNotificationQueue()</a>, <a class="el" href="Synchronized_8h_source.html#l01531">folly::lock()</a>, <a class="el" href="folly_2folly_2Exception_8h_source.html#l00076">folly::throwSystemError()</a>, and <a class="el" href="Likely_8h_source.html#l00048">UNLIKELY</a>.</p>
<div class="fragment"><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    : <a class="code" href="classfolly_1_1EventBase.html#a654f6fb879afc737c265b0b746284e7a">runOnceCallbacks_</a>(<span class="keyword">nullptr</span>),</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;      <a class="code" href="classfolly_1_1EventBase.html#acf0f606ae64ed101e63c0ed5372f5274">stop_</a>(<span class="keyword">false</span>),</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;      <a class="code" href="classfolly_1_1EventBase.html#ae6bcd79c854872291c03aef11ba42d43">loopThread_</a>(),</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;      <a class="code" href="classfolly_1_1EventBase.html#a767caba2144b07e4acc7096560705283">queue_</a>(<span class="keyword">nullptr</span>),</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      <a class="code" href="classfolly_1_1EventBase.html#a58df53039cb63db4496275e21c24470e">fnRunner_</a>(<span class="keyword">nullptr</span>),</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;      <a class="code" href="classfolly_1_1EventBase.html#adab96ad1af6fa6e1a73e246ae0d03332">maxLatency_</a>(0),</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;      <a class="code" href="classfolly_1_1EventBase.html#a5e20b42bf343d8bcfc7b9bded59c3af8">avgLoopTime_</a>(std::chrono::seconds(2)),</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;      <a class="code" href="classfolly_1_1EventBase.html#adefe6cee34e657875e6ad139728cb06f">maxLatencyLoopTime_</a>(<a class="code" href="classfolly_1_1EventBase.html#a5e20b42bf343d8bcfc7b9bded59c3af8">avgLoopTime_</a>),</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;      <a class="code" href="classfolly_1_1EventBase.html#a99bee522d749d5e070fdfc01de594868">enableTimeMeasurement_</a>(enableTimeMeasurement),</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;      <a class="code" href="classfolly_1_1EventBase.html#a988ab0bb495552406db82d2f8f38b25c">nextLoopCnt_</a>(</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;          std::size_t(-40)) <span class="comment">// Early wrap-around so bugs will manifest soon</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      ,</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      <a class="code" href="classfolly_1_1EventBase.html#a48b58cf7932997126eb778e66da241bf">latestLoopCnt_</a>(<a class="code" href="classfolly_1_1EventBase.html#a988ab0bb495552406db82d2f8f38b25c">nextLoopCnt_</a>),</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;      <a class="code" href="classfolly_1_1EventBase.html#a5ad6534553916ba16981f36724621c8f">startWork_</a>(),</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;      <a class="code" href="classfolly_1_1EventBase.html#a5107b96390c8e78246f7847863396d7f">observer_</a>(<span class="keyword">nullptr</span>),</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      <a class="code" href="classfolly_1_1EventBase.html#a75756e6bf560517cd8fede82669e5cb3">observerSampleCount_</a>(0),</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      <a class="code" href="classfolly_1_1EventBase.html#ab7fcf2326933d11252b84c8cdefe7106">executionObserver_</a>(<span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="keyword">struct </span>event ev;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  {</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    std::lock_guard&lt;std::mutex&gt; <a class="code" href="namespacefolly.html#a1c5ca040692d2c4c2b1b7ab9e517a61c">lock</a>(<a class="code" href="namespacefolly.html#a54a777ffe33b41f6d44a6466cbe2c599">libevent_mutex_</a>);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="comment">// The value &#39;current_base&#39; (libevent 1) or</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="comment">// &#39;event_global_current_base_&#39; (libevent 2) is filled in by event_set(),</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="comment">// allowing examination of its value without an explicit reference here.</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="comment">// If ev.ev_base is nullptr, then event_init() must be called, otherwise</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="comment">// call event_base_new().</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    event_set(&amp;ev, 0, 0, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordflow">if</span> (!ev.ev_base) {</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      <a class="code" href="classfolly_1_1EventBase.html#a0b4458d0f1f1b7a68e26715dc8ddcc88">evb_</a> = event_init();</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    }</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  }</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="keywordflow">if</span> (ev.ev_base) {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <a class="code" href="classfolly_1_1EventBase.html#a0b4458d0f1f1b7a68e26715dc8ddcc88">evb_</a> = event_base_new();</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  }</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="Likely_8h.html#ab10d0a221f4d7a706701b806c8135fd7">UNLIKELY</a>(<a class="code" href="classfolly_1_1EventBase.html#a0b4458d0f1f1b7a68e26715dc8ddcc88">evb_</a> == <span class="keyword">nullptr</span>)) {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    LOG(ERROR) &lt;&lt; <span class="stringliteral">&quot;EventBase(): Failed to init event base.&quot;</span>;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <a class="code" href="namespacefolly.html#a59da19f447b3f5da47b9e278016758c0">folly::throwSystemError</a>(<span class="stringliteral">&quot;error in EventBase::EventBase()&quot;</span>);</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  }</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  VLOG(5) &lt;&lt; <span class="stringliteral">&quot;EventBase(): Created.&quot;</span>;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <a class="code" href="classfolly_1_1EventBase.html#a2556ae6bd95289b7dd1e6edd549dc8f1">initNotificationQueue</a>();</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventBase_html_adab96ad1af6fa6e1a73e246ae0d03332"><div class="ttname"><a href="classfolly_1_1EventBase.html#adab96ad1af6fa6e1a73e246ae0d03332">folly::EventBase::maxLatency_</a></div><div class="ttdeci">std::chrono::microseconds maxLatency_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00741">EventBase.h:741</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a767caba2144b07e4acc7096560705283"><div class="ttname"><a href="classfolly_1_1EventBase.html#a767caba2144b07e4acc7096560705283">folly::EventBase::queue_</a></div><div class="ttdeci">std::unique_ptr&lt; NotificationQueue&lt; Func &gt; &gt; queue_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00734">EventBase.h:734</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a654f6fb879afc737c265b0b746284e7a"><div class="ttname"><a href="classfolly_1_1EventBase.html#a654f6fb879afc737c265b0b746284e7a">folly::EventBase::runOnceCallbacks_</a></div><div class="ttdeci">LoopCallbackList * runOnceCallbacks_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00719">EventBase.h:719</a></div></div>
<div class="ttc" id="namespacefolly_html_a54a777ffe33b41f6d44a6466cbe2c599"><div class="ttname"><a href="namespacefolly.html#a54a777ffe33b41f6d44a6466cbe2c599">folly::libevent_mutex_</a></div><div class="ttdeci">static std::mutex libevent_mutex_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8cpp_source.html#l00070">EventBase.cpp:70</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_ae6bcd79c854872291c03aef11ba42d43"><div class="ttname"><a href="classfolly_1_1EventBase.html#ae6bcd79c854872291c03aef11ba42d43">folly::EventBase::loopThread_</a></div><div class="ttdeci">std::atomic&lt; std::thread::id &gt; loopThread_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00727">EventBase.h:727</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a5107b96390c8e78246f7847863396d7f"><div class="ttname"><a href="classfolly_1_1EventBase.html#a5107b96390c8e78246f7847863396d7f">folly::EventBase::observer_</a></div><div class="ttdeci">std::shared_ptr&lt; EventBaseObserver &gt; observer_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00770">EventBase.h:770</a></div></div>
<div class="ttc" id="namespacefolly_html_a1c5ca040692d2c4c2b1b7ab9e517a61c"><div class="ttname"><a href="namespacefolly.html#a1c5ca040692d2c4c2b1b7ab9e517a61c">folly::lock</a></div><div class="ttdeci">auto lock(Synchronized&lt; D, M &gt; &amp;synchronized, Args &amp;&amp;...args)</div><div class="ttdef"><b>Definition:</b> <a href="Synchronized_8h_source.html#l01531">Synchronized.h:1531</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a0b4458d0f1f1b7a68e26715dc8ddcc88"><div class="ttname"><a href="classfolly_1_1EventBase.html#a0b4458d0f1f1b7a68e26715dc8ddcc88">folly::EventBase::evb_</a></div><div class="ttdeci">event_base * evb_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00730">EventBase.h:730</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a5ad6534553916ba16981f36724621c8f"><div class="ttname"><a href="classfolly_1_1EventBase.html#a5ad6534553916ba16981f36724621c8f">folly::EventBase::startWork_</a></div><div class="ttdeci">std::chrono::steady_clock::time_point startWork_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00762">EventBase.h:762</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_adefe6cee34e657875e6ad139728cb06f"><div class="ttname"><a href="classfolly_1_1EventBase.html#adefe6cee34e657875e6ad139728cb06f">folly::EventBase::maxLatencyLoopTime_</a></div><div class="ttdeci">SmoothLoopTime maxLatencyLoopTime_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00749">EventBase.h:749</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_acf0f606ae64ed101e63c0ed5372f5274"><div class="ttname"><a href="classfolly_1_1EventBase.html#acf0f606ae64ed101e63c0ed5372f5274">folly::EventBase::stop_</a></div><div class="ttdeci">std::atomic&lt; bool &gt; stop_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00723">EventBase.h:723</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_ab7fcf2326933d11252b84c8cdefe7106"><div class="ttname"><a href="classfolly_1_1EventBase.html#ab7fcf2326933d11252b84c8cdefe7106">folly::EventBase::executionObserver_</a></div><div class="ttdeci">ExecutionObserver * executionObserver_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00774">EventBase.h:774</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a99bee522d749d5e070fdfc01de594868"><div class="ttname"><a href="classfolly_1_1EventBase.html#a99bee522d749d5e070fdfc01de594868">folly::EventBase::enableTimeMeasurement_</a></div><div class="ttdeci">const bool enableTimeMeasurement_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00757">EventBase.h:757</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a988ab0bb495552406db82d2f8f38b25c"><div class="ttname"><a href="classfolly_1_1EventBase.html#a988ab0bb495552406db82d2f8f38b25c">folly::EventBase::nextLoopCnt_</a></div><div class="ttdeci">std::size_t nextLoopCnt_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00760">EventBase.h:760</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a58df53039cb63db4496275e21c24470e"><div class="ttname"><a href="classfolly_1_1EventBase.html#a58df53039cb63db4496275e21c24470e">folly::EventBase::fnRunner_</a></div><div class="ttdeci">std::unique_ptr&lt; FunctionRunner &gt; fnRunner_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00735">EventBase.h:735</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a48b58cf7932997126eb778e66da241bf"><div class="ttname"><a href="classfolly_1_1EventBase.html#a48b58cf7932997126eb778e66da241bf">folly::EventBase::latestLoopCnt_</a></div><div class="ttdeci">std::size_t latestLoopCnt_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00761">EventBase.h:761</a></div></div>
<div class="ttc" id="namespacefolly_html_a59da19f447b3f5da47b9e278016758c0"><div class="ttname"><a href="namespacefolly.html#a59da19f447b3f5da47b9e278016758c0">folly::throwSystemError</a></div><div class="ttdeci">void throwSystemError(Args &amp;&amp;...args)</div><div class="ttdef"><b>Definition:</b> <a href="folly_2folly_2Exception_8h_source.html#l00076">Exception.h:76</a></div></div>
<div class="ttc" id="Likely_8h_html_ab10d0a221f4d7a706701b806c8135fd7"><div class="ttname"><a href="Likely_8h.html#ab10d0a221f4d7a706701b806c8135fd7">UNLIKELY</a></div><div class="ttdeci">#define UNLIKELY(x)</div><div class="ttdef"><b>Definition:</b> <a href="Likely_8h_source.html#l00048">Likely.h:48</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a5e20b42bf343d8bcfc7b9bded59c3af8"><div class="ttname"><a href="classfolly_1_1EventBase.html#a5e20b42bf343d8bcfc7b9bded59c3af8">folly::EventBase::avgLoopTime_</a></div><div class="ttdeci">SmoothLoopTime avgLoopTime_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00744">EventBase.h:744</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a75756e6bf560517cd8fede82669e5cb3"><div class="ttname"><a href="classfolly_1_1EventBase.html#a75756e6bf560517cd8fede82669e5cb3">folly::EventBase::observerSampleCount_</a></div><div class="ttdeci">uint32_t observerSampleCount_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00771">EventBase.h:771</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a2556ae6bd95289b7dd1e6edd549dc8f1"><div class="ttname"><a href="classfolly_1_1EventBase.html#a2556ae6bd95289b7dd1e6edd549dc8f1">folly::EventBase::initNotificationQueue</a></div><div class="ttdeci">void initNotificationQueue()</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8cpp_source.html#l00640">EventBase.cpp:640</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a87d0aabc959441a706999e7ec0cefdda"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">folly::EventBase::EventBase </td>
          <td>(</td>
          <td class="paramtype">event_base *&#160;</td>
          <td class="paramname"><em>evb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enableTimeMeasurement</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a new <a class="el" href="classfolly_1_1EventBase.html">EventBase</a> object that will use the specified libevent event_base object to drive the event loop.</p>
<p>The <a class="el" href="classfolly_1_1EventBase.html">EventBase</a> will take ownership of this event_base, and will call event_base_free(evb) when the <a class="el" href="classfolly_1_1EventBase.html">EventBase</a> is destroyed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">enableTimeMeasurement</td><td>Informs whether this event base should measure time. Disabling it would likely improve performance, but will disable some features that relies on time-measurement, including: observer, max latency and avg loop time. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="EventBase_8cpp_source.html#l00122">122</a> of file <a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a>.</p>

<p>References <a class="el" href="EventBase_8h_source.html#l00730">evb_</a>, <a class="el" href="EventBase_8cpp_source.html#l00640">initNotificationQueue()</a>, and <a class="el" href="Likely_8h_source.html#l00048">UNLIKELY</a>.</p>
<div class="fragment"><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    : <a class="code" href="classfolly_1_1EventBase.html#a654f6fb879afc737c265b0b746284e7a">runOnceCallbacks_</a>(<span class="keyword">nullptr</span>),</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;      <a class="code" href="classfolly_1_1EventBase.html#acf0f606ae64ed101e63c0ed5372f5274">stop_</a>(<span class="keyword">false</span>),</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;      <a class="code" href="classfolly_1_1EventBase.html#ae6bcd79c854872291c03aef11ba42d43">loopThread_</a>(),</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;      <a class="code" href="classfolly_1_1EventBase.html#a0b4458d0f1f1b7a68e26715dc8ddcc88">evb_</a>(evb),</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      <a class="code" href="classfolly_1_1EventBase.html#a767caba2144b07e4acc7096560705283">queue_</a>(<span class="keyword">nullptr</span>),</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      <a class="code" href="classfolly_1_1EventBase.html#a58df53039cb63db4496275e21c24470e">fnRunner_</a>(<span class="keyword">nullptr</span>),</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      <a class="code" href="classfolly_1_1EventBase.html#adab96ad1af6fa6e1a73e246ae0d03332">maxLatency_</a>(0),</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      <a class="code" href="classfolly_1_1EventBase.html#a5e20b42bf343d8bcfc7b9bded59c3af8">avgLoopTime_</a>(std::chrono::seconds(2)),</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;      <a class="code" href="classfolly_1_1EventBase.html#adefe6cee34e657875e6ad139728cb06f">maxLatencyLoopTime_</a>(<a class="code" href="classfolly_1_1EventBase.html#a5e20b42bf343d8bcfc7b9bded59c3af8">avgLoopTime_</a>),</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      <a class="code" href="classfolly_1_1EventBase.html#a99bee522d749d5e070fdfc01de594868">enableTimeMeasurement_</a>(enableTimeMeasurement),</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      <a class="code" href="classfolly_1_1EventBase.html#a988ab0bb495552406db82d2f8f38b25c">nextLoopCnt_</a>(</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;          std::size_t(-40)) <span class="comment">// Early wrap-around so bugs will manifest soon</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      ,</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      <a class="code" href="classfolly_1_1EventBase.html#a48b58cf7932997126eb778e66da241bf">latestLoopCnt_</a>(<a class="code" href="classfolly_1_1EventBase.html#a988ab0bb495552406db82d2f8f38b25c">nextLoopCnt_</a>),</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;      <a class="code" href="classfolly_1_1EventBase.html#a5ad6534553916ba16981f36724621c8f">startWork_</a>(),</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      <a class="code" href="classfolly_1_1EventBase.html#a5107b96390c8e78246f7847863396d7f">observer_</a>(<span class="keyword">nullptr</span>),</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      <a class="code" href="classfolly_1_1EventBase.html#a75756e6bf560517cd8fede82669e5cb3">observerSampleCount_</a>(0),</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      <a class="code" href="classfolly_1_1EventBase.html#ab7fcf2326933d11252b84c8cdefe7106">executionObserver_</a>(<span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="Likely_8h.html#ab10d0a221f4d7a706701b806c8135fd7">UNLIKELY</a>(<a class="code" href="classfolly_1_1EventBase.html#a0b4458d0f1f1b7a68e26715dc8ddcc88">evb_</a> == <span class="keyword">nullptr</span>)) {</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    LOG(ERROR) &lt;&lt; <span class="stringliteral">&quot;EventBase(): Pass nullptr as event base.&quot;</span>;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;EventBase(): event base cannot be nullptr&quot;</span>);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  }</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <a class="code" href="classfolly_1_1EventBase.html#a2556ae6bd95289b7dd1e6edd549dc8f1">initNotificationQueue</a>();</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventBase_html_adab96ad1af6fa6e1a73e246ae0d03332"><div class="ttname"><a href="classfolly_1_1EventBase.html#adab96ad1af6fa6e1a73e246ae0d03332">folly::EventBase::maxLatency_</a></div><div class="ttdeci">std::chrono::microseconds maxLatency_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00741">EventBase.h:741</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a767caba2144b07e4acc7096560705283"><div class="ttname"><a href="classfolly_1_1EventBase.html#a767caba2144b07e4acc7096560705283">folly::EventBase::queue_</a></div><div class="ttdeci">std::unique_ptr&lt; NotificationQueue&lt; Func &gt; &gt; queue_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00734">EventBase.h:734</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a654f6fb879afc737c265b0b746284e7a"><div class="ttname"><a href="classfolly_1_1EventBase.html#a654f6fb879afc737c265b0b746284e7a">folly::EventBase::runOnceCallbacks_</a></div><div class="ttdeci">LoopCallbackList * runOnceCallbacks_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00719">EventBase.h:719</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_ae6bcd79c854872291c03aef11ba42d43"><div class="ttname"><a href="classfolly_1_1EventBase.html#ae6bcd79c854872291c03aef11ba42d43">folly::EventBase::loopThread_</a></div><div class="ttdeci">std::atomic&lt; std::thread::id &gt; loopThread_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00727">EventBase.h:727</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a5107b96390c8e78246f7847863396d7f"><div class="ttname"><a href="classfolly_1_1EventBase.html#a5107b96390c8e78246f7847863396d7f">folly::EventBase::observer_</a></div><div class="ttdeci">std::shared_ptr&lt; EventBaseObserver &gt; observer_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00770">EventBase.h:770</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a0b4458d0f1f1b7a68e26715dc8ddcc88"><div class="ttname"><a href="classfolly_1_1EventBase.html#a0b4458d0f1f1b7a68e26715dc8ddcc88">folly::EventBase::evb_</a></div><div class="ttdeci">event_base * evb_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00730">EventBase.h:730</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a5ad6534553916ba16981f36724621c8f"><div class="ttname"><a href="classfolly_1_1EventBase.html#a5ad6534553916ba16981f36724621c8f">folly::EventBase::startWork_</a></div><div class="ttdeci">std::chrono::steady_clock::time_point startWork_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00762">EventBase.h:762</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_adefe6cee34e657875e6ad139728cb06f"><div class="ttname"><a href="classfolly_1_1EventBase.html#adefe6cee34e657875e6ad139728cb06f">folly::EventBase::maxLatencyLoopTime_</a></div><div class="ttdeci">SmoothLoopTime maxLatencyLoopTime_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00749">EventBase.h:749</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_acf0f606ae64ed101e63c0ed5372f5274"><div class="ttname"><a href="classfolly_1_1EventBase.html#acf0f606ae64ed101e63c0ed5372f5274">folly::EventBase::stop_</a></div><div class="ttdeci">std::atomic&lt; bool &gt; stop_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00723">EventBase.h:723</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_ab7fcf2326933d11252b84c8cdefe7106"><div class="ttname"><a href="classfolly_1_1EventBase.html#ab7fcf2326933d11252b84c8cdefe7106">folly::EventBase::executionObserver_</a></div><div class="ttdeci">ExecutionObserver * executionObserver_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00774">EventBase.h:774</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a99bee522d749d5e070fdfc01de594868"><div class="ttname"><a href="classfolly_1_1EventBase.html#a99bee522d749d5e070fdfc01de594868">folly::EventBase::enableTimeMeasurement_</a></div><div class="ttdeci">const bool enableTimeMeasurement_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00757">EventBase.h:757</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a988ab0bb495552406db82d2f8f38b25c"><div class="ttname"><a href="classfolly_1_1EventBase.html#a988ab0bb495552406db82d2f8f38b25c">folly::EventBase::nextLoopCnt_</a></div><div class="ttdeci">std::size_t nextLoopCnt_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00760">EventBase.h:760</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a58df53039cb63db4496275e21c24470e"><div class="ttname"><a href="classfolly_1_1EventBase.html#a58df53039cb63db4496275e21c24470e">folly::EventBase::fnRunner_</a></div><div class="ttdeci">std::unique_ptr&lt; FunctionRunner &gt; fnRunner_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00735">EventBase.h:735</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a48b58cf7932997126eb778e66da241bf"><div class="ttname"><a href="classfolly_1_1EventBase.html#a48b58cf7932997126eb778e66da241bf">folly::EventBase::latestLoopCnt_</a></div><div class="ttdeci">std::size_t latestLoopCnt_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00761">EventBase.h:761</a></div></div>
<div class="ttc" id="Likely_8h_html_ab10d0a221f4d7a706701b806c8135fd7"><div class="ttname"><a href="Likely_8h.html#ab10d0a221f4d7a706701b806c8135fd7">UNLIKELY</a></div><div class="ttdeci">#define UNLIKELY(x)</div><div class="ttdef"><b>Definition:</b> <a href="Likely_8h_source.html#l00048">Likely.h:48</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a5e20b42bf343d8bcfc7b9bded59c3af8"><div class="ttname"><a href="classfolly_1_1EventBase.html#a5e20b42bf343d8bcfc7b9bded59c3af8">folly::EventBase::avgLoopTime_</a></div><div class="ttdeci">SmoothLoopTime avgLoopTime_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00744">EventBase.h:744</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a75756e6bf560517cd8fede82669e5cb3"><div class="ttname"><a href="classfolly_1_1EventBase.html#a75756e6bf560517cd8fede82669e5cb3">folly::EventBase::observerSampleCount_</a></div><div class="ttdeci">uint32_t observerSampleCount_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00771">EventBase.h:771</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a2556ae6bd95289b7dd1e6edd549dc8f1"><div class="ttname"><a href="classfolly_1_1EventBase.html#a2556ae6bd95289b7dd1e6edd549dc8f1">folly::EventBase::initNotificationQueue</a></div><div class="ttdeci">void initNotificationQueue()</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8cpp_source.html#l00640">EventBase.cpp:640</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6d4b3a899522edce50b4d4d942906064"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">folly::EventBase::~EventBase </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8cpp_source.html#l00148">148</a> of file <a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a>.</p>

<p>References <a class="el" href="EventBase_8cpp_source.html#l00433">applyLoopKeepAlive()</a>, <a class="el" href="TimeoutManager_8cpp_source.html#l00100">folly::TimeoutManager::clearCobTimeouts()</a>, <a class="el" href="EventBase_8h_source.html#l00730">evb_</a>, <a class="el" href="EventBase_8h_source.html#l00735">fnRunner_</a>, <a class="el" href="EventBase_8h_source.html#l00787">localStorageToDtor_</a>, <a class="el" href="Synchronized_8h_source.html#l01531">folly::lock()</a>, <a class="el" href="EventBase_8cpp_source.html#l00423">loopKeepAliveCount()</a>, <a class="el" href="EventBase_8cpp_source.html#l00271">loopOnce()</a>, <a class="el" href="EventBase_8h_source.html#l00713">onDestructionCallbacks_</a>, <a class="el" href="EventBase_8h_source.html#l00712">runBeforeLoopCallbacks_</a>, <a class="el" href="classfolly_1_1EventBase_1_1LoopCallback.html#a2f8a6a9842742b5c2a291a29f5a75850">folly::EventBase::LoopCallback::runLoopCallback()</a>, <a class="el" href="EventBase_8cpp_source.html#l00612">runLoopCallbacks()</a>, and <a class="el" href="EventBase_8h_source.html#l00790">virtualEventBase_</a>.</p>

<p>Referenced by <a class="el" href="ScopedEventBaseThread_8cpp_source.html#l00030">folly::run()</a>.</p>
<div class="fragment"><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                      {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  std::future&lt;void&gt; virtualEventBaseDestroyFuture;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1EventBase.html#a144d0cb2ac0d3749d732eb5163b4c3ce">virtualEventBase_</a>) {</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    virtualEventBaseDestroyFuture = <a class="code" href="classfolly_1_1EventBase.html#a144d0cb2ac0d3749d732eb5163b4c3ce">virtualEventBase_</a>-&gt;destroy();</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="comment">// Keep looping until all keep-alive handles are released. Each keep-alive</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="comment">// handle signals that some external code will still schedule some work on</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="comment">// this EventBase (so it&#39;s not safe to destroy it).</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="keywordflow">while</span> (<a class="code" href="classfolly_1_1EventBase.html#a470bbda7f57eb4759f5d04dfd3950978">loopKeepAliveCount</a>() &gt; 0) {</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <a class="code" href="classfolly_1_1EventBase.html#a4b1ec25d0b7aab33810e8a3274fa6de0">applyLoopKeepAlive</a>();</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <a class="code" href="classfolly_1_1EventBase.html#a73967f738470c77247ac89cc97d0c303">loopOnce</a>();</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  }</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="keywordflow">if</span> (virtualEventBaseDestroyFuture.valid()) {</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    virtualEventBaseDestroyFuture.get();</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  }</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="comment">// Call all destruction callbacks, before we start cleaning up our state.</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="keywordflow">while</span> (!<a class="code" href="classfolly_1_1EventBase.html#a4a83d93b08cf459e3b5808e82fc99311">onDestructionCallbacks_</a>.empty()) {</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    LoopCallback* callback = &amp;<a class="code" href="classfolly_1_1EventBase.html#a4a83d93b08cf459e3b5808e82fc99311">onDestructionCallbacks_</a>.front();</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <a class="code" href="classfolly_1_1EventBase.html#a4a83d93b08cf459e3b5808e82fc99311">onDestructionCallbacks_</a>.pop_front();</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    callback-&gt;runLoopCallback();</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  }</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <a class="code" href="classfolly_1_1TimeoutManager.html#ad35247348c71062e2dddb8e1abb2c2bd">clearCobTimeouts</a>();</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  DCHECK_EQ(0u, <a class="code" href="classfolly_1_1EventBase.html#a4906484269a6c78046a4fb394badff34">runBeforeLoopCallbacks_</a>.size());</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  (void)<a class="code" href="classfolly_1_1EventBase.html#ab506321e0870c93e2a650b16aaa84873">runLoopCallbacks</a>();</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classfolly_1_1EventBase.html#a58df53039cb63db4496275e21c24470e">fnRunner_</a>-&gt;consumeUntilDrained()) {</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    LOG(ERROR) &lt;&lt; <span class="stringliteral">&quot;~EventBase(): Unable to drain notification queue&quot;</span>;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  }</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="comment">// Stop consumer before deleting NotificationQueue</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <a class="code" href="classfolly_1_1EventBase.html#a58df53039cb63db4496275e21c24470e">fnRunner_</a>-&gt;stopConsuming();</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  {</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    std::lock_guard&lt;std::mutex&gt; <a class="code" href="namespacefolly.html#a1c5ca040692d2c4c2b1b7ab9e517a61c">lock</a>(<a class="code" href="namespacefolly.html#a54a777ffe33b41f6d44a6466cbe2c599">libevent_mutex_</a>);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    event_base_free(<a class="code" href="classfolly_1_1EventBase.html#a0b4458d0f1f1b7a68e26715dc8ddcc88">evb_</a>);</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  }</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> storage : <a class="code" href="classfolly_1_1EventBase.html#ac6036f0b5ae08604d8699c7ca2708886">localStorageToDtor_</a>) {</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    storage-&gt;onEventBaseDestruction(*<span class="keyword">this</span>);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  }</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  VLOG(5) &lt;&lt; <span class="stringliteral">&quot;EventBase(): Destroyed.&quot;</span>;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventBase_html_a4906484269a6c78046a4fb394badff34"><div class="ttname"><a href="classfolly_1_1EventBase.html#a4906484269a6c78046a4fb394badff34">folly::EventBase::runBeforeLoopCallbacks_</a></div><div class="ttdeci">LoopCallbackList runBeforeLoopCallbacks_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00712">EventBase.h:712</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a4a83d93b08cf459e3b5808e82fc99311"><div class="ttname"><a href="classfolly_1_1EventBase.html#a4a83d93b08cf459e3b5808e82fc99311">folly::EventBase::onDestructionCallbacks_</a></div><div class="ttdeci">LoopCallbackList onDestructionCallbacks_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00713">EventBase.h:713</a></div></div>
<div class="ttc" id="namespacefolly_html_a54a777ffe33b41f6d44a6466cbe2c599"><div class="ttname"><a href="namespacefolly.html#a54a777ffe33b41f6d44a6466cbe2c599">folly::libevent_mutex_</a></div><div class="ttdeci">static std::mutex libevent_mutex_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8cpp_source.html#l00070">EventBase.cpp:70</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_ab506321e0870c93e2a650b16aaa84873"><div class="ttname"><a href="classfolly_1_1EventBase.html#ab506321e0870c93e2a650b16aaa84873">folly::EventBase::runLoopCallbacks</a></div><div class="ttdeci">bool runLoopCallbacks()</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8cpp_source.html#l00612">EventBase.cpp:612</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a4b1ec25d0b7aab33810e8a3274fa6de0"><div class="ttname"><a href="classfolly_1_1EventBase.html#a4b1ec25d0b7aab33810e8a3274fa6de0">folly::EventBase::applyLoopKeepAlive</a></div><div class="ttdeci">void applyLoopKeepAlive()</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8cpp_source.html#l00433">EventBase.cpp:433</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_ac6036f0b5ae08604d8699c7ca2708886"><div class="ttname"><a href="classfolly_1_1EventBase.html#ac6036f0b5ae08604d8699c7ca2708886">folly::EventBase::localStorageToDtor_</a></div><div class="ttdeci">std::unordered_set&lt; detail::EventBaseLocalBaseBase * &gt; localStorageToDtor_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00787">EventBase.h:787</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a470bbda7f57eb4759f5d04dfd3950978"><div class="ttname"><a href="classfolly_1_1EventBase.html#a470bbda7f57eb4759f5d04dfd3950978">folly::EventBase::loopKeepAliveCount</a></div><div class="ttdeci">ssize_t loopKeepAliveCount()</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8cpp_source.html#l00423">EventBase.cpp:423</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a73967f738470c77247ac89cc97d0c303"><div class="ttname"><a href="classfolly_1_1EventBase.html#a73967f738470c77247ac89cc97d0c303">folly::EventBase::loopOnce</a></div><div class="ttdeci">bool loopOnce(int flags=0)</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8cpp_source.html#l00271">EventBase.cpp:271</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a144d0cb2ac0d3749d732eb5163b4c3ce"><div class="ttname"><a href="classfolly_1_1EventBase.html#a144d0cb2ac0d3749d732eb5163b4c3ce">folly::EventBase::virtualEventBase_</a></div><div class="ttdeci">std::unique_ptr&lt; VirtualEventBase &gt; virtualEventBase_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00790">EventBase.h:790</a></div></div>
<div class="ttc" id="namespacefolly_html_a1c5ca040692d2c4c2b1b7ab9e517a61c"><div class="ttname"><a href="namespacefolly.html#a1c5ca040692d2c4c2b1b7ab9e517a61c">folly::lock</a></div><div class="ttdeci">auto lock(Synchronized&lt; D, M &gt; &amp;synchronized, Args &amp;&amp;...args)</div><div class="ttdef"><b>Definition:</b> <a href="Synchronized_8h_source.html#l01531">Synchronized.h:1531</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a0b4458d0f1f1b7a68e26715dc8ddcc88"><div class="ttname"><a href="classfolly_1_1EventBase.html#a0b4458d0f1f1b7a68e26715dc8ddcc88">folly::EventBase::evb_</a></div><div class="ttdeci">event_base * evb_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00730">EventBase.h:730</a></div></div>
<div class="ttc" id="classfolly_1_1TimeoutManager_html_ad35247348c71062e2dddb8e1abb2c2bd"><div class="ttname"><a href="classfolly_1_1TimeoutManager.html#ad35247348c71062e2dddb8e1abb2c2bd">folly::TimeoutManager::clearCobTimeouts</a></div><div class="ttdeci">void clearCobTimeouts()</div><div class="ttdef"><b>Definition:</b> <a href="TimeoutManager_8cpp_source.html#l00100">TimeoutManager.cpp:100</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a58df53039cb63db4496275e21c24470e"><div class="ttname"><a href="classfolly_1_1EventBase.html#a58df53039cb63db4496275e21c24470e">folly::EventBase::fnRunner_</a></div><div class="ttdeci">std::unique_ptr&lt; FunctionRunner &gt; fnRunner_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00735">EventBase.h:735</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a3d71728eeb12747ad5357b2d1c1ec894"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::EventBase::add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacefolly.html#a4832c4c9cc8646eb5e0b105d448fc3ad">Cob</a>&#160;</td>
          <td class="paramname"><em>fn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements the <a class="el" href="classfolly_1_1Executor.html">Executor</a> interface. </p>

<p>Implements <a class="el" href="classfolly_1_1ScheduledExecutor.html#af2b64754b6be3b67c3e034a116a67599">folly::ScheduledExecutor</a>.</p>

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00624">624</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>References <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>.</p>

<p>Referenced by <a class="el" href="ScopedEventBaseThread_8h_source.html#l00061">folly::ScopedEventBaseThread::add()</a>.</p>
<div class="fragment"><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                            {</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="comment">// runInEventBaseThread() takes a const&amp;,</span></div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <span class="comment">// so no point in doing std::move here.</span></div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <a class="code" href="classfolly_1_1EventBase.html#a064e4b74656102dbb6b9dccc7ffeb8cf">runInEventBaseThread</a>(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(fn));</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  }</div><div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a064e4b74656102dbb6b9dccc7ffeb8cf"><div class="ttname"><a href="classfolly_1_1EventBase.html#a064e4b74656102dbb6b9dccc7ffeb8cf">folly::EventBase::runInEventBaseThread</a></div><div class="ttdeci">bool runInEventBaseThread(void(*fn)(T *), T *arg)</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00794">EventBase.h:794</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4b1ec25d0b7aab33810e8a3274fa6de0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::EventBase::applyLoopKeepAlive </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8cpp_source.html#l00433">433</a> of file <a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a>.</p>

<p>References <a class="el" href="EventBase_8h_source.html#l00735">fnRunner_</a>, <a class="el" href="EventBase_8h_source.html#l00738">loopKeepAliveActive_</a>, <a class="el" href="EventBase_8cpp_source.html#l00423">loopKeepAliveCount()</a>, <a class="el" href="EventBase_8h_source.html#l00734">queue_</a>, and <a class="el" href="EventBase_8h_source.html#l00790">virtualEventBase_</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00275">loopBody()</a>, <a class="el" href="EventBase_8cpp_source.html#l00455">loopForever()</a>, and <a class="el" href="EventBase_8cpp_source.html#l00148">~EventBase()</a>.</p>
<div class="fragment"><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                                   {</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <span class="keyword">auto</span> keepAliveCount = <a class="code" href="classfolly_1_1EventBase.html#a470bbda7f57eb4759f5d04dfd3950978">loopKeepAliveCount</a>();</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <span class="comment">// Make sure default VirtualEventBase won&#39;t hold EventBase::loop() forever.</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1EventBase.html#a144d0cb2ac0d3749d732eb5163b4c3ce">virtualEventBase_</a> &amp;&amp; <a class="code" href="classfolly_1_1EventBase.html#a144d0cb2ac0d3749d732eb5163b4c3ce">virtualEventBase_</a>-&gt;keepAliveCount() == 1) {</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    --keepAliveCount;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  }</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1EventBase.html#a5edd3dc7d26dc330922fae6e78712fa2">loopKeepAliveActive_</a> &amp;&amp; keepAliveCount == 0) {</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="comment">// Restore the notification queue internal flag</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <a class="code" href="classfolly_1_1EventBase.html#a58df53039cb63db4496275e21c24470e">fnRunner_</a>-&gt;stopConsuming();</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <a class="code" href="classfolly_1_1EventBase.html#a58df53039cb63db4496275e21c24470e">fnRunner_</a>-&gt;startConsumingInternal(<span class="keyword">this</span>, <a class="code" href="classfolly_1_1EventBase.html#a767caba2144b07e4acc7096560705283">queue_</a>.get());</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <a class="code" href="classfolly_1_1EventBase.html#a5edd3dc7d26dc330922fae6e78712fa2">loopKeepAliveActive_</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="classfolly_1_1EventBase.html#a5edd3dc7d26dc330922fae6e78712fa2">loopKeepAliveActive_</a> &amp;&amp; keepAliveCount &gt; 0) {</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="comment">// Update the notification queue event to treat it as a normal</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="comment">// (non-internal) event.  The notification queue event always remains</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="comment">// installed, and the main loop won&#39;t exit with it installed.</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <a class="code" href="classfolly_1_1EventBase.html#a58df53039cb63db4496275e21c24470e">fnRunner_</a>-&gt;stopConsuming();</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <a class="code" href="classfolly_1_1EventBase.html#a58df53039cb63db4496275e21c24470e">fnRunner_</a>-&gt;startConsuming(<span class="keyword">this</span>, <a class="code" href="classfolly_1_1EventBase.html#a767caba2144b07e4acc7096560705283">queue_</a>.get());</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <a class="code" href="classfolly_1_1EventBase.html#a5edd3dc7d26dc330922fae6e78712fa2">loopKeepAliveActive_</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  }</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventBase_html_a767caba2144b07e4acc7096560705283"><div class="ttname"><a href="classfolly_1_1EventBase.html#a767caba2144b07e4acc7096560705283">folly::EventBase::queue_</a></div><div class="ttdeci">std::unique_ptr&lt; NotificationQueue&lt; Func &gt; &gt; queue_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00734">EventBase.h:734</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a470bbda7f57eb4759f5d04dfd3950978"><div class="ttname"><a href="classfolly_1_1EventBase.html#a470bbda7f57eb4759f5d04dfd3950978">folly::EventBase::loopKeepAliveCount</a></div><div class="ttdeci">ssize_t loopKeepAliveCount()</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8cpp_source.html#l00423">EventBase.cpp:423</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a144d0cb2ac0d3749d732eb5163b4c3ce"><div class="ttname"><a href="classfolly_1_1EventBase.html#a144d0cb2ac0d3749d732eb5163b4c3ce">folly::EventBase::virtualEventBase_</a></div><div class="ttdeci">std::unique_ptr&lt; VirtualEventBase &gt; virtualEventBase_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00790">EventBase.h:790</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a58df53039cb63db4496275e21c24470e"><div class="ttname"><a href="classfolly_1_1EventBase.html#a58df53039cb63db4496275e21c24470e">folly::EventBase::fnRunner_</a></div><div class="ttdeci">std::unique_ptr&lt; FunctionRunner &gt; fnRunner_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00735">EventBase.h:735</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a5edd3dc7d26dc330922fae6e78712fa2"><div class="ttname"><a href="classfolly_1_1EventBase.html#a5edd3dc7d26dc330922fae6e78712fa2">folly::EventBase::loopKeepAliveActive_</a></div><div class="ttdeci">bool loopKeepAliveActive_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00738">EventBase.h:738</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0d5003dcae24468f1412b9306195afbe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::EventBase::attachTimeoutManager </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1AsyncTimeout.html">AsyncTimeout</a> *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfolly_1_1TimeoutManager.html#a91f0d834602dcb7108b525c36fe1981f">TimeoutManager::InternalEnum</a>&#160;</td>
          <td class="paramname"><em>internal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Attaches/detaches <a class="el" href="classfolly_1_1TimeoutManager.html">TimeoutManager</a> to <a class="el" href="classfolly_1_1AsyncTimeout.html">AsyncTimeout</a> </p>

<p>Implements <a class="el" href="classfolly_1_1TimeoutManager.html#a5485dcaa18f5ddf9f692ad9ff7cd502c">folly::TimeoutManager</a>.</p>

<p>Definition at line <a class="el" href="EventBase_8cpp_source.html#l00694">694</a> of file <a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a>.</p>

<p>References <a class="el" href="EventUtil_8h_source.html#l00041">folly::event_ref_flags()</a>, <a class="el" href="AsyncTimeout_8h_source.html#l00150">folly::AsyncTimeout::getEvent()</a>, <a class="el" href="EventBase_8h_source.html#l00537">getLibeventBase()</a>, and <a class="el" href="classfolly_1_1TimeoutManager.html#a91f0d834602dcb7108b525c36fe1981fa182fa1c42a2468f8488e6dcf75a81b81">folly::TimeoutManager::INTERNAL</a>.</p>
<div class="fragment"><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                                                                             {</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  <span class="keyword">struct </span>event* ev = obj-&gt;getEvent();</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  assert(ev-&gt;ev_base == <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  event_base_set(<a class="code" href="classfolly_1_1EventBase.html#a04e4e3ccdee7022bac8ec0b574764dce">getLibeventBase</a>(), ev);</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">internal</span> == <a class="code" href="classfolly_1_1TimeoutManager.html#a91f0d834602dcb7108b525c36fe1981fa182fa1c42a2468f8488e6dcf75a81b81">AsyncTimeout::InternalEnum::INTERNAL</a>) {</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="comment">// Set the EVLIST_INTERNAL flag</span></div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <a class="code" href="namespacefolly.html#af81a0169635117098ecb6e486f7ccc86">event_ref_flags</a>(ev) |= EVLIST_INTERNAL;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  }</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;}</div><div class="ttc" id="namespacefolly_html_af81a0169635117098ecb6e486f7ccc86"><div class="ttname"><a href="namespacefolly.html#af81a0169635117098ecb6e486f7ccc86">folly::event_ref_flags</a></div><div class="ttdeci">auto event_ref_flags(struct event *ev) -&gt; decltype(std::ref(ev-&gt;ev_flags))</div><div class="ttdef"><b>Definition:</b> <a href="EventUtil_8h_source.html#l00041">EventUtil.h:41</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a04e4e3ccdee7022bac8ec0b574764dce"><div class="ttname"><a href="classfolly_1_1EventBase.html#a04e4e3ccdee7022bac8ec0b574764dce">folly::EventBase::getLibeventBase</a></div><div class="ttdeci">event_base * getLibeventBase() const </div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00537">EventBase.h:537</a></div></div>
<div class="ttc" id="classfolly_1_1TimeoutManager_html_a91f0d834602dcb7108b525c36fe1981fa182fa1c42a2468f8488e6dcf75a81b81"><div class="ttname"><a href="classfolly_1_1TimeoutManager.html#a91f0d834602dcb7108b525c36fe1981fa182fa1c42a2468f8488e6dcf75a81b81">folly::TimeoutManager::InternalEnum::INTERNAL</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad1fc81ab3ce7e5c59fefe84758b9723e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::EventBase::bumpHandlingTime </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>only EventHandler/AsyncTimeout subclasses and ourselves should ever call this.</p>
<p>This is used to mark the beginning of a new loop cycle by the first handler fired within that cycle. </p>

<p>Implements <a class="el" href="classfolly_1_1TimeoutManager.html#aff9f11eae49ce4ca9402f5121998516a">folly::TimeoutManager</a>.</p>

<p>Definition at line <a class="el" href="EventBase_8cpp_source.html#l00476">476</a> of file <a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a>.</p>

<p>References <a class="el" href="EventBase_8h_source.html#l00757">enableTimeMeasurement_</a>, <a class="el" href="EventBase_8h_source.html#l00761">latestLoopCnt_</a>, <a class="el" href="EventBase_8h_source.html#l00760">nextLoopCnt_</a>, <a class="el" href="EventBase_8cpp_source.html#l00689">nothingHandledYet()</a>, <a class="el" href="TimekeeperTest_8cpp_source.html#l00031">now()</a>, and <a class="el" href="EventBase_8h_source.html#l00762">startWork_</a>.</p>

<p>Referenced by <a class="el" href="EventHandler_8cpp_source.html#l00148">folly::EventHandler::libeventCallback()</a>, and <a class="el" href="EventBase_8cpp_source.html#l00612">runLoopCallbacks()</a>.</p>
<div class="fragment"><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                                 {</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classfolly_1_1EventBase.html#a99bee522d749d5e070fdfc01de594868">enableTimeMeasurement_</a>) {</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  }</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  VLOG(11) &lt;&lt; <span class="stringliteral">&quot;EventBase &quot;</span> &lt;&lt; <span class="keyword">this</span> &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; __PRETTY_FUNCTION__</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;           &lt;&lt; <span class="stringliteral">&quot; (loop) latest &quot;</span> &lt;&lt; <a class="code" href="classfolly_1_1EventBase.html#a48b58cf7932997126eb778e66da241bf">latestLoopCnt_</a> &lt;&lt; <span class="stringliteral">&quot; next &quot;</span> &lt;&lt; <a class="code" href="classfolly_1_1EventBase.html#a988ab0bb495552406db82d2f8f38b25c">nextLoopCnt_</a>;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1EventBase.html#a7e60d7ee18d552494e573cba10c60f39">nothingHandledYet</a>()) {</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <a class="code" href="classfolly_1_1EventBase.html#a48b58cf7932997126eb778e66da241bf">latestLoopCnt_</a> = <a class="code" href="classfolly_1_1EventBase.html#a988ab0bb495552406db82d2f8f38b25c">nextLoopCnt_</a>;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="comment">// set the time</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <a class="code" href="classfolly_1_1EventBase.html#a5ad6534553916ba16981f36724621c8f">startWork_</a> = <a class="code" href="TimekeeperTest_8cpp.html#a562b4baa36dcf267f35a4ba4e0aef329">std::chrono::steady_clock::now</a>();</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    VLOG(11) &lt;&lt; <span class="stringliteral">&quot;EventBase &quot;</span> &lt;&lt; <span class="keyword">this</span> &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; __PRETTY_FUNCTION__</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;             &lt;&lt; <span class="stringliteral">&quot; (loop) startWork_ &quot;</span> &lt;&lt; <a class="code" href="classfolly_1_1EventBase.html#a5ad6534553916ba16981f36724621c8f">startWork_</a>.time_since_epoch().count();</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  }</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;}</div><div class="ttc" id="TimekeeperTest_8cpp_html_a562b4baa36dcf267f35a4ba4e0aef329"><div class="ttname"><a href="TimekeeperTest_8cpp.html#a562b4baa36dcf267f35a4ba4e0aef329">now</a></div><div class="ttdeci">std::chrono::steady_clock::time_point now()</div><div class="ttdef"><b>Definition:</b> <a href="TimekeeperTest_8cpp_source.html#l00031">TimekeeperTest.cpp:31</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a5ad6534553916ba16981f36724621c8f"><div class="ttname"><a href="classfolly_1_1EventBase.html#a5ad6534553916ba16981f36724621c8f">folly::EventBase::startWork_</a></div><div class="ttdeci">std::chrono::steady_clock::time_point startWork_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00762">EventBase.h:762</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a99bee522d749d5e070fdfc01de594868"><div class="ttname"><a href="classfolly_1_1EventBase.html#a99bee522d749d5e070fdfc01de594868">folly::EventBase::enableTimeMeasurement_</a></div><div class="ttdeci">const bool enableTimeMeasurement_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00757">EventBase.h:757</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a988ab0bb495552406db82d2f8f38b25c"><div class="ttname"><a href="classfolly_1_1EventBase.html#a988ab0bb495552406db82d2f8f38b25c">folly::EventBase::nextLoopCnt_</a></div><div class="ttdeci">std::size_t nextLoopCnt_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00760">EventBase.h:760</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a48b58cf7932997126eb778e66da241bf"><div class="ttname"><a href="classfolly_1_1EventBase.html#a48b58cf7932997126eb778e66da241bf">folly::EventBase::latestLoopCnt_</a></div><div class="ttdeci">std::size_t latestLoopCnt_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00761">EventBase.h:761</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a7e60d7ee18d552494e573cba10c60f39"><div class="ttname"><a href="classfolly_1_1EventBase.html#a7e60d7ee18d552494e573cba10c60f39">folly::EventBase::nothingHandledYet</a></div><div class="ttdeci">bool nothingHandledYet() const noexcept</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8cpp_source.html#l00689">EventBase.cpp:689</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6b73fe85f86499770e3b607bc0e26fa2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::EventBase::cancelTimeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1AsyncTimeout.html">AsyncTimeout</a> *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Cancels the <a class="el" href="classfolly_1_1AsyncTimeout.html">AsyncTimeout</a>, if scheduled </p>

<p>Implements <a class="el" href="classfolly_1_1TimeoutManager.html#aecc343bdc8a0e26e39bdb2ca76c3301a">folly::TimeoutManager</a>.</p>

<p>Definition at line <a class="el" href="EventBase_8cpp_source.html#l00732">732</a> of file <a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a>.</p>

<p>References <a class="el" href="EventBase_8h_source.html#l00520">dcheckIsInEventBaseThread()</a>, <a class="el" href="AsyncTimeout_8h_source.html#l00150">folly::AsyncTimeout::getEvent()</a>, and <a class="el" href="EventUtil_8h_source.html#l00051">folly::EventUtil::isEventRegistered()</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00705">detachTimeoutManager()</a>.</p>
<div class="fragment"><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;                                               {</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;  <a class="code" href="classfolly_1_1EventBase.html#a42a80d7c0f6207dcaef1d84b7584d67d">dcheckIsInEventBaseThread</a>();</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  <span class="keyword">struct </span>event* ev = obj-&gt;getEvent();</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1EventUtil.html#aef962ab17b420d269fe20529a231f15c">EventUtil::isEventRegistered</a>(ev)) {</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    event_del(ev);</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  }</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventUtil_html_aef962ab17b420d269fe20529a231f15c"><div class="ttname"><a href="classfolly_1_1EventUtil.html#aef962ab17b420d269fe20529a231f15c">folly::EventUtil::isEventRegistered</a></div><div class="ttdeci">static bool isEventRegistered(const struct event *ev)</div><div class="ttdef"><b>Definition:</b> <a href="EventUtil_8h_source.html#l00051">EventUtil.h:51</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a42a80d7c0f6207dcaef1d84b7584d67d"><div class="ttname"><a href="classfolly_1_1EventBase.html#a42a80d7c0f6207dcaef1d84b7584d67d">folly::EventBase::dcheckIsInEventBaseThread</a></div><div class="ttdeci">void dcheckIsInEventBaseThread() const </div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00520">EventBase.h:520</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa5242b8984a05aa47f298a647c2b3948"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void folly::EventBase::checkIsInEventBaseThread </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Equivalent to CHECK(isInEventBaseThread()) (and assert/DCHECK for dcheckIsInEventBaseThread), but it prints more information on failure. </p>

<p>Definition at line <a class="el" href="EventBase_8cpp_source.html#l00205">205</a> of file <a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a>.</p>

<p>References <a class="el" href="ThreadName_8cpp_source.html#l00090">folly::getThreadName()</a>, <a class="el" href="EventBase_8h_source.html#l00727">loopThread_</a>, and <a class="el" href="Optional_8h_source.html#l00330">folly::Optional&lt; Value &gt;::value_or()</a>.</p>
<div class="fragment"><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                                               {</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="keyword">auto</span> evbTid = <a class="code" href="classfolly_1_1EventBase.html#ae6bcd79c854872291c03aef11ba42d43">loopThread_</a>.load(std::memory_order_relaxed);</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="keywordflow">if</span> (evbTid == std::thread::id()) {</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  }</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="comment">// Using getThreadName(evbTid) instead of name_ will work also if</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="comment">// the thread name is set outside of EventBase (and name_ is empty).</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <span class="keyword">auto</span> curTid = std::this_thread::get_id();</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  CHECK(evbTid == curTid)</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;This logic must be executed in the event base thread. &quot;</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;Event base thread name: \&quot;&quot;</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      &lt;&lt; <a class="code" href="namespacefolly.html#a8908a6b3018f01a12fcbcb122948577c">folly::getThreadName</a>(evbTid).<a class="code" href="classfolly_1_1Optional.html#a3b9821dde9565651713c0013da729ae3">value_or</a>(<span class="stringliteral">&quot;&quot;</span>)</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;\&quot;, current thread name: \&quot;&quot;</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      &lt;&lt; <a class="code" href="namespacefolly.html#a8908a6b3018f01a12fcbcb122948577c">folly::getThreadName</a>(curTid).<a class="code" href="classfolly_1_1Optional.html#a3b9821dde9565651713c0013da729ae3">value_or</a>(<span class="stringliteral">&quot;&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;\&quot;&quot;</span>;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;}</div><div class="ttc" id="namespacefolly_html_a8908a6b3018f01a12fcbcb122948577c"><div class="ttname"><a href="namespacefolly.html#a8908a6b3018f01a12fcbcb122948577c">folly::getThreadName</a></div><div class="ttdeci">Optional&lt; std::string &gt; getThreadName(std::thread::id id)</div><div class="ttdef"><b>Definition:</b> <a href="ThreadName_8cpp_source.html#l00090">ThreadName.cpp:90</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_ae6bcd79c854872291c03aef11ba42d43"><div class="ttname"><a href="classfolly_1_1EventBase.html#ae6bcd79c854872291c03aef11ba42d43">folly::EventBase::loopThread_</a></div><div class="ttdeci">std::atomic&lt; std::thread::id &gt; loopThread_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00727">EventBase.h:727</a></div></div>
<div class="ttc" id="classfolly_1_1Optional_html_a3b9821dde9565651713c0013da729ae3"><div class="ttname"><a href="classfolly_1_1Optional.html#a3b9821dde9565651713c0013da729ae3">folly::Optional::value_or</a></div><div class="ttdeci">FOLLY_CPP14_CONSTEXPR Value value_or(U &amp;&amp;dflt) const &amp;</div><div class="ttdef"><b>Definition:</b> <a href="Optional_8h_source.html#l00330">Optional.h:330</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a42a80d7c0f6207dcaef1d84b7584d67d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::EventBase::dcheckIsInEventBaseThread </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00520">520</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>References <a class="el" href="Portability_8h_source.html#l00264">folly::kIsDebug</a>.</p>

<p>Referenced by <a class="el" href="AsyncServerSocket_8cpp_source.html#l00586">folly::AsyncServerSocket::addAcceptCallback()</a>, <a class="el" href="AsyncUDPSocket_8cpp_source.html#l00037">folly::AsyncUDPSocket::AsyncUDPSocket()</a>, <a class="el" href="EventHandler_8cpp_source.html#l00109">folly::EventHandler::attachEventBase()</a>, <a class="el" href="AsyncServerSocket_8cpp_source.html#l00274">folly::AsyncServerSocket::attachEventBase()</a>, <a class="el" href="AsyncSocket_8cpp_source.html#l01500">folly::AsyncSocket::attachEventBase()</a>, <a class="el" href="AsyncServerSocket_8cpp_source.html#l01142">folly::AsyncServerSocket::backoffTimeoutExpired()</a>, <a class="el" href="AsyncServerSocket_8cpp_source.html#l00372">folly::AsyncServerSocket::bind()</a>, <a class="el" href="EventBase_8cpp_source.html#l00732">cancelTimeout()</a>, <a class="el" href="AsyncUDPSocket_8cpp_source.html#l00329">folly::AsyncUDPSocket::close()</a>, <a class="el" href="AsyncSocket_8cpp_source.html#l01198">folly::AsyncSocket::close()</a>, <a class="el" href="AsyncSocket_8cpp_source.html#l01252">folly::AsyncSocket::closeNow()</a>, <a class="el" href="AsyncSocket_8cpp_source.html#l00431">folly::AsyncSocket::connect()</a>, <a class="el" href="AsyncServerSocket_8cpp_source.html#l00284">folly::AsyncServerSocket::detachEventBase()</a>, <a class="el" href="AsyncSocket_8cpp_source.html#l01519">folly::AsyncSocket::detachEventBase()</a>, <a class="el" href="EvbHandshakeHelper_8cpp_source.html#l00042">wangle::EvbHandshakeHelper::dropConnection()</a>, <a class="el" href="EventBaseLocal_8cpp_source.html#l00041">folly::detail::EventBaseLocalBase::erase()</a>, <a class="el" href="EventBase_8cpp_source.html#l00749">getName()</a>, <a class="el" href="AsyncServerSocket_8h_source.html#l00604">folly::AsyncServerSocket::getNumPendingMessagesInQueue()</a>, <a class="el" href="EventBaseLocal_8cpp_source.html#l00035">folly::detail::EventBaseLocalBase::getVoid()</a>, <a class="el" href="NotificationQueue_8h_source.html#l00803">folly::NotificationQueue&lt; MessageT &gt;::Consumer::init()</a>, <a class="el" href="AsyncSocket_8cpp_source.html#l00337">folly::AsyncSocket::init()</a>, <a class="el" href="AsyncSocket_8cpp_source.html#l01713">folly::AsyncSocket::ioReady()</a>, <a class="el" href="AsyncSocket_8cpp_source.html#l01537">folly::AsyncSocket::isDetachable()</a>, <a class="el" href="AsyncSocket_8cpp_source.html#l01570">folly::AsyncSocket::isZeroCopyWriteInProgress()</a>, <a class="el" href="AsyncServerSocket_8cpp_source.html#l00554">folly::AsyncServerSocket::listen()</a>, <a class="el" href="EventBaseLocal_8cpp_source.html#l00050">folly::detail::EventBaseLocalBase::onEventBaseDestruction()</a>, <a class="el" href="AsyncServerSocket_8cpp_source.html#l00723">folly::AsyncServerSocket::pauseAccepting()</a>, <a class="el" href="AsyncSocket_8cpp_source.html#l01870">folly::AsyncSocket::processZeroCopyWriteInProgress()</a>, <a class="el" href="AsyncServerSocket_8cpp_source.html#l00636">folly::AsyncServerSocket::removeAcceptCallback()</a>, <a class="el" href="EventBase_8cpp_source.html#l00548">runBeforeLoop()</a>, <a class="el" href="EventBase_8cpp_source.html#l00520">runInLoop()</a>, <a class="el" href="EventBase_8cpp_source.html#l00711">scheduleTimeout()</a>, <a class="el" href="AsyncSocket_8cpp_source.html#l00691">folly::AsyncSocket::setErrMessageCB()</a>, <a class="el" href="EventBase_8cpp_source.html#l00740">setName()</a>, <a class="el" href="AsyncSocket_8cpp_source.html#l00768">folly::AsyncSocket::setReadCB()</a>, <a class="el" href="AsyncSocket_8cpp_source.html#l00666">folly::AsyncSocket::setSendTimeout()</a>, <a class="el" href="EventBaseLocal_8cpp_source.html#l00056">folly::detail::EventBaseLocalBase::setVoid()</a>, <a class="el" href="AsyncSocket_8cpp_source.html#l01339">folly::AsyncSocket::shutdownWrite()</a>, <a class="el" href="AsyncSocket_8cpp_source.html#l01358">folly::AsyncSocket::shutdownWriteNow()</a>, <a class="el" href="AsyncSSLSocket_8cpp_source.html#l00461">folly::AsyncSSLSocket::sslAccept()</a>, <a class="el" href="AsyncSSLSocket_8cpp_source.html#l00753">folly::AsyncSSLSocket::sslConn()</a>, <a class="el" href="AsyncServerSocket_8cpp_source.html#l00704">folly::AsyncServerSocket::startAccepting()</a>, <a class="el" href="AsyncServerSocket_8cpp_source.html#l00207">folly::AsyncServerSocket::stopAccepting()</a>, <a class="el" href="AsyncSocket_8cpp_source.html#l02285">folly::AsyncSocket::timeoutExpired()</a>, <a class="el" href="AsyncSocket_8cpp_source.html#l02480">folly::AsyncSocket::updateEventRegistration()</a>, <a class="el" href="AsyncServerSocket_8cpp_source.html#l00295">folly::AsyncServerSocket::useExistingSockets()</a>, and <a class="el" href="AsyncSocket_8cpp_source.html#l01055">folly::AsyncSocket::writeImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                                         {</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacefolly.html#ad90d44cfcb05efe4de38be67048437f6">kIsDebug</a>) {</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      <a class="code" href="classfolly_1_1EventBase.html#aa5242b8984a05aa47f298a647c2b3948">checkIsInEventBaseThread</a>();</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    }</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  }</div><div class="ttc" id="namespacefolly_html_ad90d44cfcb05efe4de38be67048437f6"><div class="ttname"><a href="namespacefolly.html#ad90d44cfcb05efe4de38be67048437f6">folly::kIsDebug</a></div><div class="ttdeci">constexpr auto kIsDebug</div><div class="ttdef"><b>Definition:</b> <a href="Portability_8h_source.html#l00264">Portability.h:264</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_aa5242b8984a05aa47f298a647c2b3948"><div class="ttname"><a href="classfolly_1_1EventBase.html#aa5242b8984a05aa47f298a647c2b3948">folly::EventBase::checkIsInEventBaseThread</a></div><div class="ttdeci">void checkIsInEventBaseThread() const </div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8cpp_source.html#l00205">EventBase.cpp:205</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4039a78b12e4af16a91ab09114541aae"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::EventBase::detachTimeoutManager </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1AsyncTimeout.html">AsyncTimeout</a> *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classfolly_1_1TimeoutManager.html#a973083023b0b9fae889bf8067c8623fe">folly::TimeoutManager</a>.</p>

<p>Definition at line <a class="el" href="EventBase_8cpp_source.html#l00705">705</a> of file <a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a>.</p>

<p>References <a class="el" href="EventBase_8cpp_source.html#l00732">cancelTimeout()</a>, and <a class="el" href="AsyncTimeout_8h_source.html#l00150">folly::AsyncTimeout::getEvent()</a>.</p>
<div class="fragment"><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                                                      {</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  <a class="code" href="classfolly_1_1EventBase.html#a6b73fe85f86499770e3b607bc0e26fa2">cancelTimeout</a>(obj);</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  <span class="keyword">struct </span>event* ev = obj-&gt;getEvent();</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  ev-&gt;ev_base = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventBase_html_a6b73fe85f86499770e3b607bc0e26fa2"><div class="ttname"><a href="classfolly_1_1EventBase.html#a6b73fe85f86499770e3b607bc0e26fa2">folly::EventBase::cancelTimeout</a></div><div class="ttdeci">void cancelTimeout(AsyncTimeout *obj) final</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8cpp_source.html#l00732">EventBase.cpp:732</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2683301f4a3f4e7dabea6d6bf4c508d3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::EventBase::drive </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements the <a class="el" href="classfolly_1_1DrivableExecutor.html">DrivableExecutor</a> interface. </p>

<p>Implements <a class="el" href="classfolly_1_1DrivableExecutor.html#a77ee7126bbb0e0aa72b364daa7cb01c8">folly::DrivableExecutor</a>.</p>

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00631">631</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>References <a class="el" href="ScopeGuard_8h_source.html#l00274">SCOPE_EXIT</a>, and <a class="el" href="namespacefolly_1_1detail.html#a87c55c2d12ad5b5dc9b7416bbed13720a90272dda245ae1fb3cf197e91a8689dc">folly::detail::timeout</a>.</p>

<p>Referenced by <a class="el" href="EventBaseTest_8cpp_source.html#l01915">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                        {</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    ++<a class="code" href="classfolly_1_1EventBase.html#a7ff9288aa1b5c613523eda5d71c5b07d">loopKeepAliveCount_</a>;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <a class="code" href="ScopeGuard_8h.html#a175c354c3e38222bc00ce5df5e6d431d">SCOPE_EXIT</a> {</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;      --<a class="code" href="classfolly_1_1EventBase.html#a7ff9288aa1b5c613523eda5d71c5b07d">loopKeepAliveCount_</a>;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    };</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <a class="code" href="classfolly_1_1EventBase.html#a73967f738470c77247ac89cc97d0c303">loopOnce</a>();</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  }</div><div class="ttc" id="ScopeGuard_8h_html_a175c354c3e38222bc00ce5df5e6d431d"><div class="ttname"><a href="ScopeGuard_8h.html#a175c354c3e38222bc00ce5df5e6d431d">SCOPE_EXIT</a></div><div class="ttdeci">#define SCOPE_EXIT</div><div class="ttdef"><b>Definition:</b> <a href="ScopeGuard_8h_source.html#l00274">ScopeGuard.h:274</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a73967f738470c77247ac89cc97d0c303"><div class="ttname"><a href="classfolly_1_1EventBase.html#a73967f738470c77247ac89cc97d0c303">folly::EventBase::loopOnce</a></div><div class="ttdeci">bool loopOnce(int flags=0)</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8cpp_source.html#l00271">EventBase.cpp:271</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a7ff9288aa1b5c613523eda5d71c5b07d"><div class="ttname"><a href="classfolly_1_1EventBase.html#a7ff9288aa1b5c613523eda5d71c5b07d">folly::EventBase::loopKeepAliveCount_</a></div><div class="ttdeci">ssize_t loopKeepAliveCount_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00736">EventBase.h:736</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0c64b05b775a8ce6beead930542c427d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double folly::EventBase::getAvgLoopTime </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the average loop time in microseconds (an exponentially-smoothed ave) </p>

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00479">479</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>Referenced by <a class="el" href="EventBaseTest_8cpp_source.html#l01610">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                                {</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    assert(<a class="code" href="classfolly_1_1EventBase.html#a99bee522d749d5e070fdfc01de594868">enableTimeMeasurement_</a>);</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1EventBase.html#a5e20b42bf343d8bcfc7b9bded59c3af8">avgLoopTime_</a>.<a class="code" href="classfolly_1_1EventBase_1_1SmoothLoopTime.html#ad491b3c49a565b24ef01b5d44bdd4a30">get</a>();</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  }</div><div class="ttc" id="classfolly_1_1EventBase_1_1SmoothLoopTime_html_ad491b3c49a565b24ef01b5d44bdd4a30"><div class="ttname"><a href="classfolly_1_1EventBase_1_1SmoothLoopTime.html#ad491b3c49a565b24ef01b5d44bdd4a30">folly::EventBase::SmoothLoopTime::get</a></div><div class="ttdeci">double get() const </div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00567">EventBase.h:567</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a99bee522d749d5e070fdfc01de594868"><div class="ttname"><a href="classfolly_1_1EventBase.html#a99bee522d749d5e070fdfc01de594868">folly::EventBase::enableTimeMeasurement_</a></div><div class="ttdeci">const bool enableTimeMeasurement_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00757">EventBase.h:757</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a5e20b42bf343d8bcfc7b9bded59c3af8"><div class="ttname"><a href="classfolly_1_1EventBase.html#a5e20b42bf343d8bcfc7b9bded59c3af8">folly::EventBase::avgLoopTime_</a></div><div class="ttdeci">SmoothLoopTime avgLoopTime_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00744">EventBase.h:744</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a653d33a403a9b3f1cdd7d78b17fe892d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1EventBase.html">EventBase</a> * folly::EventBase::getEventBase </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements the <a class="el" href="classfolly_1_1IOExecutor.html">IOExecutor</a> interface. </p>

<p>Implements <a class="el" href="classfolly_1_1IOExecutor.html#aad8eaa1a7bfdf7203884a45bad09d657">folly::IOExecutor</a>.</p>

<p>Definition at line <a class="el" href="EventBase_8cpp_source.html#l00776">776</a> of file <a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a>.</p>

<p>References <a class="el" href="EventBase_8h_source.html#l00584">folly::EventBase::SmoothLoopTime::buffer_interval_</a>.</p>

<p>Referenced by <a class="el" href="AcceptRoutingHandlerTest_8cpp_source.html#l00081">AcceptRoutingHandlerTest::getEventBase()</a>, <a class="el" href="TransportFilter_8cpp_source.html#l00122">proxygen::PassThroughTransportFilter::getEventBase()</a>, and <a class="el" href="EventBaseTest_8cpp_source.html#l01944">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                                   {</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">this</span>;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a78a4a0fdbb87679018f7573474ce3624"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1ExecutionObserver.html">ExecutionObserver</a>* folly::EventBase::getExecutionObserver </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Gets the execution observer associated with this <a class="el" href="classfolly_1_1EventBase.html">EventBase</a>. </p>

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00609">609</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>References <a class="el" href="http__parser_8c_source.html#l00437">name</a>, and <a class="el" href="Conv_8cpp_source.html#l00212">string</a>.</p>

<p>Referenced by <a class="el" href="EventHandler_8cpp_source.html#l00148">folly::EventHandler::libeventCallback()</a>.</p>
<div class="fragment"><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                                            {</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1EventBase.html#ab7fcf2326933d11252b84c8cdefe7106">executionObserver_</a>;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  }</div><div class="ttc" id="classfolly_1_1EventBase_html_ab7fcf2326933d11252b84c8cdefe7106"><div class="ttname"><a href="classfolly_1_1EventBase.html#ab7fcf2326933d11252b84c8cdefe7106">folly::EventBase::executionObserver_</a></div><div class="ttdeci">ExecutionObserver * executionObserver_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00774">EventBase.h:774</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a04e4e3ccdee7022bac8ec0b574764dce"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">event_base* folly::EventBase::getLibeventBase </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00537">537</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>References <a class="el" href="FizzClientCommand_8cpp_source.html#l00201">evb_</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00694">attachTimeoutManager()</a>, <a class="el" href="AsyncSignalHandler_8cpp_source.html#l00052">folly::AsyncSignalHandler::registerSignalHandler()</a>, and <a class="el" href="EventHandler_8cpp_source.html#l00168">folly::EventHandler::setEventBase()</a>.</p>
<div class="fragment"><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                                      {</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1EventBase.html#a0b4458d0f1f1b7a68e26715dc8ddcc88">evb_</a>;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  }</div><div class="ttc" id="classfolly_1_1EventBase_html_a0b4458d0f1f1b7a68e26715dc8ddcc88"><div class="ttname"><a href="classfolly_1_1EventBase.html#a0b4458d0f1f1b7a68e26715dc8ddcc88">folly::EventBase::evb_</a></div><div class="ttdeci">event_base * evb_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00730">EventBase.h:730</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae4828bb064914a4962ccd53c0ea898ac"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char * folly::EventBase::getLibeventMethod </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8cpp_source.html#l00764">764</a> of file <a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;                                         {</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  <span class="keywordflow">return</span> event_get_method();</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7cabeebcebee9ba0486c2d82433bdb09"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char * folly::EventBase::getLibeventVersion </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8cpp_source.html#l00761">761</a> of file <a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                                          {</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  <span class="keywordflow">return</span> event_get_version();</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0f35408cc78fb28419fa5a2a7c843ca1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a> &amp; folly::EventBase::getName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the name of the thread that runs this event base. </p>

<p>Definition at line <a class="el" href="EventBase_8cpp_source.html#l00749">749</a> of file <a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a>.</p>

<p>References <a class="el" href="EventBase_8h_source.html#l00520">dcheckIsInEventBaseThread()</a>, and <a class="el" href="EventBase_8h_source.html#l00777">name_</a>.</p>
<div class="fragment"><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                                    {</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  <a class="code" href="classfolly_1_1EventBase.html#a42a80d7c0f6207dcaef1d84b7584d67d">dcheckIsInEventBaseThread</a>();</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1EventBase.html#afdcce9804a9705367cee8857a1ff276f">name_</a>;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventBase_html_afdcce9804a9705367cee8857a1ff276f"><div class="ttname"><a href="classfolly_1_1EventBase.html#afdcce9804a9705367cee8857a1ff276f">folly::EventBase::name_</a></div><div class="ttdeci">std::string name_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00777">EventBase.h:777</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a42a80d7c0f6207dcaef1d84b7584d67d"><div class="ttname"><a href="classfolly_1_1EventBase.html#a42a80d7c0f6207dcaef1d84b7584d67d">folly::EventBase::dcheckIsInEventBaseThread</a></div><div class="ttdeci">void dcheckIsInEventBaseThread() const </div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00520">EventBase.h:520</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a743db4fb064ae66088ad96a5447fe8f2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t folly::EventBase::getNotificationQueueSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8cpp_source.html#l00197">197</a> of file <a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a>.</p>

<p>References <a class="el" href="EventBase_8h_source.html#l00734">queue_</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00275">loopBody()</a>.</p>
<div class="fragment"><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                                                 {</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1EventBase.html#a767caba2144b07e4acc7096560705283">queue_</a>-&gt;size();</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventBase_html_a767caba2144b07e4acc7096560705283"><div class="ttname"><a href="classfolly_1_1EventBase.html#a767caba2144b07e4acc7096560705283">folly::EventBase::queue_</a></div><div class="ttdeci">std::unique_ptr&lt; NotificationQueue&lt; Func &gt; &gt; queue_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00734">EventBase.h:734</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a54426f1641c4e66c1a31ff743d3d7d04"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::shared_ptr&lt;<a class="el" href="classfolly_1_1EventBaseObserver.html">EventBaseObserver</a>&gt;&amp; folly::EventBase::getObserver </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00592">592</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                                                        {</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1EventBase.html#a5107b96390c8e78246f7847863396d7f">observer_</a>;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  }</div><div class="ttc" id="classfolly_1_1EventBase_html_a5107b96390c8e78246f7847863396d7f"><div class="ttname"><a href="classfolly_1_1EventBase.html#a5107b96390c8e78246f7847863396d7f">folly::EventBase::observer_</a></div><div class="ttdeci">std::shared_ptr&lt; EventBaseObserver &gt; observer_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00770">EventBase.h:770</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab4ef01da1c01dfa47543125a043e655d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1VirtualEventBase.html">VirtualEventBase</a> &amp; folly::EventBase::getVirtualEventBase </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8cpp_source.html#l00768">768</a> of file <a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a>.</p>

<p>References <a class="el" href="synchronization_2CallOnce_8h_source.html#l00056">folly::call_once()</a>, <a class="el" href="EventBase_8h_source.html#l00790">virtualEventBase_</a>, and <a class="el" href="EventBase_8h_source.html#l00789">virtualEventBaseInitFlag_</a>.</p>

<p>Referenced by <a class="el" href="EventBaseLoopController-inl_8h_source.html#l00029">folly::fibers::EventBaseLoopController::attachEventBase()</a>, and <a class="el" href="FibersTest_8cpp_source.html#l02051">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                                                 {</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  <a class="code" href="namespacefolly.html#aa54fa5042564eceb72c92d61596061bd">folly::call_once</a>(<a class="code" href="classfolly_1_1EventBase.html#ace72770e0ad3ed239cb511bd5f7f29c5">virtualEventBaseInitFlag_</a>, [&amp;] {</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <a class="code" href="classfolly_1_1EventBase.html#a144d0cb2ac0d3749d732eb5163b4c3ce">virtualEventBase_</a> = std::make_unique&lt;VirtualEventBase&gt;(*this);</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  });</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  <span class="keywordflow">return</span> *<a class="code" href="classfolly_1_1EventBase.html#a144d0cb2ac0d3749d732eb5163b4c3ce">virtualEventBase_</a>;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;}</div><div class="ttc" id="namespacefolly_html_aa54fa5042564eceb72c92d61596061bd"><div class="ttname"><a href="namespacefolly.html#aa54fa5042564eceb72c92d61596061bd">folly::call_once</a></div><div class="ttdeci">FOLLY_ALWAYS_INLINE void call_once(basic_once_flag&lt; Mutex, Atom &gt; &amp;flag, F &amp;&amp;f, Args &amp;&amp;...args)</div><div class="ttdef"><b>Definition:</b> <a href="synchronization_2CallOnce_8h_source.html#l00056">CallOnce.h:56</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a144d0cb2ac0d3749d732eb5163b4c3ce"><div class="ttname"><a href="classfolly_1_1EventBase.html#a144d0cb2ac0d3749d732eb5163b4c3ce">folly::EventBase::virtualEventBase_</a></div><div class="ttdeci">std::unique_ptr&lt; VirtualEventBase &gt; virtualEventBase_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00790">EventBase.h:790</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_ace72770e0ad3ed239cb511bd5f7f29c5"><div class="ttname"><a href="classfolly_1_1EventBase.html#ace72770e0ad3ed239cb511bd5f7f29c5">folly::EventBase::virtualEventBaseInitFlag_</a></div><div class="ttdeci">folly::once_flag virtualEventBaseInitFlag_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00789">EventBase.h:789</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2556ae6bd95289b7dd1e6edd549dc8f1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::EventBase::initNotificationQueue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8cpp_source.html#l00640">640</a> of file <a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a>.</p>

<p>References <a class="el" href="EventBase_8h_source.html#l00735">fnRunner_</a>, and <a class="el" href="EventBase_8h_source.html#l00734">queue_</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00076">EventBase()</a>.</p>
<div class="fragment"><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                                      {</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <span class="comment">// Infinite size queue</span></div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  <a class="code" href="classfolly_1_1EventBase.html#a767caba2144b07e4acc7096560705283">queue_</a> = std::make_unique&lt;NotificationQueue&lt;Func&gt;&gt;();</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  <span class="comment">// We allocate fnRunner_ separately, rather than declaring it directly</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  <span class="comment">// as a member of EventBase solely so that we don&#39;t need to include</span></div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  <span class="comment">// NotificationQueue.h from EventBase.h</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  <a class="code" href="classfolly_1_1EventBase.html#a58df53039cb63db4496275e21c24470e">fnRunner_</a> = std::make_unique&lt;FunctionRunner&gt;();</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  <span class="comment">// Mark this as an internal event, so event_base_loop() will return if</span></div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  <span class="comment">// there are no other events besides this one installed.</span></div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <span class="comment">// Most callers don&#39;t care about the internal notification queue used by</span></div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  <span class="comment">// EventBase.  The queue is always installed, so if we did count the queue as</span></div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <span class="comment">// an active event, loop() would never exit with no more events to process.</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <span class="comment">// Users can use loopForever() if they do care about the notification queue.</span></div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <span class="comment">// (This is useful for EventBase threads that do nothing but process</span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  <span class="comment">// runInEventBaseThread() notifications.)</span></div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  fnRunner_-&gt;startConsumingInternal(<span class="keyword">this</span>, <a class="code" href="classfolly_1_1EventBase.html#a767caba2144b07e4acc7096560705283">queue_</a>.get());</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventBase_html_a767caba2144b07e4acc7096560705283"><div class="ttname"><a href="classfolly_1_1EventBase.html#a767caba2144b07e4acc7096560705283">folly::EventBase::queue_</a></div><div class="ttdeci">std::unique_ptr&lt; NotificationQueue&lt; Func &gt; &gt; queue_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00734">EventBase.h:734</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a58df53039cb63db4496275e21c24470e"><div class="ttname"><a href="classfolly_1_1EventBase.html#a58df53039cb63db4496275e21c24470e">folly::EventBase::fnRunner_</a></div><div class="ttdeci">std::unique_ptr&lt; FunctionRunner &gt; fnRunner_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00735">EventBase.h:735</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad7350a554066042e9ce12f01bac64631"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::EventBase::inRunningEventBaseThread </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00509">509</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00554">runInEventBaseThread()</a>, and <a class="el" href="EventBase_8cpp_source.html#l00582">runInEventBaseThreadAndWait()</a>.</p>
<div class="fragment"><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                                        {</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1EventBase.html#ae6bcd79c854872291c03aef11ba42d43">loopThread_</a>.load(std::memory_order_relaxed) ==</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        std::this_thread::get_id();</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  }</div><div class="ttc" id="classfolly_1_1EventBase_html_ae6bcd79c854872291c03aef11ba42d43"><div class="ttname"><a href="classfolly_1_1EventBase.html#ae6bcd79c854872291c03aef11ba42d43">folly::EventBase::loopThread_</a></div><div class="ttdeci">std::atomic&lt; std::thread::id &gt; loopThread_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00727">EventBase.h:727</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acb01d21c112777ecf6c7f12c303fe65b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::EventBase::isInEventBaseThread </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Verify that current thread is the <a class="el" href="classfolly_1_1EventBase.html">EventBase</a> thread, if the <a class="el" href="classfolly_1_1EventBase.html">EventBase</a> is running. </p>

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00504">504</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>Referenced by <a class="el" href="AsyncUDPSocket_8cpp_source.html#l00546">folly::AsyncUDPSocket::attachEventBase()</a>, <a class="el" href="AsyncUDPSocket_8cpp_source.html#l00539">folly::AsyncUDPSocket::detachEventBase()</a>, <a class="el" href="Acceptor_8cpp_source.html#l00513">wangle::Acceptor::dropAllConnections()</a>, <a class="el" href="AsyncSSLSocketTest2_8cpp_source.html#l00161">folly::AttachDetachClient::readDataAvailable()</a>, <a class="el" href="EventBase_8cpp_source.html#l00603">runImmediatelyOrRunInEventBaseThreadAndWait()</a>, <a class="el" href="AsyncUDPSocketGSOTest_8cpp_source.html#l00156">UDPServer::shutdown()</a>, <a class="el" href="AsyncUDPSocketGSOTest_8cpp_source.html#l00237">UDPClient::shutdown()</a>, <a class="el" href="AsyncUDPSocketGSOTest_8cpp_source.html#l00120">UDPServer::start()</a>, and <a class="el" href="AsyncUDPSocketGSOTest_8cpp_source.html#l00193">UDPClient::start()</a>.</p>
<div class="fragment"><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                                   {</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="keyword">auto</span> tid = <a class="code" href="classfolly_1_1EventBase.html#ae6bcd79c854872291c03aef11ba42d43">loopThread_</a>.load(std::memory_order_relaxed);</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="keywordflow">return</span> tid == std::thread::id() || tid == std::this_thread::get_id();</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  }</div><div class="ttc" id="classfolly_1_1EventBase_html_ae6bcd79c854872291c03aef11ba42d43"><div class="ttname"><a href="classfolly_1_1EventBase.html#ae6bcd79c854872291c03aef11ba42d43">folly::EventBase::loopThread_</a></div><div class="ttdeci">std::atomic&lt; std::thread::id &gt; loopThread_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00727">EventBase.h:727</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a40c5ec2ff194131ccfb55d97e46d41d8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::EventBase::isInTimeoutManagerThread </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">final</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Helper method to know whether we are running in the timeout manager thread </p>

<p>Implements <a class="el" href="classfolly_1_1TimeoutManager.html#a3927a8439b652f7eec6ca409c3c10a87">folly::TimeoutManager</a>.</p>

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00654">654</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>References <a class="el" href="GlobalExecutor_8cpp_source.html#l00116">folly::getEventBase()</a>.</p>
<div class="fragment"><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                                        {</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1EventBase.html#acb01d21c112777ecf6c7f12c303fe65b">isInEventBaseThread</a>();</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  }</div><div class="ttc" id="classfolly_1_1EventBase_html_acb01d21c112777ecf6c7f12c303fe65b"><div class="ttname"><a href="classfolly_1_1EventBase.html#acb01d21c112777ecf6c7f12c303fe65b">folly::EventBase::isInEventBaseThread</a></div><div class="ttdeci">bool isInEventBaseThread() const </div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00504">EventBase.h:504</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a945c69c37196f145c3eb24fa6d719d20"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::EventBase::isRunning </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>check if the event base loop is running. </p>

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00487">487</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>References <a class="el" href="ConstexprMathBenchmark_8cpp_source.html#l00186">uint32_t</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00740">setName()</a>, and <a class="el" href="EventBase_8cpp_source.html#l00249">waitUntilRunning()</a>.</p>
<div class="fragment"><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                         {</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1EventBase.html#ae6bcd79c854872291c03aef11ba42d43">loopThread_</a>.load(std::memory_order_relaxed) != std::thread::id();</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  }</div><div class="ttc" id="classfolly_1_1EventBase_html_ae6bcd79c854872291c03aef11ba42d43"><div class="ttname"><a href="classfolly_1_1EventBase.html#ae6bcd79c854872291c03aef11ba42d43">folly::EventBase::loopThread_</a></div><div class="ttdeci">std::atomic&lt; std::thread::id &gt; loopThread_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00727">EventBase.h:727</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa0156016acfdf40e77fa1752d8b6ce39"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::EventBase::keepAliveAcquire </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classfolly_1_1Executor.html#a28667362d4369bae08cf7d2fb2b8f6e4">folly::Executor</a>.</p>

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00671">671</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                                   {</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1EventBase.html#ad7350a554066042e9ce12f01bac64631">inRunningEventBaseThread</a>()) {</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      <a class="code" href="classfolly_1_1EventBase.html#a7ff9288aa1b5c613523eda5d71c5b07d">loopKeepAliveCount_</a>++;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      <a class="code" href="classfolly_1_1EventBase.html#a087b44d8c0bd757b296e373859407143">loopKeepAliveCountAtomic_</a>.fetch_add(1, std::memory_order_relaxed);</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    }</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  }</div><div class="ttc" id="classfolly_1_1EventBase_html_ad7350a554066042e9ce12f01bac64631"><div class="ttname"><a href="classfolly_1_1EventBase.html#ad7350a554066042e9ce12f01bac64631">folly::EventBase::inRunningEventBaseThread</a></div><div class="ttdeci">bool inRunningEventBaseThread() const </div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00509">EventBase.h:509</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a7ff9288aa1b5c613523eda5d71c5b07d"><div class="ttname"><a href="classfolly_1_1EventBase.html#a7ff9288aa1b5c613523eda5d71c5b07d">folly::EventBase::loopKeepAliveCount_</a></div><div class="ttdeci">ssize_t loopKeepAliveCount_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00736">EventBase.h:736</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a087b44d8c0bd757b296e373859407143"><div class="ttname"><a href="classfolly_1_1EventBase.html#a087b44d8c0bd757b296e373859407143">folly::EventBase::loopKeepAliveCountAtomic_</a></div><div class="ttdeci">std::atomic&lt; ssize_t &gt; loopKeepAliveCountAtomic_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00737">EventBase.h:737</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a32e05aec8ac32a882fc56692eeed0d8c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::EventBase::keepAliveRelease </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classfolly_1_1Executor.html#abd6e861b8332e8466eb62950aa10f4b7">folly::Executor</a>.</p>

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00680">680</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>References <a class="el" href="BaseTest_8cpp_source.html#l00070">add</a>, and <a class="el" href="extension__points_8h_source.html#l00040">folly::pushmi::__adl::noexcept()</a>.</p>
<div class="fragment"><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                                   {</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classfolly_1_1EventBase.html#ad7350a554066042e9ce12f01bac64631">inRunningEventBaseThread</a>()) {</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1EventBase.html#a3d71728eeb12747ad5357b2d1c1ec894">add</a>([<span class="keyword">this</span>] { <a class="code" href="classfolly_1_1EventBase.html#a7ff9288aa1b5c613523eda5d71c5b07d">loopKeepAliveCount_</a>--; });</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    }</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <a class="code" href="classfolly_1_1EventBase.html#a7ff9288aa1b5c613523eda5d71c5b07d">loopKeepAliveCount_</a>--;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  }</div><div class="ttc" id="classfolly_1_1EventBase_html_a3d71728eeb12747ad5357b2d1c1ec894"><div class="ttname"><a href="classfolly_1_1EventBase.html#a3d71728eeb12747ad5357b2d1c1ec894">folly::EventBase::add</a></div><div class="ttdeci">void add(Cob fn) override</div><div class="ttdoc">Implements the Executor interface. </div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00624">EventBase.h:624</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_ad7350a554066042e9ce12f01bac64631"><div class="ttname"><a href="classfolly_1_1EventBase.html#ad7350a554066042e9ce12f01bac64631">folly::EventBase::inRunningEventBaseThread</a></div><div class="ttdeci">bool inRunningEventBaseThread() const </div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00509">EventBase.h:509</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a7ff9288aa1b5c613523eda5d71c5b07d"><div class="ttname"><a href="classfolly_1_1EventBase.html#a7ff9288aa1b5c613523eda5d71c5b07d">folly::EventBase::loopKeepAliveCount_</a></div><div class="ttdeci">ssize_t loopKeepAliveCount_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00736">EventBase.h:736</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a16d5a5f7ff5531f5faca9c22b528f82b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::EventBase::loop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Runs the event loop.</p>
<p><a class="el" href="classfolly_1_1EventBase.html#a16d5a5f7ff5531f5faca9c22b528f82b">loop()</a> will loop waiting for I/O or timeouts and invoking <a class="el" href="classfolly_1_1EventHandler.html">EventHandler</a> and <a class="el" href="classfolly_1_1AsyncTimeout.html">AsyncTimeout</a> callbacks as their events become ready. <a class="el" href="classfolly_1_1EventBase.html#a16d5a5f7ff5531f5faca9c22b528f82b">loop()</a> will only return when there are no more events remaining to process, or after <a class="el" href="classfolly_1_1EventBase.html#ac274e03942f8358c5a3106eebc56c120">terminateLoopSoon()</a> has been called.</p>
<p><a class="el" href="classfolly_1_1EventBase.html#a16d5a5f7ff5531f5faca9c22b528f82b">loop()</a> may be called again to restart event processing after a previous call to <a class="el" href="classfolly_1_1EventBase.html#a16d5a5f7ff5531f5faca9c22b528f82b">loop()</a> or <a class="el" href="classfolly_1_1EventBase.html#a7696dec40156ed3c4c8caa1e80d188e7">loopForever()</a> has returned.</p>
<p>Returns true if the loop completed normally (if it processed all outstanding requests, or if <a class="el" href="classfolly_1_1EventBase.html#ac274e03942f8358c5a3106eebc56c120">terminateLoopSoon()</a> was called). If an error occurs waiting for events, false will be returned. </p>

<p>Definition at line <a class="el" href="EventBase_8cpp_source.html#l00256">256</a> of file <a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a>.</p>

<p>References <a class="el" href="EventBase_8cpp_source.html#l00275">loopBody()</a>.</p>

<p>Referenced by <a class="el" href="FibersBenchmark_8cpp_source.html#l00075">BENCHMARK()</a>, <a class="el" href="EventBaseBenchmark_8cpp_source.html#l00049">BENCHMARK_RELATIVE()</a>, <a class="el" href="NotificationQueueTest_8cpp_source.html#l00349">QueueTest::destroyCallback()</a>, <a class="el" href="HandshakeTest_8cpp_source.html#l00188">fizz::test::HandshakeTest::doClientHandshake()</a>, <a class="el" href="HandshakeTest_8cpp_source.html#l00181">fizz::test::HandshakeTest::doHandshake()</a>, <a class="el" href="HandshakeTest_8cpp_source.html#l00194">fizz::test::HandshakeTest::doServerHandshake()</a>, <a class="el" href="FizzClientCommand_8cpp_source.html#l00230">fizz::tool::fizzClientCommand()</a>, <a class="el" href="FizzServerCommand_8cpp_source.html#l00277">fizz::tool::fizzServerCommand()</a>, <a class="el" href="TestSSLServer_8cpp_source.html#l00060">folly::TestSSLServer::init()</a>, <a class="el" href="EventBase_8cpp_source.html#l00455">loopForever()</a>, <a class="el" href="StackOverflow_8cpp_source.html#l00033">main()</a>, <a class="el" href="NotificationQueueTest_8cpp_source.html#l00275">QueueTest::maxReadAtOnce()</a>, <a class="el" href="NotificationQueueTest_8cpp_source.html#l00138">QueueTest::multiConsumer()</a>, <a class="el" href="BlockingSocket_8h_source.html#l00051">BlockingSocket::open()</a>, <a class="el" href="NotificationQueueTest_8cpp_source.html#l00093">QueueTest::putMessages()</a>, <a class="el" href="SSLCacheTest_8cpp_source.html#l00161">ClientRunner::run()</a>, <a class="el" href="WorkerThread_8cpp_source.html#l00134">proxygen::WorkerThread::runLoop()</a>, <a class="el" href="NotificationQueueTest_8cpp_source.html#l00070">QueueTest::sendOne()</a>, <a class="el" href="AsyncSocketTest2_8cpp_source.html#l01911">serverSocketSanityTest()</a>, <a class="el" href="BogoShim_8cpp_source.html#l00297">serverTest()</a>, <a class="el" href="SSLContextManagerTest_8cpp_source.html#l00035">wangle::TEST()</a>, <a class="el" href="SlidingBloomReplayCacheTest_8cpp_source.html#l00103">fizz::server::test::TEST()</a>, <a class="el" href="AsyncSSLSocketTest_8cpp_source.html#l00257">folly::TEST()</a>, <a class="el" href="FibersTest_8cpp_source.html#l01625">TEST()</a>, <a class="el" href="EventHandlerTest_8cpp_source.html#l00085">TEST_F()</a>, <a class="el" href="AsyncFizzClientTest_8cpp_source.html#l00353">fizz::client::test::TEST_F()</a>, <a class="el" href="AsyncSocketTest2_8cpp_source.html#l00209">TEST_P()</a>, <a class="el" href="AsyncSocketTest2_8cpp_source.html#l00858">testConnectOptWrite()</a>, and <a class="el" href="BlockingSocket_8h_source.html#l00067">BlockingSocket::write()</a>.</p>
<div class="fragment"><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                     {</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1EventBase.html#a4a3b34ef460fa0388521cdf6bc4e81d4">loopBody</a>();</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventBase_html_a4a3b34ef460fa0388521cdf6bc4e81d4"><div class="ttname"><a href="classfolly_1_1EventBase.html#a4a3b34ef460fa0388521cdf6bc4e81d4">folly::EventBase::loopBody</a></div><div class="ttdeci">bool loopBody(int flags=0, bool ignoreKeepAlive=false)</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8cpp_source.html#l00275">EventBase.cpp:275</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4a3b34ef460fa0388521cdf6bc4e81d4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::EventBase::loopBody </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ignoreKeepAlive</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8cpp_source.html#l00275">275</a> of file <a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a>.</p>

<p>References <a class="el" href="EventBase_8cpp_source.html#l00671">folly::EventBase::SmoothLoopTime::addSample()</a>, <a class="el" href="EventBase_8cpp_source.html#l00433">applyLoopKeepAlive()</a>, <a class="el" href="EventBase_8h_source.html#l00744">avgLoopTime_</a>, <a class="el" href="EventBase_8h_source.html#l00574">folly::EventBase::SmoothLoopTime::dampen()</a>, <a class="el" href="EventBase_8h_source.html#l00757">enableTimeMeasurement_</a>, <a class="el" href="EventBase_8h_source.html#l00730">evb_</a>, <a class="el" href="EventBase_8h_source.html#l00735">fnRunner_</a>, <a class="el" href="EventBase_8h_source.html#l00567">folly::EventBase::SmoothLoopTime::get()</a>, <a class="el" href="EventBase_8cpp_source.html#l00197">getNotificationQueueSize()</a>, <a class="el" href="EventBase_8cpp_source.html#l00241">folly::getTimeDelta()</a>, <a class="el" href="EventBase_8h_source.html#l00767">invokingLoop_</a>, <a class="el" href="EventBase_8h_source.html#l00711">loopCallbacks_</a>, <a class="el" href="EventBase_8h_source.html#l00727">loopThread_</a>, <a class="el" href="EventBase_8h_source.html#l00741">maxLatency_</a>, <a class="el" href="EventBase_8h_source.html#l00752">maxLatencyCob_</a>, <a class="el" href="EventBase_8h_source.html#l00749">maxLatencyLoopTime_</a>, <a class="el" href="EventBase_8h_source.html#l00777">name_</a>, <a class="el" href="EventBase_8h_source.html#l00760">nextLoopCnt_</a>, <a class="el" href="EventBase_8cpp_source.html#l00689">nothingHandledYet()</a>, <a class="el" href="TimekeeperTest_8cpp_source.html#l00031">now()</a>, <a class="el" href="ScheduledExecutor_8h_source.html#l00057">folly::ScheduledExecutor::now()</a>, <a class="el" href="EventBase_8h_source.html#l00770">observer_</a>, <a class="el" href="EventBase_8h_source.html#l00771">observerSampleCount_</a>, <a class="el" href="EventBase_8h_source.html#l00712">runBeforeLoopCallbacks_</a>, <a class="el" href="EventBase_8cpp_source.html#l00612">runLoopCallbacks()</a>, <a class="el" href="ScopeGuard_8h_source.html#l00274">SCOPE_EXIT</a>, <a class="el" href="ThreadName_8cpp_source.html#l00109">folly::setThreadName()</a>, <a class="el" href="EventBase_8h_source.html#l00762">startWork_</a>, and <a class="el" href="EventBase_8h_source.html#l00723">stop_</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00256">loop()</a>, <a class="el" href="EventBase_8cpp_source.html#l00260">loopIgnoreKeepAlive()</a>, and <a class="el" href="EventBase_8cpp_source.html#l00271">loopOnce()</a>.</p>
<div class="fragment"><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                                                        {</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  VLOG(5) &lt;&lt; <span class="stringliteral">&quot;EventBase(): Starting loop.&quot;</span>;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  DCHECK(!<a class="code" href="classfolly_1_1EventBase.html#a33d3f07facb142b2e805833d691d7ced">invokingLoop_</a>)</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;Your code just tried to loop over an event base from inside another &quot;</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;event base loop. Since libevent is not reentrant, this leads to &quot;</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;undefined behavior in opt builds. Please fix immediately. For the &quot;</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;common case of an inner function that needs to do some synchronous &quot;</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;computation on an event-base, replace getEventBase() by a new, &quot;</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;stack-allocated EvenBase.&quot;</span>;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <a class="code" href="classfolly_1_1EventBase.html#a33d3f07facb142b2e805833d691d7ced">invokingLoop_</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <a class="code" href="ScopeGuard_8h.html#a175c354c3e38222bc00ce5df5e6d431d">SCOPE_EXIT</a> {</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <a class="code" href="classfolly_1_1EventBase.html#a33d3f07facb142b2e805833d691d7ced">invokingLoop_</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  };</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="keywordtype">bool</span> ranLoopCallbacks;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="keywordtype">bool</span> blocking = !(<a class="code" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a> &amp; EVLOOP_NONBLOCK);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="keywordtype">bool</span> once = (<a class="code" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a> &amp; EVLOOP_ONCE);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="comment">// time-measurement variables.</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  std::chrono::steady_clock::time_point prev;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  std::chrono::steady_clock::time_point idleStart = {};</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  std::chrono::microseconds busy;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  std::chrono::microseconds idle;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <a class="code" href="classfolly_1_1EventBase.html#ae6bcd79c854872291c03aef11ba42d43">loopThread_</a>.store(std::this_thread::get_id(), std::memory_order_release);</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classfolly_1_1EventBase.html#afdcce9804a9705367cee8857a1ff276f">name_</a>.empty()) {</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <a class="code" href="namespacefolly.html#a2e933f76070b83ef7519c9c2ac8a1117">setThreadName</a>(<a class="code" href="classfolly_1_1EventBase.html#afdcce9804a9705367cee8857a1ff276f">name_</a>);</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  }</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1EventBase.html#a99bee522d749d5e070fdfc01de594868">enableTimeMeasurement_</a>) {</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    prev = <a class="code" href="TimekeeperTest_8cpp.html#a562b4baa36dcf267f35a4ba4e0aef329">std::chrono::steady_clock::now</a>();</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    idleStart = prev;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  }</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="keywordflow">while</span> (!<a class="code" href="classfolly_1_1EventBase.html#acf0f606ae64ed101e63c0ed5372f5274">stop_</a>.load(std::memory_order_relaxed)) {</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordflow">if</span> (!ignoreKeepAlive) {</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      <a class="code" href="classfolly_1_1EventBase.html#a4b1ec25d0b7aab33810e8a3274fa6de0">applyLoopKeepAlive</a>();</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    }</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    ++<a class="code" href="classfolly_1_1EventBase.html#a988ab0bb495552406db82d2f8f38b25c">nextLoopCnt_</a>;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="comment">// Run the before loop callbacks</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <a class="code" href="classfolly_1_1EventBase.html#aaa068e1cddd4f46220a35cc9712080bd">LoopCallbackList</a> callbacks;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    callbacks.swap(<a class="code" href="classfolly_1_1EventBase.html#a4906484269a6c78046a4fb394badff34">runBeforeLoopCallbacks_</a>);</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordflow">while</span> (!callbacks.empty()) {</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      <span class="keyword">auto</span>* item = &amp;callbacks.front();</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      callbacks.pop_front();</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      item-&gt;runLoopCallback();</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    }</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="comment">// nobody can add loop callbacks from within this thread if</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="comment">// we don&#39;t have to handle anything to start with...</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">if</span> (blocking &amp;&amp; <a class="code" href="classfolly_1_1EventBase.html#ae13a1de2a9814a3494b562bc58e6f3cd">loopCallbacks_</a>.empty()) {</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      res = event_base_loop(<a class="code" href="classfolly_1_1EventBase.html#a0b4458d0f1f1b7a68e26715dc8ddcc88">evb_</a>, EVLOOP_ONCE);</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      res = event_base_loop(<a class="code" href="classfolly_1_1EventBase.html#a0b4458d0f1f1b7a68e26715dc8ddcc88">evb_</a>, EVLOOP_ONCE | EVLOOP_NONBLOCK);</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    }</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    ranLoopCallbacks = <a class="code" href="classfolly_1_1EventBase.html#ab506321e0870c93e2a650b16aaa84873">runLoopCallbacks</a>();</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1EventBase.html#a99bee522d749d5e070fdfc01de594868">enableTimeMeasurement_</a>) {</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      <span class="keyword">auto</span> <a class="code" href="classfolly_1_1ScheduledExecutor.html#af237fb50f913ad115c2ebc8863a5f82c">now</a> = <a class="code" href="TimekeeperTest_8cpp.html#a562b4baa36dcf267f35a4ba4e0aef329">std::chrono::steady_clock::now</a>();</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      busy = std::chrono::duration_cast&lt;std::chrono::microseconds&gt;(</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;          <a class="code" href="classfolly_1_1ScheduledExecutor.html#af237fb50f913ad115c2ebc8863a5f82c">now</a> - <a class="code" href="classfolly_1_1EventBase.html#a5ad6534553916ba16981f36724621c8f">startWork_</a>);</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      idle = std::chrono::duration_cast&lt;std::chrono::microseconds&gt;(</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;          <a class="code" href="classfolly_1_1EventBase.html#a5ad6534553916ba16981f36724621c8f">startWork_</a> - idleStart);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      <span class="keyword">auto</span> loop_time = busy + idle;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      <a class="code" href="classfolly_1_1EventBase.html#a5e20b42bf343d8bcfc7b9bded59c3af8">avgLoopTime_</a>.<a class="code" href="classfolly_1_1EventBase_1_1SmoothLoopTime.html#a04e22a711b6ed0ae765f5e5eb98dcec7">addSample</a>(loop_time, busy);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      <a class="code" href="classfolly_1_1EventBase.html#adefe6cee34e657875e6ad139728cb06f">maxLatencyLoopTime_</a>.<a class="code" href="classfolly_1_1EventBase_1_1SmoothLoopTime.html#a04e22a711b6ed0ae765f5e5eb98dcec7">addSample</a>(loop_time, busy);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1EventBase.html#a5107b96390c8e78246f7847863396d7f">observer_</a>) {</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1EventBase.html#a75756e6bf560517cd8fede82669e5cb3">observerSampleCount_</a>++ == <a class="code" href="classfolly_1_1EventBase.html#a5107b96390c8e78246f7847863396d7f">observer_</a>-&gt;getSampleRate()) {</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;          <a class="code" href="classfolly_1_1EventBase.html#a75756e6bf560517cd8fede82669e5cb3">observerSampleCount_</a> = 0;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;          <a class="code" href="classfolly_1_1EventBase.html#a5107b96390c8e78246f7847863396d7f">observer_</a>-&gt;loopSample(busy.count(), idle.count());</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        }</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      }</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      VLOG(11) &lt;&lt; <span class="stringliteral">&quot;EventBase &quot;</span> &lt;&lt; <span class="keyword">this</span> &lt;&lt; <span class="stringliteral">&quot; did not timeout &quot;</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;               &lt;&lt; <span class="stringliteral">&quot; loop time guess: &quot;</span> &lt;&lt; loop_time.count()</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;               &lt;&lt; <span class="stringliteral">&quot; idle time: &quot;</span> &lt;&lt; idle.count()</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;               &lt;&lt; <span class="stringliteral">&quot; busy time: &quot;</span> &lt;&lt; busy.count()</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;               &lt;&lt; <span class="stringliteral">&quot; avgLoopTime: &quot;</span> &lt;&lt; <a class="code" href="classfolly_1_1EventBase.html#a5e20b42bf343d8bcfc7b9bded59c3af8">avgLoopTime_</a>.<a class="code" href="classfolly_1_1EventBase_1_1SmoothLoopTime.html#ad491b3c49a565b24ef01b5d44bdd4a30">get</a>()</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;               &lt;&lt; <span class="stringliteral">&quot; maxLatencyLoopTime: &quot;</span> &lt;&lt; <a class="code" href="classfolly_1_1EventBase.html#adefe6cee34e657875e6ad139728cb06f">maxLatencyLoopTime_</a>.<a class="code" href="classfolly_1_1EventBase_1_1SmoothLoopTime.html#ad491b3c49a565b24ef01b5d44bdd4a30">get</a>()</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;               &lt;&lt; <span class="stringliteral">&quot; maxLatency_: &quot;</span> &lt;&lt; <a class="code" href="classfolly_1_1EventBase.html#adab96ad1af6fa6e1a73e246ae0d03332">maxLatency_</a>.count() &lt;&lt; <span class="stringliteral">&quot;us&quot;</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;               &lt;&lt; <span class="stringliteral">&quot; notificationQueueSize: &quot;</span> &lt;&lt; <a class="code" href="classfolly_1_1EventBase.html#a743db4fb064ae66088ad96a5447fe8f2">getNotificationQueueSize</a>()</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;               &lt;&lt; <span class="stringliteral">&quot; nothingHandledYet(): &quot;</span> &lt;&lt; <a class="code" href="classfolly_1_1EventBase.html#a7e60d7ee18d552494e573cba10c60f39">nothingHandledYet</a>();</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      <span class="comment">// see if our average loop time has exceeded our limit</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      <span class="keywordflow">if</span> ((<a class="code" href="classfolly_1_1EventBase.html#adab96ad1af6fa6e1a73e246ae0d03332">maxLatency_</a> &gt; std::chrono::microseconds::zero()) &amp;&amp;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;          (<a class="code" href="classfolly_1_1EventBase.html#adefe6cee34e657875e6ad139728cb06f">maxLatencyLoopTime_</a>.<a class="code" href="classfolly_1_1EventBase_1_1SmoothLoopTime.html#ad491b3c49a565b24ef01b5d44bdd4a30">get</a>() &gt; double(<a class="code" href="classfolly_1_1EventBase.html#adab96ad1af6fa6e1a73e246ae0d03332">maxLatency_</a>.count()))) {</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        <a class="code" href="classfolly_1_1EventBase.html#aed2dacd6acb029a87a081273cdf62604">maxLatencyCob_</a>();</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        <span class="comment">// back off temporarily -- don&#39;t keep spamming maxLatencyCob_</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <span class="comment">// if we&#39;re only a bit over the limit</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        <a class="code" href="classfolly_1_1EventBase.html#adefe6cee34e657875e6ad139728cb06f">maxLatencyLoopTime_</a>.<a class="code" href="classfolly_1_1EventBase_1_1SmoothLoopTime.html#a388555d2fce9ed242393276fae8c1d07">dampen</a>(0.9);</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      }</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      <span class="comment">// Our loop run did real work; reset the idle timer</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      idleStart = <a class="code" href="classfolly_1_1ScheduledExecutor.html#af237fb50f913ad115c2ebc8863a5f82c">now</a>;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      VLOG(11) &lt;&lt; <span class="stringliteral">&quot;EventBase &quot;</span> &lt;&lt; <span class="keyword">this</span> &lt;&lt; <span class="stringliteral">&quot; did not timeout&quot;</span>;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    }</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="comment">// If the event loop indicate that there were no more events, and</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="comment">// we also didn&#39;t have any loop callbacks to run, there is nothing left to</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="comment">// do.</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordflow">if</span> (res != 0 &amp;&amp; !ranLoopCallbacks) {</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      <span class="comment">// Since Notification Queue is marked &#39;internal&#39; some events may not have</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      <span class="comment">// run.  Run them manually if so, and continue looping.</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      <span class="comment">//</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1EventBase.html#a743db4fb064ae66088ad96a5447fe8f2">getNotificationQueueSize</a>() &gt; 0) {</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <a class="code" href="classfolly_1_1EventBase.html#a58df53039cb63db4496275e21c24470e">fnRunner_</a>-&gt;handlerReady(0);</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;      }</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    }</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1EventBase.html#a99bee522d749d5e070fdfc01de594868">enableTimeMeasurement_</a>) {</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      VLOG(11) &lt;&lt; <span class="stringliteral">&quot;EventBase &quot;</span> &lt;&lt; <span class="keyword">this</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;               &lt;&lt; <span class="stringliteral">&quot; loop time: &quot;</span> &lt;&lt; <a class="code" href="namespacefolly.html#a61efbad7bcbada839f2b861ea95dfc46">getTimeDelta</a>(&amp;prev).count();</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    }</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordflow">if</span> (once) {</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    }</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  }</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="comment">// Reset stop_ so loop() can be called again</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <a class="code" href="classfolly_1_1EventBase.html#acf0f606ae64ed101e63c0ed5372f5274">stop_</a>.store(<span class="keyword">false</span>, std::memory_order_relaxed);</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <span class="keywordflow">if</span> (res &lt; 0) {</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    LOG(ERROR) &lt;&lt; <span class="stringliteral">&quot;EventBase: -- error in event loop, res = &quot;</span> &lt;&lt; res;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (res == 1) {</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    VLOG(5) &lt;&lt; <span class="stringliteral">&quot;EventBase: ran out of events (exiting loop)!&quot;</span>;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (res &gt; 1) {</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    LOG(ERROR) &lt;&lt; <span class="stringliteral">&quot;EventBase: unknown event loop result = &quot;</span> &lt;&lt; res;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  }</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <a class="code" href="classfolly_1_1EventBase.html#ae6bcd79c854872291c03aef11ba42d43">loopThread_</a>.store({}, std::memory_order_release);</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  VLOG(5) &lt;&lt; <span class="stringliteral">&quot;EventBase(): Done with loop.&quot;</span>;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventBase_html_adab96ad1af6fa6e1a73e246ae0d03332"><div class="ttname"><a href="classfolly_1_1EventBase.html#adab96ad1af6fa6e1a73e246ae0d03332">folly::EventBase::maxLatency_</a></div><div class="ttdeci">std::chrono::microseconds maxLatency_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00741">EventBase.h:741</a></div></div>
<div class="ttc" id="http__parser_8h_html_ab6b306ef981f5e21bb41ea2c2dbe8cd9"><div class="ttname"><a href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a></div><div class="ttdeci">flags</div><div class="ttdef"><b>Definition:</b> <a href="http__parser_8h_source.html#l00127">http_parser.h:127</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a4906484269a6c78046a4fb394badff34"><div class="ttname"><a href="classfolly_1_1EventBase.html#a4906484269a6c78046a4fb394badff34">folly::EventBase::runBeforeLoopCallbacks_</a></div><div class="ttdeci">LoopCallbackList runBeforeLoopCallbacks_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00712">EventBase.h:712</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a743db4fb064ae66088ad96a5447fe8f2"><div class="ttname"><a href="classfolly_1_1EventBase.html#a743db4fb064ae66088ad96a5447fe8f2">folly::EventBase::getNotificationQueueSize</a></div><div class="ttdeci">size_t getNotificationQueueSize() const </div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8cpp_source.html#l00197">EventBase.cpp:197</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_ae6bcd79c854872291c03aef11ba42d43"><div class="ttname"><a href="classfolly_1_1EventBase.html#ae6bcd79c854872291c03aef11ba42d43">folly::EventBase::loopThread_</a></div><div class="ttdeci">std::atomic&lt; std::thread::id &gt; loopThread_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00727">EventBase.h:727</a></div></div>
<div class="ttc" id="TimekeeperTest_8cpp_html_a562b4baa36dcf267f35a4ba4e0aef329"><div class="ttname"><a href="TimekeeperTest_8cpp.html#a562b4baa36dcf267f35a4ba4e0aef329">now</a></div><div class="ttdeci">std::chrono::steady_clock::time_point now()</div><div class="ttdef"><b>Definition:</b> <a href="TimekeeperTest_8cpp_source.html#l00031">TimekeeperTest.cpp:31</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_ab506321e0870c93e2a650b16aaa84873"><div class="ttname"><a href="classfolly_1_1EventBase.html#ab506321e0870c93e2a650b16aaa84873">folly::EventBase::runLoopCallbacks</a></div><div class="ttdeci">bool runLoopCallbacks()</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8cpp_source.html#l00612">EventBase.cpp:612</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a4b1ec25d0b7aab33810e8a3274fa6de0"><div class="ttname"><a href="classfolly_1_1EventBase.html#a4b1ec25d0b7aab33810e8a3274fa6de0">folly::EventBase::applyLoopKeepAlive</a></div><div class="ttdeci">void applyLoopKeepAlive()</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8cpp_source.html#l00433">EventBase.cpp:433</a></div></div>
<div class="ttc" id="ScopeGuard_8h_html_a175c354c3e38222bc00ce5df5e6d431d"><div class="ttname"><a href="ScopeGuard_8h.html#a175c354c3e38222bc00ce5df5e6d431d">SCOPE_EXIT</a></div><div class="ttdeci">#define SCOPE_EXIT</div><div class="ttdef"><b>Definition:</b> <a href="ScopeGuard_8h_source.html#l00274">ScopeGuard.h:274</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_afdcce9804a9705367cee8857a1ff276f"><div class="ttname"><a href="classfolly_1_1EventBase.html#afdcce9804a9705367cee8857a1ff276f">folly::EventBase::name_</a></div><div class="ttdeci">std::string name_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00777">EventBase.h:777</a></div></div>
<div class="ttc" id="classfolly_1_1ScheduledExecutor_html_af237fb50f913ad115c2ebc8863a5f82c"><div class="ttname"><a href="classfolly_1_1ScheduledExecutor.html#af237fb50f913ad115c2ebc8863a5f82c">folly::ScheduledExecutor::now</a></div><div class="ttdeci">virtual TimePoint now()</div><div class="ttdoc">Get this executor&amp;#39;s notion of time. Must be threadsafe. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduledExecutor_8h_source.html#l00057">ScheduledExecutor.h:57</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_1_1SmoothLoopTime_html_a04e22a711b6ed0ae765f5e5eb98dcec7"><div class="ttname"><a href="classfolly_1_1EventBase_1_1SmoothLoopTime.html#a04e22a711b6ed0ae765f5e5eb98dcec7">folly::EventBase::SmoothLoopTime::addSample</a></div><div class="ttdeci">void addSample(std::chrono::microseconds total, std::chrono::microseconds busy)</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8cpp_source.html#l00671">EventBase.cpp:671</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a5107b96390c8e78246f7847863396d7f"><div class="ttname"><a href="classfolly_1_1EventBase.html#a5107b96390c8e78246f7847863396d7f">folly::EventBase::observer_</a></div><div class="ttdeci">std::shared_ptr&lt; EventBaseObserver &gt; observer_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00770">EventBase.h:770</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_1_1SmoothLoopTime_html_ad491b3c49a565b24ef01b5d44bdd4a30"><div class="ttname"><a href="classfolly_1_1EventBase_1_1SmoothLoopTime.html#ad491b3c49a565b24ef01b5d44bdd4a30">folly::EventBase::SmoothLoopTime::get</a></div><div class="ttdeci">double get() const </div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00567">EventBase.h:567</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_aaa068e1cddd4f46220a35cc9712080bd"><div class="ttname"><a href="classfolly_1_1EventBase.html#aaa068e1cddd4f46220a35cc9712080bd">folly::EventBase::LoopCallbackList</a></div><div class="ttdeci">LoopCallback::List LoopCallbackList</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00698">EventBase.h:698</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a0b4458d0f1f1b7a68e26715dc8ddcc88"><div class="ttname"><a href="classfolly_1_1EventBase.html#a0b4458d0f1f1b7a68e26715dc8ddcc88">folly::EventBase::evb_</a></div><div class="ttdeci">event_base * evb_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00730">EventBase.h:730</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a5ad6534553916ba16981f36724621c8f"><div class="ttname"><a href="classfolly_1_1EventBase.html#a5ad6534553916ba16981f36724621c8f">folly::EventBase::startWork_</a></div><div class="ttdeci">std::chrono::steady_clock::time_point startWork_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00762">EventBase.h:762</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_adefe6cee34e657875e6ad139728cb06f"><div class="ttname"><a href="classfolly_1_1EventBase.html#adefe6cee34e657875e6ad139728cb06f">folly::EventBase::maxLatencyLoopTime_</a></div><div class="ttdeci">SmoothLoopTime maxLatencyLoopTime_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00749">EventBase.h:749</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_acf0f606ae64ed101e63c0ed5372f5274"><div class="ttname"><a href="classfolly_1_1EventBase.html#acf0f606ae64ed101e63c0ed5372f5274">folly::EventBase::stop_</a></div><div class="ttdeci">std::atomic&lt; bool &gt; stop_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00723">EventBase.h:723</a></div></div>
<div class="ttc" id="namespacefolly_html_a2e933f76070b83ef7519c9c2ac8a1117"><div class="ttname"><a href="namespacefolly.html#a2e933f76070b83ef7519c9c2ac8a1117">folly::setThreadName</a></div><div class="ttdeci">bool setThreadName(std::thread::id tid, StringPiece name)</div><div class="ttdef"><b>Definition:</b> <a href="ThreadName_8cpp_source.html#l00109">ThreadName.cpp:109</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a99bee522d749d5e070fdfc01de594868"><div class="ttname"><a href="classfolly_1_1EventBase.html#a99bee522d749d5e070fdfc01de594868">folly::EventBase::enableTimeMeasurement_</a></div><div class="ttdeci">const bool enableTimeMeasurement_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00757">EventBase.h:757</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a988ab0bb495552406db82d2f8f38b25c"><div class="ttname"><a href="classfolly_1_1EventBase.html#a988ab0bb495552406db82d2f8f38b25c">folly::EventBase::nextLoopCnt_</a></div><div class="ttdeci">std::size_t nextLoopCnt_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00760">EventBase.h:760</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_aed2dacd6acb029a87a081273cdf62604"><div class="ttname"><a href="classfolly_1_1EventBase.html#aed2dacd6acb029a87a081273cdf62604">folly::EventBase::maxLatencyCob_</a></div><div class="ttdeci">Func maxLatencyCob_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00752">EventBase.h:752</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_1_1SmoothLoopTime_html_a388555d2fce9ed242393276fae8c1d07"><div class="ttname"><a href="classfolly_1_1EventBase_1_1SmoothLoopTime.html#a388555d2fce9ed242393276fae8c1d07">folly::EventBase::SmoothLoopTime::dampen</a></div><div class="ttdeci">void dampen(double factor)</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00574">EventBase.h:574</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a58df53039cb63db4496275e21c24470e"><div class="ttname"><a href="classfolly_1_1EventBase.html#a58df53039cb63db4496275e21c24470e">folly::EventBase::fnRunner_</a></div><div class="ttdeci">std::unique_ptr&lt; FunctionRunner &gt; fnRunner_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00735">EventBase.h:735</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_ae13a1de2a9814a3494b562bc58e6f3cd"><div class="ttname"><a href="classfolly_1_1EventBase.html#ae13a1de2a9814a3494b562bc58e6f3cd">folly::EventBase::loopCallbacks_</a></div><div class="ttdeci">LoopCallbackList loopCallbacks_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00711">EventBase.h:711</a></div></div>
<div class="ttc" id="namespacefolly_html_a61efbad7bcbada839f2b861ea95dfc46"><div class="ttname"><a href="namespacefolly.html#a61efbad7bcbada839f2b861ea95dfc46">folly::getTimeDelta</a></div><div class="ttdeci">static std::chrono::milliseconds getTimeDelta(std::chrono::steady_clock::time_point *prev)</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8cpp_source.html#l00241">EventBase.cpp:241</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a33d3f07facb142b2e805833d691d7ced"><div class="ttname"><a href="classfolly_1_1EventBase.html#a33d3f07facb142b2e805833d691d7ced">folly::EventBase::invokingLoop_</a></div><div class="ttdeci">bool invokingLoop_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00767">EventBase.h:767</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a5e20b42bf343d8bcfc7b9bded59c3af8"><div class="ttname"><a href="classfolly_1_1EventBase.html#a5e20b42bf343d8bcfc7b9bded59c3af8">folly::EventBase::avgLoopTime_</a></div><div class="ttdeci">SmoothLoopTime avgLoopTime_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00744">EventBase.h:744</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a7e60d7ee18d552494e573cba10c60f39"><div class="ttname"><a href="classfolly_1_1EventBase.html#a7e60d7ee18d552494e573cba10c60f39">folly::EventBase::nothingHandledYet</a></div><div class="ttdeci">bool nothingHandledYet() const noexcept</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8cpp_source.html#l00689">EventBase.cpp:689</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a75756e6bf560517cd8fede82669e5cb3"><div class="ttname"><a href="classfolly_1_1EventBase.html#a75756e6bf560517cd8fede82669e5cb3">folly::EventBase::observerSampleCount_</a></div><div class="ttdeci">uint32_t observerSampleCount_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00771">EventBase.h:771</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7696dec40156ed3c4c8caa1e80d188e7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void folly::EventBase::loopForever </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Runs the event loop.</p>
<p><a class="el" href="classfolly_1_1EventBase.html#a7696dec40156ed3c4c8caa1e80d188e7">loopForever()</a> behaves like <a class="el" href="classfolly_1_1EventBase.html#a16d5a5f7ff5531f5faca9c22b528f82b">loop()</a>, except that it keeps running even if when there are no more user-supplied EventHandlers or AsyncTimeouts registered. It will only return after <a class="el" href="classfolly_1_1EventBase.html#ac274e03942f8358c5a3106eebc56c120">terminateLoopSoon()</a> has been called.</p>
<p>This is useful for callers that want to wait for other threads to call <a class="el" href="classfolly_1_1EventBase.html#a064e4b74656102dbb6b9dccc7ffeb8cf">runInEventBaseThread()</a>, even when there are no other scheduled events.</p>
<p><a class="el" href="classfolly_1_1EventBase.html#a7696dec40156ed3c4c8caa1e80d188e7">loopForever()</a> may be called again to restart event processing after a previous call to <a class="el" href="classfolly_1_1EventBase.html#a16d5a5f7ff5531f5faca9c22b528f82b">loop()</a> or <a class="el" href="classfolly_1_1EventBase.html#a7696dec40156ed3c4c8caa1e80d188e7">loopForever()</a> has returned.</p>
<p>Throws a std::system_error if an error occurs. </p>

<p>Definition at line <a class="el" href="EventBase_8cpp_source.html#l00455">455</a> of file <a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a>.</p>

<p>References <a class="el" href="EventBase_8cpp_source.html#l00433">applyLoopKeepAlive()</a>, <a class="el" href="EventBase_8cpp_source.html#l00256">loop()</a>, <a class="el" href="EventBase_8h_source.html#l00736">loopKeepAliveCount_</a>, <a class="el" href="ScopeGuard_8h_source.html#l00274">SCOPE_EXIT</a>, and <a class="el" href="folly_2folly_2Exception_8h_source.html#l00076">folly::throwSystemError()</a>.</p>

<p>Referenced by <a class="el" href="ScopedEventBaseThread_8cpp_source.html#l00030">folly::run()</a>, <a class="el" href="ZeroCopy_8cpp_source.html#l00045">folly::ZeroCopyTest::run()</a>, <a class="el" href="WorkerThread_8cpp_source.html#l00134">proxygen::WorkerThread::runLoop()</a>, <a class="el" href="NotificationQueueBenchmark_8cpp_source.html#l00028">runTest()</a>, <a class="el" href="HTTPServer_8cpp_source.html#l00119">proxygen::HTTPServer::start()</a>, <a class="el" href="ServiceTest_8cpp_source.html#l00114">wangle::TEST()</a>, <a class="el" href="FibersTest_8cpp_source.html#l00121">TEST()</a>, <a class="el" href="AsyncSSLSocketTest_8cpp_source.html#l00257">folly::TEST()</a>, <a class="el" href="AsyncUDPSocketTest_8cpp_source.html#l00531">TEST_F()</a>, and <a class="el" href="ThreadWheelTimekeeper_8cpp_source.html#l00104">folly::ThreadWheelTimekeeper::ThreadWheelTimekeeper()</a>.</p>
<div class="fragment"><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                            {</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  <span class="keywordtype">bool</span> ret;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  {</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <a class="code" href="ScopeGuard_8h.html#a175c354c3e38222bc00ce5df5e6d431d">SCOPE_EXIT</a> {</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      <a class="code" href="classfolly_1_1EventBase.html#a4b1ec25d0b7aab33810e8a3274fa6de0">applyLoopKeepAlive</a>();</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    };</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="comment">// Make sure notification queue events are treated as normal events.</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="comment">// We can&#39;t use loopKeepAlive() here since LoopKeepAlive token can only be</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="comment">// released inside a loop.</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    ++<a class="code" href="classfolly_1_1EventBase.html#a7ff9288aa1b5c613523eda5d71c5b07d">loopKeepAliveCount_</a>;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <a class="code" href="ScopeGuard_8h.html#a175c354c3e38222bc00ce5df5e6d431d">SCOPE_EXIT</a> {</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      --<a class="code" href="classfolly_1_1EventBase.html#a7ff9288aa1b5c613523eda5d71c5b07d">loopKeepAliveCount_</a>;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    };</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    ret = <a class="code" href="classfolly_1_1EventBase.html#a16d5a5f7ff5531f5faca9c22b528f82b">loop</a>();</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  }</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <span class="keywordflow">if</span> (!ret) {</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <a class="code" href="namespacefolly.html#a59da19f447b3f5da47b9e278016758c0">folly::throwSystemError</a>(<span class="stringliteral">&quot;error in EventBase::loopForever()&quot;</span>);</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  }</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventBase_html_a4b1ec25d0b7aab33810e8a3274fa6de0"><div class="ttname"><a href="classfolly_1_1EventBase.html#a4b1ec25d0b7aab33810e8a3274fa6de0">folly::EventBase::applyLoopKeepAlive</a></div><div class="ttdeci">void applyLoopKeepAlive()</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8cpp_source.html#l00433">EventBase.cpp:433</a></div></div>
<div class="ttc" id="ScopeGuard_8h_html_a175c354c3e38222bc00ce5df5e6d431d"><div class="ttname"><a href="ScopeGuard_8h.html#a175c354c3e38222bc00ce5df5e6d431d">SCOPE_EXIT</a></div><div class="ttdeci">#define SCOPE_EXIT</div><div class="ttdef"><b>Definition:</b> <a href="ScopeGuard_8h_source.html#l00274">ScopeGuard.h:274</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a7ff9288aa1b5c613523eda5d71c5b07d"><div class="ttname"><a href="classfolly_1_1EventBase.html#a7ff9288aa1b5c613523eda5d71c5b07d">folly::EventBase::loopKeepAliveCount_</a></div><div class="ttdeci">ssize_t loopKeepAliveCount_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00736">EventBase.h:736</a></div></div>
<div class="ttc" id="namespacefolly_html_a59da19f447b3f5da47b9e278016758c0"><div class="ttname"><a href="namespacefolly.html#a59da19f447b3f5da47b9e278016758c0">folly::throwSystemError</a></div><div class="ttdeci">void throwSystemError(Args &amp;&amp;...args)</div><div class="ttdef"><b>Definition:</b> <a href="folly_2folly_2Exception_8h_source.html#l00076">Exception.h:76</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a16d5a5f7ff5531f5faca9c22b528f82b"><div class="ttname"><a href="classfolly_1_1EventBase.html#a16d5a5f7ff5531f5faca9c22b528f82b">folly::EventBase::loop</a></div><div class="ttdeci">bool loop()</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8cpp_source.html#l00256">EventBase.cpp:256</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adfb78500466eda2e60899f84249aad27"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::EventBase::loopIgnoreKeepAlive </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Same as <a class="el" href="classfolly_1_1EventBase.html#a16d5a5f7ff5531f5faca9c22b528f82b">loop()</a>, but doesn't wait for all keep-alive tokens to be released. </p>

<p>Definition at line <a class="el" href="EventBase_8cpp_source.html#l00260">260</a> of file <a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a>.</p>

<p>References <a class="el" href="EventBase_8h_source.html#l00735">fnRunner_</a>, <a class="el" href="EventBase_8cpp_source.html#l00275">loopBody()</a>, <a class="el" href="EventBase_8h_source.html#l00738">loopKeepAliveActive_</a>, and <a class="el" href="EventBase_8h_source.html#l00734">queue_</a>.</p>
<div class="fragment"><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                                    {</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1EventBase.html#a5edd3dc7d26dc330922fae6e78712fa2">loopKeepAliveActive_</a>) {</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="comment">// Make sure NotificationQueue is not counted as one of the readers</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="comment">// (otherwise loopBody won&#39;t return until terminateLoopSoon is called).</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <a class="code" href="classfolly_1_1EventBase.html#a58df53039cb63db4496275e21c24470e">fnRunner_</a>-&gt;stopConsuming();</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <a class="code" href="classfolly_1_1EventBase.html#a58df53039cb63db4496275e21c24470e">fnRunner_</a>-&gt;startConsumingInternal(<span class="keyword">this</span>, <a class="code" href="classfolly_1_1EventBase.html#a767caba2144b07e4acc7096560705283">queue_</a>.get());</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <a class="code" href="classfolly_1_1EventBase.html#a5edd3dc7d26dc330922fae6e78712fa2">loopKeepAliveActive_</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  }</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1EventBase.html#a4a3b34ef460fa0388521cdf6bc4e81d4">loopBody</a>(0, <span class="keyword">true</span>);</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventBase_html_a767caba2144b07e4acc7096560705283"><div class="ttname"><a href="classfolly_1_1EventBase.html#a767caba2144b07e4acc7096560705283">folly::EventBase::queue_</a></div><div class="ttdeci">std::unique_ptr&lt; NotificationQueue&lt; Func &gt; &gt; queue_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00734">EventBase.h:734</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a4a3b34ef460fa0388521cdf6bc4e81d4"><div class="ttname"><a href="classfolly_1_1EventBase.html#a4a3b34ef460fa0388521cdf6bc4e81d4">folly::EventBase::loopBody</a></div><div class="ttdeci">bool loopBody(int flags=0, bool ignoreKeepAlive=false)</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8cpp_source.html#l00275">EventBase.cpp:275</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a58df53039cb63db4496275e21c24470e"><div class="ttname"><a href="classfolly_1_1EventBase.html#a58df53039cb63db4496275e21c24470e">folly::EventBase::fnRunner_</a></div><div class="ttdeci">std::unique_ptr&lt; FunctionRunner &gt; fnRunner_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00735">EventBase.h:735</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a5edd3dc7d26dc330922fae6e78712fa2"><div class="ttname"><a href="classfolly_1_1EventBase.html#a5edd3dc7d26dc330922fae6e78712fa2">folly::EventBase::loopKeepAliveActive_</a></div><div class="ttdeci">bool loopKeepAliveActive_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00738">EventBase.h:738</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a470bbda7f57eb4759f5d04dfd3950978"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t folly::EventBase::loopKeepAliveCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8cpp_source.html#l00423">423</a> of file <a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a>.</p>

<p>References <a class="el" href="EventBase_8h_source.html#l00736">loopKeepAliveCount_</a>, and <a class="el" href="EventBase_8h_source.html#l00737">loopKeepAliveCountAtomic_</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00433">applyLoopKeepAlive()</a>, and <a class="el" href="EventBase_8cpp_source.html#l00148">~EventBase()</a>.</p>
<div class="fragment"><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                                      {</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1EventBase.html#a087b44d8c0bd757b296e373859407143">loopKeepAliveCountAtomic_</a>.load(std::memory_order_relaxed)) {</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <a class="code" href="classfolly_1_1EventBase.html#a7ff9288aa1b5c613523eda5d71c5b07d">loopKeepAliveCount_</a> +=</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        <a class="code" href="classfolly_1_1EventBase.html#a087b44d8c0bd757b296e373859407143">loopKeepAliveCountAtomic_</a>.exchange(0, std::memory_order_relaxed);</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  }</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  DCHECK_GE(<a class="code" href="classfolly_1_1EventBase.html#a7ff9288aa1b5c613523eda5d71c5b07d">loopKeepAliveCount_</a>, 0);</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1EventBase.html#a7ff9288aa1b5c613523eda5d71c5b07d">loopKeepAliveCount_</a>;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventBase_html_a7ff9288aa1b5c613523eda5d71c5b07d"><div class="ttname"><a href="classfolly_1_1EventBase.html#a7ff9288aa1b5c613523eda5d71c5b07d">folly::EventBase::loopKeepAliveCount_</a></div><div class="ttdeci">ssize_t loopKeepAliveCount_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00736">EventBase.h:736</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a087b44d8c0bd757b296e373859407143"><div class="ttname"><a href="classfolly_1_1EventBase.html#a087b44d8c0bd757b296e373859407143">folly::EventBase::loopKeepAliveCountAtomic_</a></div><div class="ttdeci">std::atomic&lt; ssize_t &gt; loopKeepAliveCountAtomic_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00737">EventBase.h:737</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a73967f738470c77247ac89cc97d0c303"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::EventBase::loopOnce </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Wait for some events to become active, run them, then return.</p>
<p>When EVLOOP_NONBLOCK is set in flags, the loop won't block if there are not any events to process.</p>
<p>This is useful for callers that want to run the loop manually.</p>
<p>Returns the same result as <a class="el" href="classfolly_1_1EventBase.html#a16d5a5f7ff5531f5faca9c22b528f82b">loop()</a>. </p>

<p>Definition at line <a class="el" href="EventBase_8cpp_source.html#l00271">271</a> of file <a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a>.</p>

<p>References <a class="el" href="EventBase_8cpp_source.html#l00275">loopBody()</a>.</p>

<p>Referenced by <a class="el" href="BlockingSocket_8h_source.html#l00132">BlockingSocket::readHelper()</a>, <a class="el" href="AsyncSSLSocketTest_8cpp_source.html#l00257">folly::TEST()</a>, <a class="el" href="FibersTest_8cpp_source.html#l01362">TEST()</a>, <a class="el" href="AsyncUDPSocketTest_8cpp_source.html#l00631">TEST_F()</a>, and <a class="el" href="EventBase_8cpp_source.html#l00148">~EventBase()</a>.</p>
<div class="fragment"><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                                  {</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1EventBase.html#a4a3b34ef460fa0388521cdf6bc4e81d4">loopBody</a>(<a class="code" href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a> | EVLOOP_ONCE);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;}</div><div class="ttc" id="http__parser_8h_html_ab6b306ef981f5e21bb41ea2c2dbe8cd9"><div class="ttname"><a href="http__parser_8h.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a></div><div class="ttdeci">flags</div><div class="ttdef"><b>Definition:</b> <a href="http__parser_8h_source.html#l00127">http_parser.h:127</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a4a3b34ef460fa0388521cdf6bc4e81d4"><div class="ttname"><a href="classfolly_1_1EventBase.html#a4a3b34ef460fa0388521cdf6bc4e81d4">folly::EventBase::loopBody</a></div><div class="ttdeci">bool loopBody(int flags=0, bool ignoreKeepAlive=false)</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8cpp_source.html#l00275">EventBase.cpp:275</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7e60d7ee18d552494e573cba10c60f39"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::EventBase::nothingHandledYet </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8cpp_source.html#l00689">689</a> of file <a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a>.</p>

<p>References <a class="el" href="EventBase_8h_source.html#l00761">latestLoopCnt_</a>, and <a class="el" href="EventBase_8h_source.html#l00760">nextLoopCnt_</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00476">bumpHandlingTime()</a>, and <a class="el" href="EventBase_8cpp_source.html#l00275">loopBody()</a>.</p>
<div class="fragment"><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                                                 {</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  VLOG(11) &lt;&lt; <span class="stringliteral">&quot;latest &quot;</span> &lt;&lt; <a class="code" href="classfolly_1_1EventBase.html#a48b58cf7932997126eb778e66da241bf">latestLoopCnt_</a> &lt;&lt; <span class="stringliteral">&quot; next &quot;</span> &lt;&lt; <a class="code" href="classfolly_1_1EventBase.html#a988ab0bb495552406db82d2f8f38b25c">nextLoopCnt_</a>;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  <span class="keywordflow">return</span> (nextLoopCnt_ != <a class="code" href="classfolly_1_1EventBase.html#a48b58cf7932997126eb778e66da241bf">latestLoopCnt_</a>);</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventBase_html_a988ab0bb495552406db82d2f8f38b25c"><div class="ttname"><a href="classfolly_1_1EventBase.html#a988ab0bb495552406db82d2f8f38b25c">folly::EventBase::nextLoopCnt_</a></div><div class="ttdeci">std::size_t nextLoopCnt_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00760">EventBase.h:760</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a48b58cf7932997126eb778e66da241bf"><div class="ttname"><a href="classfolly_1_1EventBase.html#a48b58cf7932997126eb778e66da241bf">folly::EventBase::latestLoopCnt_</a></div><div class="ttdeci">std::size_t latestLoopCnt_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00761">EventBase.h:761</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1cdfe4e579993dc2d4ce12625c18b9d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void folly::EventBase::resetLoadAvg </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>value</em> = <code>0.0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>reset the load average to a desired value </p>

<p>Definition at line <a class="el" href="EventBase_8cpp_source.html#l00235">235</a> of file <a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a>.</p>

<p>References <a class="el" href="EventBase_8h_source.html#l00744">avgLoopTime_</a>, <a class="el" href="EventBase_8h_source.html#l00757">enableTimeMeasurement_</a>, <a class="el" href="EventBase_8h_source.html#l00749">maxLatencyLoopTime_</a>, and <a class="el" href="EventBase_8cpp_source.html#l00667">folly::EventBase::SmoothLoopTime::reset()</a>.</p>

<p>Referenced by <a class="el" href="EventBaseTest_8cpp_source.html#l01610">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                                         {</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  assert(<a class="code" href="classfolly_1_1EventBase.html#a99bee522d749d5e070fdfc01de594868">enableTimeMeasurement_</a>);</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <a class="code" href="classfolly_1_1EventBase.html#a5e20b42bf343d8bcfc7b9bded59c3af8">avgLoopTime_</a>.<a class="code" href="classfolly_1_1EventBase_1_1SmoothLoopTime.html#ae4047d9e627e4fe1237b1f09a8da8b79">reset</a>(<a class="code" href="namespacefolly.html#af765fccfa9242184196b4906286ada49">value</a>);</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <a class="code" href="classfolly_1_1EventBase.html#adefe6cee34e657875e6ad139728cb06f">maxLatencyLoopTime_</a>.<a class="code" href="classfolly_1_1EventBase_1_1SmoothLoopTime.html#ae4047d9e627e4fe1237b1f09a8da8b79">reset</a>(<a class="code" href="namespacefolly.html#af765fccfa9242184196b4906286ada49">value</a>);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventBase_1_1SmoothLoopTime_html_ae4047d9e627e4fe1237b1f09a8da8b79"><div class="ttname"><a href="classfolly_1_1EventBase_1_1SmoothLoopTime.html#ae4047d9e627e4fe1237b1f09a8da8b79">folly::EventBase::SmoothLoopTime::reset</a></div><div class="ttdeci">void reset(double value=0.0)</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8cpp_source.html#l00667">EventBase.cpp:667</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_adefe6cee34e657875e6ad139728cb06f"><div class="ttname"><a href="classfolly_1_1EventBase.html#adefe6cee34e657875e6ad139728cb06f">folly::EventBase::maxLatencyLoopTime_</a></div><div class="ttdeci">SmoothLoopTime maxLatencyLoopTime_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00749">EventBase.h:749</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a99bee522d749d5e070fdfc01de594868"><div class="ttname"><a href="classfolly_1_1EventBase.html#a99bee522d749d5e070fdfc01de594868">folly::EventBase::enableTimeMeasurement_</a></div><div class="ttdeci">const bool enableTimeMeasurement_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00757">EventBase.h:757</a></div></div>
<div class="ttc" id="namespacefolly_html_af765fccfa9242184196b4906286ada49"><div class="ttname"><a href="namespacefolly.html#af765fccfa9242184196b4906286ada49">folly::value</a></div><div class="ttdeci">uint64_t value(const typename LockFreeRingBuffer&lt; T, Atom &gt;::Cursor &amp;rbcursor)</div><div class="ttdef"><b>Definition:</b> <a href="LockFreeRingBufferTest_8cpp_source.html#l00096">LockFreeRingBufferTest.cpp:96</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a5e20b42bf343d8bcfc7b9bded59c3af8"><div class="ttname"><a href="classfolly_1_1EventBase.html#a5e20b42bf343d8bcfc7b9bded59c3af8">folly::EventBase::avgLoopTime_</a></div><div class="ttdeci">SmoothLoopTime avgLoopTime_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00744">EventBase.h:744</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1ed54fb56365c1e41455372008a313bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void folly::EventBase::runBeforeLoop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1EventBase_1_1LoopCallback.html">LoopCallback</a> *&#160;</td>
          <td class="paramname"><em>callback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds a callback that will run immediately <em>before</em> the event loop. This is very similar to <a class="el" href="classfolly_1_1EventBase.html#a657bdf25f8e72ac620547bf3d064caed">runInLoop()</a>, but will not cause the loop to break: For example, this callback could be used to get loop times. </p>

<p>Definition at line <a class="el" href="EventBase_8cpp_source.html#l00548">548</a> of file <a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a>.</p>

<p>References <a class="el" href="EventBase_8h_source.html#l00155">folly::EventBase::LoopCallback::cancelLoopCallback()</a>, <a class="el" href="EventBase_8h_source.html#l00520">dcheckIsInEventBaseThread()</a>, and <a class="el" href="EventBase_8h_source.html#l00712">runBeforeLoopCallbacks_</a>.</p>

<p>Referenced by <a class="el" href="IOThreadPoolExecutor_8cpp_source.html#l00044">folly::MemoryIdlerTimeout::runLoopCallback()</a>, and <a class="el" href="EventBaseTest_8cpp_source.html#l01714">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                                                    {</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <a class="code" href="classfolly_1_1EventBase.html#a42a80d7c0f6207dcaef1d84b7584d67d">dcheckIsInEventBaseThread</a>();</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  callback-&gt;cancelLoopCallback();</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  <a class="code" href="classfolly_1_1EventBase.html#a4906484269a6c78046a4fb394badff34">runBeforeLoopCallbacks_</a>.push_back(*callback);</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventBase_html_a4906484269a6c78046a4fb394badff34"><div class="ttname"><a href="classfolly_1_1EventBase.html#a4906484269a6c78046a4fb394badff34">folly::EventBase::runBeforeLoopCallbacks_</a></div><div class="ttdeci">LoopCallbackList runBeforeLoopCallbacks_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00712">EventBase.h:712</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a42a80d7c0f6207dcaef1d84b7584d67d"><div class="ttname"><a href="classfolly_1_1EventBase.html#a42a80d7c0f6207dcaef1d84b7584d67d">folly::EventBase::dcheckIsInEventBaseThread</a></div><div class="ttdeci">void dcheckIsInEventBaseThread() const </div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00520">EventBase.h:520</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5c2a10afea49da156267b51a84842929"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool folly::EventBase::runImmediatelyOrRunInEventBaseThreadAndWait </td>
          <td>(</td>
          <td class="paramtype">void(*)(<a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> *)&#160;</td>
          <td class="paramname"><em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00804">804</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>Referenced by <a class="el" href="ServerSocketFactory_8h_source.html#l00085">wangle::AsyncServerSocketFactory::ThreadSafeDestructor::operator()()</a>, <a class="el" href="ServerSocketFactory_8h_source.html#l00129">wangle::AsyncUDPServerSocketFactory::ThreadSafeDestructor::operator()()</a>, and <a class="el" href="EventBaseTest_8cpp_source.html#l01263">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;            {</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1EventBase.html#a5c2a10afea49da156267b51a84842929">runImmediatelyOrRunInEventBaseThreadAndWait</a>([=] { fn(arg); });</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventBase_html_a5c2a10afea49da156267b51a84842929"><div class="ttname"><a href="classfolly_1_1EventBase.html#a5c2a10afea49da156267b51a84842929">folly::EventBase::runImmediatelyOrRunInEventBaseThreadAndWait</a></div><div class="ttdeci">bool runImmediatelyOrRunInEventBaseThreadAndWait(void(*fn)(T *), T *arg)</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00804">EventBase.h:804</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a38ba1dc4f87a652bf964af138bc24bdd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::EventBase::runImmediatelyOrRunInEventBaseThreadAndWait </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1EventBase.html#a908ce60f8e240e91cca117b3e953118c">Func</a>&#160;</td>
          <td class="paramname"><em>fn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8cpp_source.html#l00603">603</a> of file <a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a>.</p>

<p>References <a class="el" href="EventBase_8h_source.html#l00504">isInEventBaseThread()</a>, <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>, and <a class="el" href="EventBase_8h_source.html#l00799">runInEventBaseThreadAndWait()</a>.</p>
<div class="fragment"><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                                                                   {</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1EventBase.html#acb01d21c112777ecf6c7f12c303fe65b">isInEventBaseThread</a>()) {</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    fn();</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1EventBase.html#adb94096ef5323ef3a5ec03f8c62880aa">runInEventBaseThreadAndWait</a>(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(fn));</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  }</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventBase_html_adb94096ef5323ef3a5ec03f8c62880aa"><div class="ttname"><a href="classfolly_1_1EventBase.html#adb94096ef5323ef3a5ec03f8c62880aa">folly::EventBase::runInEventBaseThreadAndWait</a></div><div class="ttdeci">bool runInEventBaseThreadAndWait(void(*fn)(T *), T *arg)</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00799">EventBase.h:799</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_acb01d21c112777ecf6c7f12c303fe65b"><div class="ttname"><a href="classfolly_1_1EventBase.html#acb01d21c112777ecf6c7f12c303fe65b">folly::EventBase::isInEventBaseThread</a></div><div class="ttdeci">bool isInEventBaseThread() const </div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00504">EventBase.h:504</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a064e4b74656102dbb6b9dccc7ffeb8cf"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool folly::EventBase::runInEventBaseThread </td>
          <td>(</td>
          <td class="paramtype">void(*)(<a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> *)&#160;</td>
          <td class="paramname"><em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Run the specified function in the <a class="el" href="classfolly_1_1EventBase.html">EventBase</a>'s thread.</p>
<p>This method is thread-safe, and may be called from another thread.</p>
<p>If <a class="el" href="classfolly_1_1EventBase.html#a064e4b74656102dbb6b9dccc7ffeb8cf">runInEventBaseThread()</a> is called when the <a class="el" href="classfolly_1_1EventBase.html">EventBase</a> loop is not running, the function call will be delayed until the next time the loop is started.</p>
<p>If <a class="el" href="classfolly_1_1EventBase.html#a064e4b74656102dbb6b9dccc7ffeb8cf">runInEventBaseThread()</a> returns true the function has successfully been scheduled to run in the loop thread. However, if the loop is terminated (and never later restarted) before it has a chance to run the requested function, the function will be run upon the <a class="el" href="classfolly_1_1EventBase.html">EventBase</a>'s destruction.</p>
<p>If two calls to <a class="el" href="classfolly_1_1EventBase.html#a064e4b74656102dbb6b9dccc7ffeb8cf">runInEventBaseThread()</a> are made from the same thread, the functions will always be run in the order that they were scheduled. Ordering between functions scheduled from separate threads is not guaranteed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fn</td><td>The function to run. The function must not throw any exceptions. </td></tr>
    <tr><td class="paramname">arg</td><td>An argument to pass to the function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns true if the function was successfully scheduled, or false if there was an error scheduling the function. </dd></dl>

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00794">794</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>Referenced by <a class="el" href="ThreadWheelTimekeeper_8cpp_source.html#l00123">folly::ThreadWheelTimekeeper::after()</a>, <a class="el" href="AcceptRoutingHandlerTest_8cpp_source.html#l00111">AcceptRoutingHandlerTest::clientConnectAndCleanClose()</a>, <a class="el" href="AcceptRoutingHandlerTest_8cpp_source.html#l00092">AcceptRoutingHandlerTest::clientConnectAndWrite()</a>, <a class="el" href="AsyncSSLSocketTest2_8cpp_source.html#l00090">folly::AttachDetachClient::connect()</a>, <a class="el" href="EvbHandshakeHelper_8cpp_source.html#l00126">wangle::EvbHandshakeHelper::connectionError()</a>, <a class="el" href="EvbHandshakeHelper_8cpp_source.html#l00081">wangle::EvbHandshakeHelper::connectionReady()</a>, <a class="el" href="AsyncSSLSocketTest2_8cpp_source.html#l00110">folly::AttachDetachClient::connectSuccess()</a>, <a class="el" href="EvbHandshakeHelper_8cpp_source.html#l00042">wangle::EvbHandshakeHelper::dropConnection()</a>, <a class="el" href="Acceptor_8cpp_source.html#l00530">wangle::Acceptor::dropConnections()</a>, <a class="el" href="WorkerThread_8cpp_source.html#l00073">proxygen::WorkerThread::forceStop()</a>, <a class="el" href="Acceptor_8cpp_source.html#l00508">wangle::Acceptor::forceStop()</a>, <a class="el" href="AcceptRoutingHandlerTest_8cpp_source.html#l00126">AcceptRoutingHandlerTest::justClientConnect()</a>, <a class="el" href="NotificationQueueTest_8cpp_source.html#l00138">QueueTest::multiConsumer()</a>, <a class="el" href="StaticHandler_8cpp_source.html#l00059">StaticService::StaticHandler::readFile()</a>, <a class="el" href="ZeroCopy_8cpp_source.html#l00045">folly::ZeroCopyTest::run()</a>, <a class="el" href="EventBase_8cpp_source.html#l00582">runInEventBaseThreadAndWait()</a>, <a class="el" href="NotificationQueueBenchmark_8cpp_source.html#l00028">runTest()</a>, <a class="el" href="AcceptRoutingHandlerTest_8cpp_source.html#l00138">AcceptRoutingHandlerTest::sendClientException()</a>, <a class="el" href="NotificationQueueTest_8cpp_source.html#l00070">QueueTest::sendOne()</a>, <a class="el" href="AsyncServerSocket_8cpp_source.html#l00082">folly::AsyncServerSocket::RemoteAcceptor::start()</a>, <a class="el" href="AsyncServerSocket_8cpp_source.html#l00100">folly::AsyncServerSocket::RemoteAcceptor::stop()</a>, <a class="el" href="WorkerThread_8cpp_source.html#l00055">proxygen::WorkerThread::stopWhenIdle()</a>, <a class="el" href="FibersTest_8cpp_source.html#l00121">TEST()</a>, <a class="el" href="AsyncSSLSocketTest_8cpp_source.html#l00748">folly::TEST()</a>, <a class="el" href="AsyncUDPSocketTest_8cpp_source.html#l00631">TEST_F()</a>, <a class="el" href="HTTPServer_8cpp_source.html#l00106">proxygen::HandlerCallbacks::threadStopped()</a>, <a class="el" href="ThreadWheelTimekeeper_8cpp_source.html#l00104">folly::ThreadWheelTimekeeper::ThreadWheelTimekeeper()</a>, <a class="el" href="HTTPServer_8cpp_source.html#l00262">proxygen::HTTPServer::updateTicketSeeds()</a>, <a class="el" href="HTTPServer_8cpp_source.html#l00245">proxygen::HTTPServer::updateTLSCredentials()</a>, and <a class="el" href="TestSSLServer_8cpp_source.html#l00028">folly::TestSSLServer::~TestSSLServer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                                                           {</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1EventBase.html#a064e4b74656102dbb6b9dccc7ffeb8cf">runInEventBaseThread</a>([=] { fn(arg); });</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventBase_html_a064e4b74656102dbb6b9dccc7ffeb8cf"><div class="ttname"><a href="classfolly_1_1EventBase.html#a064e4b74656102dbb6b9dccc7ffeb8cf">folly::EventBase::runInEventBaseThread</a></div><div class="ttdeci">bool runInEventBaseThread(void(*fn)(T *), T *arg)</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00794">EventBase.h:794</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a32138b22ee2a334a2a35aaba5f6ab0c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::EventBase::runInEventBaseThread </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1EventBase.html#a908ce60f8e240e91cca117b3e953118c">Func</a>&#160;</td>
          <td class="paramname"><em>fn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Run the specified function in the <a class="el" href="classfolly_1_1EventBase.html">EventBase</a>'s thread</p>
<p>This version of <a class="el" href="classfolly_1_1EventBase.html#a064e4b74656102dbb6b9dccc7ffeb8cf">runInEventBaseThread()</a> takes a <a class="el" href="classfolly_1_1Function.html">folly::Function</a> object. Note that this may be less efficient than the version that takes a plain function pointer and void* argument, if moving the function is expensive (e.g., if it wraps a lambda which captures some values with expensive move constructors).</p>
<p>If the loop is terminated (and never later restarted) before it has a chance to run the requested function, the function will be run upon the <a class="el" href="classfolly_1_1EventBase.html">EventBase</a>'s destruction.</p>
<p>The function must not throw any exceptions. </p>

<p>Definition at line <a class="el" href="EventBase_8cpp_source.html#l00554">554</a> of file <a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a>.</p>

<p>References <a class="el" href="EventBase_8h_source.html#l00509">inRunningEventBaseThread()</a>, <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>, <a class="el" href="EventBase_8h_source.html#l00734">queue_</a>, and <a class="el" href="EventBase_8cpp_source.html#l00520">runInLoop()</a>.</p>
<div class="fragment"><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                                            {</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <span class="comment">// Send the message.</span></div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  <span class="comment">// It will be received by the FunctionRunner in the EventBase&#39;s thread.</span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="comment">// We try not to schedule nullptr callbacks</span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  <span class="keywordflow">if</span> (!fn) {</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    LOG(ERROR) &lt;&lt; <span class="stringliteral">&quot;EventBase &quot;</span> &lt;&lt; <span class="keyword">this</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;               &lt;&lt; <span class="stringliteral">&quot;: Scheduling nullptr callbacks is not allowed&quot;</span>;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  }</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <span class="comment">// Short-circuit if we are already in our event base</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1EventBase.html#ad7350a554066042e9ce12f01bac64631">inRunningEventBaseThread</a>()) {</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <a class="code" href="classfolly_1_1EventBase.html#a657bdf25f8e72ac620547bf3d064caed">runInLoop</a>(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(fn));</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  }</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <span class="keywordflow">try</span> {</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <a class="code" href="classfolly_1_1EventBase.html#a767caba2144b07e4acc7096560705283">queue_</a>-&gt;putMessage(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(fn));</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  } <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception&amp; ex) {</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    LOG(ERROR) &lt;&lt; <span class="stringliteral">&quot;EventBase &quot;</span> &lt;&lt; <span class="keyword">this</span> &lt;&lt; <span class="stringliteral">&quot;: failed to schedule function &quot;</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;               &lt;&lt; <span class="stringliteral">&quot;for EventBase thread: &quot;</span> &lt;&lt; ex.what();</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  }</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventBase_html_a767caba2144b07e4acc7096560705283"><div class="ttname"><a href="classfolly_1_1EventBase.html#a767caba2144b07e4acc7096560705283">folly::EventBase::queue_</a></div><div class="ttdeci">std::unique_ptr&lt; NotificationQueue&lt; Func &gt; &gt; queue_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00734">EventBase.h:734</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_ad7350a554066042e9ce12f01bac64631"><div class="ttname"><a href="classfolly_1_1EventBase.html#ad7350a554066042e9ce12f01bac64631">folly::EventBase::inRunningEventBaseThread</a></div><div class="ttdeci">bool inRunningEventBaseThread() const </div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00509">EventBase.h:509</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a657bdf25f8e72ac620547bf3d064caed"><div class="ttname"><a href="classfolly_1_1EventBase.html#a657bdf25f8e72ac620547bf3d064caed">folly::EventBase::runInLoop</a></div><div class="ttdeci">void runInLoop(LoopCallback *callback, bool thisIteration=false)</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8cpp_source.html#l00520">EventBase.cpp:520</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adb94096ef5323ef3a5ec03f8c62880aa"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool folly::EventBase::runInEventBaseThreadAndWait </td>
          <td>(</td>
          <td class="paramtype">void(*)(<a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> *)&#160;</td>
          <td class="paramname"><em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00799">799</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00603">runImmediatelyOrRunInEventBaseThreadAndWait()</a>, <a class="el" href="AsyncSocketTest2_8cpp_source.html#l01149">TEST()</a>, <a class="el" href="AsyncUDPSocketTest_8cpp_source.html#l00631">TEST_F()</a>, and <a class="el" href="ThreadWheelTimekeeper_8cpp_source.html#l00115">folly::ThreadWheelTimekeeper::~ThreadWheelTimekeeper()</a>.</p>
<div class="fragment"><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                                                                  {</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1EventBase.html#adb94096ef5323ef3a5ec03f8c62880aa">runInEventBaseThreadAndWait</a>([=] { fn(arg); });</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventBase_html_adb94096ef5323ef3a5ec03f8c62880aa"><div class="ttname"><a href="classfolly_1_1EventBase.html#adb94096ef5323ef3a5ec03f8c62880aa">folly::EventBase::runInEventBaseThreadAndWait</a></div><div class="ttdeci">bool runInEventBaseThreadAndWait(void(*fn)(T *), T *arg)</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00799">EventBase.h:799</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af7c3735a004a4faa0803060642fd8d86"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::EventBase::runInEventBaseThreadAndWait </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1EventBase.html#a908ce60f8e240e91cca117b3e953118c">Func</a>&#160;</td>
          <td class="paramname"><em>fn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8cpp_source.html#l00582">582</a> of file <a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a>.</p>

<p>References <a class="el" href="Utility_8h_source.html#l00072">folly::copy()</a>, <a class="el" href="EventBase_8h_source.html#l00509">inRunningEventBaseThread()</a>, <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>, <a class="el" href="synchronization_2Baton_8h_source.html#l00123">folly::Baton&lt; MayBlock, Atom &gt;::post()</a>, <a class="el" href="EventBase_8h_source.html#l00794">runInEventBaseThread()</a>, <a class="el" href="ScopeGuard_8h_source.html#l00274">SCOPE_EXIT</a>, and <a class="el" href="synchronization_2Baton_8h_source.html#l00170">folly::Baton&lt; MayBlock, Atom &gt;::wait()</a>.</p>
<div class="fragment"><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                                                   {</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1EventBase.html#ad7350a554066042e9ce12f01bac64631">inRunningEventBaseThread</a>()) {</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    LOG(ERROR) &lt;&lt; <span class="stringliteral">&quot;EventBase &quot;</span> &lt;&lt; <span class="keyword">this</span> &lt;&lt; <span class="stringliteral">&quot;: Waiting in the event loop is not &quot;</span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;               &lt;&lt; <span class="stringliteral">&quot;allowed&quot;</span>;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  }</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  Baton&lt;&gt; ready;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  <a class="code" href="classfolly_1_1EventBase.html#a064e4b74656102dbb6b9dccc7ffeb8cf">runInEventBaseThread</a>([&amp;ready, fn = <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(fn)]() <span class="keyword">mutable</span> {</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <a class="code" href="ScopeGuard_8h.html#a175c354c3e38222bc00ce5df5e6d431d">SCOPE_EXIT</a> {</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;      ready.post();</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    };</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="comment">// A trick to force the stored functor to be executed and then destructed</span></div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <span class="comment">// before posting the baton and waking the waiting thread.</span></div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <a class="code" href="namespacefolly.html#ac4b2f1383a59507925358ddd5b1badb1">copy</a>(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(fn))();</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  });</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  ready.wait();</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;}</div><div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="ScopeGuard_8h_html_a175c354c3e38222bc00ce5df5e6d431d"><div class="ttname"><a href="ScopeGuard_8h.html#a175c354c3e38222bc00ce5df5e6d431d">SCOPE_EXIT</a></div><div class="ttdeci">#define SCOPE_EXIT</div><div class="ttdef"><b>Definition:</b> <a href="ScopeGuard_8h_source.html#l00274">ScopeGuard.h:274</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_ad7350a554066042e9ce12f01bac64631"><div class="ttname"><a href="classfolly_1_1EventBase.html#ad7350a554066042e9ce12f01bac64631">folly::EventBase::inRunningEventBaseThread</a></div><div class="ttdeci">bool inRunningEventBaseThread() const </div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00509">EventBase.h:509</a></div></div>
<div class="ttc" id="namespacefolly_html_ac4b2f1383a59507925358ddd5b1badb1"><div class="ttname"><a href="namespacefolly.html#ac4b2f1383a59507925358ddd5b1badb1">folly::copy</a></div><div class="ttdeci">constexpr std::decay&lt; T &gt;::type copy(T &amp;&amp;value) noexcept(noexcept(typename std::decay&lt; T &gt;::type(std::forward&lt; T &gt;(value))))</div><div class="ttdef"><b>Definition:</b> <a href="Utility_8h_source.html#l00072">Utility.h:72</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a064e4b74656102dbb6b9dccc7ffeb8cf"><div class="ttname"><a href="classfolly_1_1EventBase.html#a064e4b74656102dbb6b9dccc7ffeb8cf">folly::EventBase::runInEventBaseThread</a></div><div class="ttdeci">bool runInEventBaseThread(void(*fn)(T *), T *arg)</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00794">EventBase.h:794</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a657bdf25f8e72ac620547bf3d064caed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void folly::EventBase::runInLoop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1EventBase_1_1LoopCallback.html">LoopCallback</a> *&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>thisIteration</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds the given callback to a queue of things run after the current pass through the event loop completes. Note that if this callback calls <a class="el" href="classfolly_1_1EventBase.html#a657bdf25f8e72ac620547bf3d064caed">runInLoop()</a> the new callback won't be called until the main event loop has gone through a cycle.</p>
<p>This method may only be called from the <a class="el" href="classfolly_1_1EventBase.html">EventBase</a>'s thread. This essentially allows an event handler to schedule an additional callback to be invoked after it returns.</p>
<p>Use <a class="el" href="classfolly_1_1EventBase.html#a064e4b74656102dbb6b9dccc7ffeb8cf">runInEventBaseThread()</a> to schedule functions from another thread.</p>
<p>The thisIteration parameter makes this callback run in this loop iteration, instead of the next one, even if called from a runInLoop callback (normal io callbacks that call runInLoop will always run in this iteration). This was originally added to support detachEventBase, as a user callback may have called <a class="el" href="classfolly_1_1EventBase.html#ac274e03942f8358c5a3106eebc56c120">terminateLoopSoon()</a>, but we want to make sure we detach. Also, detachEventBase almost always must be called from the base event loop to ensure the stack is unwound, since most users of <a class="el" href="classfolly_1_1EventBase.html">EventBase</a> are not thread safe.</p>
<p>Ideally we would not need thisIteration, and instead just use runInLoop with <a class="el" href="classfolly_1_1EventBase.html#a16d5a5f7ff5531f5faca9c22b528f82b">loop()</a> (instead of terminateLoopSoon). </p>

<p>Definition at line <a class="el" href="EventBase_8cpp_source.html#l00520">520</a> of file <a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a>.</p>

<p>References <a class="el" href="EventBase_8h_source.html#l00155">folly::EventBase::LoopCallback::cancelLoopCallback()</a>, <a class="el" href="EventBase_8h_source.html#l00172">folly::EventBase::LoopCallback::context_</a>, <a class="el" href="EventBase_8h_source.html#l00520">dcheckIsInEventBaseThread()</a>, <a class="el" href="EventBase_8h_source.html#l00711">loopCallbacks_</a>, <a class="el" href="EventBase_8h_source.html#l00719">runOnceCallbacks_</a>, and <a class="el" href="Request_8h_source.html#l00196">folly::RequestContext::saveContext()</a>.</p>

<p>Referenced by <a class="el" href="EventBaseBenchmark_8cpp_source.html#l00039">BENCHMARK()</a>, <a class="el" href="EventBaseBenchmark_8cpp_source.html#l00049">BENCHMARK_RELATIVE()</a>, <a class="el" href="TestAsyncTransport_8cpp_source.html#l00518">TestAsyncTransport::fireNextReadEvent()</a>, <a class="el" href="FizzCommandCommon_8cpp_source.html#l00073">fizz::tool::TerminalInputHandler::hitEOF()</a>, <a class="el" href="NotificationQueueTest_8cpp_source.html#l00275">QueueTest::maxReadAtOnce()</a>, <a class="el" href="ZeroCopy_8h_source.html#l00155">folly::ZeroCopyTestAsyncSocket::onDataReady()</a>, <a class="el" href="EventBase_8cpp_source.html#l00554">runInEventBaseThread()</a>, <a class="el" href="EventBaseLoopController-inl_8h_source.html#l00051">folly::fibers::EventBaseLoopController::schedule()</a>, <a class="el" href="AsyncSocket_8h_source.html#l01031">folly::AsyncSocket::scheduleImmediateRead()</a>, <a class="el" href="AsyncSocket_8h_source.html#l01040">folly::AsyncSocket::scheduleInitialReadWrite()</a>, <a class="el" href="HTTPServer_8cpp_source.html#l00119">proxygen::HTTPServer::start()</a>, <a class="el" href="EventBaseTest_8cpp_source.html#l01329">TEST()</a>, and <a class="el" href="AsyncSocketTest2_8cpp_source.html#l00844">tmpDisableReads()</a>.</p>
<div class="fragment"><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                                                                    {</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <a class="code" href="classfolly_1_1EventBase.html#a42a80d7c0f6207dcaef1d84b7584d67d">dcheckIsInEventBaseThread</a>();</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  callback-&gt;cancelLoopCallback();</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  callback-&gt;context_ = <a class="code" href="classfolly_1_1RequestContext.html#a400dbde2d305cda780eaf9fbcfe3087c">RequestContext::saveContext</a>();</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1EventBase.html#a654f6fb879afc737c265b0b746284e7a">runOnceCallbacks_</a> != <span class="keyword">nullptr</span> &amp;&amp; thisIteration) {</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <a class="code" href="classfolly_1_1EventBase.html#a654f6fb879afc737c265b0b746284e7a">runOnceCallbacks_</a>-&gt;push_back(*callback);</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <a class="code" href="classfolly_1_1EventBase.html#ae13a1de2a9814a3494b562bc58e6f3cd">loopCallbacks_</a>.push_back(*callback);</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  }</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventBase_html_a654f6fb879afc737c265b0b746284e7a"><div class="ttname"><a href="classfolly_1_1EventBase.html#a654f6fb879afc737c265b0b746284e7a">folly::EventBase::runOnceCallbacks_</a></div><div class="ttdeci">LoopCallbackList * runOnceCallbacks_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00719">EventBase.h:719</a></div></div>
<div class="ttc" id="classfolly_1_1RequestContext_html_a400dbde2d305cda780eaf9fbcfe3087c"><div class="ttname"><a href="classfolly_1_1RequestContext.html#a400dbde2d305cda780eaf9fbcfe3087c">folly::RequestContext::saveContext</a></div><div class="ttdeci">static std::shared_ptr&lt; RequestContext &gt; saveContext()</div><div class="ttdef"><b>Definition:</b> <a href="Request_8h_source.html#l00196">Request.h:196</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a42a80d7c0f6207dcaef1d84b7584d67d"><div class="ttname"><a href="classfolly_1_1EventBase.html#a42a80d7c0f6207dcaef1d84b7584d67d">folly::EventBase::dcheckIsInEventBaseThread</a></div><div class="ttdeci">void dcheckIsInEventBaseThread() const </div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00520">EventBase.h:520</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_ae13a1de2a9814a3494b562bc58e6f3cd"><div class="ttname"><a href="classfolly_1_1EventBase.html#ae13a1de2a9814a3494b562bc58e6f3cd">folly::EventBase::loopCallbacks_</a></div><div class="ttdeci">LoopCallbackList loopCallbacks_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00711">EventBase.h:711</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae894141c6d4645910937eb5de1cee5b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void folly::EventBase::runInLoop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1EventBase.html#a908ce60f8e240e91cca117b3e953118c">Func</a>&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>thisIteration</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convenience function to call <a class="el" href="classfolly_1_1EventBase.html#a657bdf25f8e72ac620547bf3d064caed">runInLoop()</a> with a <a class="el" href="classfolly_1_1Function.html">folly::Function</a>.</p>
<p>This creates a <a class="el" href="classfolly_1_1EventBase_1_1LoopCallback.html">LoopCallback</a> object to wrap the <a class="el" href="classfolly_1_1Function.html">folly::Function</a>, and invoke the <a class="el" href="classfolly_1_1Function.html">folly::Function</a> when the loop callback fires. This is slightly more expensive than defining your own <a class="el" href="classfolly_1_1EventBase_1_1LoopCallback.html">LoopCallback</a>, but more convenient in areas that aren't too performance sensitive.</p>
<p>This method may only be called from the <a class="el" href="classfolly_1_1EventBase.html">EventBase</a>'s thread. This essentially allows an event handler to schedule an additional callback to be invoked after it returns.</p>
<p>Use <a class="el" href="classfolly_1_1EventBase.html#a064e4b74656102dbb6b9dccc7ffeb8cf">runInEventBaseThread()</a> to schedule functions from another thread. </p>

<p>Definition at line <a class="el" href="EventBase_8cpp_source.html#l00531">531</a> of file <a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a>.</p>

<p>References <a class="el" href="EventBase_8h_source.html#l00520">dcheckIsInEventBaseThread()</a>, <a class="el" href="EventBase_8h_source.html#l00711">loopCallbacks_</a>, <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>, <a class="el" href="EventBase_8h_source.html#l00719">runOnceCallbacks_</a>, and <a class="el" href="Request_8h_source.html#l00196">folly::RequestContext::saveContext()</a>.</p>
<div class="fragment"><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                                                      {</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <a class="code" href="classfolly_1_1EventBase.html#a42a80d7c0f6207dcaef1d84b7584d67d">dcheckIsInEventBaseThread</a>();</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <span class="keyword">auto</span> wrapper = <span class="keyword">new</span> FunctionLoopCallback(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(cob));</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  wrapper-&gt;context_ = <a class="code" href="classfolly_1_1RequestContext.html#a400dbde2d305cda780eaf9fbcfe3087c">RequestContext::saveContext</a>();</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1EventBase.html#a654f6fb879afc737c265b0b746284e7a">runOnceCallbacks_</a> != <span class="keyword">nullptr</span> &amp;&amp; thisIteration) {</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <a class="code" href="classfolly_1_1EventBase.html#a654f6fb879afc737c265b0b746284e7a">runOnceCallbacks_</a>-&gt;push_back(*wrapper);</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <a class="code" href="classfolly_1_1EventBase.html#ae13a1de2a9814a3494b562bc58e6f3cd">loopCallbacks_</a>.push_back(*wrapper);</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  }</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventBase_html_a654f6fb879afc737c265b0b746284e7a"><div class="ttname"><a href="classfolly_1_1EventBase.html#a654f6fb879afc737c265b0b746284e7a">folly::EventBase::runOnceCallbacks_</a></div><div class="ttdeci">LoopCallbackList * runOnceCallbacks_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00719">EventBase.h:719</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="classfolly_1_1RequestContext_html_a400dbde2d305cda780eaf9fbcfe3087c"><div class="ttname"><a href="classfolly_1_1RequestContext.html#a400dbde2d305cda780eaf9fbcfe3087c">folly::RequestContext::saveContext</a></div><div class="ttdeci">static std::shared_ptr&lt; RequestContext &gt; saveContext()</div><div class="ttdef"><b>Definition:</b> <a href="Request_8h_source.html#l00196">Request.h:196</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a42a80d7c0f6207dcaef1d84b7584d67d"><div class="ttname"><a href="classfolly_1_1EventBase.html#a42a80d7c0f6207dcaef1d84b7584d67d">folly::EventBase::dcheckIsInEventBaseThread</a></div><div class="ttdeci">void dcheckIsInEventBaseThread() const </div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00520">EventBase.h:520</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_ae13a1de2a9814a3494b562bc58e6f3cd"><div class="ttname"><a href="classfolly_1_1EventBase.html#ae13a1de2a9814a3494b562bc58e6f3cd">folly::EventBase::loopCallbacks_</a></div><div class="ttdeci">LoopCallbackList loopCallbacks_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00711">EventBase.h:711</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab506321e0870c93e2a650b16aaa84873"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::EventBase::runLoopCallbacks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8cpp_source.html#l00612">612</a> of file <a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a>.</p>

<p>References <a class="el" href="EventBase_8cpp_source.html#l00476">bumpHandlingTime()</a>, <a class="el" href="EventBase_8h_source.html#l00172">folly::EventBase::LoopCallback::context_</a>, <a class="el" href="EventBase_8h_source.html#l00711">loopCallbacks_</a>, <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>, <a class="el" href="classfolly_1_1EventBase_1_1LoopCallback.html#a2f8a6a9842742b5c2a291a29f5a75850">folly::EventBase::LoopCallback::runLoopCallback()</a>, and <a class="el" href="EventBase_8h_source.html#l00719">runOnceCallbacks_</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00275">loopBody()</a>, and <a class="el" href="EventBase_8cpp_source.html#l00148">~EventBase()</a>.</p>
<div class="fragment"><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;                                 {</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  <a class="code" href="classfolly_1_1EventBase.html#ad1fc81ab3ce7e5c59fefe84758b9723e">bumpHandlingTime</a>();</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classfolly_1_1EventBase.html#ae13a1de2a9814a3494b562bc58e6f3cd">loopCallbacks_</a>.empty()) {</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="comment">// Swap the loopCallbacks_ list with a temporary list on our stack.</span></div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <span class="comment">// This way we will only run callbacks scheduled at the time</span></div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="comment">// runLoopCallbacks() was invoked.</span></div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="comment">// If any of these callbacks in turn call runInLoop() to schedule more</span></div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="comment">// callbacks, those new callbacks won&#39;t be run until the next iteration</span></div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="comment">// around the event loop.  This prevents runInLoop() callbacks from being</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="comment">// able to start file descriptor and timeout based events.</span></div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <a class="code" href="classfolly_1_1EventBase.html#aaa068e1cddd4f46220a35cc9712080bd">LoopCallbackList</a> currentCallbacks;</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    currentCallbacks.swap(<a class="code" href="classfolly_1_1EventBase.html#ae13a1de2a9814a3494b562bc58e6f3cd">loopCallbacks_</a>);</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <a class="code" href="classfolly_1_1EventBase.html#a654f6fb879afc737c265b0b746284e7a">runOnceCallbacks_</a> = &amp;currentCallbacks;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="keywordflow">while</span> (!currentCallbacks.empty()) {</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;      LoopCallback* callback = &amp;currentCallbacks.front();</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;      currentCallbacks.pop_front();</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;      <a class="code" href="classfolly_1_1RequestContextScopeGuard.html">folly::RequestContextScopeGuard</a> rctx(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(callback-&gt;context_));</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;      callback-&gt;runLoopCallback();</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    }</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <a class="code" href="classfolly_1_1EventBase.html#a654f6fb879afc737c265b0b746284e7a">runOnceCallbacks_</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  }</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventBase_html_a654f6fb879afc737c265b0b746284e7a"><div class="ttname"><a href="classfolly_1_1EventBase.html#a654f6fb879afc737c265b0b746284e7a">folly::EventBase::runOnceCallbacks_</a></div><div class="ttdeci">LoopCallbackList * runOnceCallbacks_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00719">EventBase.h:719</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_ad1fc81ab3ce7e5c59fefe84758b9723e"><div class="ttname"><a href="classfolly_1_1EventBase.html#ad1fc81ab3ce7e5c59fefe84758b9723e">folly::EventBase::bumpHandlingTime</a></div><div class="ttdeci">void bumpHandlingTime() final</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8cpp_source.html#l00476">EventBase.cpp:476</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_aaa068e1cddd4f46220a35cc9712080bd"><div class="ttname"><a href="classfolly_1_1EventBase.html#aaa068e1cddd4f46220a35cc9712080bd">folly::EventBase::LoopCallbackList</a></div><div class="ttdeci">LoopCallback::List LoopCallbackList</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00698">EventBase.h:698</a></div></div>
<div class="ttc" id="classfolly_1_1RequestContextScopeGuard_html"><div class="ttname"><a href="classfolly_1_1RequestContextScopeGuard.html">folly::RequestContextScopeGuard</a></div><div class="ttdef"><b>Definition:</b> <a href="Request_8h_source.html#l00256">Request.h:256</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_ae13a1de2a9814a3494b562bc58e6f3cd"><div class="ttname"><a href="classfolly_1_1EventBase.html#ae13a1de2a9814a3494b562bc58e6f3cd">folly::EventBase::loopCallbacks_</a></div><div class="ttdeci">LoopCallbackList loopCallbacks_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00711">EventBase.h:711</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a23ff5efa297e45ffe4b3eafd863e85a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void folly::EventBase::runOnDestruction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1EventBase_1_1LoopCallback.html">LoopCallback</a> *&#160;</td>
          <td class="paramname"><em>callback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds the given callback to a queue of things run before destruction of current <a class="el" href="classfolly_1_1EventBase.html">EventBase</a>.</p>
<p>This allows users of <a class="el" href="classfolly_1_1EventBase.html">EventBase</a> that run in it, but don't control it, to be notified before <a class="el" href="classfolly_1_1EventBase.html">EventBase</a> gets destructed.</p>
<p>Note: will be called from the thread that invoked <a class="el" href="classfolly_1_1EventBase.html">EventBase</a> destructor, before the final run of loop callbacks. </p>

<p>Definition at line <a class="el" href="EventBase_8cpp_source.html#l00542">542</a> of file <a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a>.</p>

<p>References <a class="el" href="EventBase_8h_source.html#l00155">folly::EventBase::LoopCallback::cancelLoopCallback()</a>, <a class="el" href="EventBase_8h_source.html#l00713">onDestructionCallbacks_</a>, and <a class="el" href="EventBase_8h_source.html#l00780">onDestructionCallbacksMutex_</a>.</p>

<p>Referenced by <a class="el" href="ScopedEventBaseThread_8cpp_source.html#l00030">folly::run()</a>, and <a class="el" href="ScopedEventBaseThreadTest_8cpp_source.html#l00078">TEST_F()</a>.</p>
<div class="fragment"><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                                                       {</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  std::lock_guard&lt;std::mutex&gt; lg(<a class="code" href="classfolly_1_1EventBase.html#abb89099bea2e36a455b956898bac8837">onDestructionCallbacksMutex_</a>);</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  callback-&gt;cancelLoopCallback();</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <a class="code" href="classfolly_1_1EventBase.html#a4a83d93b08cf459e3b5808e82fc99311">onDestructionCallbacks_</a>.push_back(*callback);</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventBase_html_a4a83d93b08cf459e3b5808e82fc99311"><div class="ttname"><a href="classfolly_1_1EventBase.html#a4a83d93b08cf459e3b5808e82fc99311">folly::EventBase::onDestructionCallbacks_</a></div><div class="ttdeci">LoopCallbackList onDestructionCallbacks_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00713">EventBase.h:713</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_abb89099bea2e36a455b956898bac8837"><div class="ttname"><a href="classfolly_1_1EventBase.html#abb89099bea2e36a455b956898bac8837">folly::EventBase::onDestructionCallbacksMutex_</a></div><div class="ttdeci">std::mutex onDestructionCallbacksMutex_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00780">EventBase.h:780</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6d32048f96f5582075190ad43f33b76a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::EventBase::scheduleAt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1EventBase.html#a908ce60f8e240e91cca117b3e953118c">Func</a> &amp;&amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfolly_1_1ScheduledExecutor.html#a6b549e8d553f3805c3c483a82ae58c8c">TimePoint</a> const &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Schedule a Func to be executed at time t, or as soon afterward as possible. Expect millisecond resolution at best. Must be threadsafe. </p>

<p>Reimplemented from <a class="el" href="classfolly_1_1ScheduledExecutor.html#a1d518c590d58f05e9629394d06915081">folly::ScheduledExecutor</a>.</p>

<p>Definition at line <a class="el" href="EventBase_8cpp_source.html#l00754">754</a> of file <a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a>.</p>

<p>References <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>, <a class="el" href="ScheduledExecutor_8h_source.html#l00057">folly::ScheduledExecutor::now()</a>, <a class="el" href="HHWheelTimer_8h_source.html#l00229">folly::HHWheelTimer::scheduleTimeoutFn()</a>, and <a class="el" href="EventBase_8h_source.html#l00526">timer()</a>.</p>

<p>Referenced by <a class="el" href="SlidingBloomReplayCacheTest_8cpp_source.html#l00103">fizz::server::test::TEST()</a>, and <a class="el" href="EventBaseTest_8cpp_source.html#l01098">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                                                              {</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  <span class="keyword">auto</span> duration = <a class="code" href="namespacefolly_1_1detail.html#a87c55c2d12ad5b5dc9b7416bbed13720a90272dda245ae1fb3cf197e91a8689dc">timeout</a> - <a class="code" href="classfolly_1_1ScheduledExecutor.html#af237fb50f913ad115c2ebc8863a5f82c">now</a>();</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  <a class="code" href="classfolly_1_1EventBase.html#afedcfb0ece654c202aa16ccb61a34249">timer</a>().<a class="code" href="classfolly_1_1HHWheelTimer.html#a829c3e169599218ca09dc955c18a1b82">scheduleTimeoutFn</a>(</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;      <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(fn),</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;      std::chrono::duration_cast&lt;std::chrono::milliseconds&gt;(duration));</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;}</div><div class="ttc" id="namespacefolly_1_1detail_html_a87c55c2d12ad5b5dc9b7416bbed13720a90272dda245ae1fb3cf197e91a8689dc"><div class="ttname"><a href="namespacefolly_1_1detail.html#a87c55c2d12ad5b5dc9b7416bbed13720a90272dda245ae1fb3cf197e91a8689dc">folly::detail::spin_result::timeout</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="classfolly_1_1ScheduledExecutor_html_af237fb50f913ad115c2ebc8863a5f82c"><div class="ttname"><a href="classfolly_1_1ScheduledExecutor.html#af237fb50f913ad115c2ebc8863a5f82c">folly::ScheduledExecutor::now</a></div><div class="ttdeci">virtual TimePoint now()</div><div class="ttdoc">Get this executor&amp;#39;s notion of time. Must be threadsafe. </div><div class="ttdef"><b>Definition:</b> <a href="ScheduledExecutor_8h_source.html#l00057">ScheduledExecutor.h:57</a></div></div>
<div class="ttc" id="classfolly_1_1HHWheelTimer_html_a829c3e169599218ca09dc955c18a1b82"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#a829c3e169599218ca09dc955c18a1b82">folly::HHWheelTimer::scheduleTimeoutFn</a></div><div class="ttdeci">void scheduleTimeoutFn(F fn, std::chrono::milliseconds timeout)</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00229">HHWheelTimer.h:229</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_afedcfb0ece654c202aa16ccb61a34249"><div class="ttname"><a href="classfolly_1_1EventBase.html#afedcfb0ece654c202aa16ccb61a34249">folly::EventBase::timer</a></div><div class="ttdeci">HHWheelTimer &amp; timer()</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00526">EventBase.h:526</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac91240c21e633f773115a8bfcdcb097c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::EventBase::scheduleTimeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1AsyncTimeout.html">AsyncTimeout</a> *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfolly_1_1TimeoutManager.html#ad4e75200e7fa60f6d967b800edcd8001">TimeoutManager::timeout_type</a>&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Schedules <a class="el" href="classfolly_1_1AsyncTimeout.html">AsyncTimeout</a> to fire after <code>timeout</code> milliseconds </p>

<p>Implements <a class="el" href="classfolly_1_1TimeoutManager.html#a52f4de6b54783ea4ff59e26726993779">folly::TimeoutManager</a>.</p>

<p>Definition at line <a class="el" href="EventBase_8cpp_source.html#l00711">711</a> of file <a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a>.</p>

<p>References <a class="el" href="EventBase_8h_source.html#l00520">dcheckIsInEventBaseThread()</a>, <a class="el" href="String_8cpp_source.html#l00463">folly::errnoStr()</a>, and <a class="el" href="AsyncTimeout_8h_source.html#l00150">folly::AsyncTimeout::getEvent()</a>.</p>
<div class="fragment"><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                                        {</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  <a class="code" href="classfolly_1_1EventBase.html#a42a80d7c0f6207dcaef1d84b7584d67d">dcheckIsInEventBaseThread</a>();</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  <span class="comment">// Set up the timeval and add the event</span></div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  <span class="keyword">struct </span>timeval tv;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  tv.tv_sec = long(<a class="code" href="namespacefolly_1_1detail.html#a87c55c2d12ad5b5dc9b7416bbed13720a90272dda245ae1fb3cf197e91a8689dc">timeout</a>.count() / 1000LL);</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  tv.tv_usec = long((<a class="code" href="namespacefolly_1_1detail.html#a87c55c2d12ad5b5dc9b7416bbed13720a90272dda245ae1fb3cf197e91a8689dc">timeout</a>.count() % 1000LL) * 1000LL);</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  <span class="keyword">struct </span>event* ev = obj-&gt;getEvent();</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  DCHECK(ev-&gt;ev_base);</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <span class="keywordflow">if</span> (event_add(ev, &amp;tv) &lt; 0) {</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    LOG(ERROR) &lt;&lt; <span class="stringliteral">&quot;EventBase: failed to schedule timeout: &quot;</span> &lt;&lt; <a class="code" href="namespacefolly.html#ad904a601e206bb84a84f7f68302ac92f">errnoStr</a>(errno);</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  }</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;}</div><div class="ttc" id="namespacefolly_1_1detail_html_a87c55c2d12ad5b5dc9b7416bbed13720a90272dda245ae1fb3cf197e91a8689dc"><div class="ttname"><a href="namespacefolly_1_1detail.html#a87c55c2d12ad5b5dc9b7416bbed13720a90272dda245ae1fb3cf197e91a8689dc">folly::detail::spin_result::timeout</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a42a80d7c0f6207dcaef1d84b7584d67d"><div class="ttname"><a href="classfolly_1_1EventBase.html#a42a80d7c0f6207dcaef1d84b7584d67d">folly::EventBase::dcheckIsInEventBaseThread</a></div><div class="ttdeci">void dcheckIsInEventBaseThread() const </div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00520">EventBase.h:520</a></div></div>
<div class="ttc" id="namespacefolly_html_ad904a601e206bb84a84f7f68302ac92f"><div class="ttname"><a href="namespacefolly.html#ad904a601e206bb84a84f7f68302ac92f">folly::errnoStr</a></div><div class="ttdeci">fbstring errnoStr(int err)</div><div class="ttdef"><b>Definition:</b> <a href="String_8cpp_source.html#l00463">String.cpp:463</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac16c79257c9155a82d1c03b1305898cb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::EventBase::setExecutionObserver </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1ExecutionObserver.html">ExecutionObserver</a> *&#160;</td>
          <td class="paramname"><em>observer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Setup execution observation/instrumentation for every <a class="el" href="classfolly_1_1EventHandler.html">EventHandler</a> executed in this <a class="el" href="classfolly_1_1EventBase.html">EventBase</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">executionObserver</td><td>EventHandle's execution observer. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00602">602</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                                                         {</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <a class="code" href="classfolly_1_1EventBase.html#ab7fcf2326933d11252b84c8cdefe7106">executionObserver_</a> = observer;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  }</div><div class="ttc" id="classfolly_1_1EventBase_html_ab7fcf2326933d11252b84c8cdefe7106"><div class="ttname"><a href="classfolly_1_1EventBase.html#ab7fcf2326933d11252b84c8cdefe7106">folly::EventBase::executionObserver_</a></div><div class="ttdeci">ExecutionObserver * executionObserver_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00774">EventBase.h:774</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a377f6fb21de85f9a11eef9afad521184"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void folly::EventBase::setLoadAvgMsec </td>
          <td>(</td>
          <td class="paramtype">std::chrono::milliseconds&#160;</td>
          <td class="paramname"><em>ms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set smoothing coefficient for loop load average; # of milliseconds for exp(-1) (1/2.71828...) decay. </p>

<p>Definition at line <a class="el" href="EventBase_8cpp_source.html#l00224">224</a> of file <a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a>.</p>

<p>References <a class="el" href="EventBase_8h_source.html#l00744">avgLoopTime_</a>, <a class="el" href="EventBase_8h_source.html#l00757">enableTimeMeasurement_</a>, <a class="el" href="EventBase_8h_source.html#l00749">maxLatencyLoopTime_</a>, <a class="el" href="EventBase_8cpp_source.html#l00661">folly::EventBase::SmoothLoopTime::setTimeInterval()</a>, and <a class="el" href="StringKeyedBenchmark_8cpp_source.html#l00052">us</a>.</p>

<p>Referenced by <a class="el" href="EventBaseTest_8cpp_source.html#l01610">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                                                       {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  assert(<a class="code" href="classfolly_1_1EventBase.html#a99bee522d749d5e070fdfc01de594868">enableTimeMeasurement_</a>);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  std::chrono::microseconds <a class="code" href="StringKeyedBenchmark_8cpp.html#aceed1fe20ea839d59d088267e620af43">us</a> = std::chrono::milliseconds(ms);</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="keywordflow">if</span> (ms &gt; std::chrono::milliseconds::zero()) {</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <a class="code" href="classfolly_1_1EventBase.html#adefe6cee34e657875e6ad139728cb06f">maxLatencyLoopTime_</a>.<a class="code" href="classfolly_1_1EventBase_1_1SmoothLoopTime.html#aafedda1e87d4845e6b086b86c8858ccf">setTimeInterval</a>(us);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <a class="code" href="classfolly_1_1EventBase.html#a5e20b42bf343d8bcfc7b9bded59c3af8">avgLoopTime_</a>.<a class="code" href="classfolly_1_1EventBase_1_1SmoothLoopTime.html#aafedda1e87d4845e6b086b86c8858ccf">setTimeInterval</a>(us);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    LOG(ERROR) &lt;&lt; <span class="stringliteral">&quot;non-positive arg to setLoadAvgMsec()&quot;</span>;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  }</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventBase_1_1SmoothLoopTime_html_aafedda1e87d4845e6b086b86c8858ccf"><div class="ttname"><a href="classfolly_1_1EventBase_1_1SmoothLoopTime.html#aafedda1e87d4845e6b086b86c8858ccf">folly::EventBase::SmoothLoopTime::setTimeInterval</a></div><div class="ttdeci">void setTimeInterval(std::chrono::microseconds timeInterval)</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8cpp_source.html#l00661">EventBase.cpp:661</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_adefe6cee34e657875e6ad139728cb06f"><div class="ttname"><a href="classfolly_1_1EventBase.html#adefe6cee34e657875e6ad139728cb06f">folly::EventBase::maxLatencyLoopTime_</a></div><div class="ttdeci">SmoothLoopTime maxLatencyLoopTime_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00749">EventBase.h:749</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a99bee522d749d5e070fdfc01de594868"><div class="ttname"><a href="classfolly_1_1EventBase.html#a99bee522d749d5e070fdfc01de594868">folly::EventBase::enableTimeMeasurement_</a></div><div class="ttdeci">const bool enableTimeMeasurement_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00757">EventBase.h:757</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a5e20b42bf343d8bcfc7b9bded59c3af8"><div class="ttname"><a href="classfolly_1_1EventBase.html#a5e20b42bf343d8bcfc7b9bded59c3af8">folly::EventBase::avgLoopTime_</a></div><div class="ttdeci">SmoothLoopTime avgLoopTime_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00744">EventBase.h:744</a></div></div>
<div class="ttc" id="StringKeyedBenchmark_8cpp_html_aceed1fe20ea839d59d088267e620af43"><div class="ttname"><a href="StringKeyedBenchmark_8cpp.html#aceed1fe20ea839d59d088267e620af43">us</a></div><div class="ttdeci">static unordered_set&lt; string &gt; us</div><div class="ttdef"><b>Definition:</b> <a href="StringKeyedBenchmark_8cpp_source.html#l00052">StringKeyedBenchmark.cpp:52</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4db9614345c412f530ad6f5bc4e8e7df"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::EventBase::setMaxLatency </td>
          <td>(</td>
          <td class="paramtype">std::chrono::microseconds&#160;</td>
          <td class="paramname"><em>maxLatency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfolly_1_1EventBase.html#a908ce60f8e240e91cca117b3e953118c">Func</a>&#160;</td>
          <td class="paramname"><em>maxLatencyCob</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set the maximum desired latency in us and provide a callback which will be called when that latency is exceeded. OBS: This functionality depends on time-measurement. </p>

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00459">459</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>References <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>, and <a class="el" href="LockFreeRingBufferTest_8cpp_source.html#l00096">folly::value()</a>.</p>

<p>Referenced by <a class="el" href="EventBaseTest_8cpp_source.html#l01610">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                                                                           {</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    assert(<a class="code" href="classfolly_1_1EventBase.html#a99bee522d749d5e070fdfc01de594868">enableTimeMeasurement_</a>);</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <a class="code" href="classfolly_1_1EventBase.html#adab96ad1af6fa6e1a73e246ae0d03332">maxLatency_</a> = maxLatency;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <a class="code" href="classfolly_1_1EventBase.html#aed2dacd6acb029a87a081273cdf62604">maxLatencyCob_</a> = <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(maxLatencyCob);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  }</div><div class="ttc" id="classfolly_1_1EventBase_html_adab96ad1af6fa6e1a73e246ae0d03332"><div class="ttname"><a href="classfolly_1_1EventBase.html#adab96ad1af6fa6e1a73e246ae0d03332">folly::EventBase::maxLatency_</a></div><div class="ttdeci">std::chrono::microseconds maxLatency_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00741">EventBase.h:741</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a99bee522d749d5e070fdfc01de594868"><div class="ttname"><a href="classfolly_1_1EventBase.html#a99bee522d749d5e070fdfc01de594868">folly::EventBase::enableTimeMeasurement_</a></div><div class="ttdeci">const bool enableTimeMeasurement_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00757">EventBase.h:757</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_aed2dacd6acb029a87a081273cdf62604"><div class="ttname"><a href="classfolly_1_1EventBase.html#aed2dacd6acb029a87a081273cdf62604">folly::EventBase::maxLatencyCob_</a></div><div class="ttdeci">Func maxLatencyCob_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00752">EventBase.h:752</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4447db8c5d8f9a233d928a1bb102d493"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void folly::EventBase::setMaxReadAtOnce </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a>&#160;</td>
          <td class="paramname"><em>maxAtOnce</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8cpp_source.html#l00201">201</a> of file <a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a>.</p>

<p>References <a class="el" href="EventBase_8h_source.html#l00735">fnRunner_</a>.</p>

<p>Referenced by <a class="el" href="NotificationQueueBenchmark_8cpp_source.html#l00028">runTest()</a>.</p>
<div class="fragment"><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                                                   {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <a class="code" href="classfolly_1_1EventBase.html#a58df53039cb63db4496275e21c24470e">fnRunner_</a>-&gt;setMaxReadAtOnce(maxAtOnce);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventBase_html_a58df53039cb63db4496275e21c24470e"><div class="ttname"><a href="classfolly_1_1EventBase.html#a58df53039cb63db4496275e21c24470e">folly::EventBase::fnRunner_</a></div><div class="ttdeci">std::unique_ptr&lt; FunctionRunner &gt; fnRunner_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00735">EventBase.h:735</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2ea0304a1c1891ce4022a92ce1984d48"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void folly::EventBase::setName </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a> &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the name of the thread that runs this event base. </p>

<p>Definition at line <a class="el" href="EventBase_8cpp_source.html#l00740">740</a> of file <a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a>.</p>

<p>References <a class="el" href="EventBase_8h_source.html#l00520">dcheckIsInEventBaseThread()</a>, <a class="el" href="EventBase_8h_source.html#l00487">isRunning()</a>, <a class="el" href="EventBase_8h_source.html#l00727">loopThread_</a>, <a class="el" href="http__parser_8c_source.html#l00437">name</a>, <a class="el" href="EventBase_8h_source.html#l00777">name_</a>, and <a class="el" href="ThreadName_8cpp_source.html#l00109">folly::setThreadName()</a>.</p>

<p>Referenced by <a class="el" href="EventBaseTest_8cpp_source.html#l01702">TEST()</a>, <a class="el" href="ThreadWheelTimekeeper_8cpp_source.html#l00104">folly::ThreadWheelTimekeeper::ThreadWheelTimekeeper()</a>, and <a class="el" href="WorkerThread_8cpp_source.html#l00022">proxygen::WorkerThread::WorkerThread()</a>.</p>
<div class="fragment"><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                                             {</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  <a class="code" href="classfolly_1_1EventBase.html#a42a80d7c0f6207dcaef1d84b7584d67d">dcheckIsInEventBaseThread</a>();</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  <a class="code" href="classfolly_1_1EventBase.html#afdcce9804a9705367cee8857a1ff276f">name_</a> = <a class="code" href="http__parser_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1EventBase.html#a945c69c37196f145c3eb24fa6d719d20">isRunning</a>()) {</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <a class="code" href="namespacefolly.html#a2e933f76070b83ef7519c9c2ac8a1117">setThreadName</a>(<a class="code" href="classfolly_1_1EventBase.html#ae6bcd79c854872291c03aef11ba42d43">loopThread_</a>.load(std::memory_order_relaxed), <a class="code" href="classfolly_1_1EventBase.html#afdcce9804a9705367cee8857a1ff276f">name_</a>);</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  }</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventBase_html_ae6bcd79c854872291c03aef11ba42d43"><div class="ttname"><a href="classfolly_1_1EventBase.html#ae6bcd79c854872291c03aef11ba42d43">folly::EventBase::loopThread_</a></div><div class="ttdeci">std::atomic&lt; std::thread::id &gt; loopThread_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00727">EventBase.h:727</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_afdcce9804a9705367cee8857a1ff276f"><div class="ttname"><a href="classfolly_1_1EventBase.html#afdcce9804a9705367cee8857a1ff276f">folly::EventBase::name_</a></div><div class="ttdeci">std::string name_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00777">EventBase.h:777</a></div></div>
<div class="ttc" id="http__parser_8c_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="http__parser_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="http__parser_8c_source.html#l00437">http_parser.c:437</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a42a80d7c0f6207dcaef1d84b7584d67d"><div class="ttname"><a href="classfolly_1_1EventBase.html#a42a80d7c0f6207dcaef1d84b7584d67d">folly::EventBase::dcheckIsInEventBaseThread</a></div><div class="ttdeci">void dcheckIsInEventBaseThread() const </div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00520">EventBase.h:520</a></div></div>
<div class="ttc" id="namespacefolly_html_a2e933f76070b83ef7519c9c2ac8a1117"><div class="ttname"><a href="namespacefolly.html#a2e933f76070b83ef7519c9c2ac8a1117">folly::setThreadName</a></div><div class="ttdeci">bool setThreadName(std::thread::id tid, StringPiece name)</div><div class="ttdef"><b>Definition:</b> <a href="ThreadName_8cpp_source.html#l00109">ThreadName.cpp:109</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a945c69c37196f145c3eb24fa6d719d20"><div class="ttname"><a href="classfolly_1_1EventBase.html#a945c69c37196f145c3eb24fa6d719d20">folly::EventBase::isRunning</a></div><div class="ttdeci">bool isRunning() const </div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00487">EventBase.h:487</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1492a0e4d670f75051e73dc363155f7b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::EventBase::setObserver </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classfolly_1_1EventBaseObserver.html">EventBaseObserver</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>observer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00587">587</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                                                                     {</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    assert(<a class="code" href="classfolly_1_1EventBase.html#a99bee522d749d5e070fdfc01de594868">enableTimeMeasurement_</a>);</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <a class="code" href="classfolly_1_1EventBase.html#a5107b96390c8e78246f7847863396d7f">observer_</a> = observer;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  }</div><div class="ttc" id="classfolly_1_1EventBase_html_a5107b96390c8e78246f7847863396d7f"><div class="ttname"><a href="classfolly_1_1EventBase.html#a5107b96390c8e78246f7847863396d7f">folly::EventBase::observer_</a></div><div class="ttdeci">std::shared_ptr&lt; EventBaseObserver &gt; observer_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00770">EventBase.h:770</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a99bee522d749d5e070fdfc01de594868"><div class="ttname"><a href="classfolly_1_1EventBase.html#a99bee522d749d5e070fdfc01de594868">folly::EventBase::enableTimeMeasurement_</a></div><div class="ttdeci">const bool enableTimeMeasurement_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00757">EventBase.h:757</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac274e03942f8358c5a3106eebc56c120"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void folly::EventBase::terminateLoopSoon </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Causes the event loop to exit soon.</p>
<p>This will cause an existing call to <a class="el" href="classfolly_1_1EventBase.html#a16d5a5f7ff5531f5faca9c22b528f82b">loop()</a> or <a class="el" href="classfolly_1_1EventBase.html#a7696dec40156ed3c4c8caa1e80d188e7">loopForever()</a> to stop event processing and return, even if there are still events remaining to be processed.</p>
<p>It is safe to call <a class="el" href="classfolly_1_1EventBase.html#ac274e03942f8358c5a3106eebc56c120">terminateLoopSoon()</a> from another thread to cause <a class="el" href="classfolly_1_1EventBase.html#a16d5a5f7ff5531f5faca9c22b528f82b">loop()</a> to wake up and return in the <a class="el" href="classfolly_1_1EventBase.html">EventBase</a> loop thread. <a class="el" href="classfolly_1_1EventBase.html#ac274e03942f8358c5a3106eebc56c120">terminateLoopSoon()</a> may also be called from the loop thread itself (for example, a <a class="el" href="classfolly_1_1EventHandler.html">EventHandler</a> or <a class="el" href="classfolly_1_1AsyncTimeout.html">AsyncTimeout</a> callback may call <a class="el" href="classfolly_1_1EventBase.html#ac274e03942f8358c5a3106eebc56c120">terminateLoopSoon()</a> to cause the loop to exit after the callback returns.) If the loop is not running, this will cause the next call to loop to terminate soon after starting. If a loop runs out of work (and so terminates on its own) concurrently with a call to <a class="el" href="classfolly_1_1EventBase.html#ac274e03942f8358c5a3106eebc56c120">terminateLoopSoon()</a>, this may cause a race condition.</p>
<p>Note that the caller is responsible for ensuring that cleanup of all event callbacks occurs properly. Since <a class="el" href="classfolly_1_1EventBase.html#ac274e03942f8358c5a3106eebc56c120">terminateLoopSoon()</a> causes the loop to exit even when there are pending events present, there may be remaining callbacks present waiting to be invoked. If the loop is later restarted pending events will continue to be processed normally, however if the <a class="el" href="classfolly_1_1EventBase.html">EventBase</a> is destroyed after calling <a class="el" href="classfolly_1_1EventBase.html#ac274e03942f8358c5a3106eebc56c120">terminateLoopSoon()</a> it is the caller's responsibility to ensure that cleanup happens properly even if some outstanding events are never processed. </p>

<p>Definition at line <a class="el" href="EventBase_8cpp_source.html#l00493">493</a> of file <a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a>.</p>

<p>References <a class="el" href="EventBase_8h_source.html#l00730">evb_</a>, <a class="el" href="EventBase_8h_source.html#l00734">queue_</a>, and <a class="el" href="EventBase_8h_source.html#l00723">stop_</a>.</p>

<p>Referenced by <a class="el" href="WorkerThread_8cpp_source.html#l00073">proxygen::WorkerThread::forceStop()</a>, <a class="el" href="NotificationQueueTest_8cpp_source.html#l00275">QueueTest::maxReadAtOnce()</a>, <a class="el" href="ZeroCopy_8h_source.html#l00170">folly::ZeroCopyTestAsyncSocket::onDataFinish()</a>, <a class="el" href="ZeroCopy_8h_source.html#l00155">folly::ZeroCopyTestAsyncSocket::onDataReady()</a>, <a class="el" href="lib_2services_2test_2AcceptorTest_8cpp_source.html#l00036">TestAcceptor::onNewConnection()</a>, <a class="el" href="EventBaseTest_8cpp_source.html#l01149">runInThreadTestFunc()</a>, <a class="el" href="NotificationQueueBenchmark_8cpp_source.html#l00028">runTest()</a>, <a class="el" href="AsyncUDPSocketGSOTest_8cpp_source.html#l00237">UDPClient::shutdown()</a>, <a class="el" href="HTTPServer_8cpp_source.html#l00193">proxygen::HTTPServer::stop()</a>, <a class="el" href="WorkerThread_8cpp_source.html#l00055">proxygen::WorkerThread::stopWhenIdle()</a>, <a class="el" href="SlidingBloomReplayCacheTest_8cpp_source.html#l00103">fizz::server::test::TEST()</a>, <a class="el" href="ServiceTest_8cpp_source.html#l00114">wangle::TEST()</a>, <a class="el" href="FibersTest_8cpp_source.html#l00121">TEST()</a>, <a class="el" href="AsyncSSLSocketTest_8cpp_source.html#l00257">folly::TEST()</a>, <a class="el" href="AsyncUDPSocketTest_8cpp_source.html#l00531">TEST_F()</a>, <a class="el" href="ScopedEventBaseThread_8cpp_source.html#l00068">folly::ScopedEventBaseThread::~ScopedEventBaseThread()</a>, and <a class="el" href="ThreadWheelTimekeeper_8cpp_source.html#l00115">folly::ThreadWheelTimekeeper::~ThreadWheelTimekeeper()</a>.</p>
<div class="fragment"><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                                  {</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  VLOG(5) &lt;&lt; <span class="stringliteral">&quot;EventBase(): Received terminateLoopSoon() command.&quot;</span>;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  <span class="comment">// Set stop to true, so the event loop will know to exit.</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  <a class="code" href="classfolly_1_1EventBase.html#acf0f606ae64ed101e63c0ed5372f5274">stop_</a>.store(<span class="keyword">true</span>, std::memory_order_relaxed);</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <span class="comment">// Call event_base_loopbreak() so that libevent will exit the next time</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  <span class="comment">// around the loop.</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  event_base_loopbreak(<a class="code" href="classfolly_1_1EventBase.html#a0b4458d0f1f1b7a68e26715dc8ddcc88">evb_</a>);</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <span class="comment">// If terminateLoopSoon() is called from another thread,</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="comment">// the EventBase thread might be stuck waiting for events.</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <span class="comment">// In this case, it won&#39;t wake up and notice that stop_ is set until it</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <span class="comment">// receives another event.  Send an empty frame to the notification queue</span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <span class="comment">// so that the event loop will wake up even if there are no other events.</span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  <span class="comment">// We don&#39;t care about the return value of trySendFrame().  If it fails</span></div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <span class="comment">// this likely means the EventBase already has lots of events waiting</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <span class="comment">// anyway.</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <span class="keywordflow">try</span> {</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <a class="code" href="classfolly_1_1EventBase.html#a767caba2144b07e4acc7096560705283">queue_</a>-&gt;putMessage(<span class="keyword">nullptr</span>);</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  } <span class="keywordflow">catch</span> (...) {</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="comment">// We don&#39;t care if putMessage() fails.  This likely means</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="comment">// the EventBase already has lots of events waiting anyway.</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  }</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;}</div><div class="ttc" id="classfolly_1_1EventBase_html_a767caba2144b07e4acc7096560705283"><div class="ttname"><a href="classfolly_1_1EventBase.html#a767caba2144b07e4acc7096560705283">folly::EventBase::queue_</a></div><div class="ttdeci">std::unique_ptr&lt; NotificationQueue&lt; Func &gt; &gt; queue_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00734">EventBase.h:734</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a0b4458d0f1f1b7a68e26715dc8ddcc88"><div class="ttname"><a href="classfolly_1_1EventBase.html#a0b4458d0f1f1b7a68e26715dc8ddcc88">folly::EventBase::evb_</a></div><div class="ttdeci">event_base * evb_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00730">EventBase.h:730</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_acf0f606ae64ed101e63c0ed5372f5274"><div class="ttname"><a href="classfolly_1_1EventBase.html#acf0f606ae64ed101e63c0ed5372f5274">folly::EventBase::stop_</a></div><div class="ttdeci">std::atomic&lt; bool &gt; stop_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00723">EventBase.h:723</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afedcfb0ece654c202aa16ccb61a34249"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1HHWheelTimer.html">HHWheelTimer</a>&amp; folly::EventBase::timer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00526">526</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>References <a class="el" href="HHWheelTimer_8h_source.html#l00061">folly::HHWheelTimer::newTimer()</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00754">scheduleAt()</a>, <a class="el" href="AsyncUDPSocketTest_8cpp_source.html#l00556">TEST_F()</a>, and <a class="el" href="WheelTimerInstance_8cpp_source.html#l00031">proxygen::WheelTimerInstance::WheelTimerInstance()</a>.</p>
<div class="fragment"><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                        {</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classfolly_1_1EventBase.html#a651395c67fb8712defa84d4d3de7251a">wheelTimer_</a>) {</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      <a class="code" href="classfolly_1_1EventBase.html#a651395c67fb8712defa84d4d3de7251a">wheelTimer_</a> = <a class="code" href="classfolly_1_1HHWheelTimer.html#aea6d48674701c93320954cb3c8edd134">HHWheelTimer::newTimer</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    }</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keywordflow">return</span> *<a class="code" href="classfolly_1_1EventBase.html#a651395c67fb8712defa84d4d3de7251a">wheelTimer_</a>.get();</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  }</div><div class="ttc" id="classfolly_1_1HHWheelTimer_html_aea6d48674701c93320954cb3c8edd134"><div class="ttname"><a href="classfolly_1_1HHWheelTimer.html#aea6d48674701c93320954cb3c8edd134">folly::HHWheelTimer::newTimer</a></div><div class="ttdeci">static UniquePtr newTimer(Args &amp;&amp;...args)</div><div class="ttdef"><b>Definition:</b> <a href="HHWheelTimer_8h_source.html#l00061">HHWheelTimer.h:61</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a651395c67fb8712defa84d4d3de7251a"><div class="ttname"><a href="classfolly_1_1EventBase.html#a651395c67fb8712defa84d4d3de7251a">folly::EventBase::wheelTimer_</a></div><div class="ttdeci">HHWheelTimer::UniquePtr wheelTimer_</div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00709">EventBase.h:709</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af9ea38dd928c52d56e72eaefe310e13a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void folly::EventBase::waitUntilRunning </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>wait until the event loop starts (after starting the event loop thread). </p>

<p>Definition at line <a class="el" href="EventBase_8cpp_source.html#l00249">249</a> of file <a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a>.</p>

<p>References <a class="el" href="EventBase_8h_source.html#l00487">isRunning()</a>, and <a class="el" href="FiberManagerInternal_8h_source.html#l00592">folly::fibers::yield()</a>.</p>

<p>Referenced by <a class="el" href="ScopedEventBaseThread_8cpp_source.html#l00059">folly::ScopedEventBaseThread::ScopedEventBaseThread()</a>, <a class="el" href="WorkerThread_8cpp_source.html#l00037">proxygen::WorkerThread::start()</a>, <a class="el" href="EventBaseTest_8cpp_source.html#l01226">TEST()</a>, and <a class="el" href="ThreadWheelTimekeeper_8cpp_source.html#l00104">folly::ThreadWheelTimekeeper::ThreadWheelTimekeeper()</a>.</p>
<div class="fragment"><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                                 {</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="keywordflow">while</span> (!<a class="code" href="classfolly_1_1EventBase.html#a945c69c37196f145c3eb24fa6d719d20">isRunning</a>()) {</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <a class="code" href="namespacefolly_1_1fibers.html#ad9af2bea32bcaa0b71686fc62475c2a8">std::this_thread::yield</a>();</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  }</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;}</div><div class="ttc" id="namespacefolly_1_1fibers_html_ad9af2bea32bcaa0b71686fc62475c2a8"><div class="ttname"><a href="namespacefolly_1_1fibers.html#ad9af2bea32bcaa0b71686fc62475c2a8">folly::fibers::yield</a></div><div class="ttdeci">void yield()</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00592">FiberManagerInternal.h:592</a></div></div>
<div class="ttc" id="classfolly_1_1EventBase_html_a945c69c37196f145c3eb24fa6d719d20"><div class="ttname"><a href="classfolly_1_1EventBase.html#a945c69c37196f145c3eb24fa6d719d20">folly::EventBase::isRunning</a></div><div class="ttdeci">bool isRunning() const </div><div class="ttdef"><b>Definition:</b> <a href="EventBase_8h_source.html#l00487">EventBase.h:487</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="ad5a06a1b18a04d430c1c9852e5889d96"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classfolly_1_1detail_1_1EventBaseLocalBase.html">detail::EventBaseLocalBase</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00783">783</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

</div>
</div>
<a class="anchor" id="af560ac5db5178f124ba673c624962b98"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classfolly_1_1EventBaseLocal.html">EventBaseLocal</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00785">785</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a5e20b42bf343d8bcfc7b9bded59c3af8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1EventBase_1_1SmoothLoopTime.html">SmoothLoopTime</a> folly::EventBase::avgLoopTime_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00744">744</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00275">loopBody()</a>, <a class="el" href="EventBase_8cpp_source.html#l00235">resetLoadAvg()</a>, and <a class="el" href="EventBase_8cpp_source.html#l00224">setLoadAvgMsec()</a>.</p>

</div>
</div>
<a class="anchor" id="a99bee522d749d5e070fdfc01de594868"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const bool folly::EventBase::enableTimeMeasurement_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00757">757</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00476">bumpHandlingTime()</a>, <a class="el" href="EventBase_8cpp_source.html#l00275">loopBody()</a>, <a class="el" href="EventBase_8cpp_source.html#l00235">resetLoadAvg()</a>, and <a class="el" href="EventBase_8cpp_source.html#l00224">setLoadAvgMsec()</a>.</p>

</div>
</div>
<a class="anchor" id="a0b4458d0f1f1b7a68e26715dc8ddcc88"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">event_base* folly::EventBase::evb_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00730">730</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00076">EventBase()</a>, <a class="el" href="EventBase_8cpp_source.html#l00275">loopBody()</a>, <a class="el" href="EventBase_8cpp_source.html#l00045">folly::EventBase::FunctionRunner::messageAvailable()</a>, <a class="el" href="EventBase_8cpp_source.html#l00493">terminateLoopSoon()</a>, and <a class="el" href="EventBase_8cpp_source.html#l00148">~EventBase()</a>.</p>

</div>
</div>
<a class="anchor" id="ab7fcf2326933d11252b84c8cdefe7106"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1ExecutionObserver.html">ExecutionObserver</a>* folly::EventBase::executionObserver_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00774">774</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

</div>
</div>
<a class="anchor" id="a58df53039cb63db4496275e21c24470e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classfolly_1_1EventBase_1_1FunctionRunner.html">FunctionRunner</a>&gt; folly::EventBase::fnRunner_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00735">735</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00433">applyLoopKeepAlive()</a>, <a class="el" href="EventBase_8cpp_source.html#l00640">initNotificationQueue()</a>, <a class="el" href="EventBase_8cpp_source.html#l00275">loopBody()</a>, <a class="el" href="EventBase_8cpp_source.html#l00260">loopIgnoreKeepAlive()</a>, <a class="el" href="EventBase_8cpp_source.html#l00201">setMaxReadAtOnce()</a>, and <a class="el" href="EventBase_8cpp_source.html#l00148">~EventBase()</a>.</p>

</div>
</div>
<a class="anchor" id="a33d3f07facb142b2e805833d691d7ced"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::EventBase::invokingLoop_ {false}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00767">767</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00275">loopBody()</a>.</p>

</div>
</div>
<a class="anchor" id="a48b58cf7932997126eb778e66da241bf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t folly::EventBase::latestLoopCnt_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00761">761</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00476">bumpHandlingTime()</a>, and <a class="el" href="EventBase_8cpp_source.html#l00689">nothingHandledYet()</a>.</p>

</div>
</div>
<a class="anchor" id="ab50cc007968313892edba59bfcd3da86"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;std::size_t, std::shared_ptr&lt;void&gt; &gt; folly::EventBase::localStorage_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00786">786</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>Referenced by <a class="el" href="EventBaseLocal_8cpp_source.html#l00041">folly::detail::EventBaseLocalBase::erase()</a>, <a class="el" href="EventBaseLocal_8cpp_source.html#l00035">folly::detail::EventBaseLocalBase::getVoid()</a>, and <a class="el" href="EventBaseLocal_8cpp_source.html#l00056">folly::detail::EventBaseLocalBase::setVoid()</a>.</p>

</div>
</div>
<a class="anchor" id="ac6036f0b5ae08604d8699c7ca2708886"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_set&lt;<a class="el" href="classfolly_1_1detail_1_1EventBaseLocalBaseBase.html">detail::EventBaseLocalBaseBase</a>*&gt; folly::EventBase::localStorageToDtor_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00787">787</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>Referenced by <a class="el" href="EventBaseLocal_8cpp_source.html#l00041">folly::detail::EventBaseLocalBase::erase()</a>, <a class="el" href="EventBaseLocal_8cpp_source.html#l00056">folly::detail::EventBaseLocalBase::setVoid()</a>, and <a class="el" href="EventBase_8cpp_source.html#l00148">~EventBase()</a>.</p>

</div>
</div>
<a class="anchor" id="ae13a1de2a9814a3494b562bc58e6f3cd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1EventBase.html#aaa068e1cddd4f46220a35cc9712080bd">LoopCallbackList</a> folly::EventBase::loopCallbacks_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00711">711</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00275">loopBody()</a>, <a class="el" href="EventBase_8cpp_source.html#l00520">runInLoop()</a>, and <a class="el" href="EventBase_8cpp_source.html#l00612">runLoopCallbacks()</a>.</p>

</div>
</div>
<a class="anchor" id="a5edd3dc7d26dc330922fae6e78712fa2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::EventBase::loopKeepAliveActive_ {false}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00738">738</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00433">applyLoopKeepAlive()</a>, and <a class="el" href="EventBase_8cpp_source.html#l00260">loopIgnoreKeepAlive()</a>.</p>

</div>
</div>
<a class="anchor" id="a7ff9288aa1b5c613523eda5d71c5b07d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t folly::EventBase::loopKeepAliveCount_ {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00736">736</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00455">loopForever()</a>, and <a class="el" href="EventBase_8cpp_source.html#l00423">loopKeepAliveCount()</a>.</p>

</div>
</div>
<a class="anchor" id="a087b44d8c0bd757b296e373859407143"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;ssize_t&gt; folly::EventBase::loopKeepAliveCountAtomic_ {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00737">737</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00423">loopKeepAliveCount()</a>.</p>

</div>
</div>
<a class="anchor" id="ae6bcd79c854872291c03aef11ba42d43"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;std::thread::id&gt; folly::EventBase::loopThread_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00727">727</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00205">checkIsInEventBaseThread()</a>, <a class="el" href="EventBase_8cpp_source.html#l00275">loopBody()</a>, and <a class="el" href="EventBase_8cpp_source.html#l00740">setName()</a>.</p>

</div>
</div>
<a class="anchor" id="adab96ad1af6fa6e1a73e246ae0d03332"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::chrono::microseconds folly::EventBase::maxLatency_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00741">741</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00275">loopBody()</a>.</p>

</div>
</div>
<a class="anchor" id="aed2dacd6acb029a87a081273cdf62604"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1EventBase.html#a908ce60f8e240e91cca117b3e953118c">Func</a> folly::EventBase::maxLatencyCob_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00752">752</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00275">loopBody()</a>.</p>

</div>
</div>
<a class="anchor" id="adefe6cee34e657875e6ad139728cb06f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1EventBase_1_1SmoothLoopTime.html">SmoothLoopTime</a> folly::EventBase::maxLatencyLoopTime_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00749">749</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00275">loopBody()</a>, <a class="el" href="EventBase_8cpp_source.html#l00235">resetLoadAvg()</a>, and <a class="el" href="EventBase_8cpp_source.html#l00224">setLoadAvgMsec()</a>.</p>

</div>
</div>
<a class="anchor" id="afdcce9804a9705367cee8857a1ff276f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a> folly::EventBase::name_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00777">777</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00749">getName()</a>, <a class="el" href="EventBase_8cpp_source.html#l00275">loopBody()</a>, and <a class="el" href="EventBase_8cpp_source.html#l00740">setName()</a>.</p>

</div>
</div>
<a class="anchor" id="a988ab0bb495552406db82d2f8f38b25c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t folly::EventBase::nextLoopCnt_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00760">760</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00476">bumpHandlingTime()</a>, <a class="el" href="EventBase_8cpp_source.html#l00275">loopBody()</a>, and <a class="el" href="EventBase_8cpp_source.html#l00689">nothingHandledYet()</a>.</p>

</div>
</div>
<a class="anchor" id="a5107b96390c8e78246f7847863396d7f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classfolly_1_1EventBaseObserver.html">EventBaseObserver</a>&gt; folly::EventBase::observer_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00770">770</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00275">loopBody()</a>.</p>

</div>
</div>
<a class="anchor" id="a75756e6bf560517cd8fede82669e5cb3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> folly::EventBase::observerSampleCount_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00771">771</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00275">loopBody()</a>.</p>

</div>
</div>
<a class="anchor" id="a4a83d93b08cf459e3b5808e82fc99311"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1EventBase.html#aaa068e1cddd4f46220a35cc9712080bd">LoopCallbackList</a> folly::EventBase::onDestructionCallbacks_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00713">713</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00542">runOnDestruction()</a>, and <a class="el" href="EventBase_8cpp_source.html#l00148">~EventBase()</a>.</p>

</div>
</div>
<a class="anchor" id="abb89099bea2e36a455b956898bac8837"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="OpenSSLThreading_8cpp.html#a1be3f7fa26e4521098de5f1ec0f865f3">std::mutex</a> folly::EventBase::onDestructionCallbacksMutex_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00780">780</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00542">runOnDestruction()</a>.</p>

</div>
</div>
<a class="anchor" id="a767caba2144b07e4acc7096560705283"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classfolly_1_1NotificationQueue.html">NotificationQueue</a>&lt;<a class="el" href="classfolly_1_1EventBase.html#a908ce60f8e240e91cca117b3e953118c">Func</a>&gt; &gt; folly::EventBase::queue_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00734">734</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00433">applyLoopKeepAlive()</a>, <a class="el" href="EventBase_8cpp_source.html#l00197">getNotificationQueueSize()</a>, <a class="el" href="EventBase_8cpp_source.html#l00640">initNotificationQueue()</a>, <a class="el" href="EventBase_8cpp_source.html#l00260">loopIgnoreKeepAlive()</a>, <a class="el" href="EventBase_8cpp_source.html#l00554">runInEventBaseThread()</a>, and <a class="el" href="EventBase_8cpp_source.html#l00493">terminateLoopSoon()</a>.</p>

</div>
</div>
<a class="anchor" id="a4906484269a6c78046a4fb394badff34"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1EventBase.html#aaa068e1cddd4f46220a35cc9712080bd">LoopCallbackList</a> folly::EventBase::runBeforeLoopCallbacks_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00712">712</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00275">loopBody()</a>, <a class="el" href="EventBase_8cpp_source.html#l00548">runBeforeLoop()</a>, and <a class="el" href="EventBase_8cpp_source.html#l00148">~EventBase()</a>.</p>

</div>
</div>
<a class="anchor" id="a654f6fb879afc737c265b0b746284e7a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1EventBase.html#aaa068e1cddd4f46220a35cc9712080bd">LoopCallbackList</a>* folly::EventBase::runOnceCallbacks_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00719">719</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00520">runInLoop()</a>, and <a class="el" href="EventBase_8cpp_source.html#l00612">runLoopCallbacks()</a>.</p>

</div>
</div>
<a class="anchor" id="a5ad6534553916ba16981f36724621c8f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::chrono::steady_clock::time_point folly::EventBase::startWork_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00762">762</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00476">bumpHandlingTime()</a>, and <a class="el" href="EventBase_8cpp_source.html#l00275">loopBody()</a>.</p>

</div>
</div>
<a class="anchor" id="acf0f606ae64ed101e63c0ed5372f5274"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;bool&gt; folly::EventBase::stop_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00723">723</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00275">loopBody()</a>, and <a class="el" href="EventBase_8cpp_source.html#l00493">terminateLoopSoon()</a>.</p>

</div>
</div>
<a class="anchor" id="a144d0cb2ac0d3749d732eb5163b4c3ce"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classfolly_1_1VirtualEventBase.html">VirtualEventBase</a>&gt; folly::EventBase::virtualEventBase_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00790">790</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00433">applyLoopKeepAlive()</a>, <a class="el" href="EventBase_8cpp_source.html#l00768">getVirtualEventBase()</a>, and <a class="el" href="EventBase_8cpp_source.html#l00148">~EventBase()</a>.</p>

</div>
</div>
<a class="anchor" id="ace72770e0ad3ed239cb511bd5f7f29c5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacefolly.html#a0b26611d0d1e59ab71c379c684bb1e8f">folly::once_flag</a> folly::EventBase::virtualEventBaseInitFlag_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00789">789</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

<p>Referenced by <a class="el" href="EventBase_8cpp_source.html#l00768">getVirtualEventBase()</a>.</p>

</div>
</div>
<a class="anchor" id="a651395c67fb8712defa84d4d3de7251a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1HHWheelTimer.html#ac5c81b3296322bb2afffde0af8a0a797">HHWheelTimer::UniquePtr</a> folly::EventBase::wheelTimer_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="EventBase_8h_source.html#l00709">709</a> of file <a class="el" href="EventBase_8h_source.html">EventBase.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>proxygen/folly/folly/io/async/<a class="el" href="EventBase_8h_source.html">EventBase.h</a></li>
<li>proxygen/folly/folly/io/async/<a class="el" href="EventBase_8cpp_source.html">EventBase.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefolly.html">folly</a></li><li class="navelem"><a class="el" href="classfolly_1_1EventBase.html">EventBase</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
