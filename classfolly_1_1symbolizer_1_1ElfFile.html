<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>proxygen: folly::symbolizer::ElfFile Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">proxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classfolly_1_1symbolizer_1_1ElfFile.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="classfolly_1_1symbolizer_1_1ElfFile-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">folly::symbolizer::ElfFile Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="Elf_8h_source.html">Elf.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ac7b09f336c4ca4f04bc58664162b5900"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#ac7b09f336c4ca4f04bc58664162b5900adc5bf3518cfa5187de613cc6dcbdebe8">kSuccess</a> = 0, 
<a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#ac7b09f336c4ca4f04bc58664162b5900a35248f817ab24feaa03c220b1b883015">kSystemError</a> = -1, 
<a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#ac7b09f336c4ca4f04bc58664162b5900ac2b1d22e37044c4199cbc85649860e2f">kInvalidElfFile</a> = -2
 }</td></tr>
<tr class="separator:ac7b09f336c4ca4f04bc58664162b5900"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ea7d506a5665d9a15c674ececc5f054"><td class="memItemLeft" align="right" valign="top">typedef std::pair&lt; const <a class="el" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a> *, const <a class="el" href="namespacefolly_1_1symbolizer.html#ad92af839b4f237e8ea101378c5e3ce81">ElfSym</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#a9ea7d506a5665d9a15c674ececc5f054">Symbol</a></td></tr>
<tr class="separator:a9ea7d506a5665d9a15c674ececc5f054"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a15d9ef4416aed62c9f5cc441b5dde8e4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#a15d9ef4416aed62c9f5cc441b5dde8e4">ElfFile</a> () noexcept</td></tr>
<tr class="separator:a15d9ef4416aed62c9f5cc441b5dde8e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26a720e4f6c56a30dd437347b7ddcbc3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#a26a720e4f6c56a30dd437347b7ddcbc3">ElfFile</a> (const char *<a class="el" href="folly_2folly_2experimental_2symbolizer_2SignalHandler_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, bool readOnly=true)</td></tr>
<tr class="separator:a26a720e4f6c56a30dd437347b7ddcbc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acec3071849550057d1fa4b8507dcf7bc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#acec3071849550057d1fa4b8507dcf7bc">openNoThrow</a> (const char *<a class="el" href="folly_2folly_2experimental_2symbolizer_2SignalHandler_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, bool readOnly=true, const char **msg=<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>) noexcept</td></tr>
<tr class="separator:acec3071849550057d1fa4b8507dcf7bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a026a610b806e5b08e826b74a46cfbb71"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#a026a610b806e5b08e826b74a46cfbb71">openAndFollow</a> (const char *<a class="el" href="folly_2folly_2experimental_2symbolizer_2SignalHandler_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, bool readOnly=true, const char **msg=<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>) noexcept</td></tr>
<tr class="separator:a026a610b806e5b08e826b74a46cfbb71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fb2c375dc5c870ddfadf8c7a2e887f1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#a4fb2c375dc5c870ddfadf8c7a2e887f1">open</a> (const char *<a class="el" href="folly_2folly_2experimental_2symbolizer_2SignalHandler_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, bool readOnly=true)</td></tr>
<tr class="separator:a4fb2c375dc5c870ddfadf8c7a2e887f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a959099f4be311a187a2c7e271e962f74"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#a959099f4be311a187a2c7e271e962f74">~ElfFile</a> ()</td></tr>
<tr class="separator:a959099f4be311a187a2c7e271e962f74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6f465d8fbf3671e19741be6f9331307"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#aa6f465d8fbf3671e19741be6f9331307">ElfFile</a> (<a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html">ElfFile</a> &amp;&amp;other) noexcept</td></tr>
<tr class="separator:aa6f465d8fbf3671e19741be6f9331307"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a507af48f2bd1cb52db095ba8b6098a93"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html">ElfFile</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#a507af48f2bd1cb52db095ba8b6098a93">operator=</a> (<a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html">ElfFile</a> &amp;&amp;other)</td></tr>
<tr class="separator:a507af48f2bd1cb52db095ba8b6098a93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8acb63a0ef00b5662e3301c83f1f584"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="namespacefolly_1_1symbolizer.html#a74d867f16cdc9025c3a9948cd00e640a">ElfEhdr</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#ae8acb63a0ef00b5662e3301c83f1f584">elfHeader</a> () const </td></tr>
<tr class="separator:ae8acb63a0ef00b5662e3301c83f1f584"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae24314de8313dbde74ab7243d036c667"><td class="memItemLeft" align="right" valign="top">uintptr_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#ae24314de8313dbde74ab7243d036c667">getBaseAddress</a> () const </td></tr>
<tr class="separator:ae24314de8313dbde74ab7243d036c667"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b7305c26f41ae6b1d8f90b5a3477f00"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#a9b7305c26f41ae6b1d8f90b5a3477f00">getSectionByName</a> (const char *<a class="el" href="folly_2folly_2experimental_2symbolizer_2SignalHandler_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>) const </td></tr>
<tr class="separator:a9b7305c26f41ae6b1d8f90b5a3477f00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fe9fb5936477fedf4fae25cc4cc42df"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#a7fe9fb5936477fedf4fae25cc4cc42df">getSectionByIndex</a> (size_t idx) const </td></tr>
<tr class="separator:a7fe9fb5936477fedf4fae25cc4cc42df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe840feba17edfef1160b494d0fe4233"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#abe840feba17edfef1160b494d0fe4233">getSectionName</a> (const <a class="el" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a> &amp;section) const </td></tr>
<tr class="separator:abe840feba17edfef1160b494d0fe4233"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29f3afaaa29c6782117715f6c11e0040"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacefolly.html#af8d3e3eb9accef5470823e6353f60140">folly::StringPiece</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#a29f3afaaa29c6782117715f6c11e0040">getSectionBody</a> (const <a class="el" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a> &amp;section) const </td></tr>
<tr class="separator:a29f3afaaa29c6782117715f6c11e0040"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02e885cce822ba251922d15dd1e71d42"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#a02e885cce822ba251922d15dd1e71d42">getString</a> (const <a class="el" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a> &amp;stringTable, size_t offset) const </td></tr>
<tr class="separator:a02e885cce822ba251922d15dd1e71d42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a83c195e128d24c30cbffb50e9fbe6d"><td class="memTemplParams" colspan="2">template&lt;class Fn &gt; </td></tr>
<tr class="memitem:a2a83c195e128d24c30cbffb50e9fbe6d"><td class="memTemplItemLeft" align="right" valign="top">const char *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#a2a83c195e128d24c30cbffb50e9fbe6d">iterateStrings</a> (const <a class="el" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a> &amp;stringTable, Fn fn) const </td></tr>
<tr class="separator:a2a83c195e128d24c30cbffb50e9fbe6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa0ca07cc0d1735602c71701b56bee51"><td class="memTemplParams" colspan="2">template&lt;class Fn &gt; </td></tr>
<tr class="memitem:aaa0ca07cc0d1735602c71701b56bee51"><td class="memTemplItemLeft" align="right" valign="top">const <a class="el" href="namespacefolly_1_1symbolizer.html#a626ca00e06ff80b9506f6512b10229c9">ElfPhdr</a> *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#aaa0ca07cc0d1735602c71701b56bee51">iterateProgramHeaders</a> (Fn fn) const </td></tr>
<tr class="separator:aaa0ca07cc0d1735602c71701b56bee51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96f106b98752b58b0e97288996d0b30d"><td class="memTemplParams" colspan="2">template&lt;class Fn &gt; </td></tr>
<tr class="memitem:a96f106b98752b58b0e97288996d0b30d"><td class="memTemplItemLeft" align="right" valign="top">const <a class="el" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a> *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#a96f106b98752b58b0e97288996d0b30d">iterateSections</a> (Fn fn) const </td></tr>
<tr class="separator:a96f106b98752b58b0e97288996d0b30d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5a16b529029e432827d532085076838"><td class="memTemplParams" colspan="2">template&lt;class Fn &gt; </td></tr>
<tr class="memitem:ab5a16b529029e432827d532085076838"><td class="memTemplItemLeft" align="right" valign="top">const <a class="el" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a> *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#ab5a16b529029e432827d532085076838">iterateSectionsWithType</a> (<a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> <a class="el" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">type</a>, Fn fn) const </td></tr>
<tr class="separator:ab5a16b529029e432827d532085076838"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d247c858aa816853c7f8429583b758f"><td class="memTemplParams" colspan="2">template&lt;class Fn &gt; </td></tr>
<tr class="memitem:a2d247c858aa816853c7f8429583b758f"><td class="memTemplItemLeft" align="right" valign="top">const <a class="el" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a> *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#a2d247c858aa816853c7f8429583b758f">iterateSectionsWithTypes</a> (std::initializer_list&lt; <a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> &gt; types, Fn fn) const </td></tr>
<tr class="separator:a2d247c858aa816853c7f8429583b758f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a302bbed44afacfc2e59edb77636d10a3"><td class="memTemplParams" colspan="2">template&lt;class Fn &gt; </td></tr>
<tr class="memitem:a302bbed44afacfc2e59edb77636d10a3"><td class="memTemplItemLeft" align="right" valign="top">const <a class="el" href="namespacefolly_1_1symbolizer.html#ad92af839b4f237e8ea101378c5e3ce81">ElfSym</a> *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#a302bbed44afacfc2e59edb77636d10a3">iterateSymbols</a> (const <a class="el" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a> &amp;section, Fn fn) const </td></tr>
<tr class="separator:a302bbed44afacfc2e59edb77636d10a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc50296f70ec6cc3fb538b30ce6850dc"><td class="memTemplParams" colspan="2">template&lt;class Fn &gt; </td></tr>
<tr class="memitem:afc50296f70ec6cc3fb538b30ce6850dc"><td class="memTemplItemLeft" align="right" valign="top">const <a class="el" href="namespacefolly_1_1symbolizer.html#ad92af839b4f237e8ea101378c5e3ce81">ElfSym</a> *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#afc50296f70ec6cc3fb538b30ce6850dc">iterateSymbolsWithType</a> (const <a class="el" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a> &amp;section, <a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> <a class="el" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">type</a>, Fn fn) const </td></tr>
<tr class="separator:afc50296f70ec6cc3fb538b30ce6850dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4b0c57e976be6c8149f99bf0753b5bd"><td class="memTemplParams" colspan="2">template&lt;class Fn &gt; </td></tr>
<tr class="memitem:ab4b0c57e976be6c8149f99bf0753b5bd"><td class="memTemplItemLeft" align="right" valign="top">const <a class="el" href="namespacefolly_1_1symbolizer.html#ad92af839b4f237e8ea101378c5e3ce81">ElfSym</a> *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#ab4b0c57e976be6c8149f99bf0753b5bd">iterateSymbolsWithTypes</a> (const <a class="el" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a> &amp;section, std::initializer_list&lt; <a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> &gt; types, Fn fn) const </td></tr>
<tr class="separator:ab4b0c57e976be6c8149f99bf0753b5bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeb417bbb92f7081ddd0cc31aa7cebd0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#a9ea7d506a5665d9a15c674ececc5f054">Symbol</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#aeeb417bbb92f7081ddd0cc31aa7cebd0">getDefinitionByAddress</a> (uintptr_t address) const </td></tr>
<tr class="separator:aeeb417bbb92f7081ddd0cc31aa7cebd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a947b80421377d3cafa28299d1f7274a7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#a9ea7d506a5665d9a15c674ececc5f054">Symbol</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#a947b80421377d3cafa28299d1f7274a7">getSymbolByName</a> (const char *<a class="el" href="folly_2folly_2experimental_2symbolizer_2SignalHandler_8cpp.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>) const </td></tr>
<tr class="separator:a947b80421377d3cafa28299d1f7274a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02a51e0ffbe00e1ac9265b9fb0374b7b"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a02a51e0ffbe00e1ac9265b9fb0374b7b"><td class="memTemplItemLeft" align="right" valign="top">const <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#a02a51e0ffbe00e1ac9265b9fb0374b7b">getSymbolValue</a> (const <a class="el" href="namespacefolly_1_1symbolizer.html#ad92af839b4f237e8ea101378c5e3ce81">ElfSym</a> *symbol) const </td></tr>
<tr class="separator:a02a51e0ffbe00e1ac9265b9fb0374b7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad83fa030eea52f3990876b88aac2e8e2"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:ad83fa030eea52f3990876b88aac2e8e2"><td class="memTemplItemLeft" align="right" valign="top">const <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#ad83fa030eea52f3990876b88aac2e8e2">getAddressValue</a> (const <a class="el" href="namespacefolly_1_1symbolizer.html#a78ce49284e764ce577c2a2a6a5161180">ElfAddr</a> <a class="el" href="GlobalThreadPoolList_8cpp.html#ab94a49ce2d97d58d5e22352a39c2345c">addr</a>) const </td></tr>
<tr class="separator:ad83fa030eea52f3990876b88aac2e8e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d260f670e6a4f1042620db348b4f7e0"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#a5d260f670e6a4f1042620db348b4f7e0">getSymbolName</a> (<a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#a9ea7d506a5665d9a15c674ececc5f054">Symbol</a> symbol) const </td></tr>
<tr class="separator:a5d260f670e6a4f1042620db348b4f7e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab95e7d160fe5b13f1e15274a5b8f4533"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#ab95e7d160fe5b13f1e15274a5b8f4533">getSectionContainingAddress</a> (<a class="el" href="namespacefolly_1_1symbolizer.html#a78ce49284e764ce577c2a2a6a5161180">ElfAddr</a> <a class="el" href="GlobalThreadPoolList_8cpp.html#ab94a49ce2d97d58d5e22352a39c2345c">addr</a>) const </td></tr>
<tr class="separator:ab95e7d160fe5b13f1e15274a5b8f4533"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a3c0ba8456eda05b4583103556e5ac5cc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#a3c0ba8456eda05b4583103556e5ac5cc">init</a> (const char **msg)</td></tr>
<tr class="separator:a3c0ba8456eda05b4583103556e5ac5cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad63af795b321a3d8cb7bd53d2690a16a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#ad63af795b321a3d8cb7bd53d2690a16a">reset</a> ()</td></tr>
<tr class="separator:ad63af795b321a3d8cb7bd53d2690a16a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab82b85df31a60003b11e33217e6c7d45"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#ab82b85df31a60003b11e33217e6c7d45">ElfFile</a> (const <a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html">ElfFile</a> &amp;)=delete</td></tr>
<tr class="separator:ab82b85df31a60003b11e33217e6c7d45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af506f6d3b77bcdf2dfe1fad6cda49071"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html">ElfFile</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#af506f6d3b77bcdf2dfe1fad6cda49071">operator=</a> (const <a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html">ElfFile</a> &amp;)=delete</td></tr>
<tr class="separator:af506f6d3b77bcdf2dfe1fad6cda49071"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addeeff240e410bc18675c42c7ade7bcb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#addeeff240e410bc18675c42c7ade7bcb">validateStringTable</a> (const <a class="el" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a> &amp;stringTable) const </td></tr>
<tr class="separator:addeeff240e410bc18675c42c7ade7bcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a21e6292662b240136020625b6fd6a9"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a6a21e6292662b240136020625b6fd6a9"><td class="memTemplItemLeft" align="right" valign="top">const std::enable_if&lt; std::is_pod&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::<a class="el" href="namespacefolly.html#af765fccfa9242184196b4906286ada49">value</a>, <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::<a class="el" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">type</a> &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#a6a21e6292662b240136020625b6fd6a9">at</a> (<a class="el" href="namespacefolly_1_1symbolizer.html#ac959903da08d3b80591b034d9c2d708d">ElfOff</a> offset) const </td></tr>
<tr class="separator:a6a21e6292662b240136020625b6fd6a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a652fc715276545a74de678405d649e6f"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a652fc715276545a74de678405d649e6f"><td class="memTemplItemLeft" align="right" valign="top">const <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#a652fc715276545a74de678405d649e6f">valueAt</a> (const <a class="el" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a> &amp;section, const <a class="el" href="namespacefolly_1_1symbolizer.html#a78ce49284e764ce577c2a2a6a5161180">ElfAddr</a> <a class="el" href="GlobalThreadPoolList_8cpp.html#ab94a49ce2d97d58d5e22352a39c2345c">addr</a>) const </td></tr>
<tr class="separator:a652fc715276545a74de678405d649e6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a0ca3d49e78dc6d38d14e95f7cfbdb3d1"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#a0ca3d49e78dc6d38d14e95f7cfbdb3d1">filepath_</a> [<a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#ab37901a0e2ace5bb77086f8536fbab97">kFilepathMaxLen</a>] = {}</td></tr>
<tr class="separator:a0ca3d49e78dc6d38d14e95f7cfbdb3d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad87d5361ce9cd1dc4f4bfe1b18aec030"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#ad87d5361ce9cd1dc4f4bfe1b18aec030">fd_</a></td></tr>
<tr class="separator:ad87d5361ce9cd1dc4f4bfe1b18aec030"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8785b6c148316673a38d185a1149f6d"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#aa8785b6c148316673a38d185a1149f6d">file_</a></td></tr>
<tr class="separator:aa8785b6c148316673a38d185a1149f6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf841837e010d5786a066b3cfbd31acf"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#abf841837e010d5786a066b3cfbd31acf">length_</a></td></tr>
<tr class="separator:abf841837e010d5786a066b3cfbd31acf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a513c2dd76eb4cf901c930fe21edc6767"><td class="memItemLeft" align="right" valign="top">uintptr_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#a513c2dd76eb4cf901c930fe21edc6767">baseAddress_</a></td></tr>
<tr class="separator:a513c2dd76eb4cf901c930fe21edc6767"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:ab37901a0e2ace5bb77086f8536fbab97"><td class="memItemLeft" align="right" valign="top">static constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#ab37901a0e2ace5bb77086f8536fbab97">kFilepathMaxLen</a> = 512</td></tr>
<tr class="separator:ab37901a0e2ace5bb77086f8536fbab97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>ELF file parser.</p>
<p>We handle native files only (32-bit files on a 32-bit platform, 64-bit files on a 64-bit platform), and only executables (ET_EXEC) and shared objects (ET_DYN). </p>

<p>Definition at line <a class="el" href="Elf_8h_source.html#l00052">52</a> of file <a class="el" href="Elf_8h_source.html">Elf.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a9ea7d506a5665d9a15c674ececc5f054"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::pair&lt;const <a class="el" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a>*, const <a class="el" href="namespacefolly_1_1symbolizer.html#ad92af839b4f237e8ea101378c5e3ce81">ElfSym</a>*&gt; <a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#a9ea7d506a5665d9a15c674ececc5f054">folly::symbolizer::ElfFile::Symbol</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Find symbol definition by address. Note that this is the file virtual address, so you need to undo any relocation that might have happened.</p>
<p>Returns {nullptr, nullptr} if not found. </p>

<p>Definition at line <a class="el" href="Elf_8h_source.html#l00182">182</a> of file <a class="el" href="Elf_8h_source.html">Elf.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="ac7b09f336c4ca4f04bc58664162b5900"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="ac7b09f336c4ca4f04bc58664162b5900adc5bf3518cfa5187de613cc6dcbdebe8"></a>kSuccess&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ac7b09f336c4ca4f04bc58664162b5900a35248f817ab24feaa03c220b1b883015"></a>kSystemError&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ac7b09f336c4ca4f04bc58664162b5900ac2b1d22e37044c4199cbc85649860e2f"></a>kInvalidElfFile&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="Elf_8h_source.html#l00064">64</a> of file <a class="el" href="Elf_8h_source.html">Elf.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;       {</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ac7b09f336c4ca4f04bc58664162b5900adc5bf3518cfa5187de613cc6dcbdebe8">kSuccess</a> = 0,</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ac7b09f336c4ca4f04bc58664162b5900a35248f817ab24feaa03c220b1b883015">kSystemError</a> = -1,</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ac7b09f336c4ca4f04bc58664162b5900ac2b1d22e37044c4199cbc85649860e2f">kInvalidElfFile</a> = -2,</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  };</div><div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_ac7b09f336c4ca4f04bc58664162b5900ac2b1d22e37044c4199cbc85649860e2f"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#ac7b09f336c4ca4f04bc58664162b5900ac2b1d22e37044c4199cbc85649860e2f">folly::symbolizer::ElfFile::kInvalidElfFile</a></div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00067">Elf.h:67</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_ac7b09f336c4ca4f04bc58664162b5900adc5bf3518cfa5187de613cc6dcbdebe8"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#ac7b09f336c4ca4f04bc58664162b5900adc5bf3518cfa5187de613cc6dcbdebe8">folly::symbolizer::ElfFile::kSuccess</a></div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00065">Elf.h:65</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_ac7b09f336c4ca4f04bc58664162b5900a35248f817ab24feaa03c220b1b883015"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#ac7b09f336c4ca4f04bc58664162b5900a35248f817ab24feaa03c220b1b883015">folly::symbolizer::ElfFile::kSystemError</a></div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00066">Elf.h:66</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a15d9ef4416aed62c9f5cc441b5dde8e4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">folly::symbolizer::ElfFile::ElfFile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Elf_8cpp_source.html#l00039">39</a> of file <a class="el" href="Elf_8cpp_source.html">Elf.cpp</a>.</p>

<p>Referenced by <a class="el" href="Elf_8h_source.html#l00218">getAddressValue()</a>.</p>
<div class="fragment"><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    : <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ad87d5361ce9cd1dc4f4bfe1b18aec030">fd_</a>(-1),</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;      <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#aa8785b6c148316673a38d185a1149f6d">file_</a>(static_cast&lt;char*&gt;(MAP_FAILED)),</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;      <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#abf841837e010d5786a066b3cfbd31acf">length_</a>(0),</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;      <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#a513c2dd76eb4cf901c930fe21edc6767">baseAddress_</a>(0) {}</div><div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_a513c2dd76eb4cf901c930fe21edc6767"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#a513c2dd76eb4cf901c930fe21edc6767">folly::symbolizer::ElfFile::baseAddress_</a></div><div class="ttdeci">uintptr_t baseAddress_</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00289">Elf.h:289</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_ad87d5361ce9cd1dc4f4bfe1b18aec030"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#ad87d5361ce9cd1dc4f4bfe1b18aec030">folly::symbolizer::ElfFile::fd_</a></div><div class="ttdeci">int fd_</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00285">Elf.h:285</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_aa8785b6c148316673a38d185a1149f6d"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#aa8785b6c148316673a38d185a1149f6d">folly::symbolizer::ElfFile::file_</a></div><div class="ttdeci">char * file_</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00286">Elf.h:286</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_abf841837e010d5786a066b3cfbd31acf"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#abf841837e010d5786a066b3cfbd31acf">folly::symbolizer::ElfFile::length_</a></div><div class="ttdeci">size_t length_</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00287">Elf.h:287</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a26a720e4f6c56a30dd437347b7ddcbc3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">folly::symbolizer::ElfFile::ElfFile </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>readOnly</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Elf_8cpp_source.html#l00045">45</a> of file <a class="el" href="Elf_8cpp_source.html">Elf.cpp</a>.</p>

<p>References <a class="el" href="Elf_8cpp_source.html#l00053">open()</a>.</p>
<div class="fragment"><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    : <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ad87d5361ce9cd1dc4f4bfe1b18aec030">fd_</a>(-1),</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;      <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#aa8785b6c148316673a38d185a1149f6d">file_</a>(static_cast&lt;char*&gt;(MAP_FAILED)),</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;      <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#abf841837e010d5786a066b3cfbd31acf">length_</a>(0),</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;      <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#a513c2dd76eb4cf901c930fe21edc6767">baseAddress_</a>(0) {</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#a4fb2c375dc5c870ddfadf8c7a2e887f1">open</a>(<a class="code" href="http__parser_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, readOnly);</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;}</div><div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_a513c2dd76eb4cf901c930fe21edc6767"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#a513c2dd76eb4cf901c930fe21edc6767">folly::symbolizer::ElfFile::baseAddress_</a></div><div class="ttdeci">uintptr_t baseAddress_</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00289">Elf.h:289</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_ad87d5361ce9cd1dc4f4bfe1b18aec030"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#ad87d5361ce9cd1dc4f4bfe1b18aec030">folly::symbolizer::ElfFile::fd_</a></div><div class="ttdeci">int fd_</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00285">Elf.h:285</a></div></div>
<div class="ttc" id="http__parser_8c_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="http__parser_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="http__parser_8c_source.html#l00437">http_parser.c:437</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_a4fb2c375dc5c870ddfadf8c7a2e887f1"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#a4fb2c375dc5c870ddfadf8c7a2e887f1">folly::symbolizer::ElfFile::open</a></div><div class="ttdeci">void open(const char *name, bool readOnly=true)</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8cpp_source.html#l00053">Elf.cpp:53</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_aa8785b6c148316673a38d185a1149f6d"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#aa8785b6c148316673a38d185a1149f6d">folly::symbolizer::ElfFile::file_</a></div><div class="ttdeci">char * file_</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00286">Elf.h:286</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_abf841837e010d5786a066b3cfbd31acf"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#abf841837e010d5786a066b3cfbd31acf">folly::symbolizer::ElfFile::length_</a></div><div class="ttdeci">size_t length_</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00287">Elf.h:287</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a959099f4be311a187a2c7e271e962f74"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">folly::symbolizer::ElfFile::~ElfFile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Elf_8cpp_source.html#l00154">154</a> of file <a class="el" href="Elf_8cpp_source.html">Elf.cpp</a>.</p>

<p>References <a class="el" href="Elf_8cpp_source.html#l00192">reset()</a>.</p>
<div class="fragment"><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                  {</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ad63af795b321a3d8cb7bd53d2690a16a">reset</a>();</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;}</div><div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_ad63af795b321a3d8cb7bd53d2690a16a"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#ad63af795b321a3d8cb7bd53d2690a16a">folly::symbolizer::ElfFile::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8cpp_source.html#l00192">Elf.cpp:192</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa6f465d8fbf3671e19741be6f9331307"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">folly::symbolizer::ElfFile::ElfFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html">ElfFile</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Elf_8cpp_source.html#l00158">158</a> of file <a class="el" href="Elf_8cpp_source.html">Elf.cpp</a>.</p>

<p>References <a class="el" href="Elf_8h_source.html#l00284">filepath_</a>, and <a class="el" href="Elf_8h_source.html#l00283">kFilepathMaxLen</a>.</p>
<div class="fragment"><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    : <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ad87d5361ce9cd1dc4f4bfe1b18aec030">fd_</a>(other.fd_),</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#aa8785b6c148316673a38d185a1149f6d">file_</a>(other.file_),</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#abf841837e010d5786a066b3cfbd31acf">length_</a>(other.length_),</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#a513c2dd76eb4cf901c930fe21edc6767">baseAddress_</a>(other.baseAddress_) {</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="comment">// copy other.filepath_, leaving filepath_ zero-terminated, always.</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  strncat(<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#a0ca3d49e78dc6d38d14e95f7cfbdb3d1">filepath_</a>, other.filepath_, <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ab37901a0e2ace5bb77086f8536fbab97">kFilepathMaxLen</a> - 1);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  other.filepath_[0] = 0;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  other.fd_ = -1;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  other.file_ = <span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(MAP_FAILED);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  other.length_ = 0;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  other.baseAddress_ = 0;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;}</div><div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_a0ca3d49e78dc6d38d14e95f7cfbdb3d1"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#a0ca3d49e78dc6d38d14e95f7cfbdb3d1">folly::symbolizer::ElfFile::filepath_</a></div><div class="ttdeci">char filepath_[kFilepathMaxLen]</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00284">Elf.h:284</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_a513c2dd76eb4cf901c930fe21edc6767"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#a513c2dd76eb4cf901c930fe21edc6767">folly::symbolizer::ElfFile::baseAddress_</a></div><div class="ttdeci">uintptr_t baseAddress_</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00289">Elf.h:289</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_ad87d5361ce9cd1dc4f4bfe1b18aec030"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#ad87d5361ce9cd1dc4f4bfe1b18aec030">folly::symbolizer::ElfFile::fd_</a></div><div class="ttdeci">int fd_</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00285">Elf.h:285</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_ab37901a0e2ace5bb77086f8536fbab97"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#ab37901a0e2ace5bb77086f8536fbab97">folly::symbolizer::ElfFile::kFilepathMaxLen</a></div><div class="ttdeci">static constexpr size_t kFilepathMaxLen</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00283">Elf.h:283</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_aa8785b6c148316673a38d185a1149f6d"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#aa8785b6c148316673a38d185a1149f6d">folly::symbolizer::ElfFile::file_</a></div><div class="ttdeci">char * file_</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00286">Elf.h:286</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_abf841837e010d5786a066b3cfbd31acf"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#abf841837e010d5786a066b3cfbd31acf">folly::symbolizer::ElfFile::length_</a></div><div class="ttdeci">size_t length_</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00287">Elf.h:287</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab82b85df31a60003b11e33217e6c7d45"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">folly::symbolizer::ElfFile::ElfFile </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html">ElfFile</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a6a21e6292662b240136020625b6fd6a9"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::enable_if&lt;std::is_pod&lt;<a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>&gt;::<a class="el" href="namespacefolly.html#af765fccfa9242184196b4906286ada49">value</a>, <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>&gt;::<a class="el" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">type</a>&amp; folly::symbolizer::ElfFile::at </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacefolly_1_1symbolizer.html#ac959903da08d3b80591b034d9c2d708d">ElfOff</a>&#160;</td>
          <td class="paramname"><em>offset</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Elf_8h_source.html#l00242">242</a> of file <a class="el" href="Elf_8h_source.html">Elf.h</a>.</p>

<p>References <a class="el" href="Elf_8h_source.html#l00286">file_</a>, <a class="el" href="Elf_8h_source.html#l00284">filepath_</a>, <a class="el" href="SafeAssert_8h_source.html#l00035">FOLLY_SAFE_CHECK</a>, <a class="el" href="Elf_8h_source.html#l00283">kFilepathMaxLen</a>, <a class="el" href="Elf_8h_source.html#l00287">length_</a>, and <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">folly::T</a>.</p>
<div class="fragment"><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                           {</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordflow">if</span> (offset + <span class="keyword">sizeof</span>(<a class="code" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>) &gt; <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#abf841837e010d5786a066b3cfbd31acf">length_</a>) {</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      <span class="keywordtype">char</span> msg[<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ab37901a0e2ace5bb77086f8536fbab97">kFilepathMaxLen</a> + 128];</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      snprintf(</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;          msg,</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;          <span class="keyword">sizeof</span>(msg),</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;          <span class="stringliteral">&quot;Offset (%zu + %zu) is not contained within our mmapped&quot;</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;          <span class="stringliteral">&quot; file (%s) of length %zu&quot;</span>,</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;          offset,</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;          <span class="keyword">sizeof</span>(<a class="code" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>),</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;          <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#a0ca3d49e78dc6d38d14e95f7cfbdb3d1">filepath_</a>,</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;          <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#abf841837e010d5786a066b3cfbd31acf">length_</a>);</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      <a class="code" href="SafeAssert_8h.html#a2679122a9f10d6dc6c2bd975cbd96d50">FOLLY_SAFE_CHECK</a>(offset + <span class="keyword">sizeof</span>(<a class="code" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>) &lt;= <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#abf841837e010d5786a066b3cfbd31acf">length_</a>, msg);</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    }</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>*<span class="keyword">&gt;</span>(<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#aa8785b6c148316673a38d185a1149f6d">file_</a> + offset);</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  }</div><div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_a0ca3d49e78dc6d38d14e95f7cfbdb3d1"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#a0ca3d49e78dc6d38d14e95f7cfbdb3d1">folly::symbolizer::ElfFile::filepath_</a></div><div class="ttdeci">char filepath_[kFilepathMaxLen]</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00284">Elf.h:284</a></div></div>
<div class="ttc" id="namespacefolly_html_a0652a9c51b69e7a13d40ccbcb139bc55"><div class="ttname"><a href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">folly::T</a></div><div class="ttdeci">folly::std T</div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_ab37901a0e2ace5bb77086f8536fbab97"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#ab37901a0e2ace5bb77086f8536fbab97">folly::symbolizer::ElfFile::kFilepathMaxLen</a></div><div class="ttdeci">static constexpr size_t kFilepathMaxLen</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00283">Elf.h:283</a></div></div>
<div class="ttc" id="SafeAssert_8h_html_a2679122a9f10d6dc6c2bd975cbd96d50"><div class="ttname"><a href="SafeAssert_8h.html#a2679122a9f10d6dc6c2bd975cbd96d50">FOLLY_SAFE_CHECK</a></div><div class="ttdeci">#define FOLLY_SAFE_CHECK(expr, msg)</div><div class="ttdef"><b>Definition:</b> <a href="SafeAssert_8h_source.html#l00035">SafeAssert.h:35</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_aa8785b6c148316673a38d185a1149f6d"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#aa8785b6c148316673a38d185a1149f6d">folly::symbolizer::ElfFile::file_</a></div><div class="ttdeci">char * file_</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00286">Elf.h:286</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_abf841837e010d5786a066b3cfbd31acf"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#abf841837e010d5786a066b3cfbd31acf">folly::symbolizer::ElfFile::length_</a></div><div class="ttdeci">size_t length_</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00287">Elf.h:287</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae8acb63a0ef00b5662e3301c83f1f584"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespacefolly_1_1symbolizer.html#a74d867f16cdc9025c3a9948cd00e640a">ElfEhdr</a>&amp; folly::symbolizer::ElfFile::elfHeader </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Retrieve the ELF header </p>

<p>Definition at line <a class="el" href="Elf_8h_source.html#l00090">90</a> of file <a class="el" href="Elf_8h_source.html">Elf.h</a>.</p>

<p>Referenced by <a class="el" href="Elf_8cpp_source.html#l00313">getSectionByIndex()</a>, <a class="el" href="Elf_8cpp_source.html#l00352">getSectionByName()</a>, <a class="el" href="Elf_8cpp_source.html#l00343">getSectionName()</a>, <a class="el" href="Elf_8cpp_source.html#l00206">init()</a>, <a class="el" href="Elf-inl_8h_source.html#l00025">iterateProgramHeaders()</a>, <a class="el" href="Elf-inl_8h_source.html#l00043">iterateSections()</a>, and <a class="el" href="Elf_8h_source.html#l00262">valueAt()</a>.</p>
<div class="fragment"><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                                   {</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">return</span> at&lt;ElfEhdr&gt;(0);</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad83fa030eea52f3990876b88aac2e8e2"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>&amp; folly::symbolizer::ElfFile::getAddressValue </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacefolly_1_1symbolizer.html#a78ce49284e764ce577c2a2a6a5161180">ElfAddr</a>&#160;</td>
          <td class="paramname"><em>addr</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the value of the object stored at the given address.</p>
<p>This is the function that you want to use in conjunction with <a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#a02a51e0ffbe00e1ac9265b9fb0374b7b">getSymbolValue()</a> to follow pointers. For example, to get the value of a char* symbol, you'd do something like this:</p>
<p>auto sym = getSymbolByName("someGlobalValue"); auto addr = getSymbolValue&lt;ElfAddr&gt;(sym.second); const char* str = &amp;getSymbolValue&lt;const char&gt;(addr); </p>

<p>Definition at line <a class="el" href="Elf_8h_source.html#l00218">218</a> of file <a class="el" href="Elf_8h_source.html">Elf.h</a>.</p>

<p>References <a class="el" href="GlobalThreadPoolList_8cpp_source.html#l00061">addr</a>, <a class="el" href="Elf_8cpp_source.html#l00039">ElfFile()</a>, <a class="el" href="SafeAssert_8h_source.html#l00035">FOLLY_SAFE_CHECK</a>, <a class="el" href="Elf_8cpp_source.html#l00437">getSectionContainingAddress()</a>, <a class="el" href="Elf_8cpp_source.html#l00443">getSymbolName()</a>, <a class="el" href="Elf_8cpp_source.html#l00206">init()</a>, <a class="el" href="Elf_8cpp_source.html#l00172">operator=()</a>, <a class="el" href="Elf_8cpp_source.html#l00192">reset()</a>, and <a class="el" href="Elf_8cpp_source.html#l00322">validateStringTable()</a>.</p>

<p>Referenced by <a class="el" href="ElfTests_8cpp_source.html#l00040">TEST_F()</a>.</p>
<div class="fragment"><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                                                     {</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a>* section = <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ab95e7d160fe5b13f1e15274a5b8f4533">getSectionContainingAddress</a>(<a class="code" href="GlobalThreadPoolList_8cpp.html#ab94a49ce2d97d58d5e22352a39c2345c">addr</a>);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <a class="code" href="SafeAssert_8h.html#a2679122a9f10d6dc6c2bd975cbd96d50">FOLLY_SAFE_CHECK</a>(section, <span class="stringliteral">&quot;Address does not refer to existing section&quot;</span>);</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">return</span> valueAt&lt;T&gt;(*section, <a class="code" href="GlobalThreadPoolList_8cpp.html#ab94a49ce2d97d58d5e22352a39c2345c">addr</a>);</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  }</div><div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_ab95e7d160fe5b13f1e15274a5b8f4533"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#ab95e7d160fe5b13f1e15274a5b8f4533">folly::symbolizer::ElfFile::getSectionContainingAddress</a></div><div class="ttdeci">const ElfShdr * getSectionContainingAddress(ElfAddr addr) const </div><div class="ttdef"><b>Definition:</b> <a href="Elf_8cpp_source.html#l00437">Elf.cpp:437</a></div></div>
<div class="ttc" id="SafeAssert_8h_html_a2679122a9f10d6dc6c2bd975cbd96d50"><div class="ttname"><a href="SafeAssert_8h.html#a2679122a9f10d6dc6c2bd975cbd96d50">FOLLY_SAFE_CHECK</a></div><div class="ttdeci">#define FOLLY_SAFE_CHECK(expr, msg)</div><div class="ttdef"><b>Definition:</b> <a href="SafeAssert_8h_source.html#l00035">SafeAssert.h:35</a></div></div>
<div class="ttc" id="GlobalThreadPoolList_8cpp_html_ab94a49ce2d97d58d5e22352a39c2345c"><div class="ttname"><a href="GlobalThreadPoolList_8cpp.html#ab94a49ce2d97d58d5e22352a39c2345c">addr</a></div><div class="ttdeci">ThreadPoolListHook * addr</div><div class="ttdef"><b>Definition:</b> <a href="GlobalThreadPoolList_8cpp_source.html#l00061">GlobalThreadPoolList.cpp:61</a></div></div>
<div class="ttc" id="namespacefolly_1_1symbolizer_html_a17feda3b52d51f3b6560954f4eca2ad7"><div class="ttname"><a href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">folly::symbolizer::ElfShdr</a></div><div class="ttdeci">ElfW(Shdr) ElfShdr</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00042">Elf.h:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae24314de8313dbde74ab7243d036c667"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uintptr_t folly::symbolizer::ElfFile::getBaseAddress </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the base address, the address where the file should be loaded if no relocations happened. </p>

<p>Definition at line <a class="el" href="Elf_8h_source.html#l00098">98</a> of file <a class="el" href="Elf_8h_source.html">Elf.h</a>.</p>

<p>References <a class="el" href="Elf_8h_source.html#l00289">baseAddress_</a>, <a class="el" href="Elf_8cpp_source.html#l00318">getSectionBody()</a>, <a class="el" href="Elf_8cpp_source.html#l00313">getSectionByIndex()</a>, <a class="el" href="Elf_8cpp_source.html#l00352">getSectionByName()</a>, <a class="el" href="Elf_8cpp_source.html#l00343">getSectionName()</a>, <a class="el" href="Elf_8cpp_source.html#l00334">getString()</a>, <a class="el" href="Elf-inl_8h_source.html#l00025">iterateProgramHeaders()</a>, <a class="el" href="Elf-inl_8h_source.html#l00043">iterateSections()</a>, <a class="el" href="Elf-inl_8h_source.html#l00061">iterateSectionsWithType()</a>, <a class="el" href="Elf-inl_8h_source.html#l00067">iterateSectionsWithTypes()</a>, <a class="el" href="Elf-inl_8h_source.html#l00077">iterateStrings()</a>, <a class="el" href="Elf-inl_8h_source.html#l00092">iterateSymbols()</a>, <a class="el" href="Elf-inl_8h_source.html#l00112">iterateSymbolsWithType()</a>, <a class="el" href="Elf-inl_8h_source.html#l00123">iterateSymbolsWithTypes()</a>, <a class="el" href="ClientProtocol_8cpp_source.html#l00777">type</a>, and <a class="el" href="ConstexprMathBenchmark_8cpp_source.html#l00186">uint32_t</a>.</p>
<div class="fragment"><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                                   {</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#a513c2dd76eb4cf901c930fe21edc6767">baseAddress_</a>;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  }</div><div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_a513c2dd76eb4cf901c930fe21edc6767"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#a513c2dd76eb4cf901c930fe21edc6767">folly::symbolizer::ElfFile::baseAddress_</a></div><div class="ttdeci">uintptr_t baseAddress_</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00289">Elf.h:289</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aeeb417bbb92f7081ddd0cc31aa7cebd0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#a9ea7d506a5665d9a15c674ececc5f054">ElfFile::Symbol</a> folly::symbolizer::ElfFile::getDefinitionByAddress </td>
          <td>(</td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Elf_8cpp_source.html#l00370">370</a> of file <a class="el" href="Elf_8cpp_source.html">Elf.cpp</a>.</p>

<p>References <a class="el" href="Elf-inl_8h_source.html#l00061">iterateSectionsWithType()</a>, <a class="el" href="Elf-inl_8h_source.html#l00123">iterateSymbolsWithTypes()</a>, and <a class="el" href="Elf_8cpp_source.html#l00033">STT_GNU_IFUNC</a>.</p>
<div class="fragment"><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                                                                     {</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#a9ea7d506a5665d9a15c674ececc5f054">Symbol</a> foundSymbol{<span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>};</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <span class="keyword">auto</span> findSection = [&amp;](<span class="keyword">const</span> <a class="code" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a>&amp; section) {</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keyword">auto</span> findSymbols = [&amp;](<span class="keyword">const</span> <a class="code" href="namespacefolly_1_1symbolizer.html#ad92af839b4f237e8ea101378c5e3ce81">ElfSym</a>&amp; sym) {</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      <span class="keywordflow">if</span> (sym.st_shndx == SHN_UNDEF) {</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// not a definition</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      }</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      <span class="keywordflow">if</span> (address &gt;= sym.st_value &amp;&amp; address &lt; sym.st_value + sym.st_size) {</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        foundSymbol.first = &amp;section;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        foundSymbol.second = &amp;sym;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      }</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    };</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ab4b0c57e976be6c8149f99bf0753b5bd">iterateSymbolsWithTypes</a>(</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        section, {STT_OBJECT, STT_FUNC, <a class="code" href="Elf_8cpp.html#a5fc0a79a2c08a0860bdf4fa00ad706d6">STT_GNU_IFUNC</a>}, findSymbols);</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  };</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  <span class="comment">// Try the .dynsym section first if it exists, it&#39;s smaller.</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  (<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ab5a16b529029e432827d532085076838">iterateSectionsWithType</a>(SHT_DYNSYM, findSection) ||</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;   <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ab5a16b529029e432827d532085076838">iterateSectionsWithType</a>(SHT_SYMTAB, findSection));</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <span class="keywordflow">return</span> foundSymbol;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;}</div><div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_ab5a16b529029e432827d532085076838"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#ab5a16b529029e432827d532085076838">folly::symbolizer::ElfFile::iterateSectionsWithType</a></div><div class="ttdeci">const ElfShdr * iterateSectionsWithType(uint32_t type, Fn fn) const </div><div class="ttdef"><b>Definition:</b> <a href="Elf-inl_8h_source.html#l00061">Elf-inl.h:61</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_ab4b0c57e976be6c8149f99bf0753b5bd"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#ab4b0c57e976be6c8149f99bf0753b5bd">folly::symbolizer::ElfFile::iterateSymbolsWithTypes</a></div><div class="ttdeci">const ElfSym * iterateSymbolsWithTypes(const ElfShdr &amp;section, std::initializer_list&lt; uint32_t &gt; types, Fn fn) const </div><div class="ttdef"><b>Definition:</b> <a href="Elf-inl_8h_source.html#l00123">Elf-inl.h:123</a></div></div>
<div class="ttc" id="Elf_8cpp_html_a5fc0a79a2c08a0860bdf4fa00ad706d6"><div class="ttname"><a href="Elf_8cpp.html#a5fc0a79a2c08a0860bdf4fa00ad706d6">STT_GNU_IFUNC</a></div><div class="ttdeci">#define STT_GNU_IFUNC</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8cpp_source.html#l00033">Elf.cpp:33</a></div></div>
<div class="ttc" id="namespacefolly_1_1symbolizer_html_ad92af839b4f237e8ea101378c5e3ce81"><div class="ttname"><a href="namespacefolly_1_1symbolizer.html#ad92af839b4f237e8ea101378c5e3ce81">folly::symbolizer::ElfSym</a></div><div class="ttdeci">ElfW(Sym) ElfSym</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00043">Elf.h:43</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_a9ea7d506a5665d9a15c674ececc5f054"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#a9ea7d506a5665d9a15c674ececc5f054">folly::symbolizer::ElfFile::Symbol</a></div><div class="ttdeci">std::pair&lt; const ElfShdr *, const ElfSym * &gt; Symbol</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00182">Elf.h:182</a></div></div>
<div class="ttc" id="namespacefolly_1_1symbolizer_html_a17feda3b52d51f3b6560954f4eca2ad7"><div class="ttname"><a href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">folly::symbolizer::ElfShdr</a></div><div class="ttdeci">ElfW(Shdr) ElfShdr</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00042">Elf.h:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a29f3afaaa29c6782117715f6c11e0040"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacefolly.html#af8d3e3eb9accef5470823e6353f60140">folly::StringPiece</a> folly::symbolizer::ElfFile::getSectionBody </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a> &amp;&#160;</td>
          <td class="paramname"><em>section</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the actual section body </p>

<p>Definition at line <a class="el" href="Elf_8cpp_source.html#l00318">318</a> of file <a class="el" href="Elf_8cpp_source.html">Elf.cpp</a>.</p>

<p>References <a class="el" href="Elf_8h_source.html#l00286">file_</a>.</p>

<p>Referenced by <a class="el" href="Elf_8h_source.html#l00098">getBaseAddress()</a>, <a class="el" href="Dwarf_8cpp_source.html#l00302">folly::symbolizer::Dwarf::getSection()</a>, and <a class="el" href="Elf_8cpp_source.html#l00110">openAndFollow()</a>.</p>
<div class="fragment"><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                                                                     {</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacefolly.html#af8d3e3eb9accef5470823e6353f60140">folly::StringPiece</a>(<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#aa8785b6c148316673a38d185a1149f6d">file_</a> + section.sh_offset, section.sh_size);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;}</div><div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_aa8785b6c148316673a38d185a1149f6d"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#aa8785b6c148316673a38d185a1149f6d">folly::symbolizer::ElfFile::file_</a></div><div class="ttdeci">char * file_</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00286">Elf.h:286</a></div></div>
<div class="ttc" id="namespacefolly_html_af8d3e3eb9accef5470823e6353f60140"><div class="ttname"><a href="namespacefolly.html#af8d3e3eb9accef5470823e6353f60140">folly::StringPiece</a></div><div class="ttdeci">Range&lt; const char * &gt; StringPiece</div><div class="ttdef"><b>Definition:</b> <a href="ScopedEventBaseThread_8h_source.html#l00029">ScopedEventBaseThread.h:29</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7fe9fb5936477fedf4fae25cc4cc42df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a> * folly::symbolizer::ElfFile::getSectionByIndex </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>idx</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Find a section given its index in the section header table </p>

<p>Definition at line <a class="el" href="Elf_8cpp_source.html#l00313">313</a> of file <a class="el" href="Elf_8cpp_source.html">Elf.cpp</a>.</p>

<p>References <a class="el" href="Elf_8h_source.html#l00090">elfHeader()</a>, and <a class="el" href="SafeAssert_8h_source.html#l00035">FOLLY_SAFE_CHECK</a>.</p>

<p>Referenced by <a class="el" href="Elf_8h_source.html#l00098">getBaseAddress()</a>, <a class="el" href="Elf_8cpp_source.html#l00352">getSectionByName()</a>, <a class="el" href="Elf_8cpp_source.html#l00343">getSectionName()</a>, <a class="el" href="Elf_8cpp_source.html#l00398">getSymbolByName()</a>, <a class="el" href="Elf_8cpp_source.html#l00443">getSymbolName()</a>, and <a class="el" href="Elf_8h_source.html#l00199">getSymbolValue()</a>.</p>
<div class="fragment"><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                                                          {</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <a class="code" href="SafeAssert_8h.html#a2679122a9f10d6dc6c2bd975cbd96d50">FOLLY_SAFE_CHECK</a>(idx &lt; <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ae8acb63a0ef00b5662e3301c83f1f584">elfHeader</a>().e_shnum, <span class="stringliteral">&quot;invalid section index&quot;</span>);</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <span class="keywordflow">return</span> &amp;at&lt;ElfShdr&gt;(<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ae8acb63a0ef00b5662e3301c83f1f584">elfHeader</a>().e_shoff + idx * <span class="keyword">sizeof</span>(<a class="code" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a>));</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;}</div><div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_ae8acb63a0ef00b5662e3301c83f1f584"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#ae8acb63a0ef00b5662e3301c83f1f584">folly::symbolizer::ElfFile::elfHeader</a></div><div class="ttdeci">const ElfEhdr &amp; elfHeader() const </div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00090">Elf.h:90</a></div></div>
<div class="ttc" id="SafeAssert_8h_html_a2679122a9f10d6dc6c2bd975cbd96d50"><div class="ttname"><a href="SafeAssert_8h.html#a2679122a9f10d6dc6c2bd975cbd96d50">FOLLY_SAFE_CHECK</a></div><div class="ttdeci">#define FOLLY_SAFE_CHECK(expr, msg)</div><div class="ttdef"><b>Definition:</b> <a href="SafeAssert_8h_source.html#l00035">SafeAssert.h:35</a></div></div>
<div class="ttc" id="namespacefolly_1_1symbolizer_html_a17feda3b52d51f3b6560954f4eca2ad7"><div class="ttname"><a href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">folly::symbolizer::ElfShdr</a></div><div class="ttdeci">ElfW(Shdr) ElfShdr</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00042">Elf.h:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9b7305c26f41ae6b1d8f90b5a3477f00"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a> * folly::symbolizer::ElfFile::getSectionByName </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Find a section given its name </p>

<p>Definition at line <a class="el" href="Elf_8cpp_source.html#l00352">352</a> of file <a class="el" href="Elf_8cpp_source.html">Elf.cpp</a>.</p>

<p>References <a class="el" href="Elf_8h_source.html#l00090">elfHeader()</a>, <a class="el" href="Elf_8h_source.html#l00286">file_</a>, <a class="el" href="Elf_8cpp_source.html#l00313">getSectionByIndex()</a>, <a class="el" href="Elf-inl_8h_source.html#l00043">iterateSections()</a>, and <a class="el" href="ParallelBenchmark_8cpp_source.html#l00083">start</a>.</p>

<p>Referenced by <a class="el" href="Elf_8h_source.html#l00098">getBaseAddress()</a>, <a class="el" href="Dwarf_8cpp_source.html#l00302">folly::symbolizer::Dwarf::getSection()</a>, and <a class="el" href="Elf_8cpp_source.html#l00110">openAndFollow()</a>.</p>
<div class="fragment"><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                                                               {</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ae8acb63a0ef00b5662e3301c83f1f584">elfHeader</a>().e_shstrndx == SHN_UNDEF) {</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; <span class="comment">// no section name string table</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  }</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a>&amp; sectionNames = *<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#a7fe9fb5936477fedf4fae25cc4cc42df">getSectionByIndex</a>(<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ae8acb63a0ef00b5662e3301c83f1f584">elfHeader</a>().e_shstrndx);</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="ParallelBenchmark_8cpp.html#a7f02a749754f40365411f74cf75d08fa">start</a> = <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#aa8785b6c148316673a38d185a1149f6d">file_</a> + sectionNames.sh_offset;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="comment">// Find section with the appropriate sh_name offset</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a>* foundSection = <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#a96f106b98752b58b0e97288996d0b30d">iterateSections</a>([&amp;](<span class="keyword">const</span> <a class="code" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a>&amp; sh) {</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keywordflow">if</span> (sh.sh_name &gt;= sectionNames.sh_size) {</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      return false;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    }</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="keywordflow">return</span> !strcmp(start + sh.sh_name, <a class="code" href="http__parser_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  });</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <span class="keywordflow">return</span> foundSection;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;}</div><div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_a7fe9fb5936477fedf4fae25cc4cc42df"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#a7fe9fb5936477fedf4fae25cc4cc42df">folly::symbolizer::ElfFile::getSectionByIndex</a></div><div class="ttdeci">const ElfShdr * getSectionByIndex(size_t idx) const </div><div class="ttdef"><b>Definition:</b> <a href="Elf_8cpp_source.html#l00313">Elf.cpp:313</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_a96f106b98752b58b0e97288996d0b30d"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#a96f106b98752b58b0e97288996d0b30d">folly::symbolizer::ElfFile::iterateSections</a></div><div class="ttdeci">const ElfShdr * iterateSections(Fn fn) const </div><div class="ttdef"><b>Definition:</b> <a href="Elf-inl_8h_source.html#l00043">Elf-inl.h:43</a></div></div>
<div class="ttc" id="http__parser_8c_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="http__parser_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="http__parser_8c_source.html#l00437">http_parser.c:437</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_ae8acb63a0ef00b5662e3301c83f1f584"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#ae8acb63a0ef00b5662e3301c83f1f584">folly::symbolizer::ElfFile::elfHeader</a></div><div class="ttdeci">const ElfEhdr &amp; elfHeader() const </div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00090">Elf.h:90</a></div></div>
<div class="ttc" id="ParallelBenchmark_8cpp_html_a7f02a749754f40365411f74cf75d08fa"><div class="ttname"><a href="ParallelBenchmark_8cpp.html#a7f02a749754f40365411f74cf75d08fa">start</a></div><div class="ttdeci">auto start</div><div class="ttdef"><b>Definition:</b> <a href="ParallelBenchmark_8cpp_source.html#l00083">ParallelBenchmark.cpp:83</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_aa8785b6c148316673a38d185a1149f6d"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#aa8785b6c148316673a38d185a1149f6d">folly::symbolizer::ElfFile::file_</a></div><div class="ttdeci">char * file_</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00286">Elf.h:286</a></div></div>
<div class="ttc" id="namespacefolly_1_1symbolizer_html_a17feda3b52d51f3b6560954f4eca2ad7"><div class="ttname"><a href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">folly::symbolizer::ElfShdr</a></div><div class="ttdeci">ElfW(Shdr) ElfShdr</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00042">Elf.h:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab95e7d160fe5b13f1e15274a5b8f4533"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a> * folly::symbolizer::ElfFile::getSectionContainingAddress </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacefolly_1_1symbolizer.html#a78ce49284e764ce577c2a2a6a5161180">ElfAddr</a>&#160;</td>
          <td class="paramname"><em>addr</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Find the section containing the given address </p>

<p>Definition at line <a class="el" href="Elf_8cpp_source.html#l00437">437</a> of file <a class="el" href="Elf_8cpp_source.html">Elf.cpp</a>.</p>

<p>References <a class="el" href="Elf-inl_8h_source.html#l00043">iterateSections()</a>.</p>

<p>Referenced by <a class="el" href="Elf_8h_source.html#l00218">getAddressValue()</a>.</p>
<div class="fragment"><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                                                                      {</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#a96f106b98752b58b0e97288996d0b30d">iterateSections</a>([&amp;](<span class="keyword">const</span> <a class="code" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a>&amp; sh) -&gt; <span class="keywordtype">bool</span> {</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="GlobalThreadPoolList_8cpp.html#ab94a49ce2d97d58d5e22352a39c2345c">addr</a> &gt;= sh.sh_addr) &amp;&amp; (<a class="code" href="GlobalThreadPoolList_8cpp.html#ab94a49ce2d97d58d5e22352a39c2345c">addr</a> &lt; (sh.sh_addr + sh.sh_size));</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  });</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;}</div><div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_a96f106b98752b58b0e97288996d0b30d"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#a96f106b98752b58b0e97288996d0b30d">folly::symbolizer::ElfFile::iterateSections</a></div><div class="ttdeci">const ElfShdr * iterateSections(Fn fn) const </div><div class="ttdef"><b>Definition:</b> <a href="Elf-inl_8h_source.html#l00043">Elf-inl.h:43</a></div></div>
<div class="ttc" id="GlobalThreadPoolList_8cpp_html_ab94a49ce2d97d58d5e22352a39c2345c"><div class="ttname"><a href="GlobalThreadPoolList_8cpp.html#ab94a49ce2d97d58d5e22352a39c2345c">addr</a></div><div class="ttdeci">ThreadPoolListHook * addr</div><div class="ttdef"><b>Definition:</b> <a href="GlobalThreadPoolList_8cpp_source.html#l00061">GlobalThreadPoolList.cpp:61</a></div></div>
<div class="ttc" id="namespacefolly_1_1symbolizer_html_a17feda3b52d51f3b6560954f4eca2ad7"><div class="ttname"><a href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">folly::symbolizer::ElfShdr</a></div><div class="ttdeci">ElfW(Shdr) ElfShdr</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00042">Elf.h:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abe840feba17edfef1160b494d0fe4233"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * folly::symbolizer::ElfFile::getSectionName </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a> &amp;&#160;</td>
          <td class="paramname"><em>section</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve the name of a section </p>

<p>Definition at line <a class="el" href="Elf_8cpp_source.html#l00343">343</a> of file <a class="el" href="Elf_8cpp_source.html">Elf.cpp</a>.</p>

<p>References <a class="el" href="Elf_8h_source.html#l00090">elfHeader()</a>, <a class="el" href="Elf_8cpp_source.html#l00313">getSectionByIndex()</a>, and <a class="el" href="Elf_8cpp_source.html#l00334">getString()</a>.</p>

<p>Referenced by <a class="el" href="Elf_8h_source.html#l00098">getBaseAddress()</a>.</p>
<div class="fragment"><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                                                                {</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ae8acb63a0ef00b5662e3301c83f1f584">elfHeader</a>().e_shstrndx == SHN_UNDEF) {</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; <span class="comment">// no section name string table</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  }</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a>&amp; sectionNames = *<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#a7fe9fb5936477fedf4fae25cc4cc42df">getSectionByIndex</a>(<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ae8acb63a0ef00b5662e3301c83f1f584">elfHeader</a>().e_shstrndx);</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#a02e885cce822ba251922d15dd1e71d42">getString</a>(sectionNames, section.sh_name);</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;}</div><div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_a7fe9fb5936477fedf4fae25cc4cc42df"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#a7fe9fb5936477fedf4fae25cc4cc42df">folly::symbolizer::ElfFile::getSectionByIndex</a></div><div class="ttdeci">const ElfShdr * getSectionByIndex(size_t idx) const </div><div class="ttdef"><b>Definition:</b> <a href="Elf_8cpp_source.html#l00313">Elf.cpp:313</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_a02e885cce822ba251922d15dd1e71d42"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#a02e885cce822ba251922d15dd1e71d42">folly::symbolizer::ElfFile::getString</a></div><div class="ttdeci">const char * getString(const ElfShdr &amp;stringTable, size_t offset) const </div><div class="ttdef"><b>Definition:</b> <a href="Elf_8cpp_source.html#l00334">Elf.cpp:334</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_ae8acb63a0ef00b5662e3301c83f1f584"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#ae8acb63a0ef00b5662e3301c83f1f584">folly::symbolizer::ElfFile::elfHeader</a></div><div class="ttdeci">const ElfEhdr &amp; elfHeader() const </div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00090">Elf.h:90</a></div></div>
<div class="ttc" id="namespacefolly_1_1symbolizer_html_a17feda3b52d51f3b6560954f4eca2ad7"><div class="ttname"><a href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">folly::symbolizer::ElfShdr</a></div><div class="ttdeci">ElfW(Shdr) ElfShdr</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00042">Elf.h:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a02e885cce822ba251922d15dd1e71d42"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * folly::symbolizer::ElfFile::getString </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a> &amp;&#160;</td>
          <td class="paramname"><em>stringTable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve a string from a string table section </p>

<p>Definition at line <a class="el" href="Elf_8cpp_source.html#l00334">334</a> of file <a class="el" href="Elf_8cpp_source.html">Elf.cpp</a>.</p>

<p>References <a class="el" href="Elf_8h_source.html#l00286">file_</a>, <a class="el" href="SafeAssert_8h_source.html#l00035">FOLLY_SAFE_CHECK</a>, and <a class="el" href="Elf_8cpp_source.html#l00322">validateStringTable()</a>.</p>

<p>Referenced by <a class="el" href="Elf_8h_source.html#l00098">getBaseAddress()</a>, <a class="el" href="Elf_8cpp_source.html#l00343">getSectionName()</a>, <a class="el" href="Elf_8cpp_source.html#l00398">getSymbolByName()</a>, and <a class="el" href="Elf_8cpp_source.html#l00443">getSymbolName()</a>.</p>
<div class="fragment"><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;          {</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#addeeff240e410bc18675c42c7ade7bcb">validateStringTable</a>(stringTable);</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <a class="code" href="SafeAssert_8h.html#a2679122a9f10d6dc6c2bd975cbd96d50">FOLLY_SAFE_CHECK</a>(</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      offset &lt; stringTable.sh_size, <span class="stringliteral">&quot;invalid offset in string table&quot;</span>);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#aa8785b6c148316673a38d185a1149f6d">file_</a> + stringTable.sh_offset + offset;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;}</div><div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_addeeff240e410bc18675c42c7ade7bcb"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#addeeff240e410bc18675c42c7ade7bcb">folly::symbolizer::ElfFile::validateStringTable</a></div><div class="ttdeci">void validateStringTable(const ElfShdr &amp;stringTable) const </div><div class="ttdef"><b>Definition:</b> <a href="Elf_8cpp_source.html#l00322">Elf.cpp:322</a></div></div>
<div class="ttc" id="SafeAssert_8h_html_a2679122a9f10d6dc6c2bd975cbd96d50"><div class="ttname"><a href="SafeAssert_8h.html#a2679122a9f10d6dc6c2bd975cbd96d50">FOLLY_SAFE_CHECK</a></div><div class="ttdeci">#define FOLLY_SAFE_CHECK(expr, msg)</div><div class="ttdef"><b>Definition:</b> <a href="SafeAssert_8h_source.html#l00035">SafeAssert.h:35</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_aa8785b6c148316673a38d185a1149f6d"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#aa8785b6c148316673a38d185a1149f6d">folly::symbolizer::ElfFile::file_</a></div><div class="ttdeci">char * file_</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00286">Elf.h:286</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a947b80421377d3cafa28299d1f7274a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#a9ea7d506a5665d9a15c674ececc5f054">ElfFile::Symbol</a> folly::symbolizer::ElfFile::getSymbolByName </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Find symbol definition by name.</p>
<p>If a symbol with this name cannot be found, a &lt;nullptr, nullptr&gt; Symbol will be returned. This is O(N) in the number of symbols in the file.</p>
<p>Returns {nullptr, nullptr} if not found. </p>

<p>Definition at line <a class="el" href="Elf_8cpp_source.html#l00398">398</a> of file <a class="el" href="Elf_8cpp_source.html">Elf.cpp</a>.</p>

<p>References <a class="el" href="Elf_8cpp_source.html#l00313">getSectionByIndex()</a>, <a class="el" href="Elf_8cpp_source.html#l00334">getString()</a>, <a class="el" href="Elf-inl_8h_source.html#l00061">iterateSectionsWithType()</a>, <a class="el" href="Elf-inl_8h_source.html#l00123">iterateSymbolsWithTypes()</a>, and <a class="el" href="Elf_8cpp_source.html#l00033">STT_GNU_IFUNC</a>.</p>

<p>Referenced by <a class="el" href="ElfTests_8cpp_source.html#l00034">TEST_F()</a>.</p>
<div class="fragment"><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                                                             {</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#a9ea7d506a5665d9a15c674ececc5f054">Symbol</a> foundSymbol{<span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>};</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <span class="keyword">auto</span> findSection = [&amp;](<span class="keyword">const</span> <a class="code" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a>&amp; section) -&gt; <span class="keywordtype">bool</span> {</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="comment">// This section has no string table associated w/ its symbols; hence we</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="comment">// can&#39;t get names for them</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">if</span> (section.sh_link == SHN_UNDEF) {</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    }</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keyword">auto</span> findSymbols = [&amp;](<span class="keyword">const</span> <a class="code" href="namespacefolly_1_1symbolizer.html#ad92af839b4f237e8ea101378c5e3ce81">ElfSym</a>&amp; sym) -&gt; <span class="keywordtype">bool</span> {</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      <span class="keywordflow">if</span> (sym.st_shndx == SHN_UNDEF) {</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// not a definition</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      }</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      <span class="keywordflow">if</span> (sym.st_name == 0) {</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// no name for this symbol</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      }</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span>* sym_name =</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;          <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#a02e885cce822ba251922d15dd1e71d42">getString</a>(*<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#a7fe9fb5936477fedf4fae25cc4cc42df">getSectionByIndex</a>(section.sh_link), sym.st_name);</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      <span class="keywordflow">if</span> (strcmp(sym_name, <a class="code" href="http__parser_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>) == 0) {</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        foundSymbol.first = &amp;section;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        foundSymbol.second = &amp;sym;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;      }</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    };</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ab4b0c57e976be6c8149f99bf0753b5bd">iterateSymbolsWithTypes</a>(</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        section, {STT_OBJECT, STT_FUNC, <a class="code" href="Elf_8cpp.html#a5fc0a79a2c08a0860bdf4fa00ad706d6">STT_GNU_IFUNC</a>}, findSymbols);</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  };</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <span class="comment">// Try the .dynsym section first if it exists, it&#39;s smaller.</span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ab5a16b529029e432827d532085076838">iterateSectionsWithType</a>(SHT_DYNSYM, findSection) ||</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ab5a16b529029e432827d532085076838">iterateSectionsWithType</a>(SHT_SYMTAB, findSection);</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <span class="keywordflow">return</span> foundSymbol;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;}</div><div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_ab5a16b529029e432827d532085076838"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#ab5a16b529029e432827d532085076838">folly::symbolizer::ElfFile::iterateSectionsWithType</a></div><div class="ttdeci">const ElfShdr * iterateSectionsWithType(uint32_t type, Fn fn) const </div><div class="ttdef"><b>Definition:</b> <a href="Elf-inl_8h_source.html#l00061">Elf-inl.h:61</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_a7fe9fb5936477fedf4fae25cc4cc42df"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#a7fe9fb5936477fedf4fae25cc4cc42df">folly::symbolizer::ElfFile::getSectionByIndex</a></div><div class="ttdeci">const ElfShdr * getSectionByIndex(size_t idx) const </div><div class="ttdef"><b>Definition:</b> <a href="Elf_8cpp_source.html#l00313">Elf.cpp:313</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_a02e885cce822ba251922d15dd1e71d42"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#a02e885cce822ba251922d15dd1e71d42">folly::symbolizer::ElfFile::getString</a></div><div class="ttdeci">const char * getString(const ElfShdr &amp;stringTable, size_t offset) const </div><div class="ttdef"><b>Definition:</b> <a href="Elf_8cpp_source.html#l00334">Elf.cpp:334</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_ab4b0c57e976be6c8149f99bf0753b5bd"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#ab4b0c57e976be6c8149f99bf0753b5bd">folly::symbolizer::ElfFile::iterateSymbolsWithTypes</a></div><div class="ttdeci">const ElfSym * iterateSymbolsWithTypes(const ElfShdr &amp;section, std::initializer_list&lt; uint32_t &gt; types, Fn fn) const </div><div class="ttdef"><b>Definition:</b> <a href="Elf-inl_8h_source.html#l00123">Elf-inl.h:123</a></div></div>
<div class="ttc" id="http__parser_8c_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="http__parser_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="http__parser_8c_source.html#l00437">http_parser.c:437</a></div></div>
<div class="ttc" id="Elf_8cpp_html_a5fc0a79a2c08a0860bdf4fa00ad706d6"><div class="ttname"><a href="Elf_8cpp.html#a5fc0a79a2c08a0860bdf4fa00ad706d6">STT_GNU_IFUNC</a></div><div class="ttdeci">#define STT_GNU_IFUNC</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8cpp_source.html#l00033">Elf.cpp:33</a></div></div>
<div class="ttc" id="namespacefolly_1_1symbolizer_html_ad92af839b4f237e8ea101378c5e3ce81"><div class="ttname"><a href="namespacefolly_1_1symbolizer.html#ad92af839b4f237e8ea101378c5e3ce81">folly::symbolizer::ElfSym</a></div><div class="ttdeci">ElfW(Sym) ElfSym</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00043">Elf.h:43</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_a9ea7d506a5665d9a15c674ececc5f054"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#a9ea7d506a5665d9a15c674ececc5f054">folly::symbolizer::ElfFile::Symbol</a></div><div class="ttdeci">std::pair&lt; const ElfShdr *, const ElfSym * &gt; Symbol</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00182">Elf.h:182</a></div></div>
<div class="ttc" id="namespacefolly_1_1symbolizer_html_a17feda3b52d51f3b6560954f4eca2ad7"><div class="ttname"><a href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">folly::symbolizer::ElfShdr</a></div><div class="ttdeci">ElfW(Shdr) ElfShdr</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00042">Elf.h:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5d260f670e6a4f1042620db348b4f7e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * folly::symbolizer::ElfFile::getSymbolName </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#a9ea7d506a5665d9a15c674ececc5f054">Symbol</a>&#160;</td>
          <td class="paramname"><em>symbol</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve symbol name. </p>

<p>Definition at line <a class="el" href="Elf_8cpp_source.html#l00443">443</a> of file <a class="el" href="Elf_8cpp_source.html">Elf.cpp</a>.</p>

<p>References <a class="el" href="Elf_8cpp_source.html#l00313">getSectionByIndex()</a>, and <a class="el" href="Elf_8cpp_source.html#l00334">getString()</a>.</p>

<p>Referenced by <a class="el" href="Elf_8h_source.html#l00218">getAddressValue()</a>.</p>
<div class="fragment"><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                                                      {</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <span class="keywordflow">if</span> (!symbol.first || !symbol.second) {</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  }</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <span class="keywordflow">if</span> (symbol.second-&gt;st_name == 0) {</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; <span class="comment">// symbol has no name</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  }</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <span class="keywordflow">if</span> (symbol.first-&gt;sh_link == SHN_UNDEF) {</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; <span class="comment">// symbol table has no strings</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  }</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#a02e885cce822ba251922d15dd1e71d42">getString</a>(</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      *<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#a7fe9fb5936477fedf4fae25cc4cc42df">getSectionByIndex</a>(symbol.first-&gt;sh_link), symbol.second-&gt;st_name);</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;}</div><div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_a7fe9fb5936477fedf4fae25cc4cc42df"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#a7fe9fb5936477fedf4fae25cc4cc42df">folly::symbolizer::ElfFile::getSectionByIndex</a></div><div class="ttdeci">const ElfShdr * getSectionByIndex(size_t idx) const </div><div class="ttdef"><b>Definition:</b> <a href="Elf_8cpp_source.html#l00313">Elf.cpp:313</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_a02e885cce822ba251922d15dd1e71d42"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#a02e885cce822ba251922d15dd1e71d42">folly::symbolizer::ElfFile::getString</a></div><div class="ttdeci">const char * getString(const ElfShdr &amp;stringTable, size_t offset) const </div><div class="ttdef"><b>Definition:</b> <a href="Elf_8cpp_source.html#l00334">Elf.cpp:334</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a02a51e0ffbe00e1ac9265b9fb0374b7b"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>&amp; folly::symbolizer::ElfFile::getSymbolValue </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacefolly_1_1symbolizer.html#ad92af839b4f237e8ea101378c5e3ce81">ElfSym</a> *&#160;</td>
          <td class="paramname"><em>symbol</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the value of a symbol. </p>

<p>Definition at line <a class="el" href="Elf_8h_source.html#l00199">199</a> of file <a class="el" href="Elf_8h_source.html">Elf.h</a>.</p>

<p>References <a class="el" href="SafeAssert_8h_source.html#l00035">FOLLY_SAFE_CHECK</a>, and <a class="el" href="Elf_8cpp_source.html#l00313">getSectionByIndex()</a>.</p>

<p>Referenced by <a class="el" href="ElfTests_8cpp_source.html#l00034">TEST_F()</a>.</p>
<div class="fragment"><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                                                      {</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a>* section = <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#a7fe9fb5936477fedf4fae25cc4cc42df">getSectionByIndex</a>(symbol-&gt;st_shndx);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="code" href="SafeAssert_8h.html#a2679122a9f10d6dc6c2bd975cbd96d50">FOLLY_SAFE_CHECK</a>(section, <span class="stringliteral">&quot;Symbol&#39;s section index is invalid&quot;</span>);</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">return</span> valueAt&lt;T&gt;(*section, symbol-&gt;st_value);</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  }</div><div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_a7fe9fb5936477fedf4fae25cc4cc42df"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#a7fe9fb5936477fedf4fae25cc4cc42df">folly::symbolizer::ElfFile::getSectionByIndex</a></div><div class="ttdeci">const ElfShdr * getSectionByIndex(size_t idx) const </div><div class="ttdef"><b>Definition:</b> <a href="Elf_8cpp_source.html#l00313">Elf.cpp:313</a></div></div>
<div class="ttc" id="SafeAssert_8h_html_a2679122a9f10d6dc6c2bd975cbd96d50"><div class="ttname"><a href="SafeAssert_8h.html#a2679122a9f10d6dc6c2bd975cbd96d50">FOLLY_SAFE_CHECK</a></div><div class="ttdeci">#define FOLLY_SAFE_CHECK(expr, msg)</div><div class="ttdef"><b>Definition:</b> <a href="SafeAssert_8h_source.html#l00035">SafeAssert.h:35</a></div></div>
<div class="ttc" id="namespacefolly_1_1symbolizer_html_a17feda3b52d51f3b6560954f4eca2ad7"><div class="ttname"><a href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">folly::symbolizer::ElfShdr</a></div><div class="ttdeci">ElfW(Shdr) ElfShdr</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00042">Elf.h:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3c0ba8456eda05b4583103556e5ac5cc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::symbolizer::ElfFile::init </td>
          <td>(</td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Elf_8cpp_source.html#l00206">206</a> of file <a class="el" href="Elf_8cpp_source.html">Elf.cpp</a>.</p>

<p>References <a class="el" href="Elf_8h_source.html#l00289">baseAddress_</a>, <a class="el" href="Elf_8h_source.html#l00090">elfHeader()</a>, <a class="el" href="Elf_8cpp.html#abb70dbd12cba4e778456009385c524aa">EXPECTED_CLASS</a>, <a class="el" href="Elf_8h_source.html#l00285">fd_</a>, <a class="el" href="Hazptr_8h_source.html#l00116">h</a>, <a class="el" href="Elf-inl_8h_source.html#l00025">iterateProgramHeaders()</a>, <a class="el" href="Portability_8h_source.html#l00278">folly::kIsLittleEndian</a>, <a class="el" href="Elf_8h_source.html#l00287">length_</a>, and <a class="el" href="Types-inl_8h_source.html#l00258">fizz::detail::read()</a>.</p>

<p>Referenced by <a class="el" href="Elf_8h_source.html#l00218">getAddressValue()</a>, and <a class="el" href="Elf_8cpp_source.html#l00063">openNoThrow()</a>.</p>
<div class="fragment"><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                                   {</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#abf841837e010d5786a066b3cfbd31acf">length_</a> &lt; 4) {</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordflow">if</span> (msg) {</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;      *msg = <span class="stringliteral">&quot;not an ELF file (too short)&quot;</span>;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    }</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  }</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  std::array&lt;char, 5&gt; elfMagBuf = {{0, 0, 0, 0, 0}};</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="keywordflow">if</span> (::lseek(<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ad87d5361ce9cd1dc4f4bfe1b18aec030">fd_</a>, 0, SEEK_SET) != 0 || ::<a class="code" href="namespacefizz_1_1detail.html#a36dc6280bf4d04bce115a7055a78abac">read</a>(<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ad87d5361ce9cd1dc4f4bfe1b18aec030">fd_</a>, elfMagBuf.data(), 4) != 4) {</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">if</span> (msg) {</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      *msg = <span class="stringliteral">&quot;unable to read ELF file for magic number&quot;</span>;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    }</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  }</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="keywordflow">if</span> (std::strncmp(elfMagBuf.data(), ELFMAG, <span class="keyword">sizeof</span>(ELFMAG)) != 0) {</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">if</span> (msg) {</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      *msg = <span class="stringliteral">&quot;invalid ELF magic&quot;</span>;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    }</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  }</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="keywordflow">if</span> (::lseek(<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ad87d5361ce9cd1dc4f4bfe1b18aec030">fd_</a>, 0, SEEK_SET) != 0) {</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">if</span> (msg) {</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;      *msg = <span class="stringliteral">&quot;unable to reset file descriptor after reading ELF magic number&quot;</span>;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    }</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  }</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="keyword">auto</span>&amp; <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ae8acb63a0ef00b5662e3301c83f1f584">elfHeader</a> = this-&gt;<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ae8acb63a0ef00b5662e3301c83f1f584">elfHeader</a>();</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="preprocessor">#define EXPECTED_CLASS P1(ELFCLASS, __ELF_NATIVE_CLASS)</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="preprocessor">#define P1(a, b) P2(a, b)</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="preprocessor">#define P2(a, b) a##b</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <span class="comment">// Validate ELF class (32/64 bits)</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ae8acb63a0ef00b5662e3301c83f1f584">elfHeader</a>.e_ident[EI_CLASS] != <a class="code" href="Elf_8cpp.html#abb70dbd12cba4e778456009385c524aa">EXPECTED_CLASS</a>) {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keywordflow">if</span> (msg) {</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      *msg = <span class="stringliteral">&quot;invalid ELF class&quot;</span>;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    }</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  }</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="preprocessor">#undef P1</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="preprocessor">#undef P2</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="preprocessor">#undef EXPECTED_CLASS</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="comment">// Validate ELF data encoding (LSB/MSB)</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="keyword">static</span> constexpr <span class="keyword">auto</span> kExpectedEncoding =</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      <a class="code" href="namespacefolly.html#a030c360b36c7ab96953178a977dce9f2">kIsLittleEndian</a> ? ELFDATA2LSB : ELFDATA2MSB;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ae8acb63a0ef00b5662e3301c83f1f584">elfHeader</a>.e_ident[EI_DATA] != kExpectedEncoding) {</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">if</span> (msg) {</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      *msg = <span class="stringliteral">&quot;invalid ELF encoding&quot;</span>;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    }</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  }</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="comment">// Validate ELF version (1)</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ae8acb63a0ef00b5662e3301c83f1f584">elfHeader</a>.e_ident[EI_VERSION] != EV_CURRENT ||</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ae8acb63a0ef00b5662e3301c83f1f584">elfHeader</a>.e_version != EV_CURRENT) {</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">if</span> (msg) {</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      *msg = <span class="stringliteral">&quot;invalid ELF version&quot;</span>;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    }</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  }</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="comment">// We only support executable and shared object files</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ae8acb63a0ef00b5662e3301c83f1f584">elfHeader</a>.e_type != ET_EXEC &amp;&amp; <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ae8acb63a0ef00b5662e3301c83f1f584">elfHeader</a>.e_type != ET_DYN) {</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">if</span> (msg) {</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      *msg = <span class="stringliteral">&quot;invalid ELF file type&quot;</span>;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    }</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  }</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ae8acb63a0ef00b5662e3301c83f1f584">elfHeader</a>.e_phnum == 0) {</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">if</span> (msg) {</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      *msg = <span class="stringliteral">&quot;no program header!&quot;</span>;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    }</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  }</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ae8acb63a0ef00b5662e3301c83f1f584">elfHeader</a>.e_phentsize != <span class="keyword">sizeof</span>(<a class="code" href="namespacefolly_1_1symbolizer.html#a626ca00e06ff80b9506f6512b10229c9">ElfPhdr</a>)) {</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="keywordflow">if</span> (msg) {</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      *msg = <span class="stringliteral">&quot;invalid program header entry size&quot;</span>;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    }</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  }</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ae8acb63a0ef00b5662e3301c83f1f584">elfHeader</a>.e_shentsize != <span class="keyword">sizeof</span>(<a class="code" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a>)) {</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordflow">if</span> (msg) {</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      *msg = <span class="stringliteral">&quot;invalid section header entry size&quot;</span>;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    }</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  }</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="comment">// Program headers are sorted by load address, so the first PT_LOAD</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="comment">// header gives us the base address.</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacefolly_1_1symbolizer.html#a626ca00e06ff80b9506f6512b10229c9">ElfPhdr</a>* programHeader =</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#aaa0ca07cc0d1735602c71701b56bee51">iterateProgramHeaders</a>([](<span class="keyword">auto</span>&amp; <a class="code" href="Hazptr_8h.html#ab25155a2370ac096e61dc7e39e2816df">h</a>) { <span class="keywordflow">return</span> <a class="code" href="Hazptr_8h.html#ab25155a2370ac096e61dc7e39e2816df">h</a>.p_type == PT_LOAD; });</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <span class="keywordflow">if</span> (!programHeader) {</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordflow">if</span> (msg) {</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      *msg = <span class="stringliteral">&quot;could not find base address&quot;</span>;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    }</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  }</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#a513c2dd76eb4cf901c930fe21edc6767">baseAddress_</a> = programHeader-&gt;p_vaddr;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;}</div><div class="ttc" id="Hazptr_8h_html_ab25155a2370ac096e61dc7e39e2816df"><div class="ttname"><a href="Hazptr_8h.html#ab25155a2370ac096e61dc7e39e2816df">h</a></div><div class="ttdeci">*than *hazptr_holder h</div><div class="ttdef"><b>Definition:</b> <a href="Hazptr_8h_source.html#l00116">Hazptr.h:116</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_a513c2dd76eb4cf901c930fe21edc6767"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#a513c2dd76eb4cf901c930fe21edc6767">folly::symbolizer::ElfFile::baseAddress_</a></div><div class="ttdeci">uintptr_t baseAddress_</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00289">Elf.h:289</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_aaa0ca07cc0d1735602c71701b56bee51"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#aaa0ca07cc0d1735602c71701b56bee51">folly::symbolizer::ElfFile::iterateProgramHeaders</a></div><div class="ttdeci">const ElfPhdr * iterateProgramHeaders(Fn fn) const </div><div class="ttdef"><b>Definition:</b> <a href="Elf-inl_8h_source.html#l00025">Elf-inl.h:25</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_ad87d5361ce9cd1dc4f4bfe1b18aec030"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#ad87d5361ce9cd1dc4f4bfe1b18aec030">folly::symbolizer::ElfFile::fd_</a></div><div class="ttdeci">int fd_</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00285">Elf.h:285</a></div></div>
<div class="ttc" id="namespacefolly_1_1symbolizer_html_a626ca00e06ff80b9506f6512b10229c9"><div class="ttname"><a href="namespacefolly_1_1symbolizer.html#a626ca00e06ff80b9506f6512b10229c9">folly::symbolizer::ElfPhdr</a></div><div class="ttdeci">ElfW(Phdr) ElfPhdr</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00041">Elf.h:41</a></div></div>
<div class="ttc" id="namespacefolly_html_a030c360b36c7ab96953178a977dce9f2"><div class="ttname"><a href="namespacefolly.html#a030c360b36c7ab96953178a977dce9f2">folly::kIsLittleEndian</a></div><div class="ttdeci">constexpr auto kIsLittleEndian</div><div class="ttdef"><b>Definition:</b> <a href="Portability_8h_source.html#l00278">Portability.h:278</a></div></div>
<div class="ttc" id="Elf_8cpp_html_abb70dbd12cba4e778456009385c524aa"><div class="ttname"><a href="Elf_8cpp.html#abb70dbd12cba4e778456009385c524aa">EXPECTED_CLASS</a></div><div class="ttdeci">#define EXPECTED_CLASS</div></div>
<div class="ttc" id="namespacefizz_1_1detail_html_a36dc6280bf4d04bce115a7055a78abac"><div class="ttname"><a href="namespacefizz_1_1detail.html#a36dc6280bf4d04bce115a7055a78abac">fizz::detail::read</a></div><div class="ttdeci">size_t read(T &amp;out, folly::io::Cursor &amp;cursor)</div><div class="ttdef"><b>Definition:</b> <a href="Types-inl_8h_source.html#l00258">Types-inl.h:258</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_ae8acb63a0ef00b5662e3301c83f1f584"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#ae8acb63a0ef00b5662e3301c83f1f584">folly::symbolizer::ElfFile::elfHeader</a></div><div class="ttdeci">const ElfEhdr &amp; elfHeader() const </div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00090">Elf.h:90</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_abf841837e010d5786a066b3cfbd31acf"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#abf841837e010d5786a066b3cfbd31acf">folly::symbolizer::ElfFile::length_</a></div><div class="ttdeci">size_t length_</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00287">Elf.h:287</a></div></div>
<div class="ttc" id="namespacefolly_1_1symbolizer_html_a17feda3b52d51f3b6560954f4eca2ad7"><div class="ttname"><a href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">folly::symbolizer::ElfShdr</a></div><div class="ttdeci">ElfW(Shdr) ElfShdr</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00042">Elf.h:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aaa0ca07cc0d1735602c71701b56bee51"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Fn &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespacefolly_1_1symbolizer.html#a626ca00e06ff80b9506f6512b10229c9">ElfPhdr</a> * folly::symbolizer::ElfFile::iterateProgramHeaders </td>
          <td>(</td>
          <td class="paramtype">Fn&#160;</td>
          <td class="paramname"><em>fn</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Iterate over program headers as long as fn(section) returns false. Returns a pointer to the current ("found") section when fn returned true, or nullptr if fn returned false for all sections. </p>

<p>Definition at line <a class="el" href="Elf-inl_8h_source.html#l00025">25</a> of file <a class="el" href="Elf-inl_8h_source.html">Elf-inl.h</a>.</p>

<p>References <a class="el" href="Elf_8h_source.html#l00090">elfHeader()</a>, <a class="el" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt_source.html#l00083">i</a>, <a class="el" href="Elf_8h_source.html#l00287">length_</a>, and <a class="el" href="StaticSingletonManager_8cpp_source.html#l00038">ptr</a>.</p>

<p>Referenced by <a class="el" href="Elf_8h_source.html#l00098">getBaseAddress()</a>, <a class="el" href="Elf_8cpp_source.html#l00206">init()</a>, and <a class="el" href="ElfTests_8cpp_source.html#l00048">TEST_F()</a>.</p>
<div class="fragment"><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;                                                         {</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;  <span class="comment">// there exist ELF binaries which execute correctly, but have invalid internal</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;  <span class="comment">// offset(s) to program/section headers; most probably due to invalid</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;  <span class="comment">// stripping of symbols</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ae8acb63a0ef00b5662e3301c83f1f584">elfHeader</a>().e_phoff + <span class="keyword">sizeof</span>(<a class="code" href="namespacefolly_1_1symbolizer.html#a626ca00e06ff80b9506f6512b10229c9">ElfPhdr</a>) &gt;= <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#abf841837e010d5786a066b3cfbd31acf">length_</a>) {</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  }</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacefolly_1_1symbolizer.html#a626ca00e06ff80b9506f6512b10229c9">ElfPhdr</a>* <a class="code" href="StaticSingletonManager_8cpp.html#a53a30bc00154d79fa155f60e2dfabf5f">ptr</a> = &amp;at&lt;ElfPhdr&gt;(<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ae8acb63a0ef00b5662e3301c83f1f584">elfHeader</a>().e_phoff);</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> = 0; <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> &lt; <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ae8acb63a0ef00b5662e3301c83f1f584">elfHeader</a>().e_phnum; <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>++, ptr++) {</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="keywordflow">if</span> (fn(*ptr)) {</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="StaticSingletonManager_8cpp.html#a53a30bc00154d79fa155f60e2dfabf5f">ptr</a>;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    }</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  }</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;}</div><div class="ttc" id="StaticSingletonManager_8cpp_html_a53a30bc00154d79fa155f60e2dfabf5f"><div class="ttname"><a href="StaticSingletonManager_8cpp.html#a53a30bc00154d79fa155f60e2dfabf5f">ptr</a></div><div class="ttdeci">void * ptr</div><div class="ttdef"><b>Definition:</b> <a href="StaticSingletonManager_8cpp_source.html#l00038">StaticSingletonManager.cpp:38</a></div></div>
<div class="ttc" id="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt_html_a7e98b8a17c0aad30ba64d47b74e2a6c1"><div class="ttname"><a href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt_source.html#l00083">gtest_output_test_golden_lin.txt:83</a></div></div>
<div class="ttc" id="namespacefolly_1_1symbolizer_html_a626ca00e06ff80b9506f6512b10229c9"><div class="ttname"><a href="namespacefolly_1_1symbolizer.html#a626ca00e06ff80b9506f6512b10229c9">folly::symbolizer::ElfPhdr</a></div><div class="ttdeci">ElfW(Phdr) ElfPhdr</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00041">Elf.h:41</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_ae8acb63a0ef00b5662e3301c83f1f584"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#ae8acb63a0ef00b5662e3301c83f1f584">folly::symbolizer::ElfFile::elfHeader</a></div><div class="ttdeci">const ElfEhdr &amp; elfHeader() const </div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00090">Elf.h:90</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_abf841837e010d5786a066b3cfbd31acf"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#abf841837e010d5786a066b3cfbd31acf">folly::symbolizer::ElfFile::length_</a></div><div class="ttdeci">size_t length_</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00287">Elf.h:287</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a96f106b98752b58b0e97288996d0b30d"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Fn &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a> * folly::symbolizer::ElfFile::iterateSections </td>
          <td>(</td>
          <td class="paramtype">Fn&#160;</td>
          <td class="paramname"><em>fn</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Iterate over all sections for as long as fn(section) returns false. Returns a pointer to the current ("found") section when fn returned true, or nullptr if fn returned false for all sections. </p>

<p>Definition at line <a class="el" href="Elf-inl_8h_source.html#l00043">43</a> of file <a class="el" href="Elf-inl_8h_source.html">Elf-inl.h</a>.</p>

<p>References <a class="el" href="Elf_8h_source.html#l00090">elfHeader()</a>, <a class="el" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt_source.html#l00083">i</a>, <a class="el" href="Elf_8h_source.html#l00287">length_</a>, and <a class="el" href="StaticSingletonManager_8cpp_source.html#l00038">ptr</a>.</p>

<p>Referenced by <a class="el" href="Elf_8h_source.html#l00098">getBaseAddress()</a>, <a class="el" href="Elf_8cpp_source.html#l00352">getSectionByName()</a>, <a class="el" href="Elf_8cpp_source.html#l00437">getSectionContainingAddress()</a>, <a class="el" href="Elf-inl_8h_source.html#l00061">iterateSectionsWithType()</a>, and <a class="el" href="Elf-inl_8h_source.html#l00067">iterateSectionsWithTypes()</a>.</p>
<div class="fragment"><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                                                   {</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <span class="comment">// there exist ELF binaries which execute correctly, but have invalid internal</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <span class="comment">// offset(s) to program/section headers; most probably due to invalid</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <span class="comment">// stripping of symbols</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ae8acb63a0ef00b5662e3301c83f1f584">elfHeader</a>().e_shoff + <span class="keyword">sizeof</span>(<a class="code" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a>) &gt;= <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#abf841837e010d5786a066b3cfbd31acf">length_</a>) {</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  }</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a>* <a class="code" href="StaticSingletonManager_8cpp.html#a53a30bc00154d79fa155f60e2dfabf5f">ptr</a> = &amp;at&lt;ElfShdr&gt;(<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ae8acb63a0ef00b5662e3301c83f1f584">elfHeader</a>().e_shoff);</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> = 0; <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> &lt; <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ae8acb63a0ef00b5662e3301c83f1f584">elfHeader</a>().e_shnum; <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>++, ptr++) {</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordflow">if</span> (fn(*ptr)) {</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="StaticSingletonManager_8cpp.html#a53a30bc00154d79fa155f60e2dfabf5f">ptr</a>;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    }</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  }</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;}</div><div class="ttc" id="StaticSingletonManager_8cpp_html_a53a30bc00154d79fa155f60e2dfabf5f"><div class="ttname"><a href="StaticSingletonManager_8cpp.html#a53a30bc00154d79fa155f60e2dfabf5f">ptr</a></div><div class="ttdeci">void * ptr</div><div class="ttdef"><b>Definition:</b> <a href="StaticSingletonManager_8cpp_source.html#l00038">StaticSingletonManager.cpp:38</a></div></div>
<div class="ttc" id="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt_html_a7e98b8a17c0aad30ba64d47b74e2a6c1"><div class="ttname"><a href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt_source.html#l00083">gtest_output_test_golden_lin.txt:83</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_ae8acb63a0ef00b5662e3301c83f1f584"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#ae8acb63a0ef00b5662e3301c83f1f584">folly::symbolizer::ElfFile::elfHeader</a></div><div class="ttdeci">const ElfEhdr &amp; elfHeader() const </div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00090">Elf.h:90</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_abf841837e010d5786a066b3cfbd31acf"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#abf841837e010d5786a066b3cfbd31acf">folly::symbolizer::ElfFile::length_</a></div><div class="ttdeci">size_t length_</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00287">Elf.h:287</a></div></div>
<div class="ttc" id="namespacefolly_1_1symbolizer_html_a17feda3b52d51f3b6560954f4eca2ad7"><div class="ttname"><a href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">folly::symbolizer::ElfShdr</a></div><div class="ttdeci">ElfW(Shdr) ElfShdr</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00042">Elf.h:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab5a16b529029e432827d532085076838"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Fn &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a> * folly::symbolizer::ElfFile::iterateSectionsWithType </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Fn&#160;</td>
          <td class="paramname"><em>fn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Iterate over all sections with a given type. Similar to <a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#a96f106b98752b58b0e97288996d0b30d">iterateSections()</a>, but filtered only for sections with the given type. </p>

<p>Definition at line <a class="el" href="Elf-inl_8h_source.html#l00061">61</a> of file <a class="el" href="Elf-inl_8h_source.html">Elf-inl.h</a>.</p>

<p>References <a class="el" href="Elf-inl_8h_source.html#l00043">iterateSections()</a>.</p>

<p>Referenced by <a class="el" href="Elf_8h_source.html#l00098">getBaseAddress()</a>, <a class="el" href="Elf_8cpp_source.html#l00370">getDefinitionByAddress()</a>, and <a class="el" href="Elf_8cpp_source.html#l00398">getSymbolByName()</a>.</p>
<div class="fragment"><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                                                                          {</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#a96f106b98752b58b0e97288996d0b30d">iterateSections</a>(</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;      [&amp;](<span class="keyword">const</span> <a class="code" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a>&amp; sh) { <span class="keywordflow">return</span> sh.sh_type == <a class="code" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">type</a> &amp;&amp; fn(sh); });</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;}</div><div class="ttc" id="ClientProtocol_8cpp_html_afb6f25e8ca4d7adb175ad413430bbb90"><div class="ttname"><a href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">type</a></div><div class="ttdeci">PskType type</div><div class="ttdef"><b>Definition:</b> <a href="ClientProtocol_8cpp_source.html#l00777">ClientProtocol.cpp:777</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_a96f106b98752b58b0e97288996d0b30d"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#a96f106b98752b58b0e97288996d0b30d">folly::symbolizer::ElfFile::iterateSections</a></div><div class="ttdeci">const ElfShdr * iterateSections(Fn fn) const </div><div class="ttdef"><b>Definition:</b> <a href="Elf-inl_8h_source.html#l00043">Elf-inl.h:43</a></div></div>
<div class="ttc" id="namespacefolly_1_1symbolizer_html_a17feda3b52d51f3b6560954f4eca2ad7"><div class="ttname"><a href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">folly::symbolizer::ElfShdr</a></div><div class="ttdeci">ElfW(Shdr) ElfShdr</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00042">Elf.h:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2d247c858aa816853c7f8429583b758f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Fn &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a> * folly::symbolizer::ElfFile::iterateSectionsWithTypes </td>
          <td>(</td>
          <td class="paramtype">std::initializer_list&lt; <a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> &gt;&#160;</td>
          <td class="paramname"><em>types</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Fn&#160;</td>
          <td class="paramname"><em>fn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Iterate over all sections with a given types. Similar to iterateSectionWithTypes(), but filtered on multiple types. </p>

<p>Definition at line <a class="el" href="Elf-inl_8h_source.html#l00067">67</a> of file <a class="el" href="Elf-inl_8h_source.html">Elf-inl.h</a>.</p>

<p>References <a class="el" href="Elf-inl_8h_source.html#l00043">iterateSections()</a>.</p>

<p>Referenced by <a class="el" href="Elf_8h_source.html#l00098">getBaseAddress()</a>.</p>
<div class="fragment"><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                 {</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#a96f106b98752b58b0e97288996d0b30d">iterateSections</a>([&amp;](<span class="keyword">const</span> <a class="code" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a>&amp; sh) {</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> it = std::find(types.begin(), types.end(), sh.sh_type);</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordflow">return</span> it != types.end() &amp;&amp; fn(sh);</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  });</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;}</div><div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_a96f106b98752b58b0e97288996d0b30d"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#a96f106b98752b58b0e97288996d0b30d">folly::symbolizer::ElfFile::iterateSections</a></div><div class="ttdeci">const ElfShdr * iterateSections(Fn fn) const </div><div class="ttdef"><b>Definition:</b> <a href="Elf-inl_8h_source.html#l00043">Elf-inl.h:43</a></div></div>
<div class="ttc" id="namespacefolly_1_1symbolizer_html_a17feda3b52d51f3b6560954f4eca2ad7"><div class="ttname"><a href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">folly::symbolizer::ElfShdr</a></div><div class="ttdeci">ElfW(Shdr) ElfShdr</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00042">Elf.h:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2a83c195e128d24c30cbffb50e9fbe6d"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Fn &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const char * folly::symbolizer::ElfFile::iterateStrings </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a> &amp;&#160;</td>
          <td class="paramname"><em>stringTable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Fn&#160;</td>
          <td class="paramname"><em>fn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Iterate over all strings in a string table section for as long as fn(str) returns false. Returns the current ("found") string when fn returned true, or nullptr if fn returned false for all strings in the table. </p>

<p>Definition at line <a class="el" href="Elf-inl_8h_source.html#l00077">77</a> of file <a class="el" href="Elf-inl_8h_source.html">Elf-inl.h</a>.</p>

<p>References <a class="el" href="ForeachTest_8cpp_source.html#l00062">folly::test::end()</a>, <a class="el" href="Elf_8h_source.html#l00286">file_</a>, <a class="el" href="StaticSingletonManager_8cpp_source.html#l00038">ptr</a>, <a class="el" href="ParallelBenchmark_8cpp_source.html#l00083">start</a>, and <a class="el" href="Elf_8cpp_source.html#l00322">validateStringTable()</a>.</p>

<p>Referenced by <a class="el" href="Elf_8h_source.html#l00098">getBaseAddress()</a>.</p>
<div class="fragment"><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                                                                           {</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#addeeff240e410bc18675c42c7ade7bcb">validateStringTable</a>(stringTable);</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="ParallelBenchmark_8cpp.html#a7f02a749754f40365411f74cf75d08fa">start</a> = <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#aa8785b6c148316673a38d185a1149f6d">file_</a> + stringTable.sh_offset;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespacefolly_1_1test.html#a0917528775d48fd53a51907e08c14adf">end</a> = start + stringTable.sh_size;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="StaticSingletonManager_8cpp.html#a53a30bc00154d79fa155f60e2dfabf5f">ptr</a> = <a class="code" href="ParallelBenchmark_8cpp.html#a7f02a749754f40365411f74cf75d08fa">start</a>;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="keywordflow">while</span> (ptr != end &amp;&amp; !fn(ptr)) {</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    ptr += strlen(ptr) + 1;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  }</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="keywordflow">return</span> ptr != end ? ptr : <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;}</div><div class="ttc" id="StaticSingletonManager_8cpp_html_a53a30bc00154d79fa155f60e2dfabf5f"><div class="ttname"><a href="StaticSingletonManager_8cpp.html#a53a30bc00154d79fa155f60e2dfabf5f">ptr</a></div><div class="ttdeci">void * ptr</div><div class="ttdef"><b>Definition:</b> <a href="StaticSingletonManager_8cpp_source.html#l00038">StaticSingletonManager.cpp:38</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_addeeff240e410bc18675c42c7ade7bcb"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#addeeff240e410bc18675c42c7ade7bcb">folly::symbolizer::ElfFile::validateStringTable</a></div><div class="ttdeci">void validateStringTable(const ElfShdr &amp;stringTable) const </div><div class="ttdef"><b>Definition:</b> <a href="Elf_8cpp_source.html#l00322">Elf.cpp:322</a></div></div>
<div class="ttc" id="namespacefolly_1_1test_html_a0917528775d48fd53a51907e08c14adf"><div class="ttname"><a href="namespacefolly_1_1test.html#a0917528775d48fd53a51907e08c14adf">folly::test::end</a></div><div class="ttdeci">auto end(TestAdlIterable &amp;instance)</div><div class="ttdef"><b>Definition:</b> <a href="ForeachTest_8cpp_source.html#l00062">ForeachTest.cpp:62</a></div></div>
<div class="ttc" id="ParallelBenchmark_8cpp_html_a7f02a749754f40365411f74cf75d08fa"><div class="ttname"><a href="ParallelBenchmark_8cpp.html#a7f02a749754f40365411f74cf75d08fa">start</a></div><div class="ttdeci">auto start</div><div class="ttdef"><b>Definition:</b> <a href="ParallelBenchmark_8cpp_source.html#l00083">ParallelBenchmark.cpp:83</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_aa8785b6c148316673a38d185a1149f6d"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#aa8785b6c148316673a38d185a1149f6d">folly::symbolizer::ElfFile::file_</a></div><div class="ttdeci">char * file_</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00286">Elf.h:286</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a302bbed44afacfc2e59edb77636d10a3"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Fn &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespacefolly_1_1symbolizer.html#ad92af839b4f237e8ea101378c5e3ce81">ElfSym</a> * folly::symbolizer::ElfFile::iterateSymbols </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a> &amp;&#160;</td>
          <td class="paramname"><em>section</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Fn&#160;</td>
          <td class="paramname"><em>fn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Iterate over all symbols witin a given section.</p>
<p>Returns a pointer to the current ("found") symbol when fn returned true, or nullptr if fn returned false for all symbols. </p>

<p>Definition at line <a class="el" href="Elf-inl_8h_source.html#l00092">92</a> of file <a class="el" href="Elf-inl_8h_source.html">Elf-inl.h</a>.</p>

<p>References <a class="el" href="ForeachTest_8cpp_source.html#l00062">folly::test::end()</a>, and <a class="el" href="SafeAssert_8h_source.html#l00035">FOLLY_SAFE_CHECK</a>.</p>

<p>Referenced by <a class="el" href="Elf_8h_source.html#l00098">getBaseAddress()</a>, <a class="el" href="Elf-inl_8h_source.html#l00112">iterateSymbolsWithType()</a>, and <a class="el" href="Elf-inl_8h_source.html#l00123">iterateSymbolsWithTypes()</a>.</p>
<div class="fragment"><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                                                                         {</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <a class="code" href="SafeAssert_8h.html#a2679122a9f10d6dc6c2bd975cbd96d50">FOLLY_SAFE_CHECK</a>(</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      section.sh_entsize == <span class="keyword">sizeof</span>(<a class="code" href="namespacefolly_1_1symbolizer.html#ad92af839b4f237e8ea101378c5e3ce81">ElfSym</a>),</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      <span class="stringliteral">&quot;invalid entry size in symbol table&quot;</span>);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacefolly_1_1symbolizer.html#ad92af839b4f237e8ea101378c5e3ce81">ElfSym</a>* sym = &amp;at&lt;ElfSym&gt;(section.sh_offset);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacefolly_1_1symbolizer.html#ad92af839b4f237e8ea101378c5e3ce81">ElfSym</a>* <a class="code" href="namespacefolly_1_1test.html#a0917528775d48fd53a51907e08c14adf">end</a> = sym + (section.sh_size / section.sh_entsize);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="keywordflow">while</span> (sym &lt; end) {</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordflow">if</span> (fn(*sym)) {</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      <span class="keywordflow">return</span> sym;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    }</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    ++sym;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  }</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;}</div><div class="ttc" id="namespacefolly_1_1test_html_a0917528775d48fd53a51907e08c14adf"><div class="ttname"><a href="namespacefolly_1_1test.html#a0917528775d48fd53a51907e08c14adf">folly::test::end</a></div><div class="ttdeci">auto end(TestAdlIterable &amp;instance)</div><div class="ttdef"><b>Definition:</b> <a href="ForeachTest_8cpp_source.html#l00062">ForeachTest.cpp:62</a></div></div>
<div class="ttc" id="SafeAssert_8h_html_a2679122a9f10d6dc6c2bd975cbd96d50"><div class="ttname"><a href="SafeAssert_8h.html#a2679122a9f10d6dc6c2bd975cbd96d50">FOLLY_SAFE_CHECK</a></div><div class="ttdeci">#define FOLLY_SAFE_CHECK(expr, msg)</div><div class="ttdef"><b>Definition:</b> <a href="SafeAssert_8h_source.html#l00035">SafeAssert.h:35</a></div></div>
<div class="ttc" id="namespacefolly_1_1symbolizer_html_ad92af839b4f237e8ea101378c5e3ce81"><div class="ttname"><a href="namespacefolly_1_1symbolizer.html#ad92af839b4f237e8ea101378c5e3ce81">folly::symbolizer::ElfSym</a></div><div class="ttdeci">ElfW(Sym) ElfSym</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00043">Elf.h:43</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afc50296f70ec6cc3fb538b30ce6850dc"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Fn &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespacefolly_1_1symbolizer.html#ad92af839b4f237e8ea101378c5e3ce81">ElfSym</a> * folly::symbolizer::ElfFile::iterateSymbolsWithType </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a> &amp;&#160;</td>
          <td class="paramname"><em>section</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Fn&#160;</td>
          <td class="paramname"><em>fn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Elf-inl_8h_source.html#l00112">112</a> of file <a class="el" href="Elf-inl_8h_source.html">Elf-inl.h</a>.</p>

<p>References <a class="el" href="Elf-inl_8h_source.html#l00092">iterateSymbols()</a>.</p>

<p>Referenced by <a class="el" href="Elf_8h_source.html#l00098">getBaseAddress()</a>.</p>
<div class="fragment"><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                 {</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="comment">// N.B. st_info has the same representation on 32- and 64-bit platforms</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#a302bbed44afacfc2e59edb77636d10a3">iterateSymbols</a>(section, [&amp;](<span class="keyword">const</span> <a class="code" href="namespacefolly_1_1symbolizer.html#ad92af839b4f237e8ea101378c5e3ce81">ElfSym</a>&amp; sym) -&gt; <span class="keywordtype">bool</span> {</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordflow">return</span> ELF32_ST_TYPE(sym.st_info) == <a class="code" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">type</a> &amp;&amp; fn(sym);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  });</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;}</div><div class="ttc" id="ClientProtocol_8cpp_html_afb6f25e8ca4d7adb175ad413430bbb90"><div class="ttname"><a href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">type</a></div><div class="ttdeci">PskType type</div><div class="ttdef"><b>Definition:</b> <a href="ClientProtocol_8cpp_source.html#l00777">ClientProtocol.cpp:777</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_a302bbed44afacfc2e59edb77636d10a3"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#a302bbed44afacfc2e59edb77636d10a3">folly::symbolizer::ElfFile::iterateSymbols</a></div><div class="ttdeci">const ElfSym * iterateSymbols(const ElfShdr &amp;section, Fn fn) const </div><div class="ttdef"><b>Definition:</b> <a href="Elf-inl_8h_source.html#l00092">Elf-inl.h:92</a></div></div>
<div class="ttc" id="namespacefolly_1_1symbolizer_html_ad92af839b4f237e8ea101378c5e3ce81"><div class="ttname"><a href="namespacefolly_1_1symbolizer.html#ad92af839b4f237e8ea101378c5e3ce81">folly::symbolizer::ElfSym</a></div><div class="ttdeci">ElfW(Sym) ElfSym</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00043">Elf.h:43</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab4b0c57e976be6c8149f99bf0753b5bd"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Fn &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespacefolly_1_1symbolizer.html#ad92af839b4f237e8ea101378c5e3ce81">ElfSym</a> * folly::symbolizer::ElfFile::iterateSymbolsWithTypes </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a> &amp;&#160;</td>
          <td class="paramname"><em>section</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::initializer_list&lt; <a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> &gt;&#160;</td>
          <td class="paramname"><em>types</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Fn&#160;</td>
          <td class="paramname"><em>fn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Elf-inl_8h_source.html#l00123">123</a> of file <a class="el" href="Elf-inl_8h_source.html">Elf-inl.h</a>.</p>

<p>References <a class="el" href="Elf-inl_8h_source.html#l00092">iterateSymbols()</a>.</p>

<p>Referenced by <a class="el" href="Elf_8h_source.html#l00098">getBaseAddress()</a>, <a class="el" href="Elf_8cpp_source.html#l00370">getDefinitionByAddress()</a>, and <a class="el" href="Elf_8cpp_source.html#l00398">getSymbolByName()</a>.</p>
<div class="fragment"><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                 {</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="comment">// N.B. st_info has the same representation on 32- and 64-bit platforms</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#a302bbed44afacfc2e59edb77636d10a3">iterateSymbols</a>(section, [&amp;](<span class="keyword">const</span> <a class="code" href="namespacefolly_1_1symbolizer.html#ad92af839b4f237e8ea101378c5e3ce81">ElfSym</a>&amp; sym) -&gt; <span class="keywordtype">bool</span> {</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> elfType = ELF32_ST_TYPE(sym.st_info);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> it = std::find(types.begin(), types.end(), elfType);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">return</span> it != types.end() &amp;&amp; fn(sym);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  });</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;}</div><div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_a302bbed44afacfc2e59edb77636d10a3"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#a302bbed44afacfc2e59edb77636d10a3">folly::symbolizer::ElfFile::iterateSymbols</a></div><div class="ttdeci">const ElfSym * iterateSymbols(const ElfShdr &amp;section, Fn fn) const </div><div class="ttdef"><b>Definition:</b> <a href="Elf-inl_8h_source.html#l00092">Elf-inl.h:92</a></div></div>
<div class="ttc" id="namespacefolly_1_1symbolizer_html_ad92af839b4f237e8ea101378c5e3ce81"><div class="ttname"><a href="namespacefolly_1_1symbolizer.html#ad92af839b4f237e8ea101378c5e3ce81">folly::symbolizer::ElfSym</a></div><div class="ttdeci">ElfW(Sym) ElfSym</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00043">Elf.h:43</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4fb2c375dc5c870ddfadf8c7a2e887f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void folly::symbolizer::ElfFile::open </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>readOnly</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Elf_8cpp_source.html#l00053">53</a> of file <a class="el" href="Elf_8cpp_source.html">Elf.cpp</a>.</p>

<p>References <a class="el" href="Elf_8h_source.html#l00065">kSuccess</a>, <a class="el" href="Elf_8h_source.html#l00066">kSystemError</a>, <a class="el" href="Elf_8cpp_source.html#l00063">openNoThrow()</a>, and <a class="el" href="folly_2folly_2Exception_8h_source.html#l00076">folly::throwSystemError()</a>.</p>

<p>Referenced by <a class="el" href="Elf_8cpp_source.html#l00045">ElfFile()</a>, and <a class="el" href="Elf_8cpp_source.html#l00063">openNoThrow()</a>.</p>
<div class="fragment"><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                                                  {</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* msg = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <span class="keywordtype">int</span> r = <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#acec3071849550057d1fa4b8507dcf7bc">openNoThrow</a>(<a class="code" href="http__parser_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, readOnly, &amp;msg);</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="keywordflow">if</span> (r == <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ac7b09f336c4ca4f04bc58664162b5900a35248f817ab24feaa03c220b1b883015">kSystemError</a>) {</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <a class="code" href="namespacefolly.html#a59da19f447b3f5da47b9e278016758c0">throwSystemError</a>(msg);</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    CHECK_EQ(r, <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ac7b09f336c4ca4f04bc58664162b5900adc5bf3518cfa5187de613cc6dcbdebe8">kSuccess</a>) &lt;&lt; msg;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  }</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;}</div><div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_ac7b09f336c4ca4f04bc58664162b5900adc5bf3518cfa5187de613cc6dcbdebe8"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#ac7b09f336c4ca4f04bc58664162b5900adc5bf3518cfa5187de613cc6dcbdebe8">folly::symbolizer::ElfFile::kSuccess</a></div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00065">Elf.h:65</a></div></div>
<div class="ttc" id="http__parser_8c_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="http__parser_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="http__parser_8c_source.html#l00437">http_parser.c:437</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_ac7b09f336c4ca4f04bc58664162b5900a35248f817ab24feaa03c220b1b883015"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#ac7b09f336c4ca4f04bc58664162b5900a35248f817ab24feaa03c220b1b883015">folly::symbolizer::ElfFile::kSystemError</a></div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00066">Elf.h:66</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_acec3071849550057d1fa4b8507dcf7bc"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#acec3071849550057d1fa4b8507dcf7bc">folly::symbolizer::ElfFile::openNoThrow</a></div><div class="ttdeci">int openNoThrow(const char *name, bool readOnly=true, const char **msg=nullptr) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8cpp_source.html#l00063">Elf.cpp:63</a></div></div>
<div class="ttc" id="namespacefolly_html_a59da19f447b3f5da47b9e278016758c0"><div class="ttname"><a href="namespacefolly.html#a59da19f447b3f5da47b9e278016758c0">folly::throwSystemError</a></div><div class="ttdeci">void throwSystemError(Args &amp;&amp;...args)</div><div class="ttdef"><b>Definition:</b> <a href="folly_2folly_2Exception_8h_source.html#l00076">Exception.h:76</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a026a610b806e5b08e826b74a46cfbb71"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int folly::symbolizer::ElfFile::openAndFollow </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>readOnly</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>msg</em> = <code><a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Elf_8cpp_source.html#l00110">110</a> of file <a class="el" href="Elf_8cpp_source.html">Elf.cpp</a>.</p>

<p>References <a class="el" href="Elf_8cpp_source.html#l00318">getSectionBody()</a>, <a class="el" href="Elf_8cpp_source.html#l00352">getSectionByName()</a>, <a class="el" href="Elf_8h_source.html#l00065">kSuccess</a>, <a class="el" href="http__parser_8c_source.html#l00437">name</a>, <a class="el" href="Elf_8cpp_source.html#l00063">openNoThrow()</a>, and <a class="el" href="Elf_8cpp_source.html#l00192">reset()</a>.</p>
<div class="fragment"><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                               {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keyword">auto</span> result = <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#acec3071849550057d1fa4b8507dcf7bc">openNoThrow</a>(<a class="code" href="http__parser_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, readOnly, msg);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="keywordflow">if</span> (!readOnly || result != <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ac7b09f336c4ca4f04bc58664162b5900adc5bf3518cfa5187de613cc6dcbdebe8">kSuccess</a>) {</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  }</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="comment">/* NOTE .gnu_debuglink specifies only the name of the debugging info file</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">   * (with no directory components). GDB checks 3 different directories, but</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">   * ElfFile only supports the first version:</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">   *     - dirname(name)</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">   *     - dirname(name) + /.debug/</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">   *     - X/dirname(name)/ - where X is set in gdb&#39;s `debug-file-directory`.</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keyword">auto</span> dirend = strrchr(<a class="code" href="http__parser_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="charliteral">&#39;/&#39;</span>);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="comment">// include ending &#39;/&#39; if any.</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="keyword">auto</span> dirlen = dirend != <span class="keyword">nullptr</span> ? dirend + 1 - <a class="code" href="http__parser_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> : 0;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="keyword">auto</span> debuginfo = <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#a9b7305c26f41ae6b1d8f90b5a3477f00">getSectionByName</a>(<span class="stringliteral">&quot;.gnu_debuglink&quot;</span>);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="keywordflow">if</span> (!debuginfo) {</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  }</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="comment">// The section starts with the filename, with any leading directory</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="comment">// components removed, followed by a zero byte.</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="keyword">auto</span> debugFileName = <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#a29f3afaaa29c6782117715f6c11e0040">getSectionBody</a>(*debuginfo);</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="keyword">auto</span> debugFileLen = strlen(debugFileName.begin());</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="keywordflow">if</span> (dirlen + debugFileLen &gt;= PATH_MAX) {</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  }</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="keywordtype">char</span> linkname[PATH_MAX];</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  memcpy(linkname, <a class="code" href="http__parser_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, dirlen);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  memcpy(linkname + dirlen, debugFileName.begin(), debugFileLen + 1);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ad63af795b321a3d8cb7bd53d2690a16a">reset</a>();</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  result = <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#acec3071849550057d1fa4b8507dcf7bc">openNoThrow</a>(linkname, readOnly, msg);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="keywordflow">if</span> (result == <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ac7b09f336c4ca4f04bc58664162b5900adc5bf3518cfa5187de613cc6dcbdebe8">kSuccess</a>) {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  }</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#acec3071849550057d1fa4b8507dcf7bc">openNoThrow</a>(<a class="code" href="http__parser_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, readOnly, msg);</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;}</div><div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_ac7b09f336c4ca4f04bc58664162b5900adc5bf3518cfa5187de613cc6dcbdebe8"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#ac7b09f336c4ca4f04bc58664162b5900adc5bf3518cfa5187de613cc6dcbdebe8">folly::symbolizer::ElfFile::kSuccess</a></div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00065">Elf.h:65</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_a29f3afaaa29c6782117715f6c11e0040"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#a29f3afaaa29c6782117715f6c11e0040">folly::symbolizer::ElfFile::getSectionBody</a></div><div class="ttdeci">folly::StringPiece getSectionBody(const ElfShdr &amp;section) const </div><div class="ttdef"><b>Definition:</b> <a href="Elf_8cpp_source.html#l00318">Elf.cpp:318</a></div></div>
<div class="ttc" id="http__parser_8c_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="http__parser_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="http__parser_8c_source.html#l00437">http_parser.c:437</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_ad63af795b321a3d8cb7bd53d2690a16a"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#ad63af795b321a3d8cb7bd53d2690a16a">folly::symbolizer::ElfFile::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8cpp_source.html#l00192">Elf.cpp:192</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_acec3071849550057d1fa4b8507dcf7bc"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#acec3071849550057d1fa4b8507dcf7bc">folly::symbolizer::ElfFile::openNoThrow</a></div><div class="ttdeci">int openNoThrow(const char *name, bool readOnly=true, const char **msg=nullptr) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8cpp_source.html#l00063">Elf.cpp:63</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_a9b7305c26f41ae6b1d8f90b5a3477f00"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#a9b7305c26f41ae6b1d8f90b5a3477f00">folly::symbolizer::ElfFile::getSectionByName</a></div><div class="ttdeci">const ElfShdr * getSectionByName(const char *name) const </div><div class="ttdef"><b>Definition:</b> <a href="Elf_8cpp_source.html#l00352">Elf.cpp:352</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acec3071849550057d1fa4b8507dcf7bc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int folly::symbolizer::ElfFile::openNoThrow </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>readOnly</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>msg</em> = <code><a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Elf_8cpp_source.html#l00063">63</a> of file <a class="el" href="Elf_8cpp_source.html">Elf.cpp</a>.</p>

<p>References <a class="el" href="Elf_8h_source.html#l00285">fd_</a>, <a class="el" href="Elf_8h_source.html#l00286">file_</a>, <a class="el" href="Elf_8h_source.html#l00284">filepath_</a>, <a class="el" href="SafeAssert_8h_source.html#l00035">FOLLY_SAFE_CHECK</a>, <a class="el" href="Base_8h_source.html#l00840">folly::gen::guard()</a>, <a class="el" href="Elf_8cpp_source.html#l00206">init()</a>, <a class="el" href="Elf_8h_source.html#l00283">kFilepathMaxLen</a>, <a class="el" href="Elf_8h_source.html#l00067">kInvalidElfFile</a>, <a class="el" href="Elf_8h_source.html#l00065">kSuccess</a>, <a class="el" href="Elf_8h_source.html#l00066">kSystemError</a>, <a class="el" href="Elf_8h_source.html#l00287">length_</a>, <a class="el" href="ScopeGuard_8h_source.html#l00184">folly::makeGuard()</a>, <a class="el" href="http__parser_8c_source.html#l00437">name</a>, <a class="el" href="Elf_8cpp_source.html#l00053">open()</a>, and <a class="el" href="Elf_8cpp_source.html#l00192">reset()</a>.</p>

<p>Referenced by <a class="el" href="Elf_8cpp_source.html#l00053">open()</a>, <a class="el" href="Elf_8cpp_source.html#l00110">openAndFollow()</a>, and <a class="el" href="ElfTests_8cpp_source.html#l00055">TEST_F()</a>.</p>
<div class="fragment"><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                               {</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <a class="code" href="SafeAssert_8h.html#a2679122a9f10d6dc6c2bd975cbd96d50">FOLLY_SAFE_CHECK</a>(<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ad87d5361ce9cd1dc4f4bfe1b18aec030">fd_</a> == -1, <span class="stringliteral">&quot;File already open&quot;</span>);</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  strncat(<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#a0ca3d49e78dc6d38d14e95f7cfbdb3d1">filepath_</a>, <a class="code" href="http__parser_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ab37901a0e2ace5bb77086f8536fbab97">kFilepathMaxLen</a> - 1);</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ad87d5361ce9cd1dc4f4bfe1b18aec030">fd_</a> = <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#a4fb2c375dc5c870ddfadf8c7a2e887f1">::open</a>(<a class="code" href="http__parser_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, readOnly ? O_RDONLY : O_RDWR);</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ad87d5361ce9cd1dc4f4bfe1b18aec030">fd_</a> == -1) {</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">if</span> (msg) {</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      *msg = <span class="stringliteral">&quot;open&quot;</span>;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    }</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ac7b09f336c4ca4f04bc58664162b5900a35248f817ab24feaa03c220b1b883015">kSystemError</a>;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  }</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="comment">// Always close fd and unmap in case of failure along the way to avoid</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="comment">// check failure above if we leave fd != -1 and the object is recycled</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="comment">// like it is inside SignalSafeElfCache</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacefolly_1_1gen.html#a4be5af98480886ba055c3d7accd62062">guard</a> = <a class="code" href="namespacefolly.html#a507704cb8cb20963bc6ef5a2f871ab2a">makeGuard</a>([&amp;] { <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ad63af795b321a3d8cb7bd53d2690a16a">reset</a>(); });</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="keyword">struct </span>stat st;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="keywordtype">int</span> r = fstat(<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ad87d5361ce9cd1dc4f4bfe1b18aec030">fd_</a>, &amp;st);</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <span class="keywordflow">if</span> (r == -1) {</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">if</span> (msg) {</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;      *msg = <span class="stringliteral">&quot;fstat&quot;</span>;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    }</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ac7b09f336c4ca4f04bc58664162b5900a35248f817ab24feaa03c220b1b883015">kSystemError</a>;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  }</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#abf841837e010d5786a066b3cfbd31acf">length_</a> = st.st_size;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="keywordtype">int</span> prot = PROT_READ;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="keywordflow">if</span> (!readOnly) {</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    prot |= PROT_WRITE;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  }</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#aa8785b6c148316673a38d185a1149f6d">file_</a> = <span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(mmap(<span class="keyword">nullptr</span>, <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#abf841837e010d5786a066b3cfbd31acf">length_</a>, prot, MAP_SHARED, <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ad87d5361ce9cd1dc4f4bfe1b18aec030">fd_</a>, 0));</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#aa8785b6c148316673a38d185a1149f6d">file_</a> == MAP_FAILED) {</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">if</span> (msg) {</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;      *msg = <span class="stringliteral">&quot;mmap&quot;</span>;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    }</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ac7b09f336c4ca4f04bc58664162b5900a35248f817ab24feaa03c220b1b883015">kSystemError</a>;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  }</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#a3c0ba8456eda05b4583103556e5ac5cc">init</a>(msg)) {</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ad63af795b321a3d8cb7bd53d2690a16a">reset</a>();</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    errno = EINVAL;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ac7b09f336c4ca4f04bc58664162b5900ac2b1d22e37044c4199cbc85649860e2f">kInvalidElfFile</a>;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  }</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <a class="code" href="namespacefolly_1_1gen.html#a4be5af98480886ba055c3d7accd62062">guard</a>.dismiss();</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ac7b09f336c4ca4f04bc58664162b5900adc5bf3518cfa5187de613cc6dcbdebe8">kSuccess</a>;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;}</div><div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_a0ca3d49e78dc6d38d14e95f7cfbdb3d1"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#a0ca3d49e78dc6d38d14e95f7cfbdb3d1">folly::symbolizer::ElfFile::filepath_</a></div><div class="ttdeci">char filepath_[kFilepathMaxLen]</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00284">Elf.h:284</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_ac7b09f336c4ca4f04bc58664162b5900ac2b1d22e37044c4199cbc85649860e2f"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#ac7b09f336c4ca4f04bc58664162b5900ac2b1d22e37044c4199cbc85649860e2f">folly::symbolizer::ElfFile::kInvalidElfFile</a></div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00067">Elf.h:67</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_ad87d5361ce9cd1dc4f4bfe1b18aec030"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#ad87d5361ce9cd1dc4f4bfe1b18aec030">folly::symbolizer::ElfFile::fd_</a></div><div class="ttdeci">int fd_</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00285">Elf.h:285</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_ac7b09f336c4ca4f04bc58664162b5900adc5bf3518cfa5187de613cc6dcbdebe8"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#ac7b09f336c4ca4f04bc58664162b5900adc5bf3518cfa5187de613cc6dcbdebe8">folly::symbolizer::ElfFile::kSuccess</a></div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00065">Elf.h:65</a></div></div>
<div class="ttc" id="http__parser_8c_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="http__parser_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="http__parser_8c_source.html#l00437">http_parser.c:437</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_ac7b09f336c4ca4f04bc58664162b5900a35248f817ab24feaa03c220b1b883015"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#ac7b09f336c4ca4f04bc58664162b5900a35248f817ab24feaa03c220b1b883015">folly::symbolizer::ElfFile::kSystemError</a></div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00066">Elf.h:66</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_ad63af795b321a3d8cb7bd53d2690a16a"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#ad63af795b321a3d8cb7bd53d2690a16a">folly::symbolizer::ElfFile::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8cpp_source.html#l00192">Elf.cpp:192</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_a4fb2c375dc5c870ddfadf8c7a2e887f1"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#a4fb2c375dc5c870ddfadf8c7a2e887f1">folly::symbolizer::ElfFile::open</a></div><div class="ttdeci">void open(const char *name, bool readOnly=true)</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8cpp_source.html#l00053">Elf.cpp:53</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_a4be5af98480886ba055c3d7accd62062"><div class="ttname"><a href="namespacefolly_1_1gen.html#a4be5af98480886ba055c3d7accd62062">folly::gen::guard</a></div><div class="ttdeci">GuardImpl guard(ErrorHandler &amp;&amp;handler)</div><div class="ttdef"><b>Definition:</b> <a href="Base_8h_source.html#l00840">Base.h:840</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_ab37901a0e2ace5bb77086f8536fbab97"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#ab37901a0e2ace5bb77086f8536fbab97">folly::symbolizer::ElfFile::kFilepathMaxLen</a></div><div class="ttdeci">static constexpr size_t kFilepathMaxLen</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00283">Elf.h:283</a></div></div>
<div class="ttc" id="SafeAssert_8h_html_a2679122a9f10d6dc6c2bd975cbd96d50"><div class="ttname"><a href="SafeAssert_8h.html#a2679122a9f10d6dc6c2bd975cbd96d50">FOLLY_SAFE_CHECK</a></div><div class="ttdeci">#define FOLLY_SAFE_CHECK(expr, msg)</div><div class="ttdef"><b>Definition:</b> <a href="SafeAssert_8h_source.html#l00035">SafeAssert.h:35</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_a3c0ba8456eda05b4583103556e5ac5cc"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#a3c0ba8456eda05b4583103556e5ac5cc">folly::symbolizer::ElfFile::init</a></div><div class="ttdeci">bool init(const char **msg)</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8cpp_source.html#l00206">Elf.cpp:206</a></div></div>
<div class="ttc" id="namespacefolly_html_a507704cb8cb20963bc6ef5a2f871ab2a"><div class="ttname"><a href="namespacefolly.html#a507704cb8cb20963bc6ef5a2f871ab2a">folly::makeGuard</a></div><div class="ttdeci">FOLLY_NODISCARD detail::ScopeGuardImplDecay&lt; F, true &gt; makeGuard(F &amp;&amp;f) noexcept(noexcept(detail::ScopeGuardImplDecay&lt; F, true &gt;(static_cast&lt; F &amp;&amp; &gt;(f))))</div><div class="ttdef"><b>Definition:</b> <a href="ScopeGuard_8h_source.html#l00184">ScopeGuard.h:184</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_aa8785b6c148316673a38d185a1149f6d"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#aa8785b6c148316673a38d185a1149f6d">folly::symbolizer::ElfFile::file_</a></div><div class="ttdeci">char * file_</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00286">Elf.h:286</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_abf841837e010d5786a066b3cfbd31acf"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#abf841837e010d5786a066b3cfbd31acf">folly::symbolizer::ElfFile::length_</a></div><div class="ttdeci">size_t length_</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00287">Elf.h:287</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a507af48f2bd1cb52db095ba8b6098a93"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html">ElfFile</a> &amp; folly::symbolizer::ElfFile::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html">ElfFile</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Elf_8cpp_source.html#l00172">172</a> of file <a class="el" href="Elf_8cpp_source.html">Elf.cpp</a>.</p>

<p>References <a class="el" href="Elf_8h_source.html#l00289">baseAddress_</a>, <a class="el" href="Elf_8h_source.html#l00285">fd_</a>, <a class="el" href="Elf_8h_source.html#l00286">file_</a>, <a class="el" href="Elf_8h_source.html#l00284">filepath_</a>, <a class="el" href="Elf_8h_source.html#l00283">kFilepathMaxLen</a>, <a class="el" href="Elf_8h_source.html#l00287">length_</a>, and <a class="el" href="Elf_8cpp_source.html#l00192">reset()</a>.</p>

<p>Referenced by <a class="el" href="Elf_8h_source.html#l00218">getAddressValue()</a>.</p>
<div class="fragment"><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                                           {</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  assert(<span class="keyword">this</span> != &amp;other);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ad63af795b321a3d8cb7bd53d2690a16a">reset</a>();</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <span class="comment">// copy other.filepath_, leaving filepath_ zero-terminated, always.</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  strncat(<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#a0ca3d49e78dc6d38d14e95f7cfbdb3d1">filepath_</a>, other.filepath_, <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ab37901a0e2ace5bb77086f8536fbab97">kFilepathMaxLen</a> - 1);</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ad87d5361ce9cd1dc4f4bfe1b18aec030">fd_</a> = other.fd_;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#aa8785b6c148316673a38d185a1149f6d">file_</a> = other.file_;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#abf841837e010d5786a066b3cfbd31acf">length_</a> = other.length_;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#a513c2dd76eb4cf901c930fe21edc6767">baseAddress_</a> = other.baseAddress_;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  other.filepath_[0] = 0;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  other.fd_ = -1;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  other.file_ = <span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(MAP_FAILED);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  other.length_ = 0;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  other.baseAddress_ = 0;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;}</div><div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_a0ca3d49e78dc6d38d14e95f7cfbdb3d1"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#a0ca3d49e78dc6d38d14e95f7cfbdb3d1">folly::symbolizer::ElfFile::filepath_</a></div><div class="ttdeci">char filepath_[kFilepathMaxLen]</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00284">Elf.h:284</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_a513c2dd76eb4cf901c930fe21edc6767"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#a513c2dd76eb4cf901c930fe21edc6767">folly::symbolizer::ElfFile::baseAddress_</a></div><div class="ttdeci">uintptr_t baseAddress_</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00289">Elf.h:289</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_ad87d5361ce9cd1dc4f4bfe1b18aec030"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#ad87d5361ce9cd1dc4f4bfe1b18aec030">folly::symbolizer::ElfFile::fd_</a></div><div class="ttdeci">int fd_</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00285">Elf.h:285</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_ad63af795b321a3d8cb7bd53d2690a16a"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#ad63af795b321a3d8cb7bd53d2690a16a">folly::symbolizer::ElfFile::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8cpp_source.html#l00192">Elf.cpp:192</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_ab37901a0e2ace5bb77086f8536fbab97"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#ab37901a0e2ace5bb77086f8536fbab97">folly::symbolizer::ElfFile::kFilepathMaxLen</a></div><div class="ttdeci">static constexpr size_t kFilepathMaxLen</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00283">Elf.h:283</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_aa8785b6c148316673a38d185a1149f6d"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#aa8785b6c148316673a38d185a1149f6d">folly::symbolizer::ElfFile::file_</a></div><div class="ttdeci">char * file_</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00286">Elf.h:286</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_abf841837e010d5786a066b3cfbd31acf"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#abf841837e010d5786a066b3cfbd31acf">folly::symbolizer::ElfFile::length_</a></div><div class="ttdeci">size_t length_</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00287">Elf.h:287</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af506f6d3b77bcdf2dfe1fad6cda49071"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html">ElfFile</a>&amp; folly::symbolizer::ElfFile::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html">ElfFile</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad63af795b321a3d8cb7bd53d2690a16a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::symbolizer::ElfFile::reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Elf_8cpp_source.html#l00192">192</a> of file <a class="el" href="Elf_8cpp_source.html">Elf.cpp</a>.</p>

<p>References <a class="el" href="NetOps_8cpp_source.html#l00090">folly::netops::close()</a>, <a class="el" href="Elf_8h_source.html#l00285">fd_</a>, <a class="el" href="Elf_8h_source.html#l00286">file_</a>, <a class="el" href="Elf_8h_source.html#l00284">filepath_</a>, and <a class="el" href="Elf_8h_source.html#l00287">length_</a>.</p>

<p>Referenced by <a class="el" href="Elf_8h_source.html#l00218">getAddressValue()</a>, <a class="el" href="Elf_8cpp_source.html#l00110">openAndFollow()</a>, <a class="el" href="Elf_8cpp_source.html#l00063">openNoThrow()</a>, <a class="el" href="Elf_8cpp_source.html#l00172">operator=()</a>, and <a class="el" href="Elf_8cpp_source.html#l00154">~ElfFile()</a>.</p>
<div class="fragment"><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                    {</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#a0ca3d49e78dc6d38d14e95f7cfbdb3d1">filepath_</a>[0] = 0;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#aa8785b6c148316673a38d185a1149f6d">file_</a> != MAP_FAILED) {</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    munmap(<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#aa8785b6c148316673a38d185a1149f6d">file_</a>, <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#abf841837e010d5786a066b3cfbd31acf">length_</a>);</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#aa8785b6c148316673a38d185a1149f6d">file_</a> = <span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(MAP_FAILED);</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  }</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ad87d5361ce9cd1dc4f4bfe1b18aec030">fd_</a> != -1) {</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="code" href="namespacefolly_1_1netops.html#a27d9201e6386937ffded3bfd86f995aa">close</a>(<a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ad87d5361ce9cd1dc4f4bfe1b18aec030">fd_</a>);</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ad87d5361ce9cd1dc4f4bfe1b18aec030">fd_</a> = -1;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  }</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;}</div><div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_a0ca3d49e78dc6d38d14e95f7cfbdb3d1"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#a0ca3d49e78dc6d38d14e95f7cfbdb3d1">folly::symbolizer::ElfFile::filepath_</a></div><div class="ttdeci">char filepath_[kFilepathMaxLen]</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00284">Elf.h:284</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_ad87d5361ce9cd1dc4f4bfe1b18aec030"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#ad87d5361ce9cd1dc4f4bfe1b18aec030">folly::symbolizer::ElfFile::fd_</a></div><div class="ttdeci">int fd_</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00285">Elf.h:285</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_aa8785b6c148316673a38d185a1149f6d"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#aa8785b6c148316673a38d185a1149f6d">folly::symbolizer::ElfFile::file_</a></div><div class="ttdeci">char * file_</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00286">Elf.h:286</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_abf841837e010d5786a066b3cfbd31acf"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#abf841837e010d5786a066b3cfbd31acf">folly::symbolizer::ElfFile::length_</a></div><div class="ttdeci">size_t length_</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00287">Elf.h:287</a></div></div>
<div class="ttc" id="namespacefolly_1_1netops_html_a27d9201e6386937ffded3bfd86f995aa"><div class="ttname"><a href="namespacefolly_1_1netops.html#a27d9201e6386937ffded3bfd86f995aa">folly::netops::close</a></div><div class="ttdeci">int close(NetworkSocket s)</div><div class="ttdef"><b>Definition:</b> <a href="NetOps_8cpp_source.html#l00090">NetOps.cpp:90</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="addeeff240e410bc18675c42c7ade7bcb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::symbolizer::ElfFile::validateStringTable </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a> &amp;&#160;</td>
          <td class="paramname"><em>stringTable</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Elf_8cpp_source.html#l00322">322</a> of file <a class="el" href="Elf_8cpp_source.html">Elf.cpp</a>.</p>

<p>References <a class="el" href="Elf_8h_source.html#l00286">file_</a>, <a class="el" href="SafeAssert_8h_source.html#l00035">FOLLY_SAFE_CHECK</a>, and <a class="el" href="ParallelBenchmark_8cpp_source.html#l00083">start</a>.</p>

<p>Referenced by <a class="el" href="Elf_8h_source.html#l00218">getAddressValue()</a>, <a class="el" href="Elf_8cpp_source.html#l00334">getString()</a>, and <a class="el" href="Elf-inl_8h_source.html#l00077">iterateStrings()</a>.</p>
<div class="fragment"><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                                                                  {</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <a class="code" href="SafeAssert_8h.html#a2679122a9f10d6dc6c2bd975cbd96d50">FOLLY_SAFE_CHECK</a>(</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      stringTable.sh_type == SHT_STRTAB, <span class="stringliteral">&quot;invalid type for string table&quot;</span>);</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="ParallelBenchmark_8cpp.html#a7f02a749754f40365411f74cf75d08fa">start</a> = <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#aa8785b6c148316673a38d185a1149f6d">file_</a> + stringTable.sh_offset;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="comment">// First and last bytes must be 0</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <a class="code" href="SafeAssert_8h.html#a2679122a9f10d6dc6c2bd975cbd96d50">FOLLY_SAFE_CHECK</a>(</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      stringTable.sh_size == 0 ||</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;          (start[0] == <span class="charliteral">&#39;\0&#39;</span> &amp;&amp; start[stringTable.sh_size - 1] == <span class="charliteral">&#39;\0&#39;</span>),</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      <span class="stringliteral">&quot;invalid string table&quot;</span>);</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;}</div><div class="ttc" id="SafeAssert_8h_html_a2679122a9f10d6dc6c2bd975cbd96d50"><div class="ttname"><a href="SafeAssert_8h.html#a2679122a9f10d6dc6c2bd975cbd96d50">FOLLY_SAFE_CHECK</a></div><div class="ttdeci">#define FOLLY_SAFE_CHECK(expr, msg)</div><div class="ttdef"><b>Definition:</b> <a href="SafeAssert_8h_source.html#l00035">SafeAssert.h:35</a></div></div>
<div class="ttc" id="ParallelBenchmark_8cpp_html_a7f02a749754f40365411f74cf75d08fa"><div class="ttname"><a href="ParallelBenchmark_8cpp.html#a7f02a749754f40365411f74cf75d08fa">start</a></div><div class="ttdeci">auto start</div><div class="ttdef"><b>Definition:</b> <a href="ParallelBenchmark_8cpp_source.html#l00083">ParallelBenchmark.cpp:83</a></div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_aa8785b6c148316673a38d185a1149f6d"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#aa8785b6c148316673a38d185a1149f6d">folly::symbolizer::ElfFile::file_</a></div><div class="ttdeci">char * file_</div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00286">Elf.h:286</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a652fc715276545a74de678405d649e6f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>&amp; folly::symbolizer::ElfFile::valueAt </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacefolly_1_1symbolizer.html#a17feda3b52d51f3b6560954f4eca2ad7">ElfShdr</a> &amp;&#160;</td>
          <td class="paramname"><em>section</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacefolly_1_1symbolizer.html#a78ce49284e764ce577c2a2a6a5161180">ElfAddr</a>&#160;</td>
          <td class="paramname"><em>addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Elf_8h_source.html#l00262">262</a> of file <a class="el" href="Elf_8h_source.html">Elf.h</a>.</p>

<p>References <a class="el" href="Elf_8h_source.html#l00090">elfHeader()</a>, <a class="el" href="SafeAssert_8h_source.html#l00035">FOLLY_SAFE_CHECK</a>, and <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">folly::T</a>.</p>
<div class="fragment"><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                                                                     {</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="comment">// For exectuables and shared objects, st_value holds a virtual address</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="comment">// that refers to the memory owned by sections. Since we didn&#39;t map the</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="comment">// sections into the addresses that they&#39;re expecting (sh_addr), but</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="comment">// instead just mmapped the entire file directly, we need to translate</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="comment">// between addresses and offsets into the file.</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="comment">// TODO: For other file types, st_value holds a file offset directly. Since</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="comment">//       I don&#39;t have a use-case for that right now, just assert that</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="comment">//       nobody wants this. We can always add it later.</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <a class="code" href="SafeAssert_8h.html#a2679122a9f10d6dc6c2bd975cbd96d50">FOLLY_SAFE_CHECK</a>(</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ae8acb63a0ef00b5662e3301c83f1f584">elfHeader</a>().e_type == ET_EXEC || <a class="code" href="classfolly_1_1symbolizer_1_1ElfFile.html#ae8acb63a0ef00b5662e3301c83f1f584">elfHeader</a>().e_type == ET_DYN,</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <span class="stringliteral">&quot;Only exectuables and shared objects are supported&quot;</span>);</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <a class="code" href="SafeAssert_8h.html#a2679122a9f10d6dc6c2bd975cbd96d50">FOLLY_SAFE_CHECK</a>(</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <a class="code" href="GlobalThreadPoolList_8cpp.html#ab94a49ce2d97d58d5e22352a39c2345c">addr</a> &gt;= section.sh_addr &amp;&amp;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            (<a class="code" href="GlobalThreadPoolList_8cpp.html#ab94a49ce2d97d58d5e22352a39c2345c">addr</a> + <span class="keyword">sizeof</span>(<a class="code" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>)) &lt;= (section.sh_addr + section.sh_size),</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="stringliteral">&quot;Address is not contained within the provided segment&quot;</span>);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keywordflow">return</span> at&lt;T&gt;(section.sh_offset + (<a class="code" href="GlobalThreadPoolList_8cpp.html#ab94a49ce2d97d58d5e22352a39c2345c">addr</a> - section.sh_addr));</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  }</div><div class="ttc" id="namespacefolly_html_a0652a9c51b69e7a13d40ccbcb139bc55"><div class="ttname"><a href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">folly::T</a></div><div class="ttdeci">folly::std T</div></div>
<div class="ttc" id="classfolly_1_1symbolizer_1_1ElfFile_html_ae8acb63a0ef00b5662e3301c83f1f584"><div class="ttname"><a href="classfolly_1_1symbolizer_1_1ElfFile.html#ae8acb63a0ef00b5662e3301c83f1f584">folly::symbolizer::ElfFile::elfHeader</a></div><div class="ttdeci">const ElfEhdr &amp; elfHeader() const </div><div class="ttdef"><b>Definition:</b> <a href="Elf_8h_source.html#l00090">Elf.h:90</a></div></div>
<div class="ttc" id="SafeAssert_8h_html_a2679122a9f10d6dc6c2bd975cbd96d50"><div class="ttname"><a href="SafeAssert_8h.html#a2679122a9f10d6dc6c2bd975cbd96d50">FOLLY_SAFE_CHECK</a></div><div class="ttdeci">#define FOLLY_SAFE_CHECK(expr, msg)</div><div class="ttdef"><b>Definition:</b> <a href="SafeAssert_8h_source.html#l00035">SafeAssert.h:35</a></div></div>
<div class="ttc" id="GlobalThreadPoolList_8cpp_html_ab94a49ce2d97d58d5e22352a39c2345c"><div class="ttname"><a href="GlobalThreadPoolList_8cpp.html#ab94a49ce2d97d58d5e22352a39c2345c">addr</a></div><div class="ttdeci">ThreadPoolListHook * addr</div><div class="ttdef"><b>Definition:</b> <a href="GlobalThreadPoolList_8cpp_source.html#l00061">GlobalThreadPoolList.cpp:61</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a513c2dd76eb4cf901c930fe21edc6767"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uintptr_t folly::symbolizer::ElfFile::baseAddress_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Elf_8h_source.html#l00289">289</a> of file <a class="el" href="Elf_8h_source.html">Elf.h</a>.</p>

<p>Referenced by <a class="el" href="Elf_8h_source.html#l00098">getBaseAddress()</a>, <a class="el" href="Elf_8cpp_source.html#l00206">init()</a>, and <a class="el" href="Elf_8cpp_source.html#l00172">operator=()</a>.</p>

</div>
</div>
<a class="anchor" id="ad87d5361ce9cd1dc4f4bfe1b18aec030"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int folly::symbolizer::ElfFile::fd_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Elf_8h_source.html#l00285">285</a> of file <a class="el" href="Elf_8h_source.html">Elf.h</a>.</p>

<p>Referenced by <a class="el" href="Elf_8cpp_source.html#l00206">init()</a>, <a class="el" href="Elf_8cpp_source.html#l00063">openNoThrow()</a>, <a class="el" href="Elf_8cpp_source.html#l00172">operator=()</a>, and <a class="el" href="Elf_8cpp_source.html#l00192">reset()</a>.</p>

</div>
</div>
<a class="anchor" id="aa8785b6c148316673a38d185a1149f6d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char* folly::symbolizer::ElfFile::file_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Elf_8h_source.html#l00286">286</a> of file <a class="el" href="Elf_8h_source.html">Elf.h</a>.</p>

<p>Referenced by <a class="el" href="Elf_8h_source.html#l00242">at()</a>, <a class="el" href="Elf_8cpp_source.html#l00318">getSectionBody()</a>, <a class="el" href="Elf_8cpp_source.html#l00352">getSectionByName()</a>, <a class="el" href="Elf_8cpp_source.html#l00334">getString()</a>, <a class="el" href="Elf-inl_8h_source.html#l00077">iterateStrings()</a>, <a class="el" href="Elf_8cpp_source.html#l00063">openNoThrow()</a>, <a class="el" href="Elf_8cpp_source.html#l00172">operator=()</a>, <a class="el" href="Elf_8cpp_source.html#l00192">reset()</a>, and <a class="el" href="Elf_8cpp_source.html#l00322">validateStringTable()</a>.</p>

</div>
</div>
<a class="anchor" id="a0ca3d49e78dc6d38d14e95f7cfbdb3d1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char folly::symbolizer::ElfFile::filepath_[<a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html#ab37901a0e2ace5bb77086f8536fbab97">kFilepathMaxLen</a>] = {}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Elf_8h_source.html#l00284">284</a> of file <a class="el" href="Elf_8h_source.html">Elf.h</a>.</p>

<p>Referenced by <a class="el" href="Elf_8h_source.html#l00242">at()</a>, <a class="el" href="Elf_8cpp_source.html#l00158">ElfFile()</a>, <a class="el" href="Elf_8cpp_source.html#l00063">openNoThrow()</a>, <a class="el" href="Elf_8cpp_source.html#l00172">operator=()</a>, and <a class="el" href="Elf_8cpp_source.html#l00192">reset()</a>.</p>

</div>
</div>
<a class="anchor" id="ab37901a0e2ace5bb77086f8536fbab97"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr size_t folly::symbolizer::ElfFile::kFilepathMaxLen = 512</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Elf_8h_source.html#l00283">283</a> of file <a class="el" href="Elf_8h_source.html">Elf.h</a>.</p>

<p>Referenced by <a class="el" href="Elf_8h_source.html#l00242">at()</a>, <a class="el" href="Elf_8cpp_source.html#l00158">ElfFile()</a>, <a class="el" href="Elf_8cpp_source.html#l00063">openNoThrow()</a>, and <a class="el" href="Elf_8cpp_source.html#l00172">operator=()</a>.</p>

</div>
</div>
<a class="anchor" id="abf841837e010d5786a066b3cfbd31acf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t folly::symbolizer::ElfFile::length_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Elf_8h_source.html#l00287">287</a> of file <a class="el" href="Elf_8h_source.html">Elf.h</a>.</p>

<p>Referenced by <a class="el" href="Elf_8h_source.html#l00242">at()</a>, <a class="el" href="Elf_8cpp_source.html#l00206">init()</a>, <a class="el" href="Elf-inl_8h_source.html#l00025">iterateProgramHeaders()</a>, <a class="el" href="Elf-inl_8h_source.html#l00043">iterateSections()</a>, <a class="el" href="Elf_8cpp_source.html#l00063">openNoThrow()</a>, <a class="el" href="Elf_8cpp_source.html#l00172">operator=()</a>, and <a class="el" href="Elf_8cpp_source.html#l00192">reset()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>proxygen/folly/folly/experimental/symbolizer/<a class="el" href="Elf_8h_source.html">Elf.h</a></li>
<li>proxygen/folly/folly/experimental/symbolizer/<a class="el" href="Elf-inl_8h_source.html">Elf-inl.h</a></li>
<li>proxygen/folly/folly/experimental/symbolizer/<a class="el" href="Elf_8cpp_source.html">Elf.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefolly.html">folly</a></li><li class="navelem"><a class="el" href="namespacefolly_1_1symbolizer.html">symbolizer</a></li><li class="navelem"><a class="el" href="classfolly_1_1symbolizer_1_1ElfFile.html">ElfFile</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
