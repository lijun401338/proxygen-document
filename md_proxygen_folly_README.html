<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>proxygen: Folly: Facebook Open-source Library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">proxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md_proxygen_folly_README.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Folly: Facebook Open-source Library </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://travis-ci.org/facebook/folly"></a></p>
<h3>What is <code>folly</code>?</h3>
<p>Folly (acronymed loosely after Facebook Open Source Library) is a library of C++14 components designed with practicality and efficiency in mind. <b>Folly contains a variety of core library components used extensively at Facebook</b>. In particular, it's often a dependency of Facebook's other open source C++ efforts and place where those projects can share code.</p>
<p>It complements (as opposed to competing against) offerings such as Boost and of course <code>std</code>. In fact, we embark on defining our own component only when something we need is either not available, or does not meet the needed performance profile. We endeavor to remove things from folly if or when <code>std</code> or Boost obsoletes them.</p>
<p>Performance concerns permeate much of Folly, sometimes leading to designs that are more idiosyncratic than they would otherwise be (see e.g. <code>PackedSyncPtr.h</code>, <code>SmallLocks.h</code>). Good performance at large scale is a unifying theme in all of Folly.</p>
<h3>Logical Design</h3>
<p>Folly is a collection of relatively independent components, some as simple as a few symbols. There is no restriction on internal dependencies, meaning that a given folly module may use any other folly components.</p>
<p>All symbols are defined in the top-level namespace <code>folly</code>, except of course macros. Macro names are ALL_UPPERCASE and should be prefixed with <code>FOLLY_</code>. Namespace <code>folly</code> defines other internal namespaces such as <code>internal</code> or <code>detail</code>. User code should not depend on symbols in those namespaces.</p>
<p>Folly has an <code>experimental</code> directory as well. This designation connotes primarily that we feel the API may change heavily over time. This code, typically, is still in heavy use and is well tested.</p>
<h3>Physical Design</h3>
<p>At the top level Folly uses the classic "stuttering" scheme <code>folly/folly</code> used by Boost and others. The first directory serves as an installation root of the library (with possible versioning a la <code>folly-1.0/</code>), and the second is to distinguish the library when including files, e.g. <code>#include &lt;folly/FBString.h&gt;</code>.</p>
<p>The directory structure is flat (mimicking the namespace structure), i.e. we don't have an elaborate directory hierarchy (it is possible this will change in future versions). The subdirectory <code>experimental</code> contains files that are used inside folly and possibly at Facebook but not considered stable enough for client use. Your code should not use files in <code>folly/experimental</code> lest it may break when you update Folly.</p>
<p>The <code>folly/folly/test</code> subdirectory includes the unittests for all components, usually named <code>ComponentXyzTest.cpp</code> for each <code>ComponentXyz.*</code>. The <code>folly/folly/docs</code> directory contains documentation.</p>
<h3>What's in it?</h3>
<p>Because of folly's fairly flat structure, the best way to see what's in it is to look at the headers in <a href="https://github.com/facebook/folly/tree/master/folly">top level <code>folly/</code> directory</a>. You can also check the <a href="folly/docs"><code>docs</code> folder</a> for documentation, starting with the <a class="el" href="docs_2Overview_8md.html">overview</a>.</p>
<p>Folly is published on Github at <a href="https://github.com/facebook/folly">https://github.com/facebook/folly</a></p>
<h3>Build Notes</h3>
<h4>Dependencies</h4>
<p>folly requires gcc 4.9+ and a version of boost compiled with C++14 support.</p>
<p>googletest is required to build and run folly's tests. You can download it from <a href="https://github.com/google/googletest/archive/release-1.8.0.tar.gz">https://github.com/google/googletest/archive/release-1.8.0.tar.gz</a> The following commands can be used to download and install it:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;wget https://github.com/google/googletest/archive/release-1.8.0.tar.gz &amp;&amp; \</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;tar zxf release-1.8.0.tar.gz &amp;&amp; \</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;rm -f release-1.8.0.tar.gz &amp;&amp; \</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;cd googletest-release-1.8.0 &amp;&amp; \</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;cmake . &amp;&amp; \</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;make &amp;&amp; \</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;make install</div></div><!-- fragment --><h4>Finding dependencies in non-default locations</h4>
<p>If you have boost, gtest, or other dependencies installed in a non-default location, you can use the <code>CMAKE_INCLUDE_PATH</code> and <code>CMAKE_LIBRARY_PATH</code> variables to make CMAKE look also look for header files and libraries in non-standard locations. For example, to also search the directories <code>/alt/include/path1</code> and <code>/alt/include/path2</code> for header files and the directories <code>/alt/lib/path1</code> and <code>/alt/lib/path2</code> for libraries, you can invoke <code>cmake</code> as follows:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;cmake \</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;  -DCMAKE_INCLUDE_PATH=/alt/include/path1:/alt/include/path2 \</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;  -DCMAKE_LIBRARY_PATH=/alt/lib/path1:/alt/lib/path2 ...</div></div><!-- fragment --><h4>Ubuntu 16.04 LTS</h4>
<p>The following packages are required (feel free to cut and paste the apt-get command below):</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;sudo apt-get install \</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    g++ \</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    cmake \</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    libboost-all-dev \</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    libevent-dev \</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    libdouble-conversion-dev \</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;    libgoogle-glog-dev \</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    libgflags-dev \</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    libiberty-dev \</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    liblz4-dev \</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    liblzma-dev \</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    libsnappy-dev \</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    make \</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    zlib1g-dev \</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    binutils-dev \</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    libjemalloc-dev \</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    libssl-dev \</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    pkg-config</div></div><!-- fragment --><p>If advanced debugging functionality is required, use:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;sudo apt-get install \</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    libunwind8-dev \</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    libelf-dev \</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    libdwarf-dev</div></div><!-- fragment --><p>In the folly directory, run: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;mkdir _build &amp;&amp; cd _build</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;cmake ..</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;make -j $(nproc)</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;make install</div></div><!-- fragment --><h4>OS <a class="el" href="structX.html">X</a> (Homebrew)</h4>
<p>folly is available as a Formula and releases may be built via <code>brew install folly</code>.</p>
<p>You may also use <code>folly/build/bootstrap-osx-homebrew.sh</code> to build against <code>master</code>:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;cd folly</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;./build/bootstrap-osx-homebrew.sh</div></div><!-- fragment --><h4>OS <a class="el" href="structX.html">X</a> (MacPorts)</h4>
<p>Install the required packages from MacPorts:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;sudo port install \</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;  autoconf \</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;  automake \</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;  boost \</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;  gflags \</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;  git \</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;  google-glog \</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;  libevent \</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;  libtool \</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;  lz4 \</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;  lzma \</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;  scons \</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;  snappy \</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;  zlib</div></div><!-- fragment --><p>Download and install double-conversion:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;git clone https://github.com/google/double-conversion.git</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;cd double-conversion</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;cmake -DBUILD_SHARED_LIBS=ON .</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;make</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;sudo make install</div></div><!-- fragment --><p>Download and install folly with the parameters listed below:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;git clone https://github.com/facebook/folly.git</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;cd folly/folly</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;autoreconf -ivf</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;./configure CPPFLAGS=&quot;-I/opt/local/include&quot; LDFLAGS=&quot;-L/opt/local/lib&quot;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;make</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;sudo make install</div></div><!-- fragment --><h4>Windows (Vcpkg)</h4>
<p>folly is available in <a href="https://github.com/Microsoft/vcpkg#vcpkg">Vcpkg</a> and releases may be built via <code>vcpkg install folly:x64-windows</code>.</p>
<p>You may also use <code>vcpkg install folly:x64-windows --head</code> to build against <code>master</code>.</p>
<h4>Other Linux distributions</h4>
<ul>
<li><p class="startli">double-conversion (<a href="https://github.com/google/double-conversion">https://github.com/google/double-conversion</a>)</p>
<p class="startli">Download and build double-conversion. You may need to tell cmake where to find it.</p>
<p class="startli">[double-conversion/] <code>ln -s src double-conversion</code></p>
<p class="startli">[folly/] <code>mkdir build &amp;&amp; cd build</code> [folly/build/] <code>cmake "-DCMAKE_INCLUDE_PATH=$DOUBLE_CONVERSION_HOME/include" "-DCMAKE_LIBRARY_PATH=$DOUBLE_CONVERSION_HOME/lib" ..</code></p>
<p class="startli">[folly/build/] <code>make</code></p>
</li>
<li><p class="startli">additional platform specific dependencies:</p>
<p class="startli">Fedora &gt;= 21 64-bit (last tested on Fedora 28 64-bit)</p><ul>
<li>gcc</li>
<li>gcc-c++</li>
<li>cmake</li>
<li>automake</li>
<li>boost-devel</li>
<li>libtool</li>
<li>lz4-devel</li>
<li>lzma-devel</li>
<li>snappy-devel</li>
<li>zlib-devel</li>
<li>glog-devel</li>
<li>gflags-devel</li>
<li>scons</li>
<li>double-conversion-devel</li>
<li>openssl-devel</li>
<li>libevent-devel</li>
</ul>
<p class="startli">Optional</p><ul>
<li>libdwarf-dev</li>
<li>libelf-dev</li>
<li>libunwind8-dev </li>
</ul>
</li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
