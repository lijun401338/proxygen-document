<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>proxygen: folly::CPUThreadPoolExecutor Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">proxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classfolly_1_1CPUThreadPoolExecutor.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classfolly_1_1CPUThreadPoolExecutor-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">folly::CPUThreadPoolExecutor Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="CPUThreadPoolExecutor_8h_source.html">CPUThreadPoolExecutor.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for folly::CPUThreadPoolExecutor:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classfolly_1_1CPUThreadPoolExecutor.png" usemap="#folly::CPUThreadPoolExecutor_map" alt=""/>
  <map id="folly::CPUThreadPoolExecutor_map" name="folly::CPUThreadPoolExecutor_map">
<area href="classfolly_1_1ThreadPoolExecutor.html" alt="folly::ThreadPoolExecutor" shape="rect" coords="0,112,190,136"/>
<area href="classfolly_1_1DefaultKeepAliveExecutor.html" alt="folly::DefaultKeepAliveExecutor" shape="rect" coords="0,56,190,80"/>
<area href="classfolly_1_1Executor.html" alt="folly::Executor" shape="rect" coords="0,0,190,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1CPUThreadPoolExecutor_1_1CPUTask.html">CPUTask</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af3a4da5b2a69cb9b066d6954fba6c77a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1CPUThreadPoolExecutor.html#af3a4da5b2a69cb9b066d6954fba6c77a">CPUThreadPoolExecutor</a> (size_t <a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a36fbef224fe2c6caf61191a93676da87">numThreads</a>, std::unique_ptr&lt; <a class="el" href="classfolly_1_1BlockingQueue.html">BlockingQueue</a>&lt; <a class="el" href="structfolly_1_1CPUThreadPoolExecutor_1_1CPUTask.html">CPUTask</a> &gt;&gt; taskQueue, std::shared_ptr&lt; <a class="el" href="classfolly_1_1ThreadFactory.html">ThreadFactory</a> &gt; threadFactory=std::make_shared&lt; <a class="el" href="classfolly_1_1NamedThreadFactory.html">NamedThreadFactory</a> &gt;(&quot;CPUThreadPool&quot;))</td></tr>
<tr class="separator:af3a4da5b2a69cb9b066d6954fba6c77a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34b4d6cdc4d4fbf5172f3bcde1246650"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1CPUThreadPoolExecutor.html#a34b4d6cdc4d4fbf5172f3bcde1246650">CPUThreadPoolExecutor</a> (std::pair&lt; size_t, size_t &gt; <a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a36fbef224fe2c6caf61191a93676da87">numThreads</a>, std::unique_ptr&lt; <a class="el" href="classfolly_1_1BlockingQueue.html">BlockingQueue</a>&lt; <a class="el" href="structfolly_1_1CPUThreadPoolExecutor_1_1CPUTask.html">CPUTask</a> &gt;&gt; taskQueue, std::shared_ptr&lt; <a class="el" href="classfolly_1_1ThreadFactory.html">ThreadFactory</a> &gt; threadFactory=std::make_shared&lt; <a class="el" href="classfolly_1_1NamedThreadFactory.html">NamedThreadFactory</a> &gt;(&quot;CPUThreadPool&quot;))</td></tr>
<tr class="separator:a34b4d6cdc4d4fbf5172f3bcde1246650"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c3c289a15d012b1f1e2c7c8e0f7e670"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1CPUThreadPoolExecutor.html#a2c3c289a15d012b1f1e2c7c8e0f7e670">CPUThreadPoolExecutor</a> (size_t <a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a36fbef224fe2c6caf61191a93676da87">numThreads</a>)</td></tr>
<tr class="separator:a2c3c289a15d012b1f1e2c7c8e0f7e670"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1de533b961f943a37d03037f33c8d22c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1CPUThreadPoolExecutor.html#a1de533b961f943a37d03037f33c8d22c">CPUThreadPoolExecutor</a> (size_t <a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a36fbef224fe2c6caf61191a93676da87">numThreads</a>, std::shared_ptr&lt; <a class="el" href="classfolly_1_1ThreadFactory.html">ThreadFactory</a> &gt; threadFactory)</td></tr>
<tr class="separator:a1de533b961f943a37d03037f33c8d22c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a162d39b162ae24438e20bea88e690ce6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1CPUThreadPoolExecutor.html#a162d39b162ae24438e20bea88e690ce6">CPUThreadPoolExecutor</a> (std::pair&lt; size_t, size_t &gt; <a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a36fbef224fe2c6caf61191a93676da87">numThreads</a>, std::shared_ptr&lt; <a class="el" href="classfolly_1_1ThreadFactory.html">ThreadFactory</a> &gt; threadFactory)</td></tr>
<tr class="separator:a162d39b162ae24438e20bea88e690ce6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56acb17c65a431045a56131e79e47ba1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1CPUThreadPoolExecutor.html#a56acb17c65a431045a56131e79e47ba1">CPUThreadPoolExecutor</a> (size_t <a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a36fbef224fe2c6caf61191a93676da87">numThreads</a>, <a class="el" href="ConstexprMathBenchmark_8cpp.html#a20c38cc5aac7cc6b0a3c6ab05428436d">int8_t</a> numPriorities, std::shared_ptr&lt; <a class="el" href="classfolly_1_1ThreadFactory.html">ThreadFactory</a> &gt; threadFactory=std::make_shared&lt; <a class="el" href="classfolly_1_1NamedThreadFactory.html">NamedThreadFactory</a> &gt;(&quot;CPUThreadPool&quot;))</td></tr>
<tr class="separator:a56acb17c65a431045a56131e79e47ba1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1153e186f39a45f6c2670f8a8ba3f60d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1CPUThreadPoolExecutor.html#a1153e186f39a45f6c2670f8a8ba3f60d">CPUThreadPoolExecutor</a> (size_t <a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a36fbef224fe2c6caf61191a93676da87">numThreads</a>, <a class="el" href="ConstexprMathBenchmark_8cpp.html#a20c38cc5aac7cc6b0a3c6ab05428436d">int8_t</a> numPriorities, size_t maxQueueSize, std::shared_ptr&lt; <a class="el" href="classfolly_1_1ThreadFactory.html">ThreadFactory</a> &gt; threadFactory=std::make_shared&lt; <a class="el" href="classfolly_1_1NamedThreadFactory.html">NamedThreadFactory</a> &gt;(&quot;CPUThreadPool&quot;))</td></tr>
<tr class="separator:a1153e186f39a45f6c2670f8a8ba3f60d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90b36dda2d18abdb406529e239862c90"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1CPUThreadPoolExecutor.html#a90b36dda2d18abdb406529e239862c90">~CPUThreadPoolExecutor</a> () override</td></tr>
<tr class="separator:a90b36dda2d18abdb406529e239862c90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb28ef9ad88d67f8a4a8da98cebf47e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1CPUThreadPoolExecutor.html#aeb28ef9ad88d67f8a4a8da98cebf47e2">add</a> (<a class="el" href="namespacefolly.html#a4f345dd5f9b26d8dd202c2072badbea8">Func</a> func) override</td></tr>
<tr class="separator:aeb28ef9ad88d67f8a4a8da98cebf47e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a591ea3c0dd19eb56e68adfdb6c5ec8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1CPUThreadPoolExecutor.html#a5a591ea3c0dd19eb56e68adfdb6c5ec8">add</a> (<a class="el" href="namespacefolly.html#a4f345dd5f9b26d8dd202c2072badbea8">Func</a> func, std::chrono::milliseconds <a class="el" href="ThreadPoolExecutorTest_8cpp.html#aa0075c0a3668827a8cbf0376308b7d86">expiration</a>, <a class="el" href="namespacefolly.html#a4f345dd5f9b26d8dd202c2072badbea8">Func</a> expireCallback=<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>) override</td></tr>
<tr class="separator:a5a591ea3c0dd19eb56e68adfdb6c5ec8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a162d531bbaac0e661c5a675449c816a7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1CPUThreadPoolExecutor.html#a162d531bbaac0e661c5a675449c816a7">addWithPriority</a> (<a class="el" href="namespacefolly.html#a4f345dd5f9b26d8dd202c2072badbea8">Func</a> func, <a class="el" href="ConstexprMathBenchmark_8cpp.html#a20c38cc5aac7cc6b0a3c6ab05428436d">int8_t</a> priority) override</td></tr>
<tr class="separator:a162d531bbaac0e661c5a675449c816a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3eb0492d72b75a2cf026119c33a53f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1CPUThreadPoolExecutor.html#aa3eb0492d72b75a2cf026119c33a53f0">add</a> (<a class="el" href="namespacefolly.html#a4f345dd5f9b26d8dd202c2072badbea8">Func</a> func, <a class="el" href="ConstexprMathBenchmark_8cpp.html#a20c38cc5aac7cc6b0a3c6ab05428436d">int8_t</a> priority, std::chrono::milliseconds <a class="el" href="ThreadPoolExecutorTest_8cpp.html#aa0075c0a3668827a8cbf0376308b7d86">expiration</a>, <a class="el" href="namespacefolly.html#a4f345dd5f9b26d8dd202c2072badbea8">Func</a> expireCallback=<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>)</td></tr>
<tr class="separator:aa3eb0492d72b75a2cf026119c33a53f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6717adfe595ecd0204cf25a4fa554cff"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1CPUThreadPoolExecutor.html#a6717adfe595ecd0204cf25a4fa554cff">getTaskQueueSize</a> () const </td></tr>
<tr class="separator:a6717adfe595ecd0204cf25a4fa554cff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03452ee29bc2ed46d6502fec36bac160"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1CPUThreadPoolExecutor.html#a03452ee29bc2ed46d6502fec36bac160">getNumPriorities</a> () const override</td></tr>
<tr class="separator:a03452ee29bc2ed46d6502fec36bac160"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classfolly_1_1ThreadPoolExecutor"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classfolly_1_1ThreadPoolExecutor')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classfolly_1_1ThreadPoolExecutor.html">folly::ThreadPoolExecutor</a></td></tr>
<tr class="memitem:a5dc98446bbe79d693530ad67dc9cab83 inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a5dc98446bbe79d693530ad67dc9cab83">ThreadPoolExecutor</a> (size_t maxThreads, size_t minThreads, std::shared_ptr&lt; <a class="el" href="classfolly_1_1ThreadFactory.html">ThreadFactory</a> &gt; threadFactory, bool isWaitForAll=false)</td></tr>
<tr class="separator:a5dc98446bbe79d693530ad67dc9cab83 inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa06fa1428d8aae40ced9ea356d42489b inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#aa06fa1428d8aae40ced9ea356d42489b">~ThreadPoolExecutor</a> () override</td></tr>
<tr class="separator:aa06fa1428d8aae40ced9ea356d42489b inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec2eaa5cb24d4feca340f70bea999d16 inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#aec2eaa5cb24d4feca340f70bea999d16">setThreadFactory</a> (std::shared_ptr&lt; <a class="el" href="classfolly_1_1ThreadFactory.html">ThreadFactory</a> &gt; threadFactory)</td></tr>
<tr class="separator:aec2eaa5cb24d4feca340f70bea999d16 inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21cb2e74bf689c8fc135403381cb85d4 inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classfolly_1_1ThreadFactory.html">ThreadFactory</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a21cb2e74bf689c8fc135403381cb85d4">getThreadFactory</a> ()</td></tr>
<tr class="separator:a21cb2e74bf689c8fc135403381cb85d4 inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36fbef224fe2c6caf61191a93676da87 inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a36fbef224fe2c6caf61191a93676da87">numThreads</a> ()</td></tr>
<tr class="separator:a36fbef224fe2c6caf61191a93676da87 inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15c88220843c608ee79cb23378dc082d inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a15c88220843c608ee79cb23378dc082d">setNumThreads</a> (size_t <a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a36fbef224fe2c6caf61191a93676da87">numThreads</a>)</td></tr>
<tr class="separator:a15c88220843c608ee79cb23378dc082d inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74b1e7d0fbbc431e829093933d351a7f inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a74b1e7d0fbbc431e829093933d351a7f">numActiveThreads</a> ()</td></tr>
<tr class="separator:a74b1e7d0fbbc431e829093933d351a7f inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b9eb26a916a19565c89cf6280986e6f inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a1b9eb26a916a19565c89cf6280986e6f">stop</a> ()</td></tr>
<tr class="separator:a1b9eb26a916a19565c89cf6280986e6f inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa40e4a728e35ab35f239c01cc1d3391a inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#aa40e4a728e35ab35f239c01cc1d3391a">join</a> ()</td></tr>
<tr class="separator:aa40e4a728e35ab35f239c01cc1d3391a inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7716e8f2d37755f7906b2b1c8123ca5 inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfolly_1_1ThreadPoolExecutor_1_1PoolStats.html">PoolStats</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#ab7716e8f2d37755f7906b2b1c8123ca5">getPoolStats</a> ()</td></tr>
<tr class="separator:ab7716e8f2d37755f7906b2b1c8123ca5 inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60c24296d5d6e190213107553b497980 inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a60c24296d5d6e190213107553b497980">getPendingTaskCount</a> ()</td></tr>
<tr class="separator:a60c24296d5d6e190213107553b497980 inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09608f7f181f828d9dcb927a19bc963b inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a09608f7f181f828d9dcb927a19bc963b">getName</a> ()</td></tr>
<tr class="separator:a09608f7f181f828d9dcb927a19bc963b inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f7f36cbe8df7c2d8b7deb50d7fb8660 inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a7f7f36cbe8df7c2d8b7deb50d7fb8660">subscribeToTaskStats</a> (<a class="el" href="classfolly_1_1ThreadPoolExecutor.html#ad55136fd6445e02f3bfd1bb67d560e63">TaskStatsCallback</a> cb)</td></tr>
<tr class="separator:a7f7f36cbe8df7c2d8b7deb50d7fb8660 inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8eeaa352e64d27a201013265594760df inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a8eeaa352e64d27a201013265594760df">addObserver</a> (std::shared_ptr&lt; <a class="el" href="classfolly_1_1ThreadPoolExecutor_1_1Observer.html">Observer</a> &gt;)</td></tr>
<tr class="separator:a8eeaa352e64d27a201013265594760df inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e188770a55d017190177d47e83e6c74 inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a1e188770a55d017190177d47e83e6c74">removeObserver</a> (std::shared_ptr&lt; <a class="el" href="classfolly_1_1ThreadPoolExecutor_1_1Observer.html">Observer</a> &gt;)</td></tr>
<tr class="separator:a1e188770a55d017190177d47e83e6c74 inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d15f8899d9fdacb8fa03dc389cf115b inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a7d15f8899d9fdacb8fa03dc389cf115b">setThreadDeathTimeout</a> (std::chrono::milliseconds timeout)</td></tr>
<tr class="separator:a7d15f8899d9fdacb8fa03dc389cf115b inherit pub_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classfolly_1_1DefaultKeepAliveExecutor"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classfolly_1_1DefaultKeepAliveExecutor')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classfolly_1_1DefaultKeepAliveExecutor.html">folly::DefaultKeepAliveExecutor</a></td></tr>
<tr class="memitem:a097b7568b0b3336dc93413717fc7cf0a inherit pub_methods_classfolly_1_1DefaultKeepAliveExecutor"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1DefaultKeepAliveExecutor.html#a097b7568b0b3336dc93413717fc7cf0a">DefaultKeepAliveExecutor</a> ()</td></tr>
<tr class="separator:a097b7568b0b3336dc93413717fc7cf0a inherit pub_methods_classfolly_1_1DefaultKeepAliveExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c34edeed7db492c9e733e73eea5af48 inherit pub_methods_classfolly_1_1DefaultKeepAliveExecutor"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1DefaultKeepAliveExecutor.html#a3c34edeed7db492c9e733e73eea5af48">~DefaultKeepAliveExecutor</a> ()</td></tr>
<tr class="separator:a3c34edeed7db492c9e733e73eea5af48 inherit pub_methods_classfolly_1_1DefaultKeepAliveExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae939fdeb81b34affb25ee1481b35f90 inherit pub_methods_classfolly_1_1DefaultKeepAliveExecutor"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1Executor_1_1KeepAlive.html">folly::Executor::KeepAlive</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1DefaultKeepAliveExecutor.html#aae939fdeb81b34affb25ee1481b35f90">weakRef</a> ()</td></tr>
<tr class="separator:aae939fdeb81b34affb25ee1481b35f90 inherit pub_methods_classfolly_1_1DefaultKeepAliveExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classfolly_1_1Executor"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classfolly_1_1Executor')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classfolly_1_1Executor.html">folly::Executor</a></td></tr>
<tr class="memitem:a2a710c710ae0eba33dc6548f39576f43 inherit pub_methods_classfolly_1_1Executor"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#a2a710c710ae0eba33dc6548f39576f43">~Executor</a> ()</td></tr>
<tr class="separator:a2a710c710ae0eba33dc6548f39576f43 inherit pub_methods_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a19dd417caa31d3ec112e8bdd1a9b90b2"><td class="memItemLeft" align="right" valign="top">static const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1CPUThreadPoolExecutor.html#a19dd417caa31d3ec112e8bdd1a9b90b2">kDefaultMaxQueueSize</a> = 1 &lt;&lt; 14</td></tr>
<tr class="separator:a19dd417caa31d3ec112e8bdd1a9b90b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_attribs_classfolly_1_1Executor"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_classfolly_1_1Executor')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="classfolly_1_1Executor.html">folly::Executor</a></td></tr>
<tr class="memitem:afbb7f50dbb65dd3395aab6dcd5603cf5 inherit pub_static_attribs_classfolly_1_1Executor"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="ConstexprMathBenchmark_8cpp.html#a20c38cc5aac7cc6b0a3c6ab05428436d">int8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#afbb7f50dbb65dd3395aab6dcd5603cf5">LO_PRI</a> = SCHAR_MIN</td></tr>
<tr class="separator:afbb7f50dbb65dd3395aab6dcd5603cf5 inherit pub_static_attribs_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a579944074469580e7a967aa1231ba57a inherit pub_static_attribs_classfolly_1_1Executor"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="ConstexprMathBenchmark_8cpp.html#a20c38cc5aac7cc6b0a3c6ab05428436d">int8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#a579944074469580e7a967aa1231ba57a">MID_PRI</a> = 0</td></tr>
<tr class="separator:a579944074469580e7a967aa1231ba57a inherit pub_static_attribs_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9acf25ca896f289cddb1164a77928d43 inherit pub_static_attribs_classfolly_1_1Executor"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="ConstexprMathBenchmark_8cpp.html#a20c38cc5aac7cc6b0a3c6ab05428436d">int8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#a9acf25ca896f289cddb1164a77928d43">HI_PRI</a> = SCHAR_MAX</td></tr>
<tr class="separator:a9acf25ca896f289cddb1164a77928d43 inherit pub_static_attribs_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:abb9c1f9ed3f552ddff8af7d168ca1c77"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1BlockingQueue.html">BlockingQueue</a>&lt; <a class="el" href="structfolly_1_1CPUThreadPoolExecutor_1_1CPUTask.html">CPUTask</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1CPUThreadPoolExecutor.html#abb9c1f9ed3f552ddff8af7d168ca1c77">getTaskQueue</a> ()</td></tr>
<tr class="separator:abb9c1f9ed3f552ddff8af7d168ca1c77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classfolly_1_1ThreadPoolExecutor"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classfolly_1_1ThreadPoolExecutor')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classfolly_1_1ThreadPoolExecutor.html">folly::ThreadPoolExecutor</a></td></tr>
<tr class="memitem:a27bb64b39be1cff6c5e6dd6a5171fc1a inherit pro_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a27bb64b39be1cff6c5e6dd6a5171fc1a">addThreads</a> (size_t n)</td></tr>
<tr class="separator:a27bb64b39be1cff6c5e6dd6a5171fc1a inherit pro_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56633d3dcdc3726db6827629b91c51c0 inherit pro_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a56633d3dcdc3726db6827629b91c51c0">removeThreads</a> (size_t n, bool isJoin)</td></tr>
<tr class="separator:a56633d3dcdc3726db6827629b91c51c0 inherit pro_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40bf1d9431b45e73dcb85694874f3a34 inherit pro_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a40bf1d9431b45e73dcb85694874f3a34">joinStoppedThreads</a> (size_t n)</td></tr>
<tr class="separator:a40bf1d9431b45e73dcb85694874f3a34 inherit pro_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5e5d7e0a6899d0f79294226455b900b inherit pro_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classfolly_1_1ThreadPoolExecutor.html#ac1aabf9ff5d0c94a8f383e1e2791c4ae">ThreadPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#ad5e5d7e0a6899d0f79294226455b900b">makeThread</a> ()</td></tr>
<tr class="separator:ad5e5d7e0a6899d0f79294226455b900b inherit pro_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa937d4afe12d9de1c972db28255ddf86 inherit pro_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#aa937d4afe12d9de1c972db28255ddf86">ensureActiveThreads</a> ()</td></tr>
<tr class="separator:aa937d4afe12d9de1c972db28255ddf86 inherit pro_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b71ffe95629546b14b23a69561ef981 inherit pro_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a5b71ffe95629546b14b23a69561ef981">ensureJoined</a> ()</td></tr>
<tr class="separator:a5b71ffe95629546b14b23a69561ef981 inherit pro_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf95e26cf3a8a10d4cdd51d14734b360 inherit pro_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#aaf95e26cf3a8a10d4cdd51d14734b360">minActive</a> ()</td></tr>
<tr class="separator:aaf95e26cf3a8a10d4cdd51d14734b360 inherit pro_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4666770785a22ccac5dc9be63cdf04f9 inherit pro_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a4666770785a22ccac5dc9be63cdf04f9">tryTimeoutThread</a> ()</td></tr>
<tr class="separator:a4666770785a22ccac5dc9be63cdf04f9 inherit pro_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae52464d6d00cce830b64bbb7c8578ece inherit pro_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#ae52464d6d00cce830b64bbb7c8578ece">joinKeepAliveOnce</a> ()</td></tr>
<tr class="separator:ae52464d6d00cce830b64bbb7c8578ece inherit pro_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classfolly_1_1DefaultKeepAliveExecutor"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classfolly_1_1DefaultKeepAliveExecutor')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classfolly_1_1DefaultKeepAliveExecutor.html">folly::DefaultKeepAliveExecutor</a></td></tr>
<tr class="memitem:aa038f102572f1383aec6ddeb5a5d8a28 inherit pro_methods_classfolly_1_1DefaultKeepAliveExecutor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1DefaultKeepAliveExecutor.html#aa038f102572f1383aec6ddeb5a5d8a28">joinKeepAlive</a> ()</td></tr>
<tr class="separator:aa038f102572f1383aec6ddeb5a5d8a28 inherit pro_methods_classfolly_1_1DefaultKeepAliveExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ad5278fff910f7f5d109c2d7015633857"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1CPUThreadPoolExecutor.html#ad5278fff910f7f5d109c2d7015633857">threadRun</a> (<a class="el" href="classfolly_1_1ThreadPoolExecutor.html#ac1aabf9ff5d0c94a8f383e1e2791c4ae">ThreadPtr</a> thread) override</td></tr>
<tr class="separator:ad5278fff910f7f5d109c2d7015633857"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75d9316a8410f8f0db7a232fcfbd3588"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1CPUThreadPoolExecutor.html#a75d9316a8410f8f0db7a232fcfbd3588">stopThreads</a> (size_t n) override</td></tr>
<tr class="separator:a75d9316a8410f8f0db7a232fcfbd3588"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0110804873be153805e7f49b5733c76"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1CPUThreadPoolExecutor.html#ac0110804873be153805e7f49b5733c76">getPendingTaskCountImpl</a> () override</td></tr>
<tr class="separator:ac0110804873be153805e7f49b5733c76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af334f54b283ee17693c4705345efcd41"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1CPUThreadPoolExecutor.html#af334f54b283ee17693c4705345efcd41">tryDecrToStop</a> ()</td></tr>
<tr class="separator:af334f54b283ee17693c4705345efcd41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a934a41205b6efed452086a71d29a63f6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1CPUThreadPoolExecutor.html#a934a41205b6efed452086a71d29a63f6">taskShouldStop</a> (<a class="el" href="classfolly_1_1Optional.html">folly::Optional</a>&lt; <a class="el" href="structfolly_1_1CPUThreadPoolExecutor_1_1CPUTask.html">CPUTask</a> &gt; &amp;)</td></tr>
<tr class="separator:a934a41205b6efed452086a71d29a63f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:aea38354a749daf414d56f610d91f68c0"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classfolly_1_1BlockingQueue.html">BlockingQueue</a>&lt; <a class="el" href="structfolly_1_1CPUThreadPoolExecutor_1_1CPUTask.html">CPUTask</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1CPUThreadPoolExecutor.html#aea38354a749daf414d56f610d91f68c0">taskQueue_</a></td></tr>
<tr class="separator:aea38354a749daf414d56f610d91f68c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada7aa83e4fe197992761fa615fdf6c2c"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; ssize_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1CPUThreadPoolExecutor.html#ada7aa83e4fe197992761fa615fdf6c2c">threadsToStop_</a> {0}</td></tr>
<tr class="separator:ada7aa83e4fe197992761fa615fdf6c2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classfolly_1_1ThreadPoolExecutor"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classfolly_1_1ThreadPoolExecutor')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classfolly_1_1ThreadPoolExecutor.html">folly::ThreadPoolExecutor</a></td></tr>
<tr class="memitem:ad55136fd6445e02f3bfd1bb67d560e63 inherit pub_types_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#ad55136fd6445e02f3bfd1bb67d560e63">TaskStatsCallback</a> = std::function&lt; void(<a class="el" href="structfolly_1_1ThreadPoolExecutor_1_1TaskStats.html">TaskStats</a>)&gt;</td></tr>
<tr class="separator:ad55136fd6445e02f3bfd1bb67d560e63 inherit pub_types_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_methods_classfolly_1_1ThreadPoolExecutor"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classfolly_1_1ThreadPoolExecutor')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classfolly_1_1ThreadPoolExecutor.html">folly::ThreadPoolExecutor</a></td></tr>
<tr class="memitem:a8f55cd593fc402a2cbf123692a42c453 inherit pub_static_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a8f55cd593fc402a2cbf123692a42c453">withAll</a> (<a class="el" href="classfolly_1_1FunctionRef.html">FunctionRef</a>&lt; void(<a class="el" href="classfolly_1_1ThreadPoolExecutor.html">ThreadPoolExecutor</a> &amp;)&gt; <a class="el" href="StackOverflow_8cpp.html#a818f01d15ad1b9b4900c4513a27c273f">f</a>)</td></tr>
<tr class="separator:a8f55cd593fc402a2cbf123692a42c453 inherit pub_static_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_methods_classfolly_1_1Executor"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classfolly_1_1Executor')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classfolly_1_1Executor.html">folly::Executor</a></td></tr>
<tr class="memitem:a921eb187ac98c7ef6ae0a04d741c55b6 inherit pub_static_methods_classfolly_1_1Executor"><td class="memTemplParams" colspan="2">template&lt;typename ExecutorT &gt; </td></tr>
<tr class="memitem:a921eb187ac98c7ef6ae0a04d741c55b6 inherit pub_static_methods_classfolly_1_1Executor"><td class="memTemplItemLeft" align="right" valign="top">static <a class="el" href="classfolly_1_1Executor_1_1KeepAlive.html">KeepAlive</a>&lt; ExecutorT &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#a921eb187ac98c7ef6ae0a04d741c55b6">getKeepAliveToken</a> (ExecutorT *executor)</td></tr>
<tr class="separator:a921eb187ac98c7ef6ae0a04d741c55b6 inherit pub_static_methods_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1590ff9b76a92b064a41f789e07e764c inherit pub_static_methods_classfolly_1_1Executor"><td class="memTemplParams" colspan="2">template&lt;typename ExecutorT &gt; </td></tr>
<tr class="memitem:a1590ff9b76a92b064a41f789e07e764c inherit pub_static_methods_classfolly_1_1Executor"><td class="memTemplItemLeft" align="right" valign="top">static <a class="el" href="classfolly_1_1Executor_1_1KeepAlive.html">KeepAlive</a>&lt; ExecutorT &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#a1590ff9b76a92b064a41f789e07e764c">getKeepAliveToken</a> (ExecutorT &amp;executor)</td></tr>
<tr class="separator:a1590ff9b76a92b064a41f789e07e764c inherit pub_static_methods_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_types_classfolly_1_1ThreadPoolExecutor"><td colspan="2" onclick="javascript:toggleInherit('pro_types_classfolly_1_1ThreadPoolExecutor')"><img src="closed.png" alt="-"/>&#160;Protected Types inherited from <a class="el" href="classfolly_1_1ThreadPoolExecutor.html">folly::ThreadPoolExecutor</a></td></tr>
<tr class="memitem:ac1aabf9ff5d0c94a8f383e1e2791c4ae inherit pro_types_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">typedef std::shared_ptr&lt; <a class="el" href="structfolly_1_1ThreadPoolExecutor_1_1Thread.html">Thread</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#ac1aabf9ff5d0c94a8f383e1e2791c4ae">ThreadPtr</a></td></tr>
<tr class="separator:ac1aabf9ff5d0c94a8f383e1e2791c4ae inherit pro_types_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_static_methods_classfolly_1_1ThreadPoolExecutor"><td colspan="2" onclick="javascript:toggleInherit('pro_static_methods_classfolly_1_1ThreadPoolExecutor')"><img src="closed.png" alt="-"/>&#160;Static Protected Member Functions inherited from <a class="el" href="classfolly_1_1ThreadPoolExecutor.html">folly::ThreadPoolExecutor</a></td></tr>
<tr class="memitem:a595daa9367382c2d2dece38a0541d348 inherit pro_static_methods_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a595daa9367382c2d2dece38a0541d348">runTask</a> (const <a class="el" href="classfolly_1_1ThreadPoolExecutor.html#ac1aabf9ff5d0c94a8f383e1e2791c4ae">ThreadPtr</a> &amp;thread, <a class="el" href="structfolly_1_1ThreadPoolExecutor_1_1Task.html">Task</a> &amp;&amp;task)</td></tr>
<tr class="separator:a595daa9367382c2d2dece38a0541d348 inherit pro_static_methods_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_static_methods_classfolly_1_1Executor"><td colspan="2" onclick="javascript:toggleInherit('pro_static_methods_classfolly_1_1Executor')"><img src="closed.png" alt="-"/>&#160;Static Protected Member Functions inherited from <a class="el" href="classfolly_1_1Executor.html">folly::Executor</a></td></tr>
<tr class="memitem:ac65c1aa0dc2f340496c77f64f69067ff inherit pro_static_methods_classfolly_1_1Executor"><td class="memTemplParams" colspan="2">template&lt;typename ExecutorT &gt; </td></tr>
<tr class="memitem:ac65c1aa0dc2f340496c77f64f69067ff inherit pro_static_methods_classfolly_1_1Executor"><td class="memTemplItemLeft" align="right" valign="top">static bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#ac65c1aa0dc2f340496c77f64f69067ff">isKeepAliveDummy</a> (const <a class="el" href="classfolly_1_1Executor_1_1KeepAlive.html">KeepAlive</a>&lt; ExecutorT &gt; &amp;keepAlive)</td></tr>
<tr class="separator:ac65c1aa0dc2f340496c77f64f69067ff inherit pro_static_methods_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c9692aa8d5e046467df1f73776270bf inherit pro_static_methods_classfolly_1_1Executor"><td class="memTemplParams" colspan="2">template&lt;typename ExecutorT &gt; </td></tr>
<tr class="memitem:a8c9692aa8d5e046467df1f73776270bf inherit pro_static_methods_classfolly_1_1Executor"><td class="memTemplItemLeft" align="right" valign="top">static <a class="el" href="classfolly_1_1Executor_1_1KeepAlive.html">KeepAlive</a>&lt; ExecutorT &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfolly_1_1Executor.html#a8c9692aa8d5e046467df1f73776270bf">makeKeepAlive</a> (ExecutorT *executor)</td></tr>
<tr class="separator:a8c9692aa8d5e046467df1f73776270bf inherit pro_static_methods_classfolly_1_1Executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classfolly_1_1ThreadPoolExecutor"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classfolly_1_1ThreadPoolExecutor')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classfolly_1_1ThreadPoolExecutor.html">folly::ThreadPoolExecutor</a></td></tr>
<tr class="memitem:a26b28f1c64dc7774f7d701b8d064a6ba inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classfolly_1_1ThreadFactory.html">ThreadFactory</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a26b28f1c64dc7774f7d701b8d064a6ba">threadFactory_</a></td></tr>
<tr class="separator:a26b28f1c64dc7774f7d701b8d064a6ba inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d3e15f96cef4a6ec9edf211c3abe27d inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">const bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a3d3e15f96cef4a6ec9edf211c3abe27d">isWaitForAll_</a></td></tr>
<tr class="separator:a3d3e15f96cef4a6ec9edf211c3abe27d inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63382ab18584c9e822e3af01913a7022 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1ThreadPoolExecutor_1_1ThreadList.html">ThreadList</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a63382ab18584c9e822e3af01913a7022">threadList_</a></td></tr>
<tr class="separator:a63382ab18584c9e822e3af01913a7022 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a291baad862005a9dc5d919ebff91b1 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacefolly.html#ae7e470db39b3e07bb689bc4af72fdf0c">SharedMutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a1a291baad862005a9dc5d919ebff91b1">threadListLock_</a></td></tr>
<tr class="separator:a1a291baad862005a9dc5d919ebff91b1 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87202c5f5fdbce422e2d973779fa1689 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1ThreadPoolExecutor_1_1StoppedThreadQueue.html">StoppedThreadQueue</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a87202c5f5fdbce422e2d973779fa1689">stoppedThreads_</a></td></tr>
<tr class="separator:a87202c5f5fdbce422e2d973779fa1689 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a189d66d9d03c7ef361025c0aac1e86bc inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a189d66d9d03c7ef361025c0aac1e86bc">isJoin_</a> {false}</td></tr>
<tr class="separator:a189d66d9d03c7ef361025c0aac1e86bc inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7f7faf330db639c6c7a6c264611959e inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="structfolly_1_1ThreadPoolExecutor_1_1TaskStatsCallbackRegistry.html">TaskStatsCallbackRegistry</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#af7f7faf330db639c6c7a6c264611959e">taskStatsCallbacks_</a></td></tr>
<tr class="separator:af7f7faf330db639c6c7a6c264611959e inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af81dab3b993e3df398e2d90b44702ef9 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::shared_ptr&lt; <a class="el" href="classfolly_1_1ThreadPoolExecutor_1_1Observer.html">Observer</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#af81dab3b993e3df398e2d90b44702ef9">observers_</a></td></tr>
<tr class="separator:af81dab3b993e3df398e2d90b44702ef9 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44998d8ab01644b469bc6de2ee434daf inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1ThreadPoolListHook.html">folly::ThreadPoolListHook</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a44998d8ab01644b469bc6de2ee434daf">threadPoolHook_</a></td></tr>
<tr class="separator:a44998d8ab01644b469bc6de2ee434daf inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3d41215514ada6590ff1f144e395614 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#aa3d41215514ada6590ff1f144e395614">maxThreads_</a> {0}</td></tr>
<tr class="separator:aa3d41215514ada6590ff1f144e395614 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1b176cf609431be0956ab3224ce0083 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#ad1b176cf609431be0956ab3224ce0083">minThreads_</a> {0}</td></tr>
<tr class="separator:ad1b176cf609431be0956ab3224ce0083 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d009ad4ba4db6d3ccb1934e9c4a5397 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a5d009ad4ba4db6d3ccb1934e9c4a5397">activeThreads_</a> {0}</td></tr>
<tr class="separator:a5d009ad4ba4db6d3ccb1934e9c4a5397 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16dc99d6627b2e14d9cd71d9401bb632 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a16dc99d6627b2e14d9cd71d9401bb632">threadsToJoin_</a> {0}</td></tr>
<tr class="separator:a16dc99d6627b2e14d9cd71d9401bb632 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e1d7ff6007e105ca359ff5dc3b7a0c5 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">std::chrono::milliseconds&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a5e1d7ff6007e105ca359ff5dc3b7a0c5">threadTimeout_</a> {0}</td></tr>
<tr class="separator:a5e1d7ff6007e105ca359ff5dc3b7a0c5 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf0b2a4bacd7e6fba4635ead8f03b5b6 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#abf0b2a4bacd7e6fba4635ead8f03b5b6">keepAliveJoined_</a> {false}</td></tr>
<tr class="separator:abf0b2a4bacd7e6fba4635ead8f03b5b6 inherit pro_attribs_classfolly_1_1ThreadPoolExecutor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="structA.html">A</a> Thread pool for CPU bound tasks.</p>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="structA.html">A</a> single queue backed by folly/LifoSem and folly/MPMC queue. Because of this contention can be quite high, since all the worker threads and all the producer threads hit the same queue. <a class="el" href="classMPMC.html">MPMC</a> queue excels in this situation but dictates a max queue size.</dd>
<dd>
The default queue throws when full (<a class="el" href="namespacefolly.html#a1885220186586fb374aace4b081b2efca655474de4674aba7a436a73cd8d9a906">folly::QueueBehaviorIfFull::THROW</a>), so <a class="el" href="classfolly_1_1CPUThreadPoolExecutor.html#aeb28ef9ad88d67f8a4a8da98cebf47e2">add()</a> can fail. Furthermore, <a class="el" href="classfolly_1_1ThreadPoolExecutor.html#aa40e4a728e35ab35f239c01cc1d3391a">join()</a> can also fail if the queue is full, because it enqueues numThreads poison tasks to stop the threads. If <a class="el" href="classfolly_1_1ThreadPoolExecutor.html#aa40e4a728e35ab35f239c01cc1d3391a">join()</a> is needed to be guaranteed to succeed <a class="el" href="classfolly_1_1PriorityLifoSemMPMCQueue.html">PriorityLifoSemMPMCQueue</a> can be used instead, initializing the lowest priority's (LO_PRI) capacity to at least numThreads. Poisons use LO_PRI so if that priority is not used for any user task <a class="el" href="classfolly_1_1ThreadPoolExecutor.html#aa40e4a728e35ab35f239c01cc1d3391a">join()</a> is guaranteed not to encounter a full queue.</dd>
<dd>
If a blocking queue (<a class="el" href="namespacefolly.html#a1885220186586fb374aace4b081b2efca4d34f53389ed7f28ca91fc31ea360a66">folly::QueueBehaviorIfFull::BLOCK</a>) is used, and tasks executing on a given thread pool schedule more tasks, deadlock is possible if the queue becomes full. Deadlock is also possible if there is a circular dependency among multiple thread pools with blocking queues. To avoid this situation, use non-blocking queue(s), or schedule tasks only from threads not belonging to the given thread pool(s), or use <a class="el" href="classfolly_1_1IOThreadPoolExecutor.html">folly::IOThreadPoolExecutor</a>.</dd>
<dd>
LifoSem wakes up threads in Lifo order - i.e. there are only few threads as necessary running, and we always try to reuse the same few threads for better cache locality. Inactive threads have their stack madvised away. This works quite well in combination with Lifosem - it almost doesn't matter if more threads than are necessary are specified at startup.</dd>
<dd>
Supports priorities - priorities are implemented as multiple queues - each worker thread checks the highest priority queue first. Threads themselves don't have priorities set, so a series of long running low priority tasks could still hog all the threads. (at last check pthreads thread priorities didn't work very well). </dd></dl>

<p>Definition at line <a class="el" href="CPUThreadPoolExecutor_8h_source.html#l00063">63</a> of file <a class="el" href="CPUThreadPoolExecutor_8h_source.html">CPUThreadPoolExecutor.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="af3a4da5b2a69cb9b066d6954fba6c77a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">folly::CPUThreadPoolExecutor::CPUThreadPoolExecutor </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>numThreads</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classfolly_1_1BlockingQueue.html">BlockingQueue</a>&lt; <a class="el" href="structfolly_1_1CPUThreadPoolExecutor_1_1CPUTask.html">CPUTask</a> &gt;&gt;&#160;</td>
          <td class="paramname"><em>taskQueue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classfolly_1_1ThreadFactory.html">ThreadFactory</a> &gt;&#160;</td>
          <td class="paramname"><em>threadFactory</em> = <code>std::make_shared&lt;<a class="el" href="classfolly_1_1NamedThreadFactory.html">NamedThreadFactory</a>&gt;(&quot;CPUThreadPool&quot;)</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00031">31</a> of file <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html">CPUThreadPoolExecutor.cpp</a>.</p>

<p>References <a class="el" href="ThreadPoolExecutor_8cpp_source.html#l00125">folly::ThreadPoolExecutor::setNumThreads()</a>.</p>
<div class="fragment"><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    : <a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a5dc98446bbe79d693530ad67dc9cab83">ThreadPoolExecutor</a>(</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;          <a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a36fbef224fe2c6caf61191a93676da87">numThreads</a>,</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;          FLAGS_dynamic_cputhreadpoolexecutor ? 0 : <a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a36fbef224fe2c6caf61191a93676da87">numThreads</a>,</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;          <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(threadFactory)),</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;      <a class="code" href="classfolly_1_1CPUThreadPoolExecutor.html#aea38354a749daf414d56f610d91f68c0">taskQueue_</a>(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(taskQueue)) {</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a15c88220843c608ee79cb23378dc082d">setNumThreads</a>(numThreads);</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;}</div><div class="ttc" id="classfolly_1_1CPUThreadPoolExecutor_html_aea38354a749daf414d56f610d91f68c0"><div class="ttname"><a href="classfolly_1_1CPUThreadPoolExecutor.html#aea38354a749daf414d56f610d91f68c0">folly::CPUThreadPoolExecutor::taskQueue_</a></div><div class="ttdeci">std::unique_ptr&lt; BlockingQueue&lt; CPUTask &gt; &gt; taskQueue_</div><div class="ttdef"><b>Definition:</b> <a href="CPUThreadPoolExecutor_8h_source.html#l00149">CPUThreadPoolExecutor.h:149</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_a36fbef224fe2c6caf61191a93676da87"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#a36fbef224fe2c6caf61191a93676da87">folly::ThreadPoolExecutor::numThreads</a></div><div class="ttdeci">size_t numThreads()</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8cpp_source.html#l00116">ThreadPoolExecutor.cpp:116</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_a5dc98446bbe79d693530ad67dc9cab83"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#a5dc98446bbe79d693530ad67dc9cab83">folly::ThreadPoolExecutor::ThreadPoolExecutor</a></div><div class="ttdeci">ThreadPoolExecutor(size_t maxThreads, size_t minThreads, std::shared_ptr&lt; ThreadFactory &gt; threadFactory, bool isWaitForAll=false)</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8cpp_source.html#l00037">ThreadPoolExecutor.cpp:37</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_a15c88220843c608ee79cb23378dc082d"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#a15c88220843c608ee79cb23378dc082d">folly::ThreadPoolExecutor::setNumThreads</a></div><div class="ttdeci">void setNumThreads(size_t numThreads)</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8cpp_source.html#l00125">ThreadPoolExecutor.cpp:125</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a34b4d6cdc4d4fbf5172f3bcde1246650"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">folly::CPUThreadPoolExecutor::CPUThreadPoolExecutor </td>
          <td>(</td>
          <td class="paramtype">std::pair&lt; size_t, size_t &gt;&#160;</td>
          <td class="paramname"><em>numThreads</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classfolly_1_1BlockingQueue.html">BlockingQueue</a>&lt; <a class="el" href="structfolly_1_1CPUThreadPoolExecutor_1_1CPUTask.html">CPUTask</a> &gt;&gt;&#160;</td>
          <td class="paramname"><em>taskQueue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classfolly_1_1ThreadFactory.html">ThreadFactory</a> &gt;&#160;</td>
          <td class="paramname"><em>threadFactory</em> = <code>std::make_shared&lt;<a class="el" href="classfolly_1_1NamedThreadFactory.html">NamedThreadFactory</a>&gt;(&quot;CPUThreadPool&quot;)</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00043">43</a> of file <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html">CPUThreadPoolExecutor.cpp</a>.</p>

<p>References <a class="el" href="ThreadPoolExecutor_8cpp_source.html#l00125">folly::ThreadPoolExecutor::setNumThreads()</a>.</p>
<div class="fragment"><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    : <a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a5dc98446bbe79d693530ad67dc9cab83">ThreadPoolExecutor</a>(</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;          <a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a36fbef224fe2c6caf61191a93676da87">numThreads</a>.first,</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;          <a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a36fbef224fe2c6caf61191a93676da87">numThreads</a>.second,</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;          <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(threadFactory)),</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;      <a class="code" href="classfolly_1_1CPUThreadPoolExecutor.html#aea38354a749daf414d56f610d91f68c0">taskQueue_</a>(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(taskQueue)) {</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a15c88220843c608ee79cb23378dc082d">setNumThreads</a>(<a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a36fbef224fe2c6caf61191a93676da87">numThreads</a>.first);</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;}</div><div class="ttc" id="classfolly_1_1CPUThreadPoolExecutor_html_aea38354a749daf414d56f610d91f68c0"><div class="ttname"><a href="classfolly_1_1CPUThreadPoolExecutor.html#aea38354a749daf414d56f610d91f68c0">folly::CPUThreadPoolExecutor::taskQueue_</a></div><div class="ttdeci">std::unique_ptr&lt; BlockingQueue&lt; CPUTask &gt; &gt; taskQueue_</div><div class="ttdef"><b>Definition:</b> <a href="CPUThreadPoolExecutor_8h_source.html#l00149">CPUThreadPoolExecutor.h:149</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_a36fbef224fe2c6caf61191a93676da87"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#a36fbef224fe2c6caf61191a93676da87">folly::ThreadPoolExecutor::numThreads</a></div><div class="ttdeci">size_t numThreads()</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8cpp_source.html#l00116">ThreadPoolExecutor.cpp:116</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_a5dc98446bbe79d693530ad67dc9cab83"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#a5dc98446bbe79d693530ad67dc9cab83">folly::ThreadPoolExecutor::ThreadPoolExecutor</a></div><div class="ttdeci">ThreadPoolExecutor(size_t maxThreads, size_t minThreads, std::shared_ptr&lt; ThreadFactory &gt; threadFactory, bool isWaitForAll=false)</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8cpp_source.html#l00037">ThreadPoolExecutor.cpp:37</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_a15c88220843c608ee79cb23378dc082d"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#a15c88220843c608ee79cb23378dc082d">folly::ThreadPoolExecutor::setNumThreads</a></div><div class="ttdeci">void setNumThreads(size_t numThreads)</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8cpp_source.html#l00125">ThreadPoolExecutor.cpp:125</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2c3c289a15d012b1f1e2c7c8e0f7e670"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">folly::CPUThreadPoolExecutor::CPUThreadPoolExecutor </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>numThreads</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00073">73</a> of file <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html">CPUThreadPoolExecutor.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    : <a class="code" href="classfolly_1_1CPUThreadPoolExecutor.html#af3a4da5b2a69cb9b066d6954fba6c77a">CPUThreadPoolExecutor</a>(</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;          <a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a36fbef224fe2c6caf61191a93676da87">numThreads</a>,</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;          std::make_shared&lt;NamedThreadFactory&gt;(<span class="stringliteral">&quot;CPUThreadPool&quot;</span>)) {}</div><div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_a36fbef224fe2c6caf61191a93676da87"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#a36fbef224fe2c6caf61191a93676da87">folly::ThreadPoolExecutor::numThreads</a></div><div class="ttdeci">size_t numThreads()</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8cpp_source.html#l00116">ThreadPoolExecutor.cpp:116</a></div></div>
<div class="ttc" id="classfolly_1_1CPUThreadPoolExecutor_html_af3a4da5b2a69cb9b066d6954fba6c77a"><div class="ttname"><a href="classfolly_1_1CPUThreadPoolExecutor.html#af3a4da5b2a69cb9b066d6954fba6c77a">folly::CPUThreadPoolExecutor::CPUThreadPoolExecutor</a></div><div class="ttdeci">CPUThreadPoolExecutor(size_t numThreads, std::unique_ptr&lt; BlockingQueue&lt; CPUTask &gt;&gt; taskQueue, std::shared_ptr&lt; ThreadFactory &gt; threadFactory=std::make_shared&lt; NamedThreadFactory &gt;(&quot;CPUThreadPool&quot;))</div><div class="ttdef"><b>Definition:</b> <a href="CPUThreadPoolExecutor_8cpp_source.html#l00031">CPUThreadPoolExecutor.cpp:31</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1de533b961f943a37d03037f33c8d22c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">folly::CPUThreadPoolExecutor::CPUThreadPoolExecutor </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>numThreads</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classfolly_1_1ThreadFactory.html">ThreadFactory</a> &gt;&#160;</td>
          <td class="paramname"><em>threadFactory</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00055">55</a> of file <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html">CPUThreadPoolExecutor.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    : <a class="code" href="classfolly_1_1CPUThreadPoolExecutor.html#af3a4da5b2a69cb9b066d6954fba6c77a">CPUThreadPoolExecutor</a>(</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;          <a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a36fbef224fe2c6caf61191a93676da87">numThreads</a>,</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;          <a class="code" href="namespacefolly.html#aef6cf4e025e8b02eca69540a757c6efd">std::make_unique</a>&lt;LifoSemMPMCQueue&lt;CPUTask&gt;&gt;(</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;              <a class="code" href="classfolly_1_1CPUThreadPoolExecutor.html#a19dd417caa31d3ec112e8bdd1a9b90b2">CPUThreadPoolExecutor::kDefaultMaxQueueSize</a>),</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;          <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(threadFactory)) {}</div><div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_a36fbef224fe2c6caf61191a93676da87"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#a36fbef224fe2c6caf61191a93676da87">folly::ThreadPoolExecutor::numThreads</a></div><div class="ttdeci">size_t numThreads()</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8cpp_source.html#l00116">ThreadPoolExecutor.cpp:116</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="namespacefolly_html_aef6cf4e025e8b02eca69540a757c6efd"><div class="ttname"><a href="namespacefolly.html#aef6cf4e025e8b02eca69540a757c6efd">folly::make_unique</a></div><div class="ttdeci">std::enable_if&lt;!std::is_array&lt; T &gt;::value, std::unique_ptr&lt; T &gt; &gt;::type make_unique(Args &amp;&amp;...args)</div><div class="ttdef"><b>Definition:</b> <a href="Memory_8h_source.html#l00259">Memory.h:259</a></div></div>
<div class="ttc" id="classfolly_1_1CPUThreadPoolExecutor_html_af3a4da5b2a69cb9b066d6954fba6c77a"><div class="ttname"><a href="classfolly_1_1CPUThreadPoolExecutor.html#af3a4da5b2a69cb9b066d6954fba6c77a">folly::CPUThreadPoolExecutor::CPUThreadPoolExecutor</a></div><div class="ttdeci">CPUThreadPoolExecutor(size_t numThreads, std::unique_ptr&lt; BlockingQueue&lt; CPUTask &gt;&gt; taskQueue, std::shared_ptr&lt; ThreadFactory &gt; threadFactory=std::make_shared&lt; NamedThreadFactory &gt;(&quot;CPUThreadPool&quot;))</div><div class="ttdef"><b>Definition:</b> <a href="CPUThreadPoolExecutor_8cpp_source.html#l00031">CPUThreadPoolExecutor.cpp:31</a></div></div>
<div class="ttc" id="classfolly_1_1CPUThreadPoolExecutor_html_a19dd417caa31d3ec112e8bdd1a9b90b2"><div class="ttname"><a href="classfolly_1_1CPUThreadPoolExecutor.html#a19dd417caa31d3ec112e8bdd1a9b90b2">folly::CPUThreadPoolExecutor::kDefaultMaxQueueSize</a></div><div class="ttdeci">static const size_t kDefaultMaxQueueSize</div><div class="ttdef"><b>Definition:</b> <a href="CPUThreadPoolExecutor_8h_source.html#l00136">CPUThreadPoolExecutor.h:136</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a162d39b162ae24438e20bea88e690ce6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">folly::CPUThreadPoolExecutor::CPUThreadPoolExecutor </td>
          <td>(</td>
          <td class="paramtype">std::pair&lt; size_t, size_t &gt;&#160;</td>
          <td class="paramname"><em>numThreads</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classfolly_1_1ThreadFactory.html">ThreadFactory</a> &gt;&#160;</td>
          <td class="paramname"><em>threadFactory</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00064">64</a> of file <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html">CPUThreadPoolExecutor.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    : <a class="code" href="classfolly_1_1CPUThreadPoolExecutor.html#af3a4da5b2a69cb9b066d6954fba6c77a">CPUThreadPoolExecutor</a>(</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;          <a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a36fbef224fe2c6caf61191a93676da87">numThreads</a>,</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;          <a class="code" href="namespacefolly.html#aef6cf4e025e8b02eca69540a757c6efd">std::make_unique</a>&lt;LifoSemMPMCQueue&lt;CPUTask&gt;&gt;(</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;              <a class="code" href="classfolly_1_1CPUThreadPoolExecutor.html#a19dd417caa31d3ec112e8bdd1a9b90b2">CPUThreadPoolExecutor::kDefaultMaxQueueSize</a>),</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;          <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(threadFactory)) {}</div><div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_a36fbef224fe2c6caf61191a93676da87"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#a36fbef224fe2c6caf61191a93676da87">folly::ThreadPoolExecutor::numThreads</a></div><div class="ttdeci">size_t numThreads()</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8cpp_source.html#l00116">ThreadPoolExecutor.cpp:116</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="namespacefolly_html_aef6cf4e025e8b02eca69540a757c6efd"><div class="ttname"><a href="namespacefolly.html#aef6cf4e025e8b02eca69540a757c6efd">folly::make_unique</a></div><div class="ttdeci">std::enable_if&lt;!std::is_array&lt; T &gt;::value, std::unique_ptr&lt; T &gt; &gt;::type make_unique(Args &amp;&amp;...args)</div><div class="ttdef"><b>Definition:</b> <a href="Memory_8h_source.html#l00259">Memory.h:259</a></div></div>
<div class="ttc" id="classfolly_1_1CPUThreadPoolExecutor_html_af3a4da5b2a69cb9b066d6954fba6c77a"><div class="ttname"><a href="classfolly_1_1CPUThreadPoolExecutor.html#af3a4da5b2a69cb9b066d6954fba6c77a">folly::CPUThreadPoolExecutor::CPUThreadPoolExecutor</a></div><div class="ttdeci">CPUThreadPoolExecutor(size_t numThreads, std::unique_ptr&lt; BlockingQueue&lt; CPUTask &gt;&gt; taskQueue, std::shared_ptr&lt; ThreadFactory &gt; threadFactory=std::make_shared&lt; NamedThreadFactory &gt;(&quot;CPUThreadPool&quot;))</div><div class="ttdef"><b>Definition:</b> <a href="CPUThreadPoolExecutor_8cpp_source.html#l00031">CPUThreadPoolExecutor.cpp:31</a></div></div>
<div class="ttc" id="classfolly_1_1CPUThreadPoolExecutor_html_a19dd417caa31d3ec112e8bdd1a9b90b2"><div class="ttname"><a href="classfolly_1_1CPUThreadPoolExecutor.html#a19dd417caa31d3ec112e8bdd1a9b90b2">folly::CPUThreadPoolExecutor::kDefaultMaxQueueSize</a></div><div class="ttdeci">static const size_t kDefaultMaxQueueSize</div><div class="ttdef"><b>Definition:</b> <a href="CPUThreadPoolExecutor_8h_source.html#l00136">CPUThreadPoolExecutor.h:136</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a56acb17c65a431045a56131e79e47ba1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">folly::CPUThreadPoolExecutor::CPUThreadPoolExecutor </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>numThreads</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a20c38cc5aac7cc6b0a3c6ab05428436d">int8_t</a>&#160;</td>
          <td class="paramname"><em>numPriorities</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classfolly_1_1ThreadFactory.html">ThreadFactory</a> &gt;&#160;</td>
          <td class="paramname"><em>threadFactory</em> = <code>std::make_shared&lt;<a class="el" href="classfolly_1_1NamedThreadFactory.html">NamedThreadFactory</a>&gt;(&quot;CPUThreadPool&quot;)</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00078">78</a> of file <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html">CPUThreadPoolExecutor.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    : <a class="code" href="classfolly_1_1CPUThreadPoolExecutor.html#af3a4da5b2a69cb9b066d6954fba6c77a">CPUThreadPoolExecutor</a>(</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;          <a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a36fbef224fe2c6caf61191a93676da87">numThreads</a>,</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;          <a class="code" href="namespacefolly.html#aef6cf4e025e8b02eca69540a757c6efd">std::make_unique</a>&lt;PriorityLifoSemMPMCQueue&lt;CPUTask&gt;&gt;(</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;              numPriorities,</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;              <a class="code" href="classfolly_1_1CPUThreadPoolExecutor.html#a19dd417caa31d3ec112e8bdd1a9b90b2">CPUThreadPoolExecutor::kDefaultMaxQueueSize</a>),</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;          <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(threadFactory)) {}</div><div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_a36fbef224fe2c6caf61191a93676da87"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#a36fbef224fe2c6caf61191a93676da87">folly::ThreadPoolExecutor::numThreads</a></div><div class="ttdeci">size_t numThreads()</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8cpp_source.html#l00116">ThreadPoolExecutor.cpp:116</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="namespacefolly_html_aef6cf4e025e8b02eca69540a757c6efd"><div class="ttname"><a href="namespacefolly.html#aef6cf4e025e8b02eca69540a757c6efd">folly::make_unique</a></div><div class="ttdeci">std::enable_if&lt;!std::is_array&lt; T &gt;::value, std::unique_ptr&lt; T &gt; &gt;::type make_unique(Args &amp;&amp;...args)</div><div class="ttdef"><b>Definition:</b> <a href="Memory_8h_source.html#l00259">Memory.h:259</a></div></div>
<div class="ttc" id="classfolly_1_1CPUThreadPoolExecutor_html_af3a4da5b2a69cb9b066d6954fba6c77a"><div class="ttname"><a href="classfolly_1_1CPUThreadPoolExecutor.html#af3a4da5b2a69cb9b066d6954fba6c77a">folly::CPUThreadPoolExecutor::CPUThreadPoolExecutor</a></div><div class="ttdeci">CPUThreadPoolExecutor(size_t numThreads, std::unique_ptr&lt; BlockingQueue&lt; CPUTask &gt;&gt; taskQueue, std::shared_ptr&lt; ThreadFactory &gt; threadFactory=std::make_shared&lt; NamedThreadFactory &gt;(&quot;CPUThreadPool&quot;))</div><div class="ttdef"><b>Definition:</b> <a href="CPUThreadPoolExecutor_8cpp_source.html#l00031">CPUThreadPoolExecutor.cpp:31</a></div></div>
<div class="ttc" id="classfolly_1_1CPUThreadPoolExecutor_html_a19dd417caa31d3ec112e8bdd1a9b90b2"><div class="ttname"><a href="classfolly_1_1CPUThreadPoolExecutor.html#a19dd417caa31d3ec112e8bdd1a9b90b2">folly::CPUThreadPoolExecutor::kDefaultMaxQueueSize</a></div><div class="ttdeci">static const size_t kDefaultMaxQueueSize</div><div class="ttdef"><b>Definition:</b> <a href="CPUThreadPoolExecutor_8h_source.html#l00136">CPUThreadPoolExecutor.h:136</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1153e186f39a45f6c2670f8a8ba3f60d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">folly::CPUThreadPoolExecutor::CPUThreadPoolExecutor </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>numThreads</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a20c38cc5aac7cc6b0a3c6ab05428436d">int8_t</a>&#160;</td>
          <td class="paramname"><em>numPriorities</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>maxQueueSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classfolly_1_1ThreadFactory.html">ThreadFactory</a> &gt;&#160;</td>
          <td class="paramname"><em>threadFactory</em> = <code>std::make_shared&lt;<a class="el" href="classfolly_1_1NamedThreadFactory.html">NamedThreadFactory</a>&gt;(&quot;CPUThreadPool&quot;)</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00089">89</a> of file <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html">CPUThreadPoolExecutor.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    : <a class="code" href="classfolly_1_1CPUThreadPoolExecutor.html#af3a4da5b2a69cb9b066d6954fba6c77a">CPUThreadPoolExecutor</a>(</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;          <a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a36fbef224fe2c6caf61191a93676da87">numThreads</a>,</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;          <a class="code" href="namespacefolly.html#aef6cf4e025e8b02eca69540a757c6efd">std::make_unique</a>&lt;PriorityLifoSemMPMCQueue&lt;CPUTask&gt;&gt;(</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;              numPriorities,</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;              maxQueueSize),</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;          <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(threadFactory)) {}</div><div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_a36fbef224fe2c6caf61191a93676da87"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#a36fbef224fe2c6caf61191a93676da87">folly::ThreadPoolExecutor::numThreads</a></div><div class="ttdeci">size_t numThreads()</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8cpp_source.html#l00116">ThreadPoolExecutor.cpp:116</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="namespacefolly_html_aef6cf4e025e8b02eca69540a757c6efd"><div class="ttname"><a href="namespacefolly.html#aef6cf4e025e8b02eca69540a757c6efd">folly::make_unique</a></div><div class="ttdeci">std::enable_if&lt;!std::is_array&lt; T &gt;::value, std::unique_ptr&lt; T &gt; &gt;::type make_unique(Args &amp;&amp;...args)</div><div class="ttdef"><b>Definition:</b> <a href="Memory_8h_source.html#l00259">Memory.h:259</a></div></div>
<div class="ttc" id="classfolly_1_1CPUThreadPoolExecutor_html_af3a4da5b2a69cb9b066d6954fba6c77a"><div class="ttname"><a href="classfolly_1_1CPUThreadPoolExecutor.html#af3a4da5b2a69cb9b066d6954fba6c77a">folly::CPUThreadPoolExecutor::CPUThreadPoolExecutor</a></div><div class="ttdeci">CPUThreadPoolExecutor(size_t numThreads, std::unique_ptr&lt; BlockingQueue&lt; CPUTask &gt;&gt; taskQueue, std::shared_ptr&lt; ThreadFactory &gt; threadFactory=std::make_shared&lt; NamedThreadFactory &gt;(&quot;CPUThreadPool&quot;))</div><div class="ttdef"><b>Definition:</b> <a href="CPUThreadPoolExecutor_8cpp_source.html#l00031">CPUThreadPoolExecutor.cpp:31</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a90b36dda2d18abdb406529e239862c90"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">folly::CPUThreadPoolExecutor::~CPUThreadPoolExecutor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00101">101</a> of file <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html">CPUThreadPoolExecutor.cpp</a>.</p>

<p>References <a class="el" href="ThreadPoolExecutor_8cpp_source.html#l00215">folly::ThreadPoolExecutor::stop()</a>, and <a class="el" href="CPUThreadPoolExecutor_8h_source.html#l00150">threadsToStop_</a>.</p>
<div class="fragment"><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                                              {</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a1b9eb26a916a19565c89cf6280986e6f">stop</a>();</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  CHECK(<a class="code" href="classfolly_1_1CPUThreadPoolExecutor.html#ada7aa83e4fe197992761fa615fdf6c2c">threadsToStop_</a> == 0);</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;}</div><div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_a1b9eb26a916a19565c89cf6280986e6f"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#a1b9eb26a916a19565c89cf6280986e6f">folly::ThreadPoolExecutor::stop</a></div><div class="ttdeci">void stop()</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8cpp_source.html#l00215">ThreadPoolExecutor.cpp:215</a></div></div>
<div class="ttc" id="classfolly_1_1CPUThreadPoolExecutor_html_ada7aa83e4fe197992761fa615fdf6c2c"><div class="ttname"><a href="classfolly_1_1CPUThreadPoolExecutor.html#ada7aa83e4fe197992761fa615fdf6c2c">folly::CPUThreadPoolExecutor::threadsToStop_</a></div><div class="ttdeci">std::atomic&lt; ssize_t &gt; threadsToStop_</div><div class="ttdef"><b>Definition:</b> <a href="CPUThreadPoolExecutor_8h_source.html#l00150">CPUThreadPoolExecutor.h:150</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aeb28ef9ad88d67f8a4a8da98cebf47e2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::CPUThreadPoolExecutor::add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacefolly.html#a4f345dd5f9b26d8dd202c2072badbea8">Func</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Enqueue a function to executed by this executor. This and all variants must be threadsafe. </p>

<p>Implements <a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a44dac8faf429536614cf3d6a4051a4ec">folly::ThreadPoolExecutor</a>.</p>

<p>Definition at line <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00106">106</a> of file <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html">CPUThreadPoolExecutor.cpp</a>.</p>

<p>References <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>.</p>

<p>Referenced by <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00121">addWithPriority()</a>, and <a class="el" href="ThreadPoolExecutorTest_8cpp_source.html#l00559">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                                         {</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <a class="code" href="classfolly_1_1CPUThreadPoolExecutor.html#aeb28ef9ad88d67f8a4a8da98cebf47e2">add</a>(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(func), std::chrono::milliseconds(0));</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;}</div><div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="classfolly_1_1CPUThreadPoolExecutor_html_aeb28ef9ad88d67f8a4a8da98cebf47e2"><div class="ttname"><a href="classfolly_1_1CPUThreadPoolExecutor.html#aeb28ef9ad88d67f8a4a8da98cebf47e2">folly::CPUThreadPoolExecutor::add</a></div><div class="ttdeci">void add(Func func) override</div><div class="ttdef"><b>Definition:</b> <a href="CPUThreadPoolExecutor_8cpp_source.html#l00106">CPUThreadPoolExecutor.cpp:106</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5a591ea3c0dd19eb56e68adfdb6c5ec8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::CPUThreadPoolExecutor::add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacefolly.html#a4f345dd5f9b26d8dd202c2072badbea8">Func</a>&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::chrono::milliseconds&#160;</td>
          <td class="paramname"><em>expiration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacefolly.html#a4f345dd5f9b26d8dd202c2072badbea8">Func</a>&#160;</td>
          <td class="paramname"><em>expireCallback</em> = <code><a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a6dda08d843975adce8a74b249f6a8b07">folly::ThreadPoolExecutor</a>.</p>

<p>Definition at line <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00110">110</a> of file <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html">CPUThreadPoolExecutor.cpp</a>.</p>

<p>References <a class="el" href="ThreadPoolExecutor_8cpp_source.html#l00434">folly::ThreadPoolExecutor::ensureActiveThreads()</a>, <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>, and <a class="el" href="CPUThreadPoolExecutor_8h_source.html#l00149">taskQueue_</a>.</p>
<div class="fragment"><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                         {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keyword">auto</span> result = <a class="code" href="classfolly_1_1CPUThreadPoolExecutor.html#aea38354a749daf414d56f610d91f68c0">taskQueue_</a>-&gt;add(</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      CPUTask(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(func), <a class="code" href="ThreadPoolExecutorTest_8cpp.html#aa0075c0a3668827a8cbf0376308b7d86">expiration</a>, <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(expireCallback)));</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="keywordflow">if</span> (!result.reusedThread) {</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <a class="code" href="classfolly_1_1ThreadPoolExecutor.html#aa937d4afe12d9de1c972db28255ddf86">ensureActiveThreads</a>();</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  }</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;}</div><div class="ttc" id="classfolly_1_1CPUThreadPoolExecutor_html_aea38354a749daf414d56f610d91f68c0"><div class="ttname"><a href="classfolly_1_1CPUThreadPoolExecutor.html#aea38354a749daf414d56f610d91f68c0">folly::CPUThreadPoolExecutor::taskQueue_</a></div><div class="ttdeci">std::unique_ptr&lt; BlockingQueue&lt; CPUTask &gt; &gt; taskQueue_</div><div class="ttdef"><b>Definition:</b> <a href="CPUThreadPoolExecutor_8h_source.html#l00149">CPUThreadPoolExecutor.h:149</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="ThreadPoolExecutorTest_8cpp_html_aa0075c0a3668827a8cbf0376308b7d86"><div class="ttname"><a href="ThreadPoolExecutorTest_8cpp.html#aa0075c0a3668827a8cbf0376308b7d86">expiration</a></div><div class="ttdeci">static void expiration()</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutorTest_8cpp_source.html#l00266">ThreadPoolExecutorTest.cpp:266</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_aa937d4afe12d9de1c972db28255ddf86"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#aa937d4afe12d9de1c972db28255ddf86">folly::ThreadPoolExecutor::ensureActiveThreads</a></div><div class="ttdeci">void ensureActiveThreads()</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8cpp_source.html#l00434">ThreadPoolExecutor.cpp:434</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa3eb0492d72b75a2cf026119c33a53f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void folly::CPUThreadPoolExecutor::add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacefolly.html#a4f345dd5f9b26d8dd202c2072badbea8">Func</a>&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a20c38cc5aac7cc6b0a3c6ab05428436d">int8_t</a>&#160;</td>
          <td class="paramname"><em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::chrono::milliseconds&#160;</td>
          <td class="paramname"><em>expiration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacefolly.html#a4f345dd5f9b26d8dd202c2072badbea8">Func</a>&#160;</td>
          <td class="paramname"><em>expireCallback</em> = <code><a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00125">125</a> of file <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html">CPUThreadPoolExecutor.cpp</a>.</p>

<p>References <a class="el" href="ThreadPoolExecutor_8cpp_source.html#l00434">folly::ThreadPoolExecutor::ensureActiveThreads()</a>, <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00139">getNumPriorities()</a>, <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>, and <a class="el" href="CPUThreadPoolExecutor_8h_source.html#l00149">taskQueue_</a>.</p>
<div class="fragment"><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                         {</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  CHECK(<a class="code" href="classfolly_1_1CPUThreadPoolExecutor.html#a03452ee29bc2ed46d6502fec36bac160">getNumPriorities</a>() &gt; 0);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="keyword">auto</span> result = <a class="code" href="classfolly_1_1CPUThreadPoolExecutor.html#aea38354a749daf414d56f610d91f68c0">taskQueue_</a>-&gt;addWithPriority(</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      CPUTask(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(func), <a class="code" href="ThreadPoolExecutorTest_8cpp.html#aa0075c0a3668827a8cbf0376308b7d86">expiration</a>, <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(expireCallback)),</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      priority);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="keywordflow">if</span> (!result.reusedThread) {</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <a class="code" href="classfolly_1_1ThreadPoolExecutor.html#aa937d4afe12d9de1c972db28255ddf86">ensureActiveThreads</a>();</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  }</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;}</div><div class="ttc" id="classfolly_1_1CPUThreadPoolExecutor_html_aea38354a749daf414d56f610d91f68c0"><div class="ttname"><a href="classfolly_1_1CPUThreadPoolExecutor.html#aea38354a749daf414d56f610d91f68c0">folly::CPUThreadPoolExecutor::taskQueue_</a></div><div class="ttdeci">std::unique_ptr&lt; BlockingQueue&lt; CPUTask &gt; &gt; taskQueue_</div><div class="ttdef"><b>Definition:</b> <a href="CPUThreadPoolExecutor_8h_source.html#l00149">CPUThreadPoolExecutor.h:149</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="classfolly_1_1CPUThreadPoolExecutor_html_a03452ee29bc2ed46d6502fec36bac160"><div class="ttname"><a href="classfolly_1_1CPUThreadPoolExecutor.html#a03452ee29bc2ed46d6502fec36bac160">folly::CPUThreadPoolExecutor::getNumPriorities</a></div><div class="ttdeci">uint8_t getNumPriorities() const override</div><div class="ttdef"><b>Definition:</b> <a href="CPUThreadPoolExecutor_8cpp_source.html#l00139">CPUThreadPoolExecutor.cpp:139</a></div></div>
<div class="ttc" id="ThreadPoolExecutorTest_8cpp_html_aa0075c0a3668827a8cbf0376308b7d86"><div class="ttname"><a href="ThreadPoolExecutorTest_8cpp.html#aa0075c0a3668827a8cbf0376308b7d86">expiration</a></div><div class="ttdeci">static void expiration()</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutorTest_8cpp_source.html#l00266">ThreadPoolExecutorTest.cpp:266</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_aa937d4afe12d9de1c972db28255ddf86"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#aa937d4afe12d9de1c972db28255ddf86">folly::ThreadPoolExecutor::ensureActiveThreads</a></div><div class="ttdeci">void ensureActiveThreads()</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8cpp_source.html#l00434">ThreadPoolExecutor.cpp:434</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a162d531bbaac0e661c5a675449c816a7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::CPUThreadPoolExecutor::addWithPriority </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacefolly.html#a4f345dd5f9b26d8dd202c2072badbea8">Func</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a20c38cc5aac7cc6b0a3c6ab05428436d">int8_t</a>&#160;</td>
          <td class="paramname"><em>priority</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Enqueue a function with a given priority, where 0 is the medium priority This is up to the implementation to enforce </p>

<p>Reimplemented from <a class="el" href="classfolly_1_1Executor.html#a3d84a5a09f7762ca05cdb5ae2dea15b9">folly::Executor</a>.</p>

<p>Definition at line <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00121">121</a> of file <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html">CPUThreadPoolExecutor.cpp</a>.</p>

<p>References <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00106">add()</a>, and <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>.</p>
<div class="fragment"><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                                                                      {</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <a class="code" href="classfolly_1_1CPUThreadPoolExecutor.html#aeb28ef9ad88d67f8a4a8da98cebf47e2">add</a>(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(func), priority, std::chrono::milliseconds(0));</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;}</div><div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="classfolly_1_1CPUThreadPoolExecutor_html_aeb28ef9ad88d67f8a4a8da98cebf47e2"><div class="ttname"><a href="classfolly_1_1CPUThreadPoolExecutor.html#aeb28ef9ad88d67f8a4a8da98cebf47e2">folly::CPUThreadPoolExecutor::add</a></div><div class="ttdeci">void add(Func func) override</div><div class="ttdef"><b>Definition:</b> <a href="CPUThreadPoolExecutor_8cpp_source.html#l00106">CPUThreadPoolExecutor.cpp:106</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a03452ee29bc2ed46d6502fec36bac160"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ConstexprMathBenchmark_8cpp.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> folly::CPUThreadPoolExecutor::getNumPriorities </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classfolly_1_1Executor.html#ad2c2fbd10f0e14f06b329f107dfaf140">folly::Executor</a>.</p>

<p>Definition at line <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00139">139</a> of file <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html">CPUThreadPoolExecutor.cpp</a>.</p>

<p>References <a class="el" href="CPUThreadPoolExecutor_8h_source.html#l00149">taskQueue_</a>.</p>

<p>Referenced by <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00125">add()</a>.</p>
<div class="fragment"><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                                                      {</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1CPUThreadPoolExecutor.html#aea38354a749daf414d56f610d91f68c0">taskQueue_</a>-&gt;getNumPriorities();</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;}</div><div class="ttc" id="classfolly_1_1CPUThreadPoolExecutor_html_aea38354a749daf414d56f610d91f68c0"><div class="ttname"><a href="classfolly_1_1CPUThreadPoolExecutor.html#aea38354a749daf414d56f610d91f68c0">folly::CPUThreadPoolExecutor::taskQueue_</a></div><div class="ttdeci">std::unique_ptr&lt; BlockingQueue&lt; CPUTask &gt; &gt; taskQueue_</div><div class="ttdef"><b>Definition:</b> <a href="CPUThreadPoolExecutor_8h_source.html#l00149">CPUThreadPoolExecutor.h:149</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac0110804873be153805e7f49b5733c76"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t folly::CPUThreadPoolExecutor::getPendingTaskCountImpl </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a547c832d48572abad8b51dc185148fc5">folly::ThreadPoolExecutor</a>.</p>

<p>Definition at line <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00218">218</a> of file <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html">CPUThreadPoolExecutor.cpp</a>.</p>

<p>References <a class="el" href="CPUThreadPoolExecutor_8h_source.html#l00149">taskQueue_</a>.</p>
<div class="fragment"><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                                                      {</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1CPUThreadPoolExecutor.html#aea38354a749daf414d56f610d91f68c0">taskQueue_</a>-&gt;size();</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;}</div><div class="ttc" id="classfolly_1_1CPUThreadPoolExecutor_html_aea38354a749daf414d56f610d91f68c0"><div class="ttname"><a href="classfolly_1_1CPUThreadPoolExecutor.html#aea38354a749daf414d56f610d91f68c0">folly::CPUThreadPoolExecutor::taskQueue_</a></div><div class="ttdeci">std::unique_ptr&lt; BlockingQueue&lt; CPUTask &gt; &gt; taskQueue_</div><div class="ttdef"><b>Definition:</b> <a href="CPUThreadPoolExecutor_8h_source.html#l00149">CPUThreadPoolExecutor.h:149</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abb9c1f9ed3f552ddff8af7d168ca1c77"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1BlockingQueue.html">BlockingQueue</a>&lt; <a class="el" href="structfolly_1_1CPUThreadPoolExecutor_1_1CPUTask.html">CPUThreadPoolExecutor::CPUTask</a> &gt; * folly::CPUThreadPoolExecutor::getTaskQueue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00148">148</a> of file <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html">CPUThreadPoolExecutor.cpp</a>.</p>

<p>References <a class="el" href="CPUThreadPoolExecutor_8h_source.html#l00149">taskQueue_</a>.</p>
<div class="fragment"><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                                    {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1CPUThreadPoolExecutor.html#aea38354a749daf414d56f610d91f68c0">taskQueue_</a>.get();</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;}</div><div class="ttc" id="classfolly_1_1CPUThreadPoolExecutor_html_aea38354a749daf414d56f610d91f68c0"><div class="ttname"><a href="classfolly_1_1CPUThreadPoolExecutor.html#aea38354a749daf414d56f610d91f68c0">folly::CPUThreadPoolExecutor::taskQueue_</a></div><div class="ttdeci">std::unique_ptr&lt; BlockingQueue&lt; CPUTask &gt; &gt; taskQueue_</div><div class="ttdef"><b>Definition:</b> <a href="CPUThreadPoolExecutor_8h_source.html#l00149">CPUThreadPoolExecutor.h:149</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6717adfe595ecd0204cf25a4fa554cff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t folly::CPUThreadPoolExecutor::getTaskQueueSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00143">143</a> of file <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html">CPUThreadPoolExecutor.cpp</a>.</p>

<p>References <a class="el" href="CPUThreadPoolExecutor_8h_source.html#l00149">taskQueue_</a>.</p>
<div class="fragment"><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                                                     {</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1CPUThreadPoolExecutor.html#aea38354a749daf414d56f610d91f68c0">taskQueue_</a>-&gt;size();</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;}</div><div class="ttc" id="classfolly_1_1CPUThreadPoolExecutor_html_aea38354a749daf414d56f610d91f68c0"><div class="ttname"><a href="classfolly_1_1CPUThreadPoolExecutor.html#aea38354a749daf414d56f610d91f68c0">folly::CPUThreadPoolExecutor::taskQueue_</a></div><div class="ttdeci">std::unique_ptr&lt; BlockingQueue&lt; CPUTask &gt; &gt; taskQueue_</div><div class="ttdef"><b>Definition:</b> <a href="CPUThreadPoolExecutor_8h_source.html#l00149">CPUThreadPoolExecutor.h:149</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a75d9316a8410f8f0db7a232fcfbd3588"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::CPUThreadPoolExecutor::stopThreads </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a8396abf474fb343693816796f66ec4d9">folly::ThreadPoolExecutor</a>.</p>

<p>Definition at line <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00210">210</a> of file <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html">CPUThreadPoolExecutor.cpp</a>.</p>

<p>References <a class="el" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt_source.html#l00083">i</a>, <a class="el" href="Executor_8h_source.html#l00048">folly::Executor::LO_PRI</a>, <a class="el" href="CPUThreadPoolExecutor_8h_source.html#l00149">taskQueue_</a>, and <a class="el" href="CPUThreadPoolExecutor_8h_source.html#l00150">threadsToStop_</a>.</p>
<div class="fragment"><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                                                {</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <a class="code" href="classfolly_1_1CPUThreadPoolExecutor.html#ada7aa83e4fe197992761fa615fdf6c2c">threadsToStop_</a> += n;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> = 0; <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> &lt; n; <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>++) {</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <a class="code" href="classfolly_1_1CPUThreadPoolExecutor.html#aea38354a749daf414d56f610d91f68c0">taskQueue_</a>-&gt;addWithPriority(CPUTask(), <a class="code" href="classfolly_1_1Executor.html#afbb7f50dbb65dd3395aab6dcd5603cf5">Executor::LO_PRI</a>);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  }</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;}</div><div class="ttc" id="classfolly_1_1CPUThreadPoolExecutor_html_aea38354a749daf414d56f610d91f68c0"><div class="ttname"><a href="classfolly_1_1CPUThreadPoolExecutor.html#aea38354a749daf414d56f610d91f68c0">folly::CPUThreadPoolExecutor::taskQueue_</a></div><div class="ttdeci">std::unique_ptr&lt; BlockingQueue&lt; CPUTask &gt; &gt; taskQueue_</div><div class="ttdef"><b>Definition:</b> <a href="CPUThreadPoolExecutor_8h_source.html#l00149">CPUThreadPoolExecutor.h:149</a></div></div>
<div class="ttc" id="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt_html_a7e98b8a17c0aad30ba64d47b74e2a6c1"><div class="ttname"><a href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt_source.html#l00083">gtest_output_test_golden_lin.txt:83</a></div></div>
<div class="ttc" id="classfolly_1_1Executor_html_afbb7f50dbb65dd3395aab6dcd5603cf5"><div class="ttname"><a href="classfolly_1_1Executor.html#afbb7f50dbb65dd3395aab6dcd5603cf5">folly::Executor::LO_PRI</a></div><div class="ttdeci">static const int8_t LO_PRI</div><div class="ttdef"><b>Definition:</b> <a href="Executor_8h_source.html#l00048">Executor.h:48</a></div></div>
<div class="ttc" id="classfolly_1_1CPUThreadPoolExecutor_html_ada7aa83e4fe197992761fa615fdf6c2c"><div class="ttname"><a href="classfolly_1_1CPUThreadPoolExecutor.html#ada7aa83e4fe197992761fa615fdf6c2c">folly::CPUThreadPoolExecutor::threadsToStop_</a></div><div class="ttdeci">std::atomic&lt; ssize_t &gt; threadsToStop_</div><div class="ttdef"><b>Definition:</b> <a href="CPUThreadPoolExecutor_8h_source.html#l00150">CPUThreadPoolExecutor.h:150</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a934a41205b6efed452086a71d29a63f6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::CPUThreadPoolExecutor::taskShouldStop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1Optional.html">folly::Optional</a>&lt; <a class="el" href="structfolly_1_1CPUThreadPoolExecutor_1_1CPUTask.html">CPUTask</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00162">162</a> of file <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html">CPUThreadPoolExecutor.cpp</a>.</p>

<p>References <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00153">tryDecrToStop()</a>, and <a class="el" href="ThreadPoolExecutor_8cpp_source.html#l00393">folly::ThreadPoolExecutor::tryTimeoutThread()</a>.</p>

<p>Referenced by <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00174">threadRun()</a>.</p>
<div class="fragment"><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                                                                       {</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1CPUThreadPoolExecutor.html#af334f54b283ee17693c4705345efcd41">tryDecrToStop</a>()) {</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  }</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keywordflow">if</span> (task) {</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a4666770785a22ccac5dc9be63cdf04f9">tryTimeoutThread</a>();</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  }</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;}</div><div class="ttc" id="classfolly_1_1CPUThreadPoolExecutor_html_af334f54b283ee17693c4705345efcd41"><div class="ttname"><a href="classfolly_1_1CPUThreadPoolExecutor.html#af334f54b283ee17693c4705345efcd41">folly::CPUThreadPoolExecutor::tryDecrToStop</a></div><div class="ttdeci">bool tryDecrToStop()</div><div class="ttdef"><b>Definition:</b> <a href="CPUThreadPoolExecutor_8cpp_source.html#l00153">CPUThreadPoolExecutor.cpp:153</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_a4666770785a22ccac5dc9be63cdf04f9"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#a4666770785a22ccac5dc9be63cdf04f9">folly::ThreadPoolExecutor::tryTimeoutThread</a></div><div class="ttdeci">bool tryTimeoutThread()</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8cpp_source.html#l00393">ThreadPoolExecutor.cpp:393</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad5278fff910f7f5d109c2d7015633857"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::CPUThreadPoolExecutor::threadRun </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1ThreadPoolExecutor.html#ac1aabf9ff5d0c94a8f383e1e2791c4ae">ThreadPtr</a>&#160;</td>
          <td class="paramname"><em>thread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classfolly_1_1ThreadPoolExecutor.html#a94dcf617503821d36304ff3bda13d09a">folly::ThreadPoolExecutor</a>.</p>

<p>Definition at line <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00174">174</a> of file <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html">CPUThreadPoolExecutor.cpp</a>.</p>

<p>References <a class="el" href="ThreadPoolExecutor_8cpp_source.html#l00305">folly::ThreadPoolExecutor::StoppedThreadQueue::add()</a>, <a class="el" href="ThreadPoolExecutor_8h_source.html#l00293">folly::ThreadPoolExecutor::isJoin_</a>, <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>, <a class="el" href="ThreadPoolExecutor_8h_source.html#l00300">folly::ThreadPoolExecutor::observers_</a>, <a class="el" href="GlobalThreadPoolList_8cpp_source.html#l00213">folly::ThreadPoolListHook::registerThread()</a>, <a class="el" href="ThreadPoolExecutor_8h_source.html#l00247">folly::ThreadPoolExecutor::ThreadList::remove()</a>, <a class="el" href="ThreadPoolExecutor_8cpp_source.html#l00071">folly::ThreadPoolExecutor::runTask()</a>, <a class="el" href="ThreadPoolExecutor_8h_source.html#l00292">folly::ThreadPoolExecutor::stoppedThreads_</a>, <a class="el" href="CPUThreadPoolExecutor_8h_source.html#l00149">taskQueue_</a>, <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00162">taskShouldStop()</a>, <a class="el" href="ThreadPoolExecutor_8h_source.html#l00290">folly::ThreadPoolExecutor::threadList_</a>, <a class="el" href="ThreadPoolExecutor_8h_source.html#l00291">folly::ThreadPoolExecutor::threadListLock_</a>, <a class="el" href="ThreadPoolExecutor_8h_source.html#l00301">folly::ThreadPoolExecutor::threadPoolHook_</a>, <a class="el" href="CPUThreadPoolExecutor_8h_source.html#l00150">threadsToStop_</a>, <a class="el" href="ThreadPoolExecutor_8h_source.html#l00316">folly::ThreadPoolExecutor::threadTimeout_</a>, <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00153">tryDecrToStop()</a>, and <a class="el" href="Likely_8h_source.html#l00048">UNLIKELY</a>.</p>
<div class="fragment"><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                                                      {</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  this-&gt;<a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a44998d8ab01644b469bc6de2ee434daf">threadPoolHook_</a>.<a class="code" href="classfolly_1_1ThreadPoolListHook.html#a7635ff697a7589a768419b04d02981dc">registerThread</a>();</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  thread-&gt;startupBaton.post();</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keyword">auto</span> task = <a class="code" href="classfolly_1_1CPUThreadPoolExecutor.html#aea38354a749daf414d56f610d91f68c0">taskQueue_</a>-&gt;try_take_for(<a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a5e1d7ff6007e105ca359ff5dc3b7a0c5">threadTimeout_</a>);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="comment">// Handle thread stopping, either by task timeout, or</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="comment">// by &#39;poison&#39; task added in join() or stop().</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="Likely_8h.html#ab10d0a221f4d7a706701b806c8135fd7">UNLIKELY</a>(!task || task.value().poison)) {</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      <span class="comment">// Actually remove the thread from the list.</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      SharedMutex::WriteHolder w{&amp;<a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a1a291baad862005a9dc5d919ebff91b1">threadListLock_</a>};</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1CPUThreadPoolExecutor.html#a934a41205b6efed452086a71d29a63f6">taskShouldStop</a>(task)) {</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; o : <a class="code" href="classfolly_1_1ThreadPoolExecutor.html#af81dab3b993e3df398e2d90b44702ef9">observers_</a>) {</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;          o-&gt;threadStopped(thread.get());</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        }</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a63382ab18584c9e822e3af01913a7022">threadList_</a>.<a class="code" href="classfolly_1_1ThreadPoolExecutor_1_1ThreadList.html#a9e96fcda9a27260a66ebf6426c929f22">remove</a>(thread);</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a87202c5f5fdbce422e2d973779fa1689">stoppedThreads_</a>.<a class="code" href="classfolly_1_1ThreadPoolExecutor_1_1StoppedThreadQueue.html#a37d8fb71120735fa7e51b5dd392fab74">add</a>(thread);</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      }</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    }</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a595daa9367382c2d2dece38a0541d348">runTask</a>(thread, <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(task.value()));</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="Likely_8h.html#ab10d0a221f4d7a706701b806c8135fd7">UNLIKELY</a>(<a class="code" href="classfolly_1_1CPUThreadPoolExecutor.html#ada7aa83e4fe197992761fa615fdf6c2c">threadsToStop_</a> &gt; 0 &amp;&amp; !<a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a189d66d9d03c7ef361025c0aac1e86bc">isJoin_</a>)) {</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      SharedMutex::WriteHolder w{&amp;<a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a1a291baad862005a9dc5d919ebff91b1">threadListLock_</a>};</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classfolly_1_1CPUThreadPoolExecutor.html#af334f54b283ee17693c4705345efcd41">tryDecrToStop</a>()) {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a63382ab18584c9e822e3af01913a7022">threadList_</a>.<a class="code" href="classfolly_1_1ThreadPoolExecutor_1_1ThreadList.html#a9e96fcda9a27260a66ebf6426c929f22">remove</a>(thread);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <a class="code" href="classfolly_1_1ThreadPoolExecutor.html#a87202c5f5fdbce422e2d973779fa1689">stoppedThreads_</a>.<a class="code" href="classfolly_1_1ThreadPoolExecutor_1_1StoppedThreadQueue.html#a37d8fb71120735fa7e51b5dd392fab74">add</a>(thread);</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;      }</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    }</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  }</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;}</div><div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_a595daa9367382c2d2dece38a0541d348"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#a595daa9367382c2d2dece38a0541d348">folly::ThreadPoolExecutor::runTask</a></div><div class="ttdeci">static void runTask(const ThreadPtr &amp;thread, Task &amp;&amp;task)</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8cpp_source.html#l00071">ThreadPoolExecutor.cpp:71</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_a63382ab18584c9e822e3af01913a7022"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#a63382ab18584c9e822e3af01913a7022">folly::ThreadPoolExecutor::threadList_</a></div><div class="ttdeci">ThreadList threadList_</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8h_source.html#l00290">ThreadPoolExecutor.h:290</a></div></div>
<div class="ttc" id="classfolly_1_1CPUThreadPoolExecutor_html_aea38354a749daf414d56f610d91f68c0"><div class="ttname"><a href="classfolly_1_1CPUThreadPoolExecutor.html#aea38354a749daf414d56f610d91f68c0">folly::CPUThreadPoolExecutor::taskQueue_</a></div><div class="ttdeci">std::unique_ptr&lt; BlockingQueue&lt; CPUTask &gt; &gt; taskQueue_</div><div class="ttdef"><b>Definition:</b> <a href="CPUThreadPoolExecutor_8h_source.html#l00149">CPUThreadPoolExecutor.h:149</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_a1a291baad862005a9dc5d919ebff91b1"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#a1a291baad862005a9dc5d919ebff91b1">folly::ThreadPoolExecutor::threadListLock_</a></div><div class="ttdeci">SharedMutex threadListLock_</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8h_source.html#l00291">ThreadPoolExecutor.h:291</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_a5e1d7ff6007e105ca359ff5dc3b7a0c5"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#a5e1d7ff6007e105ca359ff5dc3b7a0c5">folly::ThreadPoolExecutor::threadTimeout_</a></div><div class="ttdeci">std::chrono::milliseconds threadTimeout_</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8h_source.html#l00316">ThreadPoolExecutor.h:316</a></div></div>
<div class="ttc" id="classfolly_1_1CPUThreadPoolExecutor_html_af334f54b283ee17693c4705345efcd41"><div class="ttname"><a href="classfolly_1_1CPUThreadPoolExecutor.html#af334f54b283ee17693c4705345efcd41">folly::CPUThreadPoolExecutor::tryDecrToStop</a></div><div class="ttdeci">bool tryDecrToStop()</div><div class="ttdef"><b>Definition:</b> <a href="CPUThreadPoolExecutor_8cpp_source.html#l00153">CPUThreadPoolExecutor.cpp:153</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_a44998d8ab01644b469bc6de2ee434daf"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#a44998d8ab01644b469bc6de2ee434daf">folly::ThreadPoolExecutor::threadPoolHook_</a></div><div class="ttdeci">folly::ThreadPoolListHook threadPoolHook_</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8h_source.html#l00301">ThreadPoolExecutor.h:301</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_a189d66d9d03c7ef361025c0aac1e86bc"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#a189d66d9d03c7ef361025c0aac1e86bc">folly::ThreadPoolExecutor::isJoin_</a></div><div class="ttdeci">std::atomic&lt; bool &gt; isJoin_</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8h_source.html#l00293">ThreadPoolExecutor.h:293</a></div></div>
<div class="ttc" id="classfolly_1_1CPUThreadPoolExecutor_html_a934a41205b6efed452086a71d29a63f6"><div class="ttname"><a href="classfolly_1_1CPUThreadPoolExecutor.html#a934a41205b6efed452086a71d29a63f6">folly::CPUThreadPoolExecutor::taskShouldStop</a></div><div class="ttdeci">bool taskShouldStop(folly::Optional&lt; CPUTask &gt; &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="CPUThreadPoolExecutor_8cpp_source.html#l00162">CPUThreadPoolExecutor.cpp:162</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_af81dab3b993e3df398e2d90b44702ef9"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#af81dab3b993e3df398e2d90b44702ef9">folly::ThreadPoolExecutor::observers_</a></div><div class="ttdeci">std::vector&lt; std::shared_ptr&lt; Observer &gt; &gt; observers_</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8h_source.html#l00300">ThreadPoolExecutor.h:300</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadPoolExecutor_1_1ThreadList_html_a9e96fcda9a27260a66ebf6426c929f22"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor_1_1ThreadList.html#a9e96fcda9a27260a66ebf6426c929f22">folly::ThreadPoolExecutor::ThreadList::remove</a></div><div class="ttdeci">void remove(const ThreadPtr &amp;state)</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8h_source.html#l00247">ThreadPoolExecutor.h:247</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadPoolExecutor_1_1StoppedThreadQueue_html_a37d8fb71120735fa7e51b5dd392fab74"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor_1_1StoppedThreadQueue.html#a37d8fb71120735fa7e51b5dd392fab74">folly::ThreadPoolExecutor::StoppedThreadQueue::add</a></div><div class="ttdeci">BlockingQueueAddResult add(ThreadPtr item) override</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8cpp_source.html#l00305">ThreadPoolExecutor.cpp:305</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadPoolExecutor_html_a87202c5f5fdbce422e2d973779fa1689"><div class="ttname"><a href="classfolly_1_1ThreadPoolExecutor.html#a87202c5f5fdbce422e2d973779fa1689">folly::ThreadPoolExecutor::stoppedThreads_</a></div><div class="ttdeci">StoppedThreadQueue stoppedThreads_</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPoolExecutor_8h_source.html#l00292">ThreadPoolExecutor.h:292</a></div></div>
<div class="ttc" id="classfolly_1_1ThreadPoolListHook_html_a7635ff697a7589a768419b04d02981dc"><div class="ttname"><a href="classfolly_1_1ThreadPoolListHook.html#a7635ff697a7589a768419b04d02981dc">folly::ThreadPoolListHook::registerThread</a></div><div class="ttdeci">void registerThread()</div><div class="ttdef"><b>Definition:</b> <a href="GlobalThreadPoolList_8cpp_source.html#l00213">GlobalThreadPoolList.cpp:213</a></div></div>
<div class="ttc" id="Likely_8h_html_ab10d0a221f4d7a706701b806c8135fd7"><div class="ttname"><a href="Likely_8h.html#ab10d0a221f4d7a706701b806c8135fd7">UNLIKELY</a></div><div class="ttdeci">#define UNLIKELY(x)</div><div class="ttdef"><b>Definition:</b> <a href="Likely_8h_source.html#l00048">Likely.h:48</a></div></div>
<div class="ttc" id="classfolly_1_1CPUThreadPoolExecutor_html_ada7aa83e4fe197992761fa615fdf6c2c"><div class="ttname"><a href="classfolly_1_1CPUThreadPoolExecutor.html#ada7aa83e4fe197992761fa615fdf6c2c">folly::CPUThreadPoolExecutor::threadsToStop_</a></div><div class="ttdeci">std::atomic&lt; ssize_t &gt; threadsToStop_</div><div class="ttdef"><b>Definition:</b> <a href="CPUThreadPoolExecutor_8h_source.html#l00150">CPUThreadPoolExecutor.h:150</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af334f54b283ee17693c4705345efcd41"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::CPUThreadPoolExecutor::tryDecrToStop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00153">153</a> of file <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html">CPUThreadPoolExecutor.cpp</a>.</p>

<p>References <a class="el" href="CPUThreadPoolExecutor_8h_source.html#l00150">threadsToStop_</a>.</p>

<p>Referenced by <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00162">taskShouldStop()</a>, and <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00174">threadRun()</a>.</p>
<div class="fragment"><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                                          {</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keyword">auto</span> toStop = <a class="code" href="classfolly_1_1CPUThreadPoolExecutor.html#ada7aa83e4fe197992761fa615fdf6c2c">threadsToStop_</a>.load(std::memory_order_relaxed);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="keywordflow">if</span> (toStop &lt;= 0) {</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  }</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <a class="code" href="classfolly_1_1CPUThreadPoolExecutor.html#ada7aa83e4fe197992761fa615fdf6c2c">threadsToStop_</a>.store(toStop - 1, std::memory_order_relaxed);</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;}</div><div class="ttc" id="classfolly_1_1CPUThreadPoolExecutor_html_ada7aa83e4fe197992761fa615fdf6c2c"><div class="ttname"><a href="classfolly_1_1CPUThreadPoolExecutor.html#ada7aa83e4fe197992761fa615fdf6c2c">folly::CPUThreadPoolExecutor::threadsToStop_</a></div><div class="ttdeci">std::atomic&lt; ssize_t &gt; threadsToStop_</div><div class="ttdef"><b>Definition:</b> <a href="CPUThreadPoolExecutor_8h_source.html#l00150">CPUThreadPoolExecutor.h:150</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a19dd417caa31d3ec112e8bdd1a9b90b2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const size_t folly::CPUThreadPoolExecutor::kDefaultMaxQueueSize = 1 &lt;&lt; 14</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="CPUThreadPoolExecutor_8h_source.html#l00136">136</a> of file <a class="el" href="CPUThreadPoolExecutor_8h_source.html">CPUThreadPoolExecutor.h</a>.</p>

</div>
</div>
<a class="anchor" id="aea38354a749daf414d56f610d91f68c0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classfolly_1_1BlockingQueue.html">BlockingQueue</a>&lt;<a class="el" href="structfolly_1_1CPUThreadPoolExecutor_1_1CPUTask.html">CPUTask</a>&gt; &gt; folly::CPUThreadPoolExecutor::taskQueue_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="CPUThreadPoolExecutor_8h_source.html#l00149">149</a> of file <a class="el" href="CPUThreadPoolExecutor_8h_source.html">CPUThreadPoolExecutor.h</a>.</p>

<p>Referenced by <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00110">add()</a>, <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00139">getNumPriorities()</a>, <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00218">getPendingTaskCountImpl()</a>, <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00148">getTaskQueue()</a>, <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00143">getTaskQueueSize()</a>, <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00210">stopThreads()</a>, and <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00174">threadRun()</a>.</p>

</div>
</div>
<a class="anchor" id="ada7aa83e4fe197992761fa615fdf6c2c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;ssize_t&gt; folly::CPUThreadPoolExecutor::threadsToStop_ {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="CPUThreadPoolExecutor_8h_source.html#l00150">150</a> of file <a class="el" href="CPUThreadPoolExecutor_8h_source.html">CPUThreadPoolExecutor.h</a>.</p>

<p>Referenced by <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00210">stopThreads()</a>, <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00174">threadRun()</a>, <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00153">tryDecrToStop()</a>, and <a class="el" href="CPUThreadPoolExecutor_8cpp_source.html#l00101">~CPUThreadPoolExecutor()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>proxygen/folly/folly/executors/<a class="el" href="CPUThreadPoolExecutor_8h_source.html">CPUThreadPoolExecutor.h</a></li>
<li>proxygen/folly/folly/executors/<a class="el" href="CPUThreadPoolExecutor_8cpp_source.html">CPUThreadPoolExecutor.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefolly.html">folly</a></li><li class="navelem"><a class="el" href="classfolly_1_1CPUThreadPoolExecutor.html">CPUThreadPoolExecutor</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
