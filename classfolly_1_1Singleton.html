<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>proxygen: folly::Singleton&lt; T, Tag, VaultTag &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">proxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classfolly_1_1Singleton.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="classfolly_1_1Singleton-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">folly::Singleton&lt; T, Tag, VaultTag &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="Singleton_8h_source.html">Singleton.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:af0ebfa2f9000787dba16e4843c26c6ce"><td class="memItemLeft" align="right" valign="top">typedef std::function&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> *(void)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Singleton.html#af0ebfa2f9000787dba16e4843c26c6ce">CreateFunc</a></td></tr>
<tr class="separator:af0ebfa2f9000787dba16e4843c26c6ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac55c55e7e61eb6f1fb0910f5fc660db7"><td class="memItemLeft" align="right" valign="top">typedef std::function&lt; void(<a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> *)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Singleton.html#ac55c55e7e61eb6f1fb0910f5fc660db7">TeardownFunc</a></td></tr>
<tr class="separator:ac55c55e7e61eb6f1fb0910f5fc660db7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab18c0e9927c40cc6031314b2afe5176f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Singleton.html#ab18c0e9927c40cc6031314b2afe5176f">Singleton</a> (std::nullptr_t=<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>, typename <a class="el" href="classfolly_1_1Singleton.html#ac55c55e7e61eb6f1fb0910f5fc660db7">Singleton::TeardownFunc</a> t=<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>)</td></tr>
<tr class="separator:ab18c0e9927c40cc6031314b2afe5176f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99522af8d849a695704ef220a2ea4a37"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Singleton.html#a99522af8d849a695704ef220a2ea4a37">Singleton</a> (typename <a class="el" href="classfolly_1_1Singleton.html#af0ebfa2f9000787dba16e4843c26c6ce">Singleton::CreateFunc</a> <a class="el" href="OptionalTest_8cpp.html#adc08ed1554f35803d229aeaf11216b3f">c</a>, typename <a class="el" href="classfolly_1_1Singleton.html#ac55c55e7e61eb6f1fb0910f5fc660db7">Singleton::TeardownFunc</a> t=<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>)</td></tr>
<tr class="separator:a99522af8d849a695704ef220a2ea4a37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ac06f3167b66cb77735c2d16cf83df3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1Singleton.html">Singleton</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Singleton.html#a8ac06f3167b66cb77735c2d16cf83df3">shouldEagerInit</a> ()</td></tr>
<tr class="separator:a8ac06f3167b66cb77735c2d16cf83df3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a15c737d0ff6f0e1d798b2c39226d6339"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Singleton.html#a15c737d0ff6f0e1d798b2c39226d6339">get</a> ()</td></tr>
<tr class="separator:a15c737d0ff6f0e1d798b2c39226d6339"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d13ebec1b30f659bbffa2a4fbf414fb"><td class="memItemLeft" align="right" valign="top">static std::weak_ptr&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Singleton.html#a4d13ebec1b30f659bbffa2a4fbf414fb">get_weak</a> ()</td></tr>
<tr class="separator:a4d13ebec1b30f659bbffa2a4fbf414fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac14b4b0ff6124bbb8e7c608317f8118"><td class="memItemLeft" align="right" valign="top">static std::shared_ptr&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Singleton.html#aac14b4b0ff6124bbb8e7c608317f8118">try_get</a> ()</td></tr>
<tr class="separator:aac14b4b0ff6124bbb8e7c608317f8118"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21bffed277ad3cb9621420f3a45ab9d9"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classfolly_1_1ReadMostlySharedPtr.html">folly::ReadMostlySharedPtr</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Singleton.html#a21bffed277ad3cb9621420f3a45ab9d9">try_get_fast</a> ()</td></tr>
<tr class="separator:a21bffed277ad3cb9621420f3a45ab9d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7a2bce9a44e202b6e74c78711dde185"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Singleton.html#af7a2bce9a44e202b6e74c78711dde185">vivify</a> ()</td></tr>
<tr class="separator:af7a2bce9a44e202b6e74c78711dde185"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e7459cdfe284e46130bd8f763fcfdfa"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Singleton.html#a4e7459cdfe284e46130bd8f763fcfdfa">make_mock</a> (std::nullptr_t=<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>, typename <a class="el" href="classfolly_1_1Singleton.html">Singleton</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::<a class="el" href="classfolly_1_1Singleton.html#ac55c55e7e61eb6f1fb0910f5fc660db7">TeardownFunc</a> t=<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>)</td></tr>
<tr class="separator:a4e7459cdfe284e46130bd8f763fcfdfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6307a7115f4790c232dc12130587b55c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Singleton.html#a6307a7115f4790c232dc12130587b55c">make_mock</a> (<a class="el" href="classfolly_1_1Singleton.html#af0ebfa2f9000787dba16e4843c26c6ce">CreateFunc</a> <a class="el" href="OptionalTest_8cpp.html#adc08ed1554f35803d229aeaf11216b3f">c</a>, typename <a class="el" href="classfolly_1_1Singleton.html">Singleton</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::<a class="el" href="classfolly_1_1Singleton.html#ac55c55e7e61eb6f1fb0910f5fc660db7">TeardownFunc</a> t=<a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a>)</td></tr>
<tr class="separator:a6307a7115f4790c232dc12130587b55c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:affcf1f6cf165f1a8c440a5d350b15c9b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structfolly_1_1detail_1_1SingletonHolder.html">detail::SingletonHolder</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Singleton.html#affcf1f6cf165f1a8c440a5d350b15c9b">getEntry</a> ()</td></tr>
<tr class="separator:affcf1f6cf165f1a8c440a5d350b15c9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78e1366755165103edfd58756ee6ab76"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structfolly_1_1detail_1_1SingletonHolder.html">detail::SingletonHolder</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::<a class="el" href="classfolly_1_1Singleton.html#ac55c55e7e61eb6f1fb0910f5fc660db7">TeardownFunc</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1Singleton.html#a78e1366755165103edfd58756ee6ab76">getTeardownFunc</a> (<a class="el" href="classfolly_1_1Singleton.html#ac55c55e7e61eb6f1fb0910f5fc660db7">TeardownFunc</a> t)</td></tr>
<tr class="separator:a78e1366755165103edfd58756ee6ab76"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename T, typename Tag = detail::DefaultTag, typename VaultTag = detail::DefaultTag&gt;<br />
class folly::Singleton&lt; T, Tag, VaultTag &gt;</h3>


<p>Definition at line <a class="el" href="Singleton_8h_source.html#l00571">571</a> of file <a class="el" href="Singleton_8h_source.html">Singleton.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="af0ebfa2f9000787dba16e4843c26c6ce"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T, typename Tag = detail::DefaultTag, typename VaultTag = detail::DefaultTag&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef std::function&lt;<a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>*(void)&gt; <a class="el" href="classfolly_1_1Singleton.html">folly::Singleton</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="structfolly_1_1detail_1_1Tag.html">Tag</a>, VaultTag &gt;::<a class="el" href="classfolly_1_1Singleton.html#af0ebfa2f9000787dba16e4843c26c6ce">CreateFunc</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Singleton_8h_source.html#l00573">573</a> of file <a class="el" href="Singleton_8h_source.html">Singleton.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac55c55e7e61eb6f1fb0910f5fc660db7"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T, typename Tag = detail::DefaultTag, typename VaultTag = detail::DefaultTag&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef std::function&lt;void(<a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>*)&gt; <a class="el" href="classfolly_1_1Singleton.html">folly::Singleton</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="structfolly_1_1detail_1_1Tag.html">Tag</a>, VaultTag &gt;::<a class="el" href="classfolly_1_1Singleton.html#ac55c55e7e61eb6f1fb0910f5fc660db7">TeardownFunc</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Singleton_8h_source.html#l00574">574</a> of file <a class="el" href="Singleton_8h_source.html">Singleton.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ab18c0e9927c40cc6031314b2afe5176f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T, typename Tag = detail::DefaultTag, typename VaultTag = detail::DefaultTag&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1Singleton.html">folly::Singleton</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="structfolly_1_1detail_1_1Tag.html">Tag</a>, VaultTag &gt;::<a class="el" href="classfolly_1_1Singleton.html">Singleton</a> </td>
          <td>(</td>
          <td class="paramtype">std::nullptr_t&#160;</td>
          <td class="paramname"> = <code><a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">typename <a class="el" href="classfolly_1_1Singleton.html">Singleton</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="structfolly_1_1detail_1_1Tag.html">Tag</a>, VaultTag &gt;::<a class="el" href="classfolly_1_1Singleton.html#ac55c55e7e61eb6f1fb0910f5fc660db7">TeardownFunc</a>&#160;</td>
          <td class="paramname"><em>t</em> = <code><a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Singleton_8h_source.html#l00611">611</a> of file <a class="el" href="Singleton_8h_source.html">Singleton.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;      : <a class="code" href="classfolly_1_1Singleton.html#ab18c0e9927c40cc6031314b2afe5176f">Singleton</a>([]() { <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>; }, <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(<a class="code" href="namespacefolly_1_1pushmi_1_1detail.html#a83db2e678e3a0679ce63d24026fcf5ff">t</a>)) {}</div><div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="namespacefolly_html_a0652a9c51b69e7a13d40ccbcb139bc55"><div class="ttname"><a href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">folly::T</a></div><div class="ttdeci">folly::std T</div></div>
<div class="ttc" id="classfolly_1_1Singleton_html_ab18c0e9927c40cc6031314b2afe5176f"><div class="ttname"><a href="classfolly_1_1Singleton.html#ab18c0e9927c40cc6031314b2afe5176f">folly::Singleton::Singleton</a></div><div class="ttdeci">Singleton(std::nullptr_t=nullptr, typename Singleton::TeardownFunc t=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Singleton_8h_source.html#l00611">Singleton.h:611</a></div></div>
<div class="ttc" id="namespacefolly_1_1pushmi_1_1detail_html_a83db2e678e3a0679ce63d24026fcf5ff"><div class="ttname"><a href="namespacefolly_1_1pushmi_1_1detail.html#a83db2e678e3a0679ce63d24026fcf5ff">folly::pushmi::detail::t</a></div><div class="ttdeci">requires Tuple &amp;&amp; t</div><div class="ttdef"><b>Definition:</b> <a href="extension__operators_8h_source.html#l00048">extension_operators.h:48</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a99522af8d849a695704ef220a2ea4a37"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T, typename Tag = detail::DefaultTag, typename VaultTag = detail::DefaultTag&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1Singleton.html">folly::Singleton</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="structfolly_1_1detail_1_1Tag.html">Tag</a>, VaultTag &gt;::<a class="el" href="classfolly_1_1Singleton.html">Singleton</a> </td>
          <td>(</td>
          <td class="paramtype">typename <a class="el" href="classfolly_1_1Singleton.html">Singleton</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="structfolly_1_1detail_1_1Tag.html">Tag</a>, VaultTag &gt;::<a class="el" href="classfolly_1_1Singleton.html#af0ebfa2f9000787dba16e4843c26c6ce">CreateFunc</a>&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">typename <a class="el" href="classfolly_1_1Singleton.html">Singleton</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="structfolly_1_1detail_1_1Tag.html">Tag</a>, VaultTag &gt;::<a class="el" href="classfolly_1_1Singleton.html#ac55c55e7e61eb6f1fb0910f5fc660db7">TeardownFunc</a>&#160;</td>
          <td class="paramname"><em>t</em> = <code><a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Singleton_8h_source.html#l00616">616</a> of file <a class="el" href="Singleton_8h_source.html">Singleton.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                                                  {</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="OptionalTest_8cpp.html#adc08ed1554f35803d229aeaf11216b3f">c</a> == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;      <a class="code" href="namespacefolly_1_1detail.html#a8344589a0272091fb390fa77e1501b7f">detail::singletonThrowNullCreator</a>(<span class="keyword">typeid</span>(<a class="code" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>));</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    }</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <span class="keyword">auto</span> vault = SingletonVault::singleton&lt;VaultTag&gt;();</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <a class="code" href="classfolly_1_1Singleton.html#affcf1f6cf165f1a8c440a5d350b15c9b">getEntry</a>().registerSingleton(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(<a class="code" href="OptionalTest_8cpp.html#adc08ed1554f35803d229aeaf11216b3f">c</a>), <a class="code" href="classfolly_1_1Singleton.html#a78e1366755165103edfd58756ee6ab76">getTeardownFunc</a>(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(<a class="code" href="namespacefolly_1_1pushmi_1_1detail.html#a83db2e678e3a0679ce63d24026fcf5ff">t</a>)));</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    vault-&gt;registerSingleton(&amp;<a class="code" href="classfolly_1_1Singleton.html#affcf1f6cf165f1a8c440a5d350b15c9b">getEntry</a>());</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  }</div><div class="ttc" id="classfolly_1_1Singleton_html_a78e1366755165103edfd58756ee6ab76"><div class="ttname"><a href="classfolly_1_1Singleton.html#a78e1366755165103edfd58756ee6ab76">folly::Singleton::getTeardownFunc</a></div><div class="ttdeci">static detail::SingletonHolder&lt; T &gt;::TeardownFunc getTeardownFunc(TeardownFunc t)</div><div class="ttdef"><b>Definition:</b> <a href="Singleton_8h_source.html#l00684">Singleton.h:684</a></div></div>
<div class="ttc" id="namespacefolly_1_1detail_html_a8344589a0272091fb390fa77e1501b7f"><div class="ttname"><a href="namespacefolly_1_1detail.html#a8344589a0272091fb390fa77e1501b7f">folly::detail::singletonThrowNullCreator</a></div><div class="ttdeci">void singletonThrowNullCreator(const std::type_info &amp;type)</div><div class="ttdef"><b>Definition:</b> <a href="Singleton_8cpp_source.html#l00174">Singleton.cpp:174</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="namespacefolly_html_a0652a9c51b69e7a13d40ccbcb139bc55"><div class="ttname"><a href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">folly::T</a></div><div class="ttdeci">folly::std T</div></div>
<div class="ttc" id="classfolly_1_1Singleton_html_affcf1f6cf165f1a8c440a5d350b15c9b"><div class="ttname"><a href="classfolly_1_1Singleton.html#affcf1f6cf165f1a8c440a5d350b15c9b">folly::Singleton::getEntry</a></div><div class="ttdeci">static detail::SingletonHolder&lt; T &gt; &amp; getEntry()</div><div class="ttdef"><b>Definition:</b> <a href="Singleton_8h_source.html#l00679">Singleton.h:679</a></div></div>
<div class="ttc" id="namespacefolly_1_1pushmi_1_1detail_html_a83db2e678e3a0679ce63d24026fcf5ff"><div class="ttname"><a href="namespacefolly_1_1pushmi_1_1detail.html#a83db2e678e3a0679ce63d24026fcf5ff">folly::pushmi::detail::t</a></div><div class="ttdeci">requires Tuple &amp;&amp; t</div><div class="ttdef"><b>Definition:</b> <a href="extension__operators_8h_source.html#l00048">extension_operators.h:48</a></div></div>
<div class="ttc" id="OptionalTest_8cpp_html_adc08ed1554f35803d229aeaf11216b3f"><div class="ttname"><a href="OptionalTest_8cpp.html#adc08ed1554f35803d229aeaf11216b3f">c</a></div><div class="ttdeci">char c</div><div class="ttdef"><b>Definition:</b> <a href="OptionalTest_8cpp_source.html#l00053">OptionalTest.cpp:53</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a15c737d0ff6f0e1d798b2c39226d6339"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T, typename Tag = detail::DefaultTag, typename VaultTag = detail::DefaultTag&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>* <a class="el" href="classfolly_1_1Singleton.html">folly::Singleton</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="structfolly_1_1detail_1_1Tag.html">Tag</a>, VaultTag &gt;::get </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Singleton_8h_source.html#l00579">579</a> of file <a class="el" href="Singleton_8h_source.html">Singleton.h</a>.</p>

<p>Referenced by <a class="el" href="SingletonBenchmark_8cpp_source.html#l00100">follySingletonRaw()</a>.</p>
<div class="fragment"><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                                                        {</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1Singleton.html#affcf1f6cf165f1a8c440a5d350b15c9b">getEntry</a>().get();</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  }</div><div class="ttc" id="classfolly_1_1Singleton_html_affcf1f6cf165f1a8c440a5d350b15c9b"><div class="ttname"><a href="classfolly_1_1Singleton.html#affcf1f6cf165f1a8c440a5d350b15c9b">folly::Singleton::getEntry</a></div><div class="ttdeci">static detail::SingletonHolder&lt; T &gt; &amp; getEntry()</div><div class="ttdef"><b>Definition:</b> <a href="Singleton_8h_source.html#l00679">Singleton.h:679</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4d13ebec1b30f659bbffa2a4fbf414fb"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T, typename Tag = detail::DefaultTag, typename VaultTag = detail::DefaultTag&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::weak_ptr&lt;<a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>&gt; <a class="el" href="classfolly_1_1Singleton.html">folly::Singleton</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="structfolly_1_1detail_1_1Tag.html">Tag</a>, VaultTag &gt;::get_weak </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Singleton_8h_source.html#l00587">587</a> of file <a class="el" href="Singleton_8h_source.html">Singleton.h</a>.</p>

<p>Referenced by <a class="el" href="SingletonTest_8cpp_source.html#l00191">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                                                                         {</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1Singleton.html#affcf1f6cf165f1a8c440a5d350b15c9b">getEntry</a>().get_weak();</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  }</div><div class="ttc" id="classfolly_1_1Singleton_html_affcf1f6cf165f1a8c440a5d350b15c9b"><div class="ttname"><a href="classfolly_1_1Singleton.html#affcf1f6cf165f1a8c440a5d350b15c9b">folly::Singleton::getEntry</a></div><div class="ttdeci">static detail::SingletonHolder&lt; T &gt; &amp; getEntry()</div><div class="ttdef"><b>Definition:</b> <a href="Singleton_8h_source.html#l00679">Singleton.h:679</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="affcf1f6cf165f1a8c440a5d350b15c9b"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T, typename Tag = detail::DefaultTag, typename VaultTag = detail::DefaultTag&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structfolly_1_1detail_1_1SingletonHolder.html">detail::SingletonHolder</a>&lt;<a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>&gt;&amp; <a class="el" href="classfolly_1_1Singleton.html">folly::Singleton</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="structfolly_1_1detail_1_1Tag.html">Tag</a>, VaultTag &gt;::getEntry </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Singleton_8h_source.html#l00679">679</a> of file <a class="el" href="Singleton_8h_source.html">Singleton.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                                                     {</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="keywordflow">return</span> detail::SingletonHolder&lt;T&gt;::template singleton&lt;Tag, VaultTag&gt;();</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a78e1366755165103edfd58756ee6ab76"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T, typename Tag = detail::DefaultTag, typename VaultTag = detail::DefaultTag&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structfolly_1_1detail_1_1SingletonHolder.html">detail::SingletonHolder</a>&lt;<a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>&gt;::<a class="el" href="classfolly_1_1Singleton.html#ac55c55e7e61eb6f1fb0910f5fc660db7">TeardownFunc</a> <a class="el" href="classfolly_1_1Singleton.html">folly::Singleton</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="structfolly_1_1detail_1_1Tag.html">Tag</a>, VaultTag &gt;::getTeardownFunc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1Singleton.html#ac55c55e7e61eb6f1fb0910f5fc660db7">TeardownFunc</a>&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Singleton_8h_source.html#l00684">684</a> of file <a class="el" href="Singleton_8h_source.html">Singleton.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;                      {</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacefolly_1_1pushmi_1_1detail.html#a83db2e678e3a0679ce63d24026fcf5ff">t</a> == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;      <span class="keywordflow">return</span> [](<a class="code" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>* <a class="code" href="ParallelBenchmark_8cpp.html#a62448945ba9492b4ac991254a7d267bb">v</a>) { <span class="keyword">delete</span> <a class="code" href="ParallelBenchmark_8cpp.html#a62448945ba9492b4ac991254a7d267bb">v</a>; };</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacefolly_1_1pushmi_1_1detail.html#a83db2e678e3a0679ce63d24026fcf5ff">t</a>;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    }</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  }</div><div class="ttc" id="ParallelBenchmark_8cpp_html_a62448945ba9492b4ac991254a7d267bb"><div class="ttname"><a href="ParallelBenchmark_8cpp.html#a62448945ba9492b4ac991254a7d267bb">v</a></div><div class="ttdeci">auto v</div><div class="ttdef"><b>Definition:</b> <a href="ParallelBenchmark_8cpp_source.html#l00084">ParallelBenchmark.cpp:84</a></div></div>
<div class="ttc" id="namespacefolly_html_a0652a9c51b69e7a13d40ccbcb139bc55"><div class="ttname"><a href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">folly::T</a></div><div class="ttdeci">folly::std T</div></div>
<div class="ttc" id="namespacefolly_1_1pushmi_1_1detail_html_a83db2e678e3a0679ce63d24026fcf5ff"><div class="ttname"><a href="namespacefolly_1_1pushmi_1_1detail.html#a83db2e678e3a0679ce63d24026fcf5ff">folly::pushmi::detail::t</a></div><div class="ttdeci">requires Tuple &amp;&amp; t</div><div class="ttdef"><b>Definition:</b> <a href="extension__operators_8h_source.html#l00048">extension_operators.h:48</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4e7459cdfe284e46130bd8f763fcfdfa"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T, typename Tag = detail::DefaultTag, typename VaultTag = detail::DefaultTag&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="classfolly_1_1Singleton.html">folly::Singleton</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="structfolly_1_1detail_1_1Tag.html">Tag</a>, VaultTag &gt;::make_mock </td>
          <td>(</td>
          <td class="paramtype">std::nullptr_t&#160;</td>
          <td class="paramname"> = <code><a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">typename <a class="el" href="classfolly_1_1Singleton.html">Singleton</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::<a class="el" href="classfolly_1_1Singleton.html#ac55c55e7e61eb6f1fb0910f5fc660db7">TeardownFunc</a>&#160;</td>
          <td class="paramname"><em>t</em> = <code><a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Construct and inject a mock singleton which should be used only from tests. Unlike regular singletons which are initialized once per process lifetime, mock singletons live for the duration of a test. This means that one process running multiple tests can initialize and register the same singleton multiple times. This functionality should be used only from tests since it relaxes validation and performance in order to be able to perform the injection. The returned mock singleton is functionality identical to regular singletons. </p>

<p>Definition at line <a class="el" href="Singleton_8h_source.html#l00660">660</a> of file <a class="el" href="Singleton_8h_source.html">Singleton.h</a>.</p>

<p>Referenced by <a class="el" href="TimekeeperTest_8cpp_source.html#l00082">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                                                     {</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <a class="code" href="classfolly_1_1Singleton.html#a4e7459cdfe284e46130bd8f763fcfdfa">make_mock</a>([]() { <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>; }, <a class="code" href="namespacefolly_1_1pushmi_1_1detail.html#a83db2e678e3a0679ce63d24026fcf5ff">t</a>);</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  }</div><div class="ttc" id="classfolly_1_1Singleton_html_a4e7459cdfe284e46130bd8f763fcfdfa"><div class="ttname"><a href="classfolly_1_1Singleton.html#a4e7459cdfe284e46130bd8f763fcfdfa">folly::Singleton::make_mock</a></div><div class="ttdeci">static void make_mock(std::nullptr_t=nullptr, typename Singleton&lt; T &gt;::TeardownFunc t=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Singleton_8h_source.html#l00660">Singleton.h:660</a></div></div>
<div class="ttc" id="namespacefolly_html_a0652a9c51b69e7a13d40ccbcb139bc55"><div class="ttname"><a href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">folly::T</a></div><div class="ttdeci">folly::std T</div></div>
<div class="ttc" id="namespacefolly_1_1pushmi_1_1detail_html_a83db2e678e3a0679ce63d24026fcf5ff"><div class="ttname"><a href="namespacefolly_1_1pushmi_1_1detail.html#a83db2e678e3a0679ce63d24026fcf5ff">folly::pushmi::detail::t</a></div><div class="ttdeci">requires Tuple &amp;&amp; t</div><div class="ttdef"><b>Definition:</b> <a href="extension__operators_8h_source.html#l00048">extension_operators.h:48</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6307a7115f4790c232dc12130587b55c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T, typename Tag = detail::DefaultTag, typename VaultTag = detail::DefaultTag&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="classfolly_1_1Singleton.html">folly::Singleton</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="structfolly_1_1detail_1_1Tag.html">Tag</a>, VaultTag &gt;::make_mock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1Singleton.html#af0ebfa2f9000787dba16e4843c26c6ce">CreateFunc</a>&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">typename <a class="el" href="classfolly_1_1Singleton.html">Singleton</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &gt;::<a class="el" href="classfolly_1_1Singleton.html#ac55c55e7e61eb6f1fb0910f5fc660db7">TeardownFunc</a>&#160;</td>
          <td class="paramname"><em>t</em> = <code><a class="el" href="http__parser__cpp_8cpp.html#ab979d9d4b4923f7c54d6caa6e1a61936">nullptr</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Singleton_8h_source.html#l00666">666</a> of file <a class="el" href="Singleton_8h_source.html">Singleton.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                                                     {</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="OptionalTest_8cpp.html#adc08ed1554f35803d229aeaf11216b3f">c</a> == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;      <a class="code" href="namespacefolly_1_1detail.html#a8344589a0272091fb390fa77e1501b7f">detail::singletonThrowNullCreator</a>(<span class="keyword">typeid</span>(<a class="code" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>));</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    }</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <span class="keyword">auto</span>&amp; entry = <a class="code" href="classfolly_1_1Singleton.html#affcf1f6cf165f1a8c440a5d350b15c9b">getEntry</a>();</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    entry.registerSingletonMock(<a class="code" href="OptionalTest_8cpp.html#adc08ed1554f35803d229aeaf11216b3f">c</a>, <a class="code" href="classfolly_1_1Singleton.html#a78e1366755165103edfd58756ee6ab76">getTeardownFunc</a>(<a class="code" href="namespacefolly_1_1pushmi_1_1detail.html#a83db2e678e3a0679ce63d24026fcf5ff">t</a>));</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  }</div><div class="ttc" id="classfolly_1_1Singleton_html_a78e1366755165103edfd58756ee6ab76"><div class="ttname"><a href="classfolly_1_1Singleton.html#a78e1366755165103edfd58756ee6ab76">folly::Singleton::getTeardownFunc</a></div><div class="ttdeci">static detail::SingletonHolder&lt; T &gt;::TeardownFunc getTeardownFunc(TeardownFunc t)</div><div class="ttdef"><b>Definition:</b> <a href="Singleton_8h_source.html#l00684">Singleton.h:684</a></div></div>
<div class="ttc" id="namespacefolly_1_1detail_html_a8344589a0272091fb390fa77e1501b7f"><div class="ttname"><a href="namespacefolly_1_1detail.html#a8344589a0272091fb390fa77e1501b7f">folly::detail::singletonThrowNullCreator</a></div><div class="ttdeci">void singletonThrowNullCreator(const std::type_info &amp;type)</div><div class="ttdef"><b>Definition:</b> <a href="Singleton_8cpp_source.html#l00174">Singleton.cpp:174</a></div></div>
<div class="ttc" id="namespacefolly_html_a0652a9c51b69e7a13d40ccbcb139bc55"><div class="ttname"><a href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">folly::T</a></div><div class="ttdeci">folly::std T</div></div>
<div class="ttc" id="classfolly_1_1Singleton_html_affcf1f6cf165f1a8c440a5d350b15c9b"><div class="ttname"><a href="classfolly_1_1Singleton.html#affcf1f6cf165f1a8c440a5d350b15c9b">folly::Singleton::getEntry</a></div><div class="ttdeci">static detail::SingletonHolder&lt; T &gt; &amp; getEntry()</div><div class="ttdef"><b>Definition:</b> <a href="Singleton_8h_source.html#l00679">Singleton.h:679</a></div></div>
<div class="ttc" id="namespacefolly_1_1pushmi_1_1detail_html_a83db2e678e3a0679ce63d24026fcf5ff"><div class="ttname"><a href="namespacefolly_1_1pushmi_1_1detail.html#a83db2e678e3a0679ce63d24026fcf5ff">folly::pushmi::detail::t</a></div><div class="ttdeci">requires Tuple &amp;&amp; t</div><div class="ttdef"><b>Definition:</b> <a href="extension__operators_8h_source.html#l00048">extension_operators.h:48</a></div></div>
<div class="ttc" id="OptionalTest_8cpp_html_adc08ed1554f35803d229aeaf11216b3f"><div class="ttname"><a href="OptionalTest_8cpp.html#adc08ed1554f35803d229aeaf11216b3f">c</a></div><div class="ttdeci">char c</div><div class="ttdef"><b>Definition:</b> <a href="OptionalTest_8cpp_source.html#l00053">OptionalTest.cpp:53</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8ac06f3167b66cb77735c2d16cf83df3"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T, typename Tag = detail::DefaultTag, typename VaultTag = detail::DefaultTag&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1Singleton.html">Singleton</a>&amp; <a class="el" href="classfolly_1_1Singleton.html">folly::Singleton</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="structfolly_1_1detail_1_1Tag.html">Tag</a>, VaultTag &gt;::shouldEagerInit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Should be instantiated as soon as "doEagerInit[Via]" is called. Singletons are usually lazy-loaded (built on-demand) but for those which are known to be needed, to avoid the potential lag for objects that take long to construct during runtime, there is an option to make sure these are built up-front.</p>
<p>Use like: Singleton&lt;Foo&gt; gFooInstance = Singleton&lt;Foo&gt;(...).<a class="el" href="classfolly_1_1Singleton.html#a8ac06f3167b66cb77735c2d16cf83df3">shouldEagerInit()</a>;</p>
<p>Or alternately, define the singleton as usual, and say gFooInstance.shouldEagerInit();</p>
<p>at some point prior to calling registrationComplete(). Then doEagerInit() or doEagerInitVia(Executor*) can be called. </p>

<p>Definition at line <a class="el" href="Singleton_8h_source.html#l00644">644</a> of file <a class="el" href="Singleton_8h_source.html">Singleton.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                               {</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="keyword">auto</span> vault = SingletonVault::singleton&lt;VaultTag&gt;();</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    vault-&gt;addEagerInitSingleton(&amp;<a class="code" href="classfolly_1_1Singleton.html#affcf1f6cf165f1a8c440a5d350b15c9b">getEntry</a>());</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  }</div><div class="ttc" id="classfolly_1_1Singleton_html_affcf1f6cf165f1a8c440a5d350b15c9b"><div class="ttname"><a href="classfolly_1_1Singleton.html#affcf1f6cf165f1a8c440a5d350b15c9b">folly::Singleton::getEntry</a></div><div class="ttdeci">static detail::SingletonHolder&lt; T &gt; &amp; getEntry()</div><div class="ttdef"><b>Definition:</b> <a href="Singleton_8h_source.html#l00679">Singleton.h:679</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aac14b4b0ff6124bbb8e7c608317f8118"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T, typename Tag = detail::DefaultTag, typename VaultTag = detail::DefaultTag&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::shared_ptr&lt;<a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>&gt; <a class="el" href="classfolly_1_1Singleton.html">folly::Singleton</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="structfolly_1_1detail_1_1Tag.html">Tag</a>, VaultTag &gt;::try_get </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Singleton_8h_source.html#l00598">598</a> of file <a class="el" href="Singleton_8h_source.html">Singleton.h</a>.</p>

<p>Referenced by <a class="el" href="SingletonBenchmark_8cpp_source.html#l00114">follySingletonTryGet()</a>, <a class="el" href="SingletonTest_8cpp_source.html#l00314">NeedySingleton::NeedySingleton()</a>, <a class="el" href="SingletonTest_8cpp_source.html#l00326">SelfNeedySingleton::SelfNeedySingleton()</a>, <a class="el" href="SingletonTest_8cpp_source.html#l00671">SlowpokeNeedySingleton::SlowpokeNeedySingleton()</a>, <a class="el" href="SingletonTest_8cpp_source.html#l00049">TEST()</a>, and <a class="el" href="GlobalShutdownSocketSet_8cpp_source.html#l00029">folly::tryGetShutdownSocketSet()</a>.</p>
<div class="fragment"><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                                    {</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1Singleton.html#affcf1f6cf165f1a8c440a5d350b15c9b">getEntry</a>().try_get();</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  }</div><div class="ttc" id="classfolly_1_1Singleton_html_affcf1f6cf165f1a8c440a5d350b15c9b"><div class="ttname"><a href="classfolly_1_1Singleton.html#affcf1f6cf165f1a8c440a5d350b15c9b">folly::Singleton::getEntry</a></div><div class="ttdeci">static detail::SingletonHolder&lt; T &gt; &amp; getEntry()</div><div class="ttdef"><b>Definition:</b> <a href="Singleton_8h_source.html#l00679">Singleton.h:679</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a21bffed277ad3cb9621420f3a45ab9d9"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T, typename Tag = detail::DefaultTag, typename VaultTag = detail::DefaultTag&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classfolly_1_1ReadMostlySharedPtr.html">folly::ReadMostlySharedPtr</a>&lt;<a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>&gt; <a class="el" href="classfolly_1_1Singleton.html">folly::Singleton</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="structfolly_1_1detail_1_1Tag.html">Tag</a>, VaultTag &gt;::try_get_fast </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Singleton_8h_source.html#l00602">602</a> of file <a class="el" href="Singleton_8h_source.html">Singleton.h</a>.</p>

<p>Referenced by <a class="el" href="SingletonBenchmark_8cpp_source.html#l00128">follySingletonTryGetFast()</a>, <a class="el" href="SingletonTest_8cpp_source.html#l00049">TEST()</a>, and <a class="el" href="GlobalShutdownSocketSet_8cpp_source.html#l00032">folly::tryGetShutdownSocketSetFast()</a>.</p>
<div class="fragment"><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                                                    {</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfolly_1_1Singleton.html#affcf1f6cf165f1a8c440a5d350b15c9b">getEntry</a>().try_get_fast();</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  }</div><div class="ttc" id="classfolly_1_1Singleton_html_affcf1f6cf165f1a8c440a5d350b15c9b"><div class="ttname"><a href="classfolly_1_1Singleton.html#affcf1f6cf165f1a8c440a5d350b15c9b">folly::Singleton::getEntry</a></div><div class="ttdeci">static detail::SingletonHolder&lt; T &gt; &amp; getEntry()</div><div class="ttdef"><b>Definition:</b> <a href="Singleton_8h_source.html#l00679">Singleton.h:679</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af7a2bce9a44e202b6e74c78711dde185"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T, typename Tag = detail::DefaultTag, typename VaultTag = detail::DefaultTag&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="classfolly_1_1Singleton.html">folly::Singleton</a>&lt; <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>, <a class="el" href="structfolly_1_1detail_1_1Tag.html">Tag</a>, VaultTag &gt;::vivify </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Singleton_8h_source.html#l00607">607</a> of file <a class="el" href="Singleton_8h_source.html">Singleton.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                       {</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <a class="code" href="classfolly_1_1Singleton.html#affcf1f6cf165f1a8c440a5d350b15c9b">getEntry</a>().vivify();</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  }</div><div class="ttc" id="classfolly_1_1Singleton_html_affcf1f6cf165f1a8c440a5d350b15c9b"><div class="ttname"><a href="classfolly_1_1Singleton.html#affcf1f6cf165f1a8c440a5d350b15c9b">folly::Singleton::getEntry</a></div><div class="ttdeci">static detail::SingletonHolder&lt; T &gt; &amp; getEntry()</div><div class="ttdef"><b>Definition:</b> <a href="Singleton_8h_source.html#l00679">Singleton.h:679</a></div></div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>proxygen/folly/folly/<a class="el" href="Singleton_8h_source.html">Singleton.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefolly.html">folly</a></li><li class="navelem"><a class="el" href="classfolly_1_1Singleton.html">Singleton</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
