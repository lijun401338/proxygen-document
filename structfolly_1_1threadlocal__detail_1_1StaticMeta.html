<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>proxygen: folly::threadlocal_detail::StaticMeta&lt; Tag, AccessMode &gt; Struct Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">proxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('structfolly_1_1threadlocal__detail_1_1StaticMeta.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="structfolly_1_1threadlocal__detail_1_1StaticMeta-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">folly::threadlocal_detail::StaticMeta&lt; Tag, AccessMode &gt; Struct Template Reference<span class="mlabels"><span class="mlabel">final</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="ThreadLocalDetail_8h_source.html">ThreadLocalDetail.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for folly::threadlocal_detail::StaticMeta&lt; Tag, AccessMode &gt;:</div>
<div class="dyncontent">
 <div class="center">
  <img src="structfolly_1_1threadlocal__detail_1_1StaticMeta.png" usemap="#folly::threadlocal_5Fdetail::StaticMeta_3C_20Tag_2C_20AccessMode_20_3E_map" alt=""/>
  <map id="folly::threadlocal_5Fdetail::StaticMeta_3C_20Tag_2C_20AccessMode_20_3E_map" name="folly::threadlocal_detail::StaticMeta&lt; Tag, AccessMode &gt;_map">
<area href="structfolly_1_1threadlocal__detail_1_1StaticMetaBase.html" alt="folly::threadlocal_detail::StaticMetaBase" shape="rect" coords="0,0,335,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:add1dae2c1f7aab8611b8e9e6fdb1ca4d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html#add1dae2c1f7aab8611b8e9e6fdb1ca4d">StaticMeta</a> ()</td></tr>
<tr class="separator:add1dae2c1f7aab8611b8e9e6fdb1ca4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23596ef3d2c003e51a19b44d39e19b06"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html#a23596ef3d2c003e51a19b44d39e19b06">~StaticMeta</a> ()=delete</td></tr>
<tr class="separator:a23596ef3d2c003e51a19b44d39e19b06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_structfolly_1_1threadlocal__detail_1_1StaticMetaBase')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMetaBase.html">folly::threadlocal_detail::StaticMetaBase</a></td></tr>
<tr class="memitem:a35c09da0402f1ce07d70c5be4791db95 inherit pub_methods_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMetaBase.html#a35c09da0402f1ce07d70c5be4791db95">StaticMetaBase</a> (<a class="el" href="structfolly_1_1threadlocal__detail_1_1ThreadEntry.html">ThreadEntry</a> *(*threadEntry)(), bool strict)</td></tr>
<tr class="separator:a35c09da0402f1ce07d70c5be4791db95 inherit pub_methods_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84cd7775c97d9008d192e6d951b38c54 inherit pub_methods_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMetaBase.html#a84cd7775c97d9008d192e6d951b38c54">push_back</a> (<a class="el" href="structfolly_1_1threadlocal__detail_1_1ThreadEntry.html">ThreadEntry</a> *t)</td></tr>
<tr class="separator:a84cd7775c97d9008d192e6d951b38c54 inherit pub_methods_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e77de2a9dd38e537577f619be2d0d85 inherit pub_methods_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMetaBase.html#a0e77de2a9dd38e537577f619be2d0d85">erase</a> (<a class="el" href="structfolly_1_1threadlocal__detail_1_1ThreadEntry.html">ThreadEntry</a> *t)</td></tr>
<tr class="separator:a0e77de2a9dd38e537577f619be2d0d85 inherit pub_methods_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2454f2e819099ea5cf8ce35a01b7b8b6 inherit pub_methods_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMetaBase.html#a2454f2e819099ea5cf8ce35a01b7b8b6">elementsCapacity</a> () const </td></tr>
<tr class="separator:a2454f2e819099ea5cf8ce35a01b7b8b6 inherit pub_methods_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52a244115fbbe0e3e07cf9f38e0ab24d inherit pub_methods_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMetaBase.html#a52a244115fbbe0e3e07cf9f38e0ab24d">allocate</a> (<a class="el" href="classfolly_1_1threadlocal__detail_1_1StaticMetaBase_1_1EntryID.html">EntryID</a> *ent)</td></tr>
<tr class="separator:a52a244115fbbe0e3e07cf9f38e0ab24d inherit pub_methods_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73b792f8dfbd605ea5bdfefe9b7c405f inherit pub_methods_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMetaBase.html#a73b792f8dfbd605ea5bdfefe9b7c405f">destroy</a> (<a class="el" href="classfolly_1_1threadlocal__detail_1_1StaticMetaBase_1_1EntryID.html">EntryID</a> *ent)</td></tr>
<tr class="separator:a73b792f8dfbd605ea5bdfefe9b7c405f inherit pub_methods_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41e7ac1038f706f1412795344b83ba8f inherit pub_methods_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMetaBase.html#a41e7ac1038f706f1412795344b83ba8f">reserve</a> (<a class="el" href="classfolly_1_1threadlocal__detail_1_1StaticMetaBase_1_1EntryID.html">EntryID</a> *id)</td></tr>
<tr class="separator:a41e7ac1038f706f1412795344b83ba8f inherit pub_methods_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c7311bc050a1711a61a7e807b6863b4 inherit pub_methods_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfolly_1_1threadlocal__detail_1_1ElementWrapper.html">ElementWrapper</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMetaBase.html#a0c7311bc050a1711a61a7e807b6863b4">getElement</a> (<a class="el" href="classfolly_1_1threadlocal__detail_1_1StaticMetaBase_1_1EntryID.html">EntryID</a> *ent)</td></tr>
<tr class="separator:a0c7311bc050a1711a61a7e807b6863b4 inherit pub_methods_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8406c08ffa6e5bfa9e07397bfbb38ff2 inherit pub_methods_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMetaBase.html#a8406c08ffa6e5bfa9e07397bfbb38ff2">reserveHeadUnlocked</a> (<a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> id)</td></tr>
<tr class="separator:a8406c08ffa6e5bfa9e07397bfbb38ff2 inherit pub_methods_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a751262fe8e497fd82f37b248862254f7 inherit pub_methods_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMetaBase.html#a751262fe8e497fd82f37b248862254f7">pushBackLocked</a> (<a class="el" href="structfolly_1_1threadlocal__detail_1_1ThreadEntry.html">ThreadEntry</a> *t, <a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> id)</td></tr>
<tr class="separator:a751262fe8e497fd82f37b248862254f7 inherit pub_methods_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a711f36515018fcaf9356a3ca1d68917a inherit pub_methods_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMetaBase.html#a711f36515018fcaf9356a3ca1d68917a">pushBackUnlocked</a> (<a class="el" href="structfolly_1_1threadlocal__detail_1_1ThreadEntry.html">ThreadEntry</a> *t, <a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> id)</td></tr>
<tr class="separator:a711f36515018fcaf9356a3ca1d68917a inherit pub_methods_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ace4c7d2524381f8aa5674de702cd789c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html">StaticMeta</a>&lt; <a class="el" href="structfolly_1_1detail_1_1Tag.html">Tag</a>, AccessMode &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html#ace4c7d2524381f8aa5674de702cd789c">instance</a> ()</td></tr>
<tr class="separator:ace4c7d2524381f8aa5674de702cd789c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cf1b269af60f281bc708775a54abb21"><td class="memItemLeft" align="right" valign="top"><a class="el" href="CPortability_8h.html#a13e2623b1813a2c6691224df88744c87">FOLLY_EXPORT</a> static <a class="el" href="CPortability_8h.html#a416be07eb9da776690749a070a87d72e">FOLLY_ALWAYS_INLINE</a> <a class="el" href="structfolly_1_1threadlocal__detail_1_1ElementWrapper.html">ElementWrapper</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html#a9cf1b269af60f281bc708775a54abb21">get</a> (<a class="el" href="classfolly_1_1threadlocal__detail_1_1StaticMetaBase_1_1EntryID.html">EntryID</a> *ent)</td></tr>
<tr class="separator:a9cf1b269af60f281bc708775a54abb21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c731bb48f48b2fe5c4240a73f33313b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="CPortability_8h.html#a86b2395409bf2e155ebd8046a73945b1">FOLLY_NOINLINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html#a0c731bb48f48b2fe5c4240a73f33313b">getSlowReserveAndCache</a> (<a class="el" href="classfolly_1_1threadlocal__detail_1_1StaticMetaBase_1_1EntryID.html">EntryID</a> *ent, <a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> &amp;id, <a class="el" href="structfolly_1_1threadlocal__detail_1_1ThreadEntry.html">ThreadEntry</a> *&amp;threadEntry, size_t &amp;capacity)</td></tr>
<tr class="separator:a0c731bb48f48b2fe5c4240a73f33313b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25416e2dc24cf5ef1c2d744da47902d9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="CPortability_8h.html#a13e2623b1813a2c6691224df88744c87">FOLLY_EXPORT</a> static <a class="el" href="CPortability_8h.html#a86b2395409bf2e155ebd8046a73945b1">FOLLY_NOINLINE</a> <a class="el" href="structfolly_1_1threadlocal__detail_1_1ThreadEntry.html">ThreadEntry</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html#a25416e2dc24cf5ef1c2d744da47902d9">getThreadEntrySlow</a> ()</td></tr>
<tr class="separator:a25416e2dc24cf5ef1c2d744da47902d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0825c957f50740c82ef28426565f8338"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html#a0825c957f50740c82ef28426565f8338">preFork</a> ()</td></tr>
<tr class="separator:a0825c957f50740c82ef28426565f8338"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6715ae776898c690775e793f48b4eba8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html#a6715ae776898c690775e793f48b4eba8">onForkParent</a> ()</td></tr>
<tr class="separator:a6715ae776898c690775e793f48b4eba8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc501dde8d751ba7d0e24590e8d9152b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html#acc501dde8d751ba7d0e24590e8d9152b">onForkChild</a> ()</td></tr>
<tr class="separator:acc501dde8d751ba7d0e24590e8d9152b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_methods_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_structfolly_1_1threadlocal__detail_1_1StaticMetaBase')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMetaBase.html">folly::threadlocal_detail::StaticMetaBase</a></td></tr>
<tr class="memitem:abb5951723c1c65a3a16b710f5afa730b inherit pub_static_methods_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="CPortability_8h.html#a13e2623b1813a2c6691224df88744c87">FOLLY_EXPORT</a> <a class="el" href="structfolly_1_1threadlocal__detail_1_1ThreadEntryList.html">ThreadEntryList</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMetaBase.html#abb5951723c1c65a3a16b710f5afa730b">getThreadEntryList</a> ()</td></tr>
<tr class="separator:abb5951723c1c65a3a16b710f5afa730b inherit pub_static_methods_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2264e2e6afaa68f92c9ce67cf58fd5d6 inherit pub_static_methods_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMetaBase.html#a2264e2e6afaa68f92c9ce67cf58fd5d6">onThreadExit</a> (void *<a class="el" href="Hazptr_8h.html#a7e740ea149128af625c59cc9461ae0d3">ptr</a>)</td></tr>
<tr class="separator:a2264e2e6afaa68f92c9ce67cf58fd5d6 inherit pub_static_methods_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf7f5579c3acb5b96180174a29a07fcf inherit pub_static_methods_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structfolly_1_1threadlocal__detail_1_1ElementWrapper.html">ElementWrapper</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMetaBase.html#aaf7f5579c3acb5b96180174a29a07fcf">reallocate</a> (<a class="el" href="structfolly_1_1threadlocal__detail_1_1ThreadEntry.html">ThreadEntry</a> *threadEntry, <a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> idval, size_t &amp;newCapacity)</td></tr>
<tr class="separator:aaf7f5579c3acb5b96180174a29a07fcf inherit pub_static_methods_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_attribs_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_structfolly_1_1threadlocal__detail_1_1StaticMetaBase')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMetaBase.html">folly::threadlocal_detail::StaticMetaBase</a></td></tr>
<tr class="memitem:a87f762cbabde8883504000607ffbb0dd inherit pub_attribs_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMetaBase.html#a87f762cbabde8883504000607ffbb0dd">nextId_</a></td></tr>
<tr class="separator:a87f762cbabde8883504000607ffbb0dd inherit pub_attribs_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e7db1c24f9dad69444e12124ed83e12 inherit pub_attribs_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMetaBase.html#a6e7db1c24f9dad69444e12124ed83e12">freeIds_</a></td></tr>
<tr class="separator:a6e7db1c24f9dad69444e12124ed83e12 inherit pub_attribs_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00ba786bdb8c23737cd9c563078384a8 inherit pub_attribs_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="OpenSSLThreading_8cpp.html#a1be3f7fa26e4521098de5f1ec0f865f3">std::mutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMetaBase.html#a00ba786bdb8c23737cd9c563078384a8">lock_</a></td></tr>
<tr class="separator:a00ba786bdb8c23737cd9c563078384a8 inherit pub_attribs_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60fee88ab64dbe866c09d26eb4f8fb50 inherit pub_attribs_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacefolly.html#ae7e470db39b3e07bb689bc4af72fdf0c">SharedMutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMetaBase.html#a60fee88ab64dbe866c09d26eb4f8fb50">accessAllThreadsLock_</a></td></tr>
<tr class="separator:a60fee88ab64dbe866c09d26eb4f8fb50 inherit pub_attribs_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91c27ca945fc4eeb236bfb6b3efcbceb inherit pub_attribs_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memItemLeft" align="right" valign="top">pthread_key_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMetaBase.html#a91c27ca945fc4eeb236bfb6b3efcbceb">pthreadKey_</a></td></tr>
<tr class="separator:a91c27ca945fc4eeb236bfb6b3efcbceb inherit pub_attribs_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a746e95a2e277c7a9c2934a84c56d8f65 inherit pub_attribs_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfolly_1_1threadlocal__detail_1_1ThreadEntry.html">ThreadEntry</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMetaBase.html#a746e95a2e277c7a9c2934a84c56d8f65">head_</a></td></tr>
<tr class="separator:a746e95a2e277c7a9c2934a84c56d8f65 inherit pub_attribs_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a066a0f4ecf1ac1ecd3dd1ca43a999c inherit pub_attribs_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfolly_1_1threadlocal__detail_1_1ThreadEntry.html">ThreadEntry</a> *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMetaBase.html#a3a066a0f4ecf1ac1ecd3dd1ca43a999c">threadEntry_</a> )()</td></tr>
<tr class="separator:a3a066a0f4ecf1ac1ecd3dd1ca43a999c inherit pub_attribs_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab293c6ac16753c3da800833fb4353784 inherit pub_attribs_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMetaBase.html#ab293c6ac16753c3da800833fb4353784">strict_</a></td></tr>
<tr class="separator:ab293c6ac16753c3da800833fb4353784 inherit pub_attribs_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_structfolly_1_1threadlocal__detail_1_1StaticMetaBase')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMetaBase.html">folly::threadlocal_detail::StaticMetaBase</a></td></tr>
<tr class="memitem:aac17dd53189dce6cd1b9ebb27643898e inherit pro_methods_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMetaBase.html#aac17dd53189dce6cd1b9ebb27643898e">~StaticMetaBase</a> ()</td></tr>
<tr class="separator:aac17dd53189dce6cd1b9ebb27643898e inherit pro_methods_structfolly_1_1threadlocal__detail_1_1StaticMetaBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class Tag, class AccessMode&gt;<br />
struct folly::threadlocal_detail::StaticMeta&lt; Tag, AccessMode &gt;</h3>


<p>Definition at line <a class="el" href="ThreadLocalDetail_8h_source.html#l00414">414</a> of file <a class="el" href="ThreadLocalDetail_8h_source.html">ThreadLocalDetail.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="add1dae2c1f7aab8611b8e9e6fdb1ca4d"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Tag , class AccessMode &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html">folly::threadlocal_detail::StaticMeta</a>&lt; <a class="el" href="structfolly_1_1detail_1_1Tag.html">Tag</a>, AccessMode &gt;::<a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html">StaticMeta</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="ThreadLocalDetail_8h_source.html#l00415">415</a> of file <a class="el" href="ThreadLocalDetail_8h_source.html">ThreadLocalDetail.h</a>.</p>

<p>References <a class="el" href="AtFork_8cpp_source.html#l00108">folly::detail::AtFork::registerHandler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      : <a class="code" href="structfolly_1_1threadlocal__detail_1_1StaticMetaBase.html#a35c09da0402f1ce07d70c5be4791db95">StaticMetaBase</a>(</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            &amp;<a class="code" href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html#a25416e2dc24cf5ef1c2d744da47902d9">StaticMeta::getThreadEntrySlow</a>,</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            <a class="code" href="Conv_8cpp.html#a2f6ac1714c34743067351b0d2a64162b">std::is_same&lt;AccessMode, AccessModeStrict&gt;::value</a>) {</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <a class="code" href="structfolly_1_1detail_1_1AtFork.html#a77265c9bc07b48d89c97208b439aaf4c">detail::AtFork::registerHandler</a>(</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <span class="keyword">this</span>,</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        <span class="comment">/*prepare*/</span> &amp;<a class="code" href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html#a0825c957f50740c82ef28426565f8338">StaticMeta::preFork</a>,</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        <span class="comment">/*parent*/</span> &amp;<a class="code" href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html#a6715ae776898c690775e793f48b4eba8">StaticMeta::onForkParent</a>,</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        <span class="comment">/*child*/</span> &amp;<a class="code" href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html#acc501dde8d751ba7d0e24590e8d9152b">StaticMeta::onForkChild</a>);</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  }</div><div class="ttc" id="structfolly_1_1threadlocal__detail_1_1StaticMeta_html_a25416e2dc24cf5ef1c2d744da47902d9"><div class="ttname"><a href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html#a25416e2dc24cf5ef1c2d744da47902d9">folly::threadlocal_detail::StaticMeta::getThreadEntrySlow</a></div><div class="ttdeci">FOLLY_EXPORT static FOLLY_NOINLINE ThreadEntry * getThreadEntrySlow()</div><div class="ttdef"><b>Definition:</b> <a href="ThreadLocalDetail_8h_source.html#l00468">ThreadLocalDetail.h:468</a></div></div>
<div class="ttc" id="structfolly_1_1threadlocal__detail_1_1StaticMeta_html_a0825c957f50740c82ef28426565f8338"><div class="ttname"><a href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html#a0825c957f50740c82ef28426565f8338">folly::threadlocal_detail::StaticMeta::preFork</a></div><div class="ttdeci">static bool preFork()</div><div class="ttdef"><b>Definition:</b> <a href="ThreadLocalDetail_8h_source.html#l00503">ThreadLocalDetail.h:503</a></div></div>
<div class="ttc" id="structfolly_1_1threadlocal__detail_1_1StaticMeta_html_acc501dde8d751ba7d0e24590e8d9152b"><div class="ttname"><a href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html#acc501dde8d751ba7d0e24590e8d9152b">folly::threadlocal_detail::StaticMeta::onForkChild</a></div><div class="ttdeci">static void onForkChild()</div><div class="ttdef"><b>Definition:</b> <a href="ThreadLocalDetail_8h_source.html#l00511">ThreadLocalDetail.h:511</a></div></div>
<div class="ttc" id="structfolly_1_1threadlocal__detail_1_1StaticMetaBase_html_a35c09da0402f1ce07d70c5be4791db95"><div class="ttname"><a href="structfolly_1_1threadlocal__detail_1_1StaticMetaBase.html#a35c09da0402f1ce07d70c5be4791db95">folly::threadlocal_detail::StaticMetaBase::StaticMetaBase</a></div><div class="ttdeci">StaticMetaBase(ThreadEntry *(*threadEntry)(), bool strict)</div><div class="ttdef"><b>Definition:</b> <a href="ThreadLocalDetail_8cpp_source.html#l00067">ThreadLocalDetail.cpp:67</a></div></div>
<div class="ttc" id="Conv_8cpp_html_a2f6ac1714c34743067351b0d2a64162b"><div class="ttname"><a href="Conv_8cpp.html#a2f6ac1714c34743067351b0d2a64162b">value</a></div><div class="ttdeci">static const char *const value</div><div class="ttdef"><b>Definition:</b> <a href="Conv_8cpp_source.html#l00050">Conv.cpp:50</a></div></div>
<div class="ttc" id="structfolly_1_1threadlocal__detail_1_1StaticMeta_html_a6715ae776898c690775e793f48b4eba8"><div class="ttname"><a href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html#a6715ae776898c690775e793f48b4eba8">folly::threadlocal_detail::StaticMeta::onForkParent</a></div><div class="ttdeci">static void onForkParent()</div><div class="ttdef"><b>Definition:</b> <a href="ThreadLocalDetail_8h_source.html#l00507">ThreadLocalDetail.h:507</a></div></div>
<div class="ttc" id="structfolly_1_1detail_1_1AtFork_html_a77265c9bc07b48d89c97208b439aaf4c"><div class="ttname"><a href="structfolly_1_1detail_1_1AtFork.html#a77265c9bc07b48d89c97208b439aaf4c">folly::detail::AtFork::registerHandler</a></div><div class="ttdeci">static void registerHandler(void *object, folly::Function&lt; bool()&gt; prepare, folly::Function&lt; void()&gt; parent, folly::Function&lt; void()&gt; child)</div><div class="ttdef"><b>Definition:</b> <a href="AtFork_8cpp_source.html#l00108">AtFork.cpp:108</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a23596ef3d2c003e51a19b44d39e19b06"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Tag , class AccessMode &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html">folly::threadlocal_detail::StaticMeta</a>&lt; <a class="el" href="structfolly_1_1detail_1_1Tag.html">Tag</a>, AccessMode &gt;::~<a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html">StaticMeta</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a9cf1b269af60f281bc708775a54abb21"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Tag , class AccessMode &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="CPortability_8h.html#a13e2623b1813a2c6691224df88744c87">FOLLY_EXPORT</a> static <a class="el" href="CPortability_8h.html#a416be07eb9da776690749a070a87d72e">FOLLY_ALWAYS_INLINE</a> <a class="el" href="structfolly_1_1threadlocal__detail_1_1ElementWrapper.html">ElementWrapper</a>&amp; <a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html">folly::threadlocal_detail::StaticMeta</a>&lt; <a class="el" href="structfolly_1_1detail_1_1Tag.html">Tag</a>, AccessMode &gt;::get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1threadlocal__detail_1_1StaticMetaBase_1_1EntryID.html">EntryID</a> *&#160;</td>
          <td class="paramname"><em>ent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="ThreadLocalDetail_8h_source.html#l00436">436</a> of file <a class="el" href="ThreadLocalDetail_8h_source.html">ThreadLocalDetail.h</a>.</p>

<p>References <a class="el" href="Likely_8h_source.html#l00036">FOLLY_UNLIKELY</a>, and <a class="el" href="ConstexprMathBenchmark_8cpp_source.html#l00186">uint32_t</a>.</p>
<div class="fragment"><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                                                                            {</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="comment">// Eliminate as many branches and as much extra code as possible in the</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="comment">// cached fast path, leaving only one branch here and one indirection below.</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <a class="code" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> <span class="keywordtype">id</span> = ent-&gt;getOrInvalid();</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="preprocessor">#ifdef FOLLY_TLD_USE_FOLLY_TLS</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keyword">static</span> FOLLY_TLS ThreadEntry* threadEntry{};</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="keyword">static</span> FOLLY_TLS <span class="keywordtype">size_t</span> capacity{};</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    ThreadEntry* threadEntry{};</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="keywordtype">size_t</span> capacity{};</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="Likely_8h.html#ab96caac69fec7af0b76b094cf194c15d">FOLLY_UNLIKELY</a>(capacity &lt;= <span class="keywordtype">id</span>)) {</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      <a class="code" href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html#a0c731bb48f48b2fe5c4240a73f33313b">getSlowReserveAndCache</a>(ent, <span class="keywordtype">id</span>, threadEntry, capacity);</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    }</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="keywordflow">return</span> threadEntry-&gt;elements[id];</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  }</div><div class="ttc" id="structfolly_1_1threadlocal__detail_1_1StaticMeta_html_a0c731bb48f48b2fe5c4240a73f33313b"><div class="ttname"><a href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html#a0c731bb48f48b2fe5c4240a73f33313b">folly::threadlocal_detail::StaticMeta::getSlowReserveAndCache</a></div><div class="ttdeci">static FOLLY_NOINLINE void getSlowReserveAndCache(EntryID *ent, uint32_t &amp;id, ThreadEntry *&amp;threadEntry, size_t &amp;capacity)</div><div class="ttdef"><b>Definition:</b> <a href="ThreadLocalDetail_8h_source.html#l00453">ThreadLocalDetail.h:453</a></div></div>
<div class="ttc" id="Likely_8h_html_ab96caac69fec7af0b76b094cf194c15d"><div class="ttname"><a href="Likely_8h.html#ab96caac69fec7af0b76b094cf194c15d">FOLLY_UNLIKELY</a></div><div class="ttdeci">#define FOLLY_UNLIKELY(x)</div><div class="ttdef"><b>Definition:</b> <a href="Likely_8h_source.html#l00036">Likely.h:36</a></div></div>
<div class="ttc" id="ConstexprMathBenchmark_8cpp_html_a09a1e304d66d35dd47daffee9731edaa"><div class="ttname"><a href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a></div><div class="ttdeci">uint32_t</div><div class="ttdef"><b>Definition:</b> <a href="ConstexprMathBenchmark_8cpp_source.html#l00186">ConstexprMathBenchmark.cpp:186</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0c731bb48f48b2fe5c4240a73f33313b"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Tag , class AccessMode &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="CPortability_8h.html#a86b2395409bf2e155ebd8046a73945b1">FOLLY_NOINLINE</a> void <a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html">folly::threadlocal_detail::StaticMeta</a>&lt; <a class="el" href="structfolly_1_1detail_1_1Tag.html">Tag</a>, AccessMode &gt;::getSlowReserveAndCache </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1threadlocal__detail_1_1StaticMetaBase_1_1EntryID.html">EntryID</a> *&#160;</td>
          <td class="paramname"><em>ent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ConstexprMathBenchmark_8cpp.html#a09a1e304d66d35dd47daffee9731edaa">uint32_t</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfolly_1_1threadlocal__detail_1_1ThreadEntry.html">ThreadEntry</a> *&amp;&#160;</td>
          <td class="paramname"><em>threadEntry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>capacity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="ThreadLocalDetail_8h_source.html#l00453">453</a> of file <a class="el" href="ThreadLocalDetail_8h_source.html">ThreadLocalDetail.h</a>.</p>

<p>References <a class="el" href="ThreadLocalDetail_8h_source.html#l00219">folly::threadlocal_detail::ThreadEntry::getElementsCapacity()</a>, <a class="el" href="ThreadLocalDetail_8h_source.html#l00324">folly::threadlocal_detail::StaticMetaBase::EntryID::getOrInvalid()</a>, and <a class="el" href="Likely_8h_source.html#l00048">UNLIKELY</a>.</p>
<div class="fragment"><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                        {</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="keyword">auto</span>&amp; inst = <a class="code" href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html#ace4c7d2524381f8aa5674de702cd789c">instance</a>();</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    threadEntry = inst.threadEntry_();</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="Likely_8h.html#ab10d0a221f4d7a706701b806c8135fd7">UNLIKELY</a>(threadEntry-&gt;getElementsCapacity() &lt;= id)) {</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      inst.reserve(ent);</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      <span class="keywordtype">id</span> = ent-&gt;getOrInvalid();</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    }</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    capacity = threadEntry-&gt;getElementsCapacity();</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    assert(capacity &gt; <span class="keywordtype">id</span>);</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  }</div><div class="ttc" id="structfolly_1_1threadlocal__detail_1_1StaticMeta_html_ace4c7d2524381f8aa5674de702cd789c"><div class="ttname"><a href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html#ace4c7d2524381f8aa5674de702cd789c">folly::threadlocal_detail::StaticMeta::instance</a></div><div class="ttdeci">static StaticMeta&lt; Tag, AccessMode &gt; &amp; instance()</div><div class="ttdef"><b>Definition:</b> <a href="ThreadLocalDetail_8h_source.html#l00428">ThreadLocalDetail.h:428</a></div></div>
<div class="ttc" id="Likely_8h_html_ab10d0a221f4d7a706701b806c8135fd7"><div class="ttname"><a href="Likely_8h.html#ab10d0a221f4d7a706701b806c8135fd7">UNLIKELY</a></div><div class="ttdeci">#define UNLIKELY(x)</div><div class="ttdef"><b>Definition:</b> <a href="Likely_8h_source.html#l00048">Likely.h:48</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a25416e2dc24cf5ef1c2d744da47902d9"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Tag , class AccessMode &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="CPortability_8h.html#a13e2623b1813a2c6691224df88744c87">FOLLY_EXPORT</a> static <a class="el" href="CPortability_8h.html#a86b2395409bf2e155ebd8046a73945b1">FOLLY_NOINLINE</a> <a class="el" href="structfolly_1_1threadlocal__detail_1_1ThreadEntry.html">ThreadEntry</a>* <a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html">folly::threadlocal_detail::StaticMeta</a>&lt; <a class="el" href="structfolly_1_1detail_1_1Tag.html">Tag</a>, AccessMode &gt;::getThreadEntrySlow </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="ThreadLocalDetail_8h_source.html#l00468">468</a> of file <a class="el" href="ThreadLocalDetail_8h_source.html">ThreadLocalDetail.h</a>.</p>

<p>References <a class="el" href="folly_2folly_2Exception_8h_source.html#l00083">folly::checkPosixError()</a>, <a class="el" href="ThreadLocalDetail_8h_source.html#l00230">folly::threadlocal_detail::ThreadEntryList::count</a>, <a class="el" href="ThreadLocalDetail_8h_source.html#l00229">folly::threadlocal_detail::ThreadEntryList::head</a>, <a class="el" href="ThreadLocalDetail_8h_source.html#l00214">folly::threadlocal_detail::ThreadEntry::list</a>, <a class="el" href="ThreadLocalDetail_8h_source.html#l00215">folly::threadlocal_detail::ThreadEntry::listNext</a>, and <a class="el" href="ThreadLocalDetail_8h_source.html#l00216">folly::threadlocal_detail::ThreadEntry::meta</a>.</p>
<div class="fragment"><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                                                                       {</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="keyword">auto</span>&amp; meta = <a class="code" href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html#ace4c7d2524381f8aa5674de702cd789c">instance</a>();</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keyword">auto</span> key = meta.pthreadKey_;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    ThreadEntry* threadEntry =</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <span class="keyword">static_cast&lt;</span>ThreadEntry*<span class="keyword">&gt;</span>(pthread_getspecific(key));</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordflow">if</span> (!threadEntry) {</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      ThreadEntryList* threadEntryList = <a class="code" href="structfolly_1_1threadlocal__detail_1_1StaticMetaBase.html#abb5951723c1c65a3a16b710f5afa730b">StaticMeta::getThreadEntryList</a>();</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="preprocessor">#ifdef FOLLY_TLD_USE_FOLLY_TLS</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;      <span class="keyword">static</span> FOLLY_TLS ThreadEntry threadEntrySingleton;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      threadEntry = &amp;threadEntrySingleton;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      threadEntry = <span class="keyword">new</span> ThreadEntry();</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      <span class="comment">// if the ThreadEntry already exists</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      <span class="comment">// but pthread_getspecific returns NULL</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      <span class="comment">// do not add the same entry twice to the list</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      <span class="comment">// since this would create a loop in the list</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      <span class="keywordflow">if</span> (!threadEntry-&gt;list) {</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        threadEntry-&gt;list = threadEntryList;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        threadEntry-&gt;listNext = threadEntryList-&gt;head;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        threadEntryList-&gt;head = threadEntry;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      }</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      <span class="comment">// if we&#39;re adding a thread entry</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      <span class="comment">// we need to increment the list count</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      <span class="comment">// even if the entry is reused</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;      threadEntryList-&gt;count++;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;      threadEntry-&gt;meta = &amp;meta;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;      <span class="keywordtype">int</span> ret = pthread_setspecific(key, threadEntry);</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      <a class="code" href="namespacefolly.html#a9e367f145f64c33d16540d98798d94fc">checkPosixError</a>(ret, <span class="stringliteral">&quot;pthread_setspecific failed&quot;</span>);</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    }</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordflow">return</span> threadEntry;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  }</div><div class="ttc" id="structfolly_1_1threadlocal__detail_1_1StaticMeta_html_ace4c7d2524381f8aa5674de702cd789c"><div class="ttname"><a href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html#ace4c7d2524381f8aa5674de702cd789c">folly::threadlocal_detail::StaticMeta::instance</a></div><div class="ttdeci">static StaticMeta&lt; Tag, AccessMode &gt; &amp; instance()</div><div class="ttdef"><b>Definition:</b> <a href="ThreadLocalDetail_8h_source.html#l00428">ThreadLocalDetail.h:428</a></div></div>
<div class="ttc" id="structfolly_1_1threadlocal__detail_1_1StaticMetaBase_html_abb5951723c1c65a3a16b710f5afa730b"><div class="ttname"><a href="structfolly_1_1threadlocal__detail_1_1StaticMetaBase.html#abb5951723c1c65a3a16b710f5afa730b">folly::threadlocal_detail::StaticMetaBase::getThreadEntryList</a></div><div class="ttdeci">static FOLLY_EXPORT ThreadEntryList * getThreadEntryList()</div><div class="ttdef"><b>Definition:</b> <a href="ThreadLocalDetail_8cpp_source.html#l00075">ThreadLocalDetail.cpp:75</a></div></div>
<div class="ttc" id="namespacefolly_html_a9e367f145f64c33d16540d98798d94fc"><div class="ttname"><a href="namespacefolly.html#a9e367f145f64c33d16540d98798d94fc">folly::checkPosixError</a></div><div class="ttdeci">void checkPosixError(int err, Args &amp;&amp;...args)</div><div class="ttdef"><b>Definition:</b> <a href="folly_2folly_2Exception_8h_source.html#l00083">Exception.h:83</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ace4c7d2524381f8aa5674de702cd789c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Tag , class AccessMode &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html">StaticMeta</a>&lt;<a class="el" href="structfolly_1_1detail_1_1Tag.html">Tag</a>, AccessMode&gt;&amp; <a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html">folly::threadlocal_detail::StaticMeta</a>&lt; <a class="el" href="structfolly_1_1detail_1_1Tag.html">Tag</a>, AccessMode &gt;::instance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="ThreadLocalDetail_8h_source.html#l00428">428</a> of file <a class="el" href="ThreadLocalDetail_8h_source.html">ThreadLocalDetail.h</a>.</p>

<p>Referenced by <a class="el" href="Singleton_8cpp_source.html#l00380">folly::SingletonVault::scheduleDestroyInstances()</a>.</p>
<div class="fragment"><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                                                 {</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="comment">// Leak it on exit, there&#39;s only one per process and we don&#39;t have to</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="comment">// worry about synchronization with exiting threads.</span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="comment">/* library-local */</span> <span class="keyword">static</span> <span class="keyword">auto</span> <a class="code" href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html#ace4c7d2524381f8aa5674de702cd789c">instance</a> =</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        detail::createGlobal&lt;StaticMeta&lt;Tag, AccessMode&gt;, <span class="keywordtype">void</span>&gt;();</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordflow">return</span> *<a class="code" href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html#ace4c7d2524381f8aa5674de702cd789c">instance</a>;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  }</div><div class="ttc" id="structfolly_1_1threadlocal__detail_1_1StaticMeta_html_ace4c7d2524381f8aa5674de702cd789c"><div class="ttname"><a href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html#ace4c7d2524381f8aa5674de702cd789c">folly::threadlocal_detail::StaticMeta::instance</a></div><div class="ttdeci">static StaticMeta&lt; Tag, AccessMode &gt; &amp; instance()</div><div class="ttdef"><b>Definition:</b> <a href="ThreadLocalDetail_8h_source.html#l00428">ThreadLocalDetail.h:428</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acc501dde8d751ba7d0e24590e8d9152b"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Tag , class AccessMode &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html">folly::threadlocal_detail::StaticMeta</a>&lt; <a class="el" href="structfolly_1_1detail_1_1Tag.html">Tag</a>, AccessMode &gt;::onForkChild </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="ThreadLocalDetail_8h_source.html#l00511">511</a> of file <a class="el" href="ThreadLocalDetail_8h_source.html">ThreadLocalDetail.h</a>.</p>

<p>References <a class="el" href="ThreadLocalDetail_8h_source.html#l00210">folly::threadlocal_detail::ThreadEntry::elements</a>, <a class="el" href="ThreadLocalDetail_8h_source.html#l00219">folly::threadlocal_detail::ThreadEntry::getElementsCapacity()</a>, <a class="el" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt_source.html#l00083">i</a>, <a class="el" href="ThreadLocalDetail_8cpp_source.html#l00028">folly::threadlocal_detail::ThreadEntryNode::initIfZero()</a>, <a class="el" href="ThreadLocalDetail_8h_source.html#l00086">folly::threadlocal_detail::ThreadEntryNode::initZero()</a>, <a class="el" href="ThreadLocalDetail_8h_source.html#l00195">folly::threadlocal_detail::ElementWrapper::node</a>, and <a class="el" href="ThreadLocalDetail_8h_source.html#l00097">folly::threadlocal_detail::ThreadEntryNode::zero()</a>.</p>
<div class="fragment"><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                            {</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="comment">// only the current thread survives</span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="keyword">auto</span>&amp; head = <a class="code" href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html#ace4c7d2524381f8aa5674de702cd789c">instance</a>().head_;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="comment">// init the head list</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    head.next = head.prev = &amp;head;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="comment">// init the circular lists</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keyword">auto</span> <a class="code" href="structfolly_1_1threadlocal__detail_1_1StaticMetaBase.html#a2454f2e819099ea5cf8ce35a01b7b8b6">elementsCapacity</a> = head.getElementsCapacity();</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> = 0u; <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> &lt; <a class="code" href="structfolly_1_1threadlocal__detail_1_1StaticMetaBase.html#a2454f2e819099ea5cf8ce35a01b7b8b6">elementsCapacity</a>; ++<a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      head.elements[<a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].node.init(&amp;head, static_cast&lt;uint32_t&gt;(<a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>));</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    }</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="comment">// init the thread entry</span></div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    ThreadEntry* threadEntry = <a class="code" href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html#ace4c7d2524381f8aa5674de702cd789c">instance</a>().threadEntry_();</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    elementsCapacity = threadEntry-&gt;getElementsCapacity();</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> = 0u; <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> &lt; <a class="code" href="structfolly_1_1threadlocal__detail_1_1StaticMetaBase.html#a2454f2e819099ea5cf8ce35a01b7b8b6">elementsCapacity</a>; ++<a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      <span class="keywordflow">if</span> (!threadEntry-&gt;elements[<a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].node.zero()) {</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        threadEntry-&gt;elements[<a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].node.initZero(</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;            threadEntry, static_cast&lt;uint32_t&gt;(<a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>));</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        threadEntry-&gt;elements[<a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].node.initIfZero(<span class="keyword">false</span> <span class="comment">/*locked*/</span>);</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      }</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    }</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="comment">// If this thread was in the list before the fork, add it back.</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="keywordflow">if</span> (elementsCapacity != 0) {</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;      <a class="code" href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html#ace4c7d2524381f8aa5674de702cd789c">instance</a>().push_back(threadEntry);</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    }</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <a class="code" href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html#ace4c7d2524381f8aa5674de702cd789c">instance</a>().lock_.unlock();</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  }</div><div class="ttc" id="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt_html_a7e98b8a17c0aad30ba64d47b74e2a6c1"><div class="ttname"><a href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt_source.html#l00083">gtest_output_test_golden_lin.txt:83</a></div></div>
<div class="ttc" id="structfolly_1_1threadlocal__detail_1_1StaticMeta_html_ace4c7d2524381f8aa5674de702cd789c"><div class="ttname"><a href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html#ace4c7d2524381f8aa5674de702cd789c">folly::threadlocal_detail::StaticMeta::instance</a></div><div class="ttdeci">static StaticMeta&lt; Tag, AccessMode &gt; &amp; instance()</div><div class="ttdef"><b>Definition:</b> <a href="ThreadLocalDetail_8h_source.html#l00428">ThreadLocalDetail.h:428</a></div></div>
<div class="ttc" id="structfolly_1_1threadlocal__detail_1_1StaticMetaBase_html_a2454f2e819099ea5cf8ce35a01b7b8b6"><div class="ttname"><a href="structfolly_1_1threadlocal__detail_1_1StaticMetaBase.html#a2454f2e819099ea5cf8ce35a01b7b8b6">folly::threadlocal_detail::StaticMetaBase::elementsCapacity</a></div><div class="ttdeci">uint32_t elementsCapacity() const </div><div class="ttdef"><b>Definition:</b> <a href="ThreadLocalDetail_8cpp_source.html#l00211">ThreadLocalDetail.cpp:211</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6715ae776898c690775e793f48b4eba8"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Tag , class AccessMode &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html">folly::threadlocal_detail::StaticMeta</a>&lt; <a class="el" href="structfolly_1_1detail_1_1Tag.html">Tag</a>, AccessMode &gt;::onForkParent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="ThreadLocalDetail_8h_source.html#l00507">507</a> of file <a class="el" href="ThreadLocalDetail_8h_source.html">ThreadLocalDetail.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                             {</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <a class="code" href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html#ace4c7d2524381f8aa5674de702cd789c">instance</a>().lock_.unlock();</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  }</div><div class="ttc" id="structfolly_1_1threadlocal__detail_1_1StaticMeta_html_ace4c7d2524381f8aa5674de702cd789c"><div class="ttname"><a href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html#ace4c7d2524381f8aa5674de702cd789c">folly::threadlocal_detail::StaticMeta::instance</a></div><div class="ttdeci">static StaticMeta&lt; Tag, AccessMode &gt; &amp; instance()</div><div class="ttdef"><b>Definition:</b> <a href="ThreadLocalDetail_8h_source.html#l00428">ThreadLocalDetail.h:428</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0825c957f50740c82ef28426565f8338"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Tag , class AccessMode &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool <a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html">folly::threadlocal_detail::StaticMeta</a>&lt; <a class="el" href="structfolly_1_1detail_1_1Tag.html">Tag</a>, AccessMode &gt;::preFork </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="ThreadLocalDetail_8h_source.html#l00503">503</a> of file <a class="el" href="ThreadLocalDetail_8h_source.html">ThreadLocalDetail.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                        {</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html#ace4c7d2524381f8aa5674de702cd789c">instance</a>().lock_.try_lock(); <span class="comment">// Make sure it&#39;s created</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  }</div><div class="ttc" id="structfolly_1_1threadlocal__detail_1_1StaticMeta_html_ace4c7d2524381f8aa5674de702cd789c"><div class="ttname"><a href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html#ace4c7d2524381f8aa5674de702cd789c">folly::threadlocal_detail::StaticMeta::instance</a></div><div class="ttdeci">static StaticMeta&lt; Tag, AccessMode &gt; &amp; instance()</div><div class="ttdef"><b>Definition:</b> <a href="ThreadLocalDetail_8h_source.html#l00428">ThreadLocalDetail.h:428</a></div></div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>proxygen/folly/folly/detail/<a class="el" href="ThreadLocalDetail_8h_source.html">ThreadLocalDetail.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefolly.html">folly</a></li><li class="navelem"><a class="el" href="namespacefolly_1_1threadlocal__detail.html">threadlocal_detail</a></li><li class="navelem"><a class="el" href="structfolly_1_1threadlocal__detail_1_1StaticMeta.html">StaticMeta</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
