<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>proxygen: proxygen/folly/folly/Benchmark.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">proxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('Benchmark_8h_source.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Benchmark.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="Benchmark_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright 2012-present Facebook, Inc.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * you may not use this file except in compliance with the License.</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * You may obtain a copy of the License at</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *   http://www.apache.org/licenses/LICENSE-2.0</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * Unless required by applicable law or agreed to in writing, software</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * See the License for the specific language governing permissions and</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * limitations under the License.</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#pragma once</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="Portability_8h.html">folly/Portability.h</a>&gt;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="Preprocessor_8h.html">folly/Preprocessor.h</a>&gt;</span> <span class="comment">// for FB_ANONYMOUS_VARIABLE</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="ScopeGuard_8h.html">folly/ScopeGuard.h</a>&gt;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="Traits_8h.html">folly/Traits.h</a>&gt;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="Invoke_8h.html">folly/functional/Invoke.h</a>&gt;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="GFlags_8h.html">folly/portability/GFlags.h</a>&gt;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;chrono&gt;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;functional&gt;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;limits&gt;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;type_traits&gt;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;boost/function_types/function_arity.hpp&gt;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;glog/logging.h&gt;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<a class="code" href="Benchmark_8h.html#a1e24efbb7acc712eb052689f639330d1">DECLARE_bool</a>(<a class="code" href="ReadMostlySharedPtrBenchmark_8cpp.html#ad6e8c2dc3a8a1632fc2bd47e19f85aca">benchmark</a>);</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacefolly.html">folly</a> {</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacefolly.html#a913e35b677737060dd916710d591c301">runBenchmarks</a>();</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="namespacefolly.html#a8096676b297300b627e0e72deb0d4d5f">   48</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="namespacefolly.html#a8096676b297300b627e0e72deb0d4d5f">runBenchmarksOnFlag</a>() {</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <span class="keywordflow">if</span> (FLAGS_benchmark) {</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <a class="code" href="namespacefolly.html#a913e35b677737060dd916710d591c301">runBenchmarks</a>();</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  }</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <span class="keywordflow">return</span> FLAGS_benchmark;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;}</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacedetail.html">detail</a> {</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="keyword">using</span> <a class="code" href="namespacefolly_1_1detail.html#a8628c03a4eacb4207575e7eb000f15f2">TimeIterPair</a> =</div><div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="namespacefolly_1_1detail.html#a8628c03a4eacb4207575e7eb000f15f2">   58</a></span>&#160;    std::pair&lt;std::chrono::high_resolution_clock::duration, unsigned int&gt;;</div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="namespacefolly_1_1detail.html#a6537c074ce64f0dda9fb838171e7fa49">   59</a></span>&#160;<span class="keyword">using</span> <a class="code" href="namespacefolly_1_1detail.html#a6537c074ce64f0dda9fb838171e7fa49">BenchmarkFun</a> = std::function&lt;detail::TimeIterPair(unsigned int)&gt;;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="structfolly_1_1detail_1_1BenchmarkRegistration.html">   61</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structfolly_1_1detail_1_1BenchmarkRegistration.html">BenchmarkRegistration</a> {</div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="structfolly_1_1detail_1_1BenchmarkRegistration.html#a7cf84b8033cf8fbe3750d05260a688db">   62</a></span>&#160;  <a class="code" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a> <a class="code" href="structfolly_1_1detail_1_1BenchmarkRegistration.html#a7cf84b8033cf8fbe3750d05260a688db">file</a>;</div><div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="structfolly_1_1detail_1_1BenchmarkRegistration.html#a651741cc503240d5355b12c6f38d4092">   63</a></span>&#160;  <a class="code" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a> <a class="code" href="structfolly_1_1detail_1_1BenchmarkRegistration.html#a651741cc503240d5355b12c6f38d4092">name</a>;</div><div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="structfolly_1_1detail_1_1BenchmarkRegistration.html#abcb7945107964e09a275227e61c055a9">   64</a></span>&#160;  <a class="code" href="namespacefolly_1_1detail.html#a6537c074ce64f0dda9fb838171e7fa49">BenchmarkFun</a> <a class="code" href="structfolly_1_1detail_1_1BenchmarkRegistration.html#abcb7945107964e09a275227e61c055a9">func</a>;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;};</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="structfolly_1_1detail_1_1BenchmarkResult.html">   67</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structfolly_1_1detail_1_1BenchmarkResult.html">BenchmarkResult</a> {</div><div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="structfolly_1_1detail_1_1BenchmarkResult.html#afa40ff64809ad224d33c4132cf5049d4">   68</a></span>&#160;  <a class="code" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a> <a class="code" href="structfolly_1_1detail_1_1BenchmarkResult.html#afa40ff64809ad224d33c4132cf5049d4">file</a>;</div><div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="structfolly_1_1detail_1_1BenchmarkResult.html#a004937967bfb7500d1af81331eef9279">   69</a></span>&#160;  <a class="code" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a> <a class="code" href="structfolly_1_1detail_1_1BenchmarkResult.html#a004937967bfb7500d1af81331eef9279">name</a>;</div><div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="structfolly_1_1detail_1_1BenchmarkResult.html#ab927083a38f71bef0ca9a2c3d9f44793">   70</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="structfolly_1_1detail_1_1BenchmarkResult.html#ab927083a38f71bef0ca9a2c3d9f44793">timeInNs</a>;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;};</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacefolly_1_1detail.html#ae83bf33866d0c05ebf36ca8cbb40bd83">addBenchmarkImpl</a>(</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="structfolly_1_1detail_1_1BenchmarkRegistration.html#a7cf84b8033cf8fbe3750d05260a688db">file</a>,</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="structfolly_1_1detail_1_1BenchmarkRegistration.html#a651741cc503240d5355b12c6f38d4092">name</a>,</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    std::function&lt;<a class="code" href="namespacefolly_1_1detail.html#a8628c03a4eacb4207575e7eb000f15f2">TimeIterPair</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)&gt;);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;} <span class="comment">// namespace detail</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="structfolly_1_1BenchmarkSuspender.html">   87</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structfolly_1_1BenchmarkSuspender.html">BenchmarkSuspender</a> {</div><div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="structfolly_1_1BenchmarkSuspender.html#af0dcce06096a49082236fca4678adfa8">   88</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="structfolly_1_1BenchmarkSuspender.html#af0dcce06096a49082236fca4678adfa8">Clock</a> = std::chrono::high_resolution_clock;</div><div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="structfolly_1_1BenchmarkSuspender.html#a2b45e1710a4c901a7d638aa3195b267d">   89</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="structfolly_1_1BenchmarkSuspender.html#a2b45e1710a4c901a7d638aa3195b267d">TimePoint</a> = Clock::time_point;</div><div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="structfolly_1_1BenchmarkSuspender.html#a7d232dd9f2cc9c14581e8ef16b924479">   90</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="structfolly_1_1BenchmarkSuspender.html#a7d232dd9f2cc9c14581e8ef16b924479">Duration</a> = Clock::duration;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="structfolly_1_1BenchmarkSuspender.html#abcb6f79744c5fd35ef5a843b48671255">   92</a></span>&#160;  <a class="code" href="structfolly_1_1BenchmarkSuspender.html#abcb6f79744c5fd35ef5a843b48671255">BenchmarkSuspender</a>() {</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <a class="code" href="ParallelBenchmark_8cpp.html#a7f02a749754f40365411f74cf75d08fa">start</a> = <a class="code" href="TimekeeperTest_8cpp.html#a562b4baa36dcf267f35a4ba4e0aef329">Clock::now</a>();</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  }</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <a class="code" href="structfolly_1_1BenchmarkSuspender.html">BenchmarkSuspender</a>(<span class="keyword">const</span> <a class="code" href="structfolly_1_1BenchmarkSuspender.html">BenchmarkSuspender</a>&amp;) = <span class="keyword">delete</span>;</div><div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="structfolly_1_1BenchmarkSuspender.html#a56fc5a81bb428d2102a3f03d943abe24">   97</a></span>&#160;  <a class="code" href="structfolly_1_1BenchmarkSuspender.html#a56fc5a81bb428d2102a3f03d943abe24">BenchmarkSuspender</a>(<a class="code" href="structfolly_1_1BenchmarkSuspender.html">BenchmarkSuspender</a>&amp;&amp; <a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>) <a class="code" href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">noexcept</a> {</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="ParallelBenchmark_8cpp.html#a7f02a749754f40365411f74cf75d08fa">start</a> = <a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>.start;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>.start = {};</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  }</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <a class="code" href="structfolly_1_1BenchmarkSuspender.html">BenchmarkSuspender</a>&amp; operator=(<span class="keyword">const</span> <a class="code" href="structfolly_1_1BenchmarkSuspender.html">BenchmarkSuspender</a>&amp;) = <span class="keyword">delete</span>;</div><div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="structfolly_1_1BenchmarkSuspender.html#a4c8d3de5c62647545ca42fdaac31ce08">  103</a></span>&#160;  <a class="code" href="structfolly_1_1BenchmarkSuspender.html">BenchmarkSuspender</a>&amp; <a class="code" href="structfolly_1_1BenchmarkSuspender.html#a4c8d3de5c62647545ca42fdaac31ce08">operator=</a>(<a class="code" href="structfolly_1_1BenchmarkSuspender.html">BenchmarkSuspender</a>&amp;&amp; <a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>) {</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ParallelBenchmark_8cpp.html#a7f02a749754f40365411f74cf75d08fa">start</a> != <a class="code" href="structfolly_1_1BenchmarkSuspender.html#a2b45e1710a4c901a7d638aa3195b267d">TimePoint</a>{}) {</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      tally();</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    }</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="ParallelBenchmark_8cpp.html#a7f02a749754f40365411f74cf75d08fa">start</a> = <a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>.start;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <a class="code" href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">rhs</a>.start = {};</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  }</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="structfolly_1_1BenchmarkSuspender.html#adf6170a976ff5789541fde78e5ecb3d4">  112</a></span>&#160;  <a class="code" href="structfolly_1_1BenchmarkSuspender.html#adf6170a976ff5789541fde78e5ecb3d4">~BenchmarkSuspender</a>() {</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ParallelBenchmark_8cpp.html#a7f02a749754f40365411f74cf75d08fa">start</a> != <a class="code" href="structfolly_1_1BenchmarkSuspender.html#a2b45e1710a4c901a7d638aa3195b267d">TimePoint</a>{}) {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;      tally();</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    }</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  }</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="structfolly_1_1BenchmarkSuspender.html#a7df507f21231ad2c68f2c6bd843d14cb">  118</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structfolly_1_1BenchmarkSuspender.html#a7df507f21231ad2c68f2c6bd843d14cb">dismiss</a>() {</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    assert(<a class="code" href="ParallelBenchmark_8cpp.html#a7f02a749754f40365411f74cf75d08fa">start</a> != <a class="code" href="structfolly_1_1BenchmarkSuspender.html#a2b45e1710a4c901a7d638aa3195b267d">TimePoint</a>{});</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    tally();</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <a class="code" href="ParallelBenchmark_8cpp.html#a7f02a749754f40365411f74cf75d08fa">start</a> = {};</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  }</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="structfolly_1_1BenchmarkSuspender.html#a0838cfc4636de039691540f55108bc1d">  124</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structfolly_1_1BenchmarkSuspender.html#a0838cfc4636de039691540f55108bc1d">rehire</a>() {</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    assert(<a class="code" href="ParallelBenchmark_8cpp.html#a7f02a749754f40365411f74cf75d08fa">start</a> == <a class="code" href="structfolly_1_1BenchmarkSuspender.html#a2b45e1710a4c901a7d638aa3195b267d">TimePoint</a>{});</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <a class="code" href="ParallelBenchmark_8cpp.html#a7f02a749754f40365411f74cf75d08fa">start</a> = <a class="code" href="TimekeeperTest_8cpp.html#a562b4baa36dcf267f35a4ba4e0aef329">Clock::now</a>();</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  }</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> F&gt;</div><div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="structfolly_1_1BenchmarkSuspender.html#a4368866965d007d2d3e48812b6ecf037">  130</a></span>&#160;  <span class="keyword">auto</span> <a class="code" href="structfolly_1_1BenchmarkSuspender.html#a4368866965d007d2d3e48812b6ecf037">dismissing</a>(F <a class="code" href="PushmiBenchmarks_8cpp.html#ad94c2c2f9fd35a12cc099962b7540071">f</a>) -&gt; <a class="code" href="namespacefolly.html#a959935d9eb6cce6bd25049997b200b93">invoke_result_t&lt;F&gt;</a> {</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <a class="code" href="ScopeGuard_8h.html#a175c354c3e38222bc00ce5df5e6d431d">SCOPE_EXIT</a> {</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      rehire();</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    };</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    dismiss();</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="PushmiBenchmarks_8cpp.html#ad94c2c2f9fd35a12cc099962b7540071">f</a>();</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  }</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="structfolly_1_1BenchmarkSuspender.html#a60c76b455bbd7d6935732c37111ac629">  142</a></span>&#160;  <span class="keyword">explicit</span> <span class="keyword">operator</span> bool()<span class="keyword"> const </span>{</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  }</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="structfolly_1_1BenchmarkSuspender.html#ad0cda5ff3b537bd796ca28dc8a6fb429">  149</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="structfolly_1_1BenchmarkSuspender.html#a7d232dd9f2cc9c14581e8ef16b924479">Duration</a> <a class="code" href="structfolly_1_1BenchmarkSuspender.html#ad0cda5ff3b537bd796ca28dc8a6fb429">timeSpent</a>;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="structfolly_1_1BenchmarkSuspender.html#a0d5955e7090c2d701361fca53803e3f7">  152</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structfolly_1_1BenchmarkSuspender.html#a0d5955e7090c2d701361fca53803e3f7">tally</a>() {</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keyword">auto</span> <a class="code" href="namespacefolly_1_1test.html#a0917528775d48fd53a51907e08c14adf">end</a> = <a class="code" href="TimekeeperTest_8cpp.html#a562b4baa36dcf267f35a4ba4e0aef329">Clock::now</a>();</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    timeSpent += <a class="code" href="namespacefolly_1_1test.html#a0917528775d48fd53a51907e08c14adf">end</a> - <a class="code" href="ParallelBenchmark_8cpp.html#a7f02a749754f40365411f74cf75d08fa">start</a>;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    start = <a class="code" href="namespacefolly_1_1test.html#a0917528775d48fd53a51907e08c14adf">end</a>;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  }</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="structfolly_1_1BenchmarkSuspender.html#a94771c661c8421cbb41121fda7ba3f87">  158</a></span>&#160;  <a class="code" href="structfolly_1_1BenchmarkSuspender.html#a2b45e1710a4c901a7d638aa3195b267d">TimePoint</a> <a class="code" href="structfolly_1_1BenchmarkSuspender.html#a94771c661c8421cbb41121fda7ba3f87">start</a>;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;};</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> Lambda&gt;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="keyword">typename</span> std::enable_if&lt;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    boost::function_types::function_arity&lt;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        decltype(&amp;Lambda::operator())&gt;<a class="code" href="namespacefolly.html#af765fccfa9242184196b4906286ada49">::value</a> == 2&gt;<a class="code" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">::type</a></div><div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="namespacefolly.html#a8e9dedc40ac9bd853a3294cad9d3e108">  172</a></span>&#160;<a class="code" href="namespacefolly.html#a8e9dedc40ac9bd853a3294cad9d3e108">addBenchmark</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="structfolly_1_1detail_1_1BenchmarkRegistration.html#a7cf84b8033cf8fbe3750d05260a688db">file</a>, <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="structfolly_1_1detail_1_1BenchmarkRegistration.html#a651741cc503240d5355b12c6f38d4092">name</a>, Lambda&amp;&amp; lambda) {</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="keyword">auto</span> execute = [=](<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="namespacefolly.html#a208f803899e1861c21d86c21a4a5cccf">times</a>) {</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="structfolly_1_1BenchmarkSuspender.html#ad0cda5ff3b537bd796ca28dc8a6fb429">BenchmarkSuspender::timeSpent</a> = {};</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> niter;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="comment">// CORE MEASUREMENT STARTS</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keyword">auto</span> <a class="code" href="ParallelBenchmark_8cpp.html#a7f02a749754f40365411f74cf75d08fa">start</a> = <a class="code" href="TimekeeperTest_8cpp.html#a562b4baa36dcf267f35a4ba4e0aef329">std::chrono::high_resolution_clock::now</a>();</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    niter = lambda(<a class="code" href="namespacefolly.html#a208f803899e1861c21d86c21a4a5cccf">times</a>);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keyword">auto</span> <a class="code" href="namespacefolly_1_1test.html#a0917528775d48fd53a51907e08c14adf">end</a> = <a class="code" href="TimekeeperTest_8cpp.html#a562b4baa36dcf267f35a4ba4e0aef329">std::chrono::high_resolution_clock::now</a>();</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="comment">// CORE MEASUREMENT ENDS</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacefolly_1_1detail.html#a8628c03a4eacb4207575e7eb000f15f2">detail::TimeIterPair</a>(</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        (<a class="code" href="namespacefolly_1_1test.html#a0917528775d48fd53a51907e08c14adf">end</a> - <a class="code" href="ParallelBenchmark_8cpp.html#a7f02a749754f40365411f74cf75d08fa">start</a>) - <a class="code" href="structfolly_1_1BenchmarkSuspender.html#ad0cda5ff3b537bd796ca28dc8a6fb429">BenchmarkSuspender::timeSpent</a>, niter);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  };</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <a class="code" href="namespacefolly_1_1detail.html#ae83bf33866d0c05ebf36ca8cbb40bd83">detail::addBenchmarkImpl</a>(</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      file, name, std::function&lt;<a class="code" href="namespacefolly_1_1detail.html#a8628c03a4eacb4207575e7eb000f15f2">detail::TimeIterPair</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)&gt;(execute));</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;}</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> Lambda&gt;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="keyword">typename</span> std::enable_if&lt;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    boost::function_types::function_arity&lt;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        decltype(&amp;Lambda::operator())&gt;::value == 1&gt;<a class="code" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">::type</a></div><div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="namespacefolly.html#a5f12d414ca51505af4cbaea304460585">  201</a></span>&#160;<a class="code" href="namespacefolly.html#a8e9dedc40ac9bd853a3294cad9d3e108">addBenchmark</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="structfolly_1_1detail_1_1BenchmarkRegistration.html#a7cf84b8033cf8fbe3750d05260a688db">file</a>, <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="structfolly_1_1detail_1_1BenchmarkRegistration.html#a651741cc503240d5355b12c6f38d4092">name</a>, Lambda&amp;&amp; lambda) {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <a class="code" href="namespacefolly.html#a8e9dedc40ac9bd853a3294cad9d3e108">addBenchmark</a>(file, name, [=](<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="namespacefolly.html#a208f803899e1861c21d86c21a4a5cccf">times</a>) {</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> niter = 0;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordflow">while</span> (times-- &gt; 0) {</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;      niter += lambda();</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    }</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">return</span> niter;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  });</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;}</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="preprocessor">#ifdef _MSC_VER</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="preprocessor">#pragma optimize(&quot;&quot;, off)</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> doNotOptimizeDependencySink(<span class="keyword">const</span> <span class="keywordtype">void</span>*) {}</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="preprocessor">#pragma optimize(&quot;&quot;, on)</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacefolly.html#a34a8093f83a211421aed3aff08514c74">doNotOptimizeAway</a>(<span class="keyword">const</span> <a class="code" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>&amp; datum) {</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  doNotOptimizeDependencySink(&amp;datum);</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;}</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacefolly.html#a769a365cfcc1c14849db1cf9dbcc615a">makeUnpredictable</a>(<a class="code" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>&amp; datum) {</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  doNotOptimizeDependencySink(&amp;datum);</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;}</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacedetail.html">detail</a> {</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><a name="l00246"></a><span class="lineno"><a class="line" href="structfolly_1_1detail_1_1DoNotOptimizeAwayNeedsIndirect.html">  246</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structfolly_1_1detail_1_1DoNotOptimizeAwayNeedsIndirect.html">DoNotOptimizeAwayNeedsIndirect</a> {</div><div class="line"><a name="l00247"></a><span class="lineno"><a class="line" href="structfolly_1_1detail_1_1DoNotOptimizeAwayNeedsIndirect.html#aed6d053907aedc761b7609e3e62b1792">  247</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="structfolly_1_1detail_1_1DoNotOptimizeAwayNeedsIndirect.html#aed6d053907aedc761b7609e3e62b1792">Decayed</a> = <span class="keyword">typename</span> <a class="code" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">std::decay&lt;T&gt;::type</a>;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="comment">// First two constraints ensure it can be an &quot;r&quot; operand.</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="comment">// std::is_pointer check is because callers seem to expect that</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="comment">// doNotOptimizeAway(&amp;x) is equivalent to doNotOptimizeAway(x).</span></div><div class="line"><a name="l00252"></a><span class="lineno"><a class="line" href="structfolly_1_1detail_1_1DoNotOptimizeAwayNeedsIndirect.html#a2d836ca58c6c1b0137c533872fc9116b">  252</a></span>&#160;  constexpr <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="namespacefolly.html#af765fccfa9242184196b4906286ada49">value</a> = !<a class="code" href="namespacefolly.html#a9f475bf24249b0076869d6fc6865e945">folly::is_trivially_copyable&lt;Decayed&gt;::value</a> ||</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      <span class="keyword">sizeof</span>(<a class="code" href="structfolly_1_1detail_1_1DoNotOptimizeAwayNeedsIndirect.html#aed6d053907aedc761b7609e3e62b1792">Decayed</a>) &gt; <span class="keyword">sizeof</span>(<span class="keywordtype">long</span>) || <a class="code" href="Conv_8cpp.html#a2f6ac1714c34743067351b0d2a64162b">std::is_pointer&lt;Decayed&gt;::value</a>;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;};</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;} <span class="comment">// namespace detail</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><a name="l00258"></a><span class="lineno"><a class="line" href="namespacefolly.html#a34a8093f83a211421aed3aff08514c74">  258</a></span>&#160;<span class="keyword">auto</span> <a class="code" href="namespacefolly.html#a34a8093f83a211421aed3aff08514c74">doNotOptimizeAway</a>(<span class="keyword">const</span> <a class="code" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>&amp; datum) -&gt; <span class="keyword">typename</span> std::enable_if&lt;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    !<a class="code" href="structfolly_1_1detail_1_1DoNotOptimizeAwayNeedsIndirect.html">detail::DoNotOptimizeAwayNeedsIndirect&lt;T&gt;::value</a>&gt;<a class="code" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">::type</a> {</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="comment">// The &quot;r&quot; constraint forces the compiler to make datum available</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="comment">// in a register to the asm block, which means that it must have</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="comment">// computed/loaded it.  We use this path for things that are &lt;=</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="comment">// sizeof(long) (they have to fit), trivial (otherwise the compiler</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="comment">// doesn&#39;t want to put them in a register), and not a pointer (because</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="comment">// doNotOptimizeAway(&amp;foo) would otherwise be a foot gun that didn&#39;t</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="comment">// necessarily compute foo).</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="comment">// An earlier version of this method had a more permissive input operand</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="comment">// constraint, but that caused unnecessary variation between clang and</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="comment">// gcc benchmarks.</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;&quot;</span> ::<span class="stringliteral">&quot;r&quot;</span>(datum));</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;}</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="keyword">auto</span> <a class="code" href="namespacefolly.html#a34a8093f83a211421aed3aff08514c74">doNotOptimizeAway</a>(<span class="keyword">const</span> <a class="code" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>&amp; datum) -&gt; <span class="keyword">typename</span> std::enable_if&lt;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <a class="code" href="structfolly_1_1detail_1_1DoNotOptimizeAwayNeedsIndirect.html">detail::DoNotOptimizeAwayNeedsIndirect&lt;T&gt;::value</a>&gt;<a class="code" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">::type</a> {</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="comment">// This version of doNotOptimizeAway tells the compiler that the asm</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="comment">// block will read datum from memory, and that in addition it might read</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <span class="comment">// or write from any memory location.  If the memory clobber could be</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="comment">// separated into input and output that would be preferrable.</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;&quot;</span> ::<span class="stringliteral">&quot;m&quot;</span>(datum) : <span class="stringliteral">&quot;memory&quot;</span>);</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;}</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><a name="l00285"></a><span class="lineno"><a class="line" href="namespacefolly.html#a769a365cfcc1c14849db1cf9dbcc615a">  285</a></span>&#160;<span class="keyword">auto</span> <a class="code" href="namespacefolly.html#a769a365cfcc1c14849db1cf9dbcc615a">makeUnpredictable</a>(<a class="code" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>&amp; datum) -&gt; <span class="keyword">typename</span> std::enable_if&lt;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    !<a class="code" href="structfolly_1_1detail_1_1DoNotOptimizeAwayNeedsIndirect.html">detail::DoNotOptimizeAwayNeedsIndirect&lt;T&gt;::value</a>&gt;<a class="code" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">::type</a> {</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;+r&quot;</span>(datum));</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;}</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="keyword">auto</span> <a class="code" href="namespacefolly.html#a769a365cfcc1c14849db1cf9dbcc615a">makeUnpredictable</a>(<a class="code" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>&amp; datum) -&gt; <span class="keyword">typename</span> std::enable_if&lt;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <a class="code" href="structfolly_1_1detail_1_1DoNotOptimizeAwayNeedsIndirect.html">detail::DoNotOptimizeAwayNeedsIndirect&lt;T&gt;::value</a>&gt;<a class="code" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">::type</a> {</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;&quot;</span> ::<span class="stringliteral">&quot;m&quot;</span>(datum) : <span class="stringliteral">&quot;memory&quot;</span>);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;}</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="keyword">struct </span><a class="code" href="structfolly_1_1dynamic.html">dynamic</a>;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacefolly.html#aa6857e440036ce9728010a54893f3c77">benchmarkResultsToDynamic</a>(</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keyword">const</span> std::vector&lt;detail::BenchmarkResult&gt;&amp; <a class="code" href="namespacefolly.html#a23ca01703d6715fb172f4188faa73dc9">data</a>,</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <a class="code" href="structfolly_1_1dynamic.html">dynamic</a>&amp;);</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacefolly.html#a7384dc75cd3ab54b1b0e213cd1f98ce6">benchmarkResultsFromDynamic</a>(</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keyword">const</span> <a class="code" href="structfolly_1_1dynamic.html">dynamic</a>&amp;,</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    std::vector&lt;detail::BenchmarkResult&gt;&amp;);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacefolly.html#a20500e0823ffd8b72d10decc7f81f7c1">printResultComparison</a>(</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keyword">const</span> std::vector&lt;detail::BenchmarkResult&gt;&amp; base,</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keyword">const</span> std::vector&lt;detail::BenchmarkResult&gt;&amp; <a class="code" href="namespacetest.html">test</a>);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;} <span class="comment">// namespace folly</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00318"></a><span class="lineno"><a class="line" href="Benchmark_8h.html#aadcbe029da347ba97ad77320bf0defd4">  318</a></span>&#160;<span class="preprocessor">#define BENCHMARK_IMPL(funName, stringName, rv, paramType, paramName) \</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="preprocessor">  static void funName(paramType);                                     \</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="preprocessor">  static bool FB_ANONYMOUS_VARIABLE(follyBenchmarkUnused) =           \</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="preprocessor">      (::folly::addBenchmark(                                         \</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="preprocessor">           __FILE__,                                                  \</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="preprocessor">           stringName,                                                \</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="preprocessor">           [](paramType paramName) -&gt; unsigned {                      \</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="preprocessor">             funName(paramName);                                      \</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="preprocessor">             return rv;                                               \</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="preprocessor">           }),                                                        \</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="preprocessor">       true);                                                         \</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="preprocessor">  static void funName(paramType paramName)</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno"><a class="line" href="Benchmark_8h.html#aa34f02868530e76b202e8974ea8918f6">  336</a></span>&#160;<span class="preprocessor">#define BENCHMARK_MULTI_IMPL(funName, stringName, paramType, paramName) \</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="preprocessor">  static unsigned funName(paramType);                                   \</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="preprocessor">  static bool FB_ANONYMOUS_VARIABLE(follyBenchmarkUnused) =             \</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="preprocessor">      (::folly::addBenchmark(                                           \</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="preprocessor">           __FILE__,                                                    \</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="preprocessor">           stringName,                                                  \</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="preprocessor">           [](paramType paramName) { return funName(paramName); }),     \</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="preprocessor">       true);                                                           \</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="preprocessor">  static unsigned funName(paramType paramName)</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div><div class="line"><a name="l00365"></a><span class="lineno"><a class="line" href="Benchmark_8h.html#a580c48d324f038b23fea44795c57a926">  365</a></span>&#160;<span class="preprocessor">#define BENCHMARK(name, ...)                   \</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="preprocessor">  BENCHMARK_IMPL(                              \</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="preprocessor">      name,                                    \</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="preprocessor">      FB_STRINGIZE(name),                      \</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="preprocessor">      FB_ARG_2_OR_1(1, ##__VA_ARGS__),         \</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="preprocessor">      FB_ONE_OR_NONE(unsigned, ##__VA_ARGS__), \</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="preprocessor">      __VA_ARGS__)</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno"><a class="line" href="Benchmark_8h.html#a766ed06e4a69525fcb0ac2173b959fa1">  388</a></span>&#160;<span class="preprocessor">#define BENCHMARK_MULTI(name, ...)             \</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="preprocessor">  BENCHMARK_MULTI_IMPL(                        \</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="preprocessor">      name,                                    \</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="preprocessor">      FB_STRINGIZE(name),                      \</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="preprocessor">      FB_ONE_OR_NONE(unsigned, ##__VA_ARGS__), \</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="preprocessor">      __VA_ARGS__)</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00417"></a><span class="lineno"><a class="line" href="Benchmark_8h.html#ad65c4a7b4cba6040105b84af14610f44">  417</a></span>&#160;<span class="preprocessor">#define BENCHMARK_PARAM(name, param) BENCHMARK_NAMED_PARAM(name, param, param)</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div><div class="line"><a name="l00423"></a><span class="lineno"><a class="line" href="Benchmark_8h.html#a3111eb98bc62e6e7f1ff7827680168f1">  423</a></span>&#160;<span class="preprocessor">#define BENCHMARK_PARAM_MULTI(name, param) \</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="preprocessor">  BENCHMARK_NAMED_PARAM_MULTI(name, param, param)</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment"> * Like BENCHMARK_PARAM(), but allows a custom name to be specified for each</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment"> * parameter, rather than using the parameter value.</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment"> * Useful when the parameter value is not a valid token for string pasting,</span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="comment"> * of when you want to specify multiple parameter arguments.</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment"> * For example:</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="comment"> * void addValue(uint32_t n, int64_t bucketSize, int64_t min, int64_t max) {</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment"> *   Histogram&lt;int64_t&gt; hist(bucketSize, min, max);</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment"> *   int64_t num = min;</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment"> *   FOR_EACH_RANGE (i, 0, n) {</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment"> *     hist.addValue(num);</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment"> *     ++num;</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment"> *     if (num &gt; max) { num = min; }</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="comment"> *   }</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="comment"> * }</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="comment"> * BENCHMARK_NAMED_PARAM(addValue, 0_to_100, 1, 0, 100)</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="comment"> * BENCHMARK_NAMED_PARAM(addValue, 0_to_1000, 10, 0, 1000)</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="comment"> * BENCHMARK_NAMED_PARAM(addValue, 5k_to_20k, 250, 5000, 20000)</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00449"></a><span class="lineno"><a class="line" href="Benchmark_8h.html#ad9bf4fe82815bc8c8adde48472fdedae">  449</a></span>&#160;<span class="preprocessor">#define BENCHMARK_NAMED_PARAM(name, param_name, ...)       \</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="preprocessor">  BENCHMARK_IMPL(                                          \</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="preprocessor">      FB_CONCATENATE(name, FB_CONCATENATE(_, param_name)), \</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="preprocessor">      FB_STRINGIZE(name) &quot;(&quot; FB_STRINGIZE(param_name) &quot;)&quot;, \</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="preprocessor">      iters,                                               \</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="preprocessor">      unsigned,                                            \</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="preprocessor">      iters) {                                             \</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="preprocessor">    name(iters, ##__VA_ARGS__);                            \</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="preprocessor">  }</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div><div class="line"><a name="l00463"></a><span class="lineno"><a class="line" href="Benchmark_8h.html#acee6e52e02f9c9fbcd4220006a1e3c75">  463</a></span>&#160;<span class="preprocessor">#define BENCHMARK_NAMED_PARAM_MULTI(name, param_name, ...) \</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="preprocessor">  BENCHMARK_MULTI_IMPL(                                    \</span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="preprocessor">      FB_CONCATENATE(name, FB_CONCATENATE(_, param_name)), \</span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="preprocessor">      FB_STRINGIZE(name) &quot;(&quot; FB_STRINGIZE(param_name) &quot;)&quot;, \</span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="preprocessor">      unsigned,                                            \</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="preprocessor">      iters) {                                             \</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="preprocessor">    return name(iters, ##__VA_ARGS__);                     \</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="preprocessor">  }</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00496"></a><span class="lineno"><a class="line" href="Benchmark_8h.html#a8904ff3884af692b4829b8cd06b69cba">  496</a></span>&#160;<span class="preprocessor">#define BENCHMARK_RELATIVE(name, ...)          \</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="preprocessor">  BENCHMARK_IMPL(                              \</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="preprocessor">      name,                                    \</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="preprocessor">      &quot;%&quot; FB_STRINGIZE(name),                  \</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="preprocessor">      FB_ARG_2_OR_1(1, ##__VA_ARGS__),         \</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="preprocessor">      FB_ONE_OR_NONE(unsigned, ##__VA_ARGS__), \</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="preprocessor">      __VA_ARGS__)</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div><div class="line"><a name="l00508"></a><span class="lineno"><a class="line" href="Benchmark_8h.html#a481266a5905fcae062e87b2d490dce83">  508</a></span>&#160;<span class="preprocessor">#define BENCHMARK_RELATIVE_MULTI(name, ...)    \</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="preprocessor">  BENCHMARK_MULTI_IMPL(                        \</span></div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="preprocessor">      name,                                    \</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="preprocessor">      &quot;%&quot; FB_STRINGIZE(name),                  \</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="preprocessor">      FB_ONE_OR_NONE(unsigned, ##__VA_ARGS__), \</span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="preprocessor">      __VA_ARGS__)</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00518"></a><span class="lineno"><a class="line" href="Benchmark_8h.html#a4d5ef38ebc54e7dfdf49606ca9653b30">  518</a></span>&#160;<span class="preprocessor">#define BENCHMARK_RELATIVE_PARAM(name, param) \</span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="preprocessor">  BENCHMARK_RELATIVE_NAMED_PARAM(name, param, param)</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;</div><div class="line"><a name="l00525"></a><span class="lineno"><a class="line" href="Benchmark_8h.html#a3e953866d59e903de8a4121092b0bab1">  525</a></span>&#160;<span class="preprocessor">#define BENCHMARK_RELATIVE_PARAM_MULTI(name, param) \</span></div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="preprocessor">  BENCHMARK_RELATIVE_NAMED_PARAM_MULTI(name, param, param)</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div><div class="line"><a name="l00531"></a><span class="lineno"><a class="line" href="Benchmark_8h.html#a63e4f52534723c9915c1841193d3862b">  531</a></span>&#160;<span class="preprocessor">#define BENCHMARK_RELATIVE_NAMED_PARAM(name, param_name, ...)  \</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="preprocessor">  BENCHMARK_IMPL(                                              \</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="preprocessor">      FB_CONCATENATE(name, FB_CONCATENATE(_, param_name)),     \</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="preprocessor">      &quot;%&quot; FB_STRINGIZE(name) &quot;(&quot; FB_STRINGIZE(param_name) &quot;)&quot;, \</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="preprocessor">      iters,                                                   \</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="preprocessor">      unsigned,                                                \</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="preprocessor">      iters) {                                                 \</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="preprocessor">    name(iters, ##__VA_ARGS__);                                \</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="preprocessor">  }</span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div><div class="line"><a name="l00545"></a><span class="lineno"><a class="line" href="Benchmark_8h.html#a868a4cc60e41353719bc10e64d46b365">  545</a></span>&#160;<span class="preprocessor">#define BENCHMARK_RELATIVE_NAMED_PARAM_MULTI(name, param_name, ...) \</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="preprocessor">  BENCHMARK_MULTI_IMPL(                                             \</span></div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="preprocessor">      FB_CONCATENATE(name, FB_CONCATENATE(_, param_name)),          \</span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="preprocessor">      &quot;%&quot; FB_STRINGIZE(name) &quot;(&quot; FB_STRINGIZE(param_name) &quot;)&quot;,      \</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="preprocessor">      unsigned,                                                     \</span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="preprocessor">      iters) {                                                      \</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="preprocessor">    return name(iters, ##__VA_ARGS__);                              \</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="preprocessor">  }</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div><div class="line"><a name="l00557"></a><span class="lineno"><a class="line" href="Benchmark_8h.html#ad1a51c4a45b1b79ecd3dcb2dd8202cc5">  557</a></span>&#160;<span class="preprocessor">#define BENCHMARK_DRAW_LINE()                                                \</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<span class="preprocessor">  static bool FB_ANONYMOUS_VARIABLE(follyBenchmarkUnused) =                  \</span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<span class="preprocessor">      (::folly::addBenchmark(__FILE__, &quot;-&quot;, []() -&gt; unsigned { return 0; }), \</span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="preprocessor">       true)</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div><div class="line"><a name="l00576"></a><span class="lineno"><a class="line" href="Benchmark_8h.html#a9846f9ab70abbc1dc314cb0e541a929b">  576</a></span>&#160;<span class="preprocessor">#define BENCHMARK_SUSPEND                             \</span></div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="preprocessor">  if (auto FB_ANONYMOUS_VARIABLE(BENCHMARK_SUSPEND) = \</span></div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;<span class="preprocessor">          ::folly::BenchmarkSuspender()) {            \</span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;<span class="preprocessor">  } else</span></div><div class="ttc" id="structfolly_1_1BenchmarkSuspender_html_a7d232dd9f2cc9c14581e8ef16b924479"><div class="ttname"><a href="structfolly_1_1BenchmarkSuspender.html#a7d232dd9f2cc9c14581e8ef16b924479">folly::BenchmarkSuspender::Duration</a></div><div class="ttdeci">Clock::duration Duration</div><div class="ttdef"><b>Definition:</b> <a href="Benchmark_8h_source.html#l00090">Benchmark.h:90</a></div></div>
<div class="ttc" id="Invoke_8h_html"><div class="ttname"><a href="Invoke_8h.html">Invoke.h</a></div></div>
<div class="ttc" id="PushmiBenchmarks_8cpp_html_ad94c2c2f9fd35a12cc099962b7540071"><div class="ttname"><a href="PushmiBenchmarks_8cpp.html#ad94c2c2f9fd35a12cc099962b7540071">f</a></div><div class="ttdeci">auto f</div><div class="ttdef"><b>Definition:</b> <a href="PushmiBenchmarks_8cpp_source.html#l00515">PushmiBenchmarks.cpp:515</a></div></div>
<div class="ttc" id="structfolly_1_1BenchmarkSuspender_html_a2b45e1710a4c901a7d638aa3195b267d"><div class="ttname"><a href="structfolly_1_1BenchmarkSuspender.html#a2b45e1710a4c901a7d638aa3195b267d">folly::BenchmarkSuspender::TimePoint</a></div><div class="ttdeci">Clock::time_point TimePoint</div><div class="ttdef"><b>Definition:</b> <a href="Benchmark_8h_source.html#l00089">Benchmark.h:89</a></div></div>
<div class="ttc" id="namespacefolly_html_a959935d9eb6cce6bd25049997b200b93"><div class="ttname"><a href="namespacefolly.html#a959935d9eb6cce6bd25049997b200b93">folly::invoke_result_t</a></div><div class="ttdeci">typename invoke_result&lt; F, Args... &gt;::type invoke_result_t</div><div class="ttdef"><b>Definition:</b> <a href="Invoke_8h_source.html#l00142">Invoke.h:142</a></div></div>
<div class="ttc" id="structfolly_1_1detail_1_1BenchmarkResult_html"><div class="ttname"><a href="structfolly_1_1detail_1_1BenchmarkResult.html">folly::detail::BenchmarkResult</a></div><div class="ttdef"><b>Definition:</b> <a href="Benchmark_8h_source.html#l00067">Benchmark.h:67</a></div></div>
<div class="ttc" id="structfolly_1_1detail_1_1DoNotOptimizeAwayNeedsIndirect_html_aed6d053907aedc761b7609e3e62b1792"><div class="ttname"><a href="structfolly_1_1detail_1_1DoNotOptimizeAwayNeedsIndirect.html#aed6d053907aedc761b7609e3e62b1792">folly::detail::DoNotOptimizeAwayNeedsIndirect::Decayed</a></div><div class="ttdeci">typename std::decay&lt; T &gt;::type Decayed</div><div class="ttdef"><b>Definition:</b> <a href="Benchmark_8h_source.html#l00247">Benchmark.h:247</a></div></div>
<div class="ttc" id="structfolly_1_1BenchmarkSuspender_html"><div class="ttname"><a href="structfolly_1_1BenchmarkSuspender.html">folly::BenchmarkSuspender</a></div><div class="ttdef"><b>Definition:</b> <a href="Benchmark_8h_source.html#l00087">Benchmark.h:87</a></div></div>
<div class="ttc" id="ClientProtocol_8cpp_html_afb6f25e8ca4d7adb175ad413430bbb90"><div class="ttname"><a href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">type</a></div><div class="ttdeci">PskType type</div><div class="ttdef"><b>Definition:</b> <a href="ClientProtocol_8cpp_source.html#l00777">ClientProtocol.cpp:777</a></div></div>
<div class="ttc" id="namespacetest_html"><div class="ttname"><a href="namespacetest.html">test</a></div></div>
<div class="ttc" id="TimekeeperTest_8cpp_html_a562b4baa36dcf267f35a4ba4e0aef329"><div class="ttname"><a href="TimekeeperTest_8cpp.html#a562b4baa36dcf267f35a4ba4e0aef329">now</a></div><div class="ttdeci">std::chrono::steady_clock::time_point now()</div><div class="ttdef"><b>Definition:</b> <a href="TimekeeperTest_8cpp_source.html#l00031">TimekeeperTest.cpp:31</a></div></div>
<div class="ttc" id="namespacefolly_1_1detail_html_ae83bf33866d0c05ebf36ca8cbb40bd83"><div class="ttname"><a href="namespacefolly_1_1detail.html#ae83bf33866d0c05ebf36ca8cbb40bd83">folly::detail::addBenchmarkImpl</a></div><div class="ttdeci">void addBenchmarkImpl(const char *file, const char *name, std::function&lt; TimeIterPair(unsigned int)&gt;)</div></div>
<div class="ttc" id="Portability_8h_html"><div class="ttname"><a href="Portability_8h.html">Portability.h</a></div></div>
<div class="ttc" id="ScopeGuard_8h_html_a175c354c3e38222bc00ce5df5e6d431d"><div class="ttname"><a href="ScopeGuard_8h.html#a175c354c3e38222bc00ce5df5e6d431d">SCOPE_EXIT</a></div><div class="ttdeci">#define SCOPE_EXIT</div><div class="ttdef"><b>Definition:</b> <a href="ScopeGuard_8h_source.html#l00274">ScopeGuard.h:274</a></div></div>
<div class="ttc" id="structfolly_1_1detail_1_1BenchmarkRegistration_html_abcb7945107964e09a275227e61c055a9"><div class="ttname"><a href="structfolly_1_1detail_1_1BenchmarkRegistration.html#abcb7945107964e09a275227e61c055a9">folly::detail::BenchmarkRegistration::func</a></div><div class="ttdeci">BenchmarkFun func</div><div class="ttdef"><b>Definition:</b> <a href="Benchmark_8h_source.html#l00064">Benchmark.h:64</a></div></div>
<div class="ttc" id="structfolly_1_1dynamic_html"><div class="ttname"><a href="structfolly_1_1dynamic.html">folly::dynamic</a></div><div class="ttdef"><b>Definition:</b> <a href="dynamic_8h_source.html#l00079">dynamic.h:79</a></div></div>
<div class="ttc" id="namespacefolly_html_a0652a9c51b69e7a13d40ccbcb139bc55"><div class="ttname"><a href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">folly::T</a></div><div class="ttdeci">folly::std T</div></div>
<div class="ttc" id="namespacefolly_html_a7384dc75cd3ab54b1b0e213cd1f98ce6"><div class="ttname"><a href="namespacefolly.html#a7384dc75cd3ab54b1b0e213cd1f98ce6">folly::benchmarkResultsFromDynamic</a></div><div class="ttdeci">void benchmarkResultsFromDynamic(const dynamic &amp;d, vector&lt; detail::BenchmarkResult &gt; &amp;results)</div><div class="ttdef"><b>Definition:</b> <a href="Benchmark_8cpp_source.html#l00357">Benchmark.cpp:357</a></div></div>
<div class="ttc" id="namespacefolly_html"><div class="ttname"><a href="namespacefolly.html">folly</a></div><div class="ttdoc">—— Concurrent Priority Queue Implementation —— </div><div class="ttdef"><b>Definition:</b> <a href="AtomicBitSet_8h_source.html#l00029">AtomicBitSet.h:29</a></div></div>
<div class="ttc" id="namespacefolly_html_a913e35b677737060dd916710d591c301"><div class="ttname"><a href="namespacefolly.html#a913e35b677737060dd916710d591c301">folly::runBenchmarks</a></div><div class="ttdeci">void runBenchmarks()</div><div class="ttdef"><b>Definition:</b> <a href="Benchmark_8cpp_source.html#l00456">Benchmark.cpp:456</a></div></div>
<div class="ttc" id="structfolly_1_1BenchmarkSuspender_html_adf6170a976ff5789541fde78e5ecb3d4"><div class="ttname"><a href="structfolly_1_1BenchmarkSuspender.html#adf6170a976ff5789541fde78e5ecb3d4">folly::BenchmarkSuspender::~BenchmarkSuspender</a></div><div class="ttdeci">~BenchmarkSuspender()</div><div class="ttdef"><b>Definition:</b> <a href="Benchmark_8h_source.html#l00112">Benchmark.h:112</a></div></div>
<div class="ttc" id="namespacefolly_1_1pushmi_1_1____adl_html_af474005039e5722873e3ac4d0f93ae6b"><div class="ttname"><a href="namespacefolly_1_1pushmi_1_1____adl.html#af474005039e5722873e3ac4d0f93ae6b">folly::pushmi::__adl::noexcept</a></div><div class="ttdeci">requires E e noexcept(noexcept(s.error(std::move(e))))</div><div class="ttdef"><b>Definition:</b> <a href="extension__points_8h_source.html#l00040">extension_points.h:40</a></div></div>
<div class="ttc" id="structfolly_1_1BenchmarkSuspender_html_af0dcce06096a49082236fca4678adfa8"><div class="ttname"><a href="structfolly_1_1BenchmarkSuspender.html#af0dcce06096a49082236fca4678adfa8">folly::BenchmarkSuspender::Clock</a></div><div class="ttdeci">std::chrono::high_resolution_clock Clock</div><div class="ttdef"><b>Definition:</b> <a href="Benchmark_8h_source.html#l00088">Benchmark.h:88</a></div></div>
<div class="ttc" id="namespacefolly_1_1detail_html_a2dccd19efd4e58589c88f81f62bbf32e"><div class="ttname"><a href="namespacefolly_1_1detail.html#a2dccd19efd4e58589c88f81f62bbf32e">folly::detail::rhs</a></div><div class="ttdeci">FOLLY_PUSH_WARNING RHS rhs</div><div class="ttdef"><b>Definition:</b> <a href="Traits_8h_source.html#l00649">Traits.h:649</a></div></div>
<div class="ttc" id="ScopeGuard_8h_html"><div class="ttname"><a href="ScopeGuard_8h.html">ScopeGuard.h</a></div></div>
<div class="ttc" id="namespacefolly_html_aa6857e440036ce9728010a54893f3c77"><div class="ttname"><a href="namespacefolly.html#aa6857e440036ce9728010a54893f3c77">folly::benchmarkResultsToDynamic</a></div><div class="ttdeci">void benchmarkResultsToDynamic(const vector&lt; detail::BenchmarkResult &gt; &amp;data, dynamic &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="Benchmark_8cpp_source.html#l00348">Benchmark.cpp:348</a></div></div>
<div class="ttc" id="namespacedetail_html"><div class="ttname"><a href="namespacedetail.html">detail</a></div><div class="ttdef"><b>Definition:</b> <a href="HashBenchmark_8cpp_source.html#l00032">HashBenchmark.cpp:32</a></div></div>
<div class="ttc" id="structfolly_1_1detail_1_1BenchmarkResult_html_ab927083a38f71bef0ca9a2c3d9f44793"><div class="ttname"><a href="structfolly_1_1detail_1_1BenchmarkResult.html#ab927083a38f71bef0ca9a2c3d9f44793">folly::detail::BenchmarkResult::timeInNs</a></div><div class="ttdeci">double timeInNs</div><div class="ttdef"><b>Definition:</b> <a href="Benchmark_8h_source.html#l00070">Benchmark.h:70</a></div></div>
<div class="ttc" id="Preprocessor_8h_html"><div class="ttname"><a href="Preprocessor_8h.html">Preprocessor.h</a></div></div>
<div class="ttc" id="structfolly_1_1detail_1_1BenchmarkResult_html_a004937967bfb7500d1af81331eef9279"><div class="ttname"><a href="structfolly_1_1detail_1_1BenchmarkResult.html#a004937967bfb7500d1af81331eef9279">folly::detail::BenchmarkResult::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition:</b> <a href="Benchmark_8h_source.html#l00069">Benchmark.h:69</a></div></div>
<div class="ttc" id="namespacefolly_1_1detail_html_a8628c03a4eacb4207575e7eb000f15f2"><div class="ttname"><a href="namespacefolly_1_1detail.html#a8628c03a4eacb4207575e7eb000f15f2">folly::detail::TimeIterPair</a></div><div class="ttdeci">std::pair&lt; std::chrono::high_resolution_clock::duration, unsigned int &gt; TimeIterPair</div><div class="ttdef"><b>Definition:</b> <a href="Benchmark_8h_source.html#l00058">Benchmark.h:58</a></div></div>
<div class="ttc" id="structfolly_1_1BenchmarkSuspender_html_a94771c661c8421cbb41121fda7ba3f87"><div class="ttname"><a href="structfolly_1_1BenchmarkSuspender.html#a94771c661c8421cbb41121fda7ba3f87">folly::BenchmarkSuspender::start</a></div><div class="ttdeci">TimePoint start</div><div class="ttdef"><b>Definition:</b> <a href="Benchmark_8h_source.html#l00158">Benchmark.h:158</a></div></div>
<div class="ttc" id="structfolly_1_1detail_1_1BenchmarkResult_html_afa40ff64809ad224d33c4132cf5049d4"><div class="ttname"><a href="structfolly_1_1detail_1_1BenchmarkResult.html#afa40ff64809ad224d33c4132cf5049d4">folly::detail::BenchmarkResult::file</a></div><div class="ttdeci">std::string file</div><div class="ttdef"><b>Definition:</b> <a href="Benchmark_8h_source.html#l00068">Benchmark.h:68</a></div></div>
<div class="ttc" id="Traits_8h_html"><div class="ttname"><a href="Traits_8h.html">Traits.h</a></div></div>
<div class="ttc" id="namespacefolly_1_1test_html_a0917528775d48fd53a51907e08c14adf"><div class="ttname"><a href="namespacefolly_1_1test.html#a0917528775d48fd53a51907e08c14adf">folly::test::end</a></div><div class="ttdeci">auto end(TestAdlIterable &amp;instance)</div><div class="ttdef"><b>Definition:</b> <a href="ForeachTest_8cpp_source.html#l00062">ForeachTest.cpp:62</a></div></div>
<div class="ttc" id="namespacefolly_html_a23ca01703d6715fb172f4188faa73dc9"><div class="ttname"><a href="namespacefolly.html#a23ca01703d6715fb172f4188faa73dc9">folly::data</a></div><div class="ttdeci">constexpr auto data(C &amp;c) -&gt; decltype(c.data())</div><div class="ttdef"><b>Definition:</b> <a href="Access_8h_source.html#l00071">Access.h:71</a></div></div>
<div class="ttc" id="Benchmark_8h_html_a1e24efbb7acc712eb052689f639330d1"><div class="ttname"><a href="Benchmark_8h.html#a1e24efbb7acc712eb052689f639330d1">DECLARE_bool</a></div><div class="ttdeci">DECLARE_bool(benchmark)</div></div>
<div class="ttc" id="namespacefolly_html_a9f475bf24249b0076869d6fc6865e945"><div class="ttname"><a href="namespacefolly.html#a9f475bf24249b0076869d6fc6865e945">folly::is_trivially_copyable</a></div><div class="ttdeci">std::is_trivially_copyable&lt; T &gt; is_trivially_copyable</div><div class="ttdef"><b>Definition:</b> <a href="Traits_8h_source.html#l00313">Traits.h:313</a></div></div>
<div class="ttc" id="Conv_8cpp_html_a2f6ac1714c34743067351b0d2a64162b"><div class="ttname"><a href="Conv_8cpp.html#a2f6ac1714c34743067351b0d2a64162b">value</a></div><div class="ttdeci">static const char *const value</div><div class="ttdef"><b>Definition:</b> <a href="Conv_8cpp_source.html#l00050">Conv.cpp:50</a></div></div>
<div class="ttc" id="structfolly_1_1BenchmarkSuspender_html_a4c8d3de5c62647545ca42fdaac31ce08"><div class="ttname"><a href="structfolly_1_1BenchmarkSuspender.html#a4c8d3de5c62647545ca42fdaac31ce08">folly::BenchmarkSuspender::operator=</a></div><div class="ttdeci">BenchmarkSuspender &amp; operator=(BenchmarkSuspender &amp;&amp;rhs)</div><div class="ttdef"><b>Definition:</b> <a href="Benchmark_8h_source.html#l00103">Benchmark.h:103</a></div></div>
<div class="ttc" id="ParallelBenchmark_8cpp_html_a7f02a749754f40365411f74cf75d08fa"><div class="ttname"><a href="ParallelBenchmark_8cpp.html#a7f02a749754f40365411f74cf75d08fa">start</a></div><div class="ttdeci">auto start</div><div class="ttdef"><b>Definition:</b> <a href="ParallelBenchmark_8cpp_source.html#l00083">ParallelBenchmark.cpp:83</a></div></div>
<div class="ttc" id="structfolly_1_1detail_1_1DoNotOptimizeAwayNeedsIndirect_html"><div class="ttname"><a href="structfolly_1_1detail_1_1DoNotOptimizeAwayNeedsIndirect.html">folly::detail::DoNotOptimizeAwayNeedsIndirect</a></div><div class="ttdef"><b>Definition:</b> <a href="Benchmark_8h_source.html#l00246">Benchmark.h:246</a></div></div>
<div class="ttc" id="namespacefolly_1_1detail_html_a6537c074ce64f0dda9fb838171e7fa49"><div class="ttname"><a href="namespacefolly_1_1detail.html#a6537c074ce64f0dda9fb838171e7fa49">folly::detail::BenchmarkFun</a></div><div class="ttdeci">std::function&lt; detail::TimeIterPair(unsigned int)&gt; BenchmarkFun</div><div class="ttdef"><b>Definition:</b> <a href="Benchmark_8h_source.html#l00059">Benchmark.h:59</a></div></div>
<div class="ttc" id="structfolly_1_1BenchmarkSuspender_html_a0838cfc4636de039691540f55108bc1d"><div class="ttname"><a href="structfolly_1_1BenchmarkSuspender.html#a0838cfc4636de039691540f55108bc1d">folly::BenchmarkSuspender::rehire</a></div><div class="ttdeci">void rehire()</div><div class="ttdef"><b>Definition:</b> <a href="Benchmark_8h_source.html#l00124">Benchmark.h:124</a></div></div>
<div class="ttc" id="structfolly_1_1BenchmarkSuspender_html_a7df507f21231ad2c68f2c6bd843d14cb"><div class="ttname"><a href="structfolly_1_1BenchmarkSuspender.html#a7df507f21231ad2c68f2c6bd843d14cb">folly::BenchmarkSuspender::dismiss</a></div><div class="ttdeci">void dismiss()</div><div class="ttdef"><b>Definition:</b> <a href="Benchmark_8h_source.html#l00118">Benchmark.h:118</a></div></div>
<div class="ttc" id="structfolly_1_1BenchmarkSuspender_html_a56fc5a81bb428d2102a3f03d943abe24"><div class="ttname"><a href="structfolly_1_1BenchmarkSuspender.html#a56fc5a81bb428d2102a3f03d943abe24">folly::BenchmarkSuspender::BenchmarkSuspender</a></div><div class="ttdeci">BenchmarkSuspender(BenchmarkSuspender &amp;&amp;rhs) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="Benchmark_8h_source.html#l00097">Benchmark.h:97</a></div></div>
<div class="ttc" id="structfolly_1_1BenchmarkSuspender_html_ad0cda5ff3b537bd796ca28dc8a6fb429"><div class="ttname"><a href="structfolly_1_1BenchmarkSuspender.html#ad0cda5ff3b537bd796ca28dc8a6fb429">folly::BenchmarkSuspender::timeSpent</a></div><div class="ttdeci">static Duration timeSpent</div><div class="ttdef"><b>Definition:</b> <a href="Benchmark_8h_source.html#l00149">Benchmark.h:149</a></div></div>
<div class="ttc" id="structfolly_1_1detail_1_1BenchmarkRegistration_html"><div class="ttname"><a href="structfolly_1_1detail_1_1BenchmarkRegistration.html">folly::detail::BenchmarkRegistration</a></div><div class="ttdef"><b>Definition:</b> <a href="Benchmark_8h_source.html#l00061">Benchmark.h:61</a></div></div>
<div class="ttc" id="structfolly_1_1BenchmarkSuspender_html_a4368866965d007d2d3e48812b6ecf037"><div class="ttname"><a href="structfolly_1_1BenchmarkSuspender.html#a4368866965d007d2d3e48812b6ecf037">folly::BenchmarkSuspender::dismissing</a></div><div class="ttdeci">auto dismissing(F f) -&gt; invoke_result_t&lt; F &gt;</div><div class="ttdef"><b>Definition:</b> <a href="Benchmark_8h_source.html#l00130">Benchmark.h:130</a></div></div>
<div class="ttc" id="Conv_8cpp_html_ae1adbce218e7a9d09164012443191d24"><div class="ttname"><a href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">string</a></div><div class="ttdeci">const char * string</div><div class="ttdef"><b>Definition:</b> <a href="Conv_8cpp_source.html#l00212">Conv.cpp:212</a></div></div>
<div class="ttc" id="structfolly_1_1detail_1_1BenchmarkRegistration_html_a7cf84b8033cf8fbe3750d05260a688db"><div class="ttname"><a href="structfolly_1_1detail_1_1BenchmarkRegistration.html#a7cf84b8033cf8fbe3750d05260a688db">folly::detail::BenchmarkRegistration::file</a></div><div class="ttdeci">std::string file</div><div class="ttdef"><b>Definition:</b> <a href="Benchmark_8h_source.html#l00062">Benchmark.h:62</a></div></div>
<div class="ttc" id="namespacefolly_html_a8096676b297300b627e0e72deb0d4d5f"><div class="ttname"><a href="namespacefolly.html#a8096676b297300b627e0e72deb0d4d5f">folly::runBenchmarksOnFlag</a></div><div class="ttdeci">bool runBenchmarksOnFlag()</div><div class="ttdef"><b>Definition:</b> <a href="Benchmark_8h_source.html#l00048">Benchmark.h:48</a></div></div>
<div class="ttc" id="namespacefolly_html_af765fccfa9242184196b4906286ada49"><div class="ttname"><a href="namespacefolly.html#af765fccfa9242184196b4906286ada49">folly::value</a></div><div class="ttdeci">uint64_t value(const typename LockFreeRingBuffer&lt; T, Atom &gt;::Cursor &amp;rbcursor)</div><div class="ttdef"><b>Definition:</b> <a href="LockFreeRingBufferTest_8cpp_source.html#l00096">LockFreeRingBufferTest.cpp:96</a></div></div>
<div class="ttc" id="namespacefolly_html_a8e9dedc40ac9bd853a3294cad9d3e108"><div class="ttname"><a href="namespacefolly.html#a8e9dedc40ac9bd853a3294cad9d3e108">folly::addBenchmark</a></div><div class="ttdeci">std::enable_if&lt; boost::function_types::function_arity&lt; decltype(&amp;Lambda::operator())&gt;::value==2 &gt;::type addBenchmark(const char *file, const char *name, Lambda &amp;&amp;lambda)</div><div class="ttdef"><b>Definition:</b> <a href="Benchmark_8h_source.html#l00172">Benchmark.h:172</a></div></div>
<div class="ttc" id="namespacefolly_html_a208f803899e1861c21d86c21a4a5cccf"><div class="ttname"><a href="namespacefolly.html#a208f803899e1861c21d86c21a4a5cccf">folly::times</a></div><div class="ttdeci">Future&lt; Unit &gt; times(const int n, F &amp;&amp;thunk)</div><div class="ttdef"><b>Definition:</b> <a href="Future-inl_8h_source.html#l02348">Future-inl.h:2348</a></div></div>
<div class="ttc" id="structfolly_1_1BenchmarkSuspender_html_a0d5955e7090c2d701361fca53803e3f7"><div class="ttname"><a href="structfolly_1_1BenchmarkSuspender.html#a0d5955e7090c2d701361fca53803e3f7">folly::BenchmarkSuspender::tally</a></div><div class="ttdeci">void tally()</div><div class="ttdef"><b>Definition:</b> <a href="Benchmark_8h_source.html#l00152">Benchmark.h:152</a></div></div>
<div class="ttc" id="namespacefolly_html_a20500e0823ffd8b72d10decc7f81f7c1"><div class="ttname"><a href="namespacefolly.html#a20500e0823ffd8b72d10decc7f81f7c1">folly::printResultComparison</a></div><div class="ttdeci">void printResultComparison(const vector&lt; detail::BenchmarkResult &gt; &amp;base, const vector&lt; detail::BenchmarkResult &gt; &amp;test)</div><div class="ttdef"><b>Definition:</b> <a href="Benchmark_8cpp_source.html#l00371">Benchmark.cpp:371</a></div></div>
<div class="ttc" id="ReadMostlySharedPtrBenchmark_8cpp_html_ad6e8c2dc3a8a1632fc2bd47e19f85aca"><div class="ttname"><a href="ReadMostlySharedPtrBenchmark_8cpp.html#ad6e8c2dc3a8a1632fc2bd47e19f85aca">benchmark</a></div><div class="ttdeci">void benchmark(size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="ReadMostlySharedPtrBenchmark_8cpp_source.html#l00031">ReadMostlySharedPtrBenchmark.cpp:31</a></div></div>
<div class="ttc" id="GFlags_8h_html"><div class="ttname"><a href="GFlags_8h.html">GFlags.h</a></div></div>
<div class="ttc" id="structfolly_1_1BenchmarkSuspender_html_abcb6f79744c5fd35ef5a843b48671255"><div class="ttname"><a href="structfolly_1_1BenchmarkSuspender.html#abcb6f79744c5fd35ef5a843b48671255">folly::BenchmarkSuspender::BenchmarkSuspender</a></div><div class="ttdeci">BenchmarkSuspender()</div><div class="ttdef"><b>Definition:</b> <a href="Benchmark_8h_source.html#l00092">Benchmark.h:92</a></div></div>
<div class="ttc" id="namespacefolly_html_a769a365cfcc1c14849db1cf9dbcc615a"><div class="ttname"><a href="namespacefolly.html#a769a365cfcc1c14849db1cf9dbcc615a">folly::makeUnpredictable</a></div><div class="ttdeci">auto makeUnpredictable(T &amp;datum) -&gt; typename std::enable_if&lt; !detail::DoNotOptimizeAwayNeedsIndirect&lt; T &gt;::value &gt;::type</div><div class="ttdef"><b>Definition:</b> <a href="Benchmark_8h_source.html#l00285">Benchmark.h:285</a></div></div>
<div class="ttc" id="namespacefolly_html_a34a8093f83a211421aed3aff08514c74"><div class="ttname"><a href="namespacefolly.html#a34a8093f83a211421aed3aff08514c74">folly::doNotOptimizeAway</a></div><div class="ttdeci">auto doNotOptimizeAway(const T &amp;datum) -&gt; typename std::enable_if&lt; !detail::DoNotOptimizeAwayNeedsIndirect&lt; T &gt;::value &gt;::type</div><div class="ttdef"><b>Definition:</b> <a href="Benchmark_8h_source.html#l00258">Benchmark.h:258</a></div></div>
<div class="ttc" id="structfolly_1_1detail_1_1BenchmarkRegistration_html_a651741cc503240d5355b12c6f38d4092"><div class="ttname"><a href="structfolly_1_1detail_1_1BenchmarkRegistration.html#a651741cc503240d5355b12c6f38d4092">folly::detail::BenchmarkRegistration::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition:</b> <a href="Benchmark_8h_source.html#l00063">Benchmark.h:63</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d333e33cf903653326082c1f32e03be5.html">proxygen</a></li><li class="navelem"><a class="el" href="dir_32ce190710b1753ff87b781fbaae9b47.html">folly</a></li><li class="navelem"><a class="el" href="dir_dcf8e1233ba68571c5027662569cd1d9.html">folly</a></li><li class="navelem"><a class="el" href="Benchmark_8h.html">Benchmark.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
