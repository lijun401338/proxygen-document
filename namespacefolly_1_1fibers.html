<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>proxygen: folly::fibers Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">proxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Namespace&#160;List</span></a></li>
      <li><a href="namespacemembers.html"><span>Namespace&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('namespacefolly_1_1fibers.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">folly::fibers Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacefolly_1_1fibers_1_1detail"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefolly_1_1fibers_1_1detail.html">detail</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1ABDCommitNotCalledException.html">ABDCommitNotCalledException</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1ABDTokenNotDispatchedException.html">ABDTokenNotDispatchedException</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1ABDUsageException.html">ABDUsageException</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html">AtomicBatchDispatcher</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1BatchDispatcher.html">BatchDispatcher</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1Baton.html">Baton</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1CacheManager.html">CacheManager</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1EventBaseLoopController.html">EventBaseLoopController</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1ExecutorLoopController.html">ExecutorLoopController</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1Fiber.html">Fiber</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classfolly_1_1fibers_1_1Fiber.html" title="Fiber object used by FiberManager to execute tasks. ">Fiber</a> object used by <a class="el" href="classfolly_1_1fibers_1_1FiberManager.html" title="Single-threaded task execution engine. ">FiberManager</a> to execute tasks.  <a href="classfolly_1_1fibers_1_1Fiber.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberImpl.html">FiberImpl</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html">FiberManager</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Single-threaded task execution engine.  <a href="classfolly_1_1fibers_1_1FiberManager.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1fibers_1_1FirstArgOf.html">FirstArgOf</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1fibers_1_1FirstArgOf_3_01F_00_01typename_01std_1_1enable__if_3_01std_1_1is__class9dc20527c306c9303bf1c958a1053d59.html">FirstArgOf&lt; F, typename std::enable_if&lt; std::is_class&lt; F &gt;::value &gt;::type &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1fibers_1_1FirstArgOf_3_01F_00_01typename_01std_1_1enable__if_3_9std_1_1is__class_62403814900b34b8e899f0ac7bac6481.html">FirstArgOf&lt; F, typename std::enable_if&lt;!std::is_class&lt; F &gt;::value &gt;::type &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1GuardPageAllocator.html">GuardPageAllocator</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1InlineFunctionRunner.html">InlineFunctionRunner</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1fibers_1_1IsRvalueRefTry.html">IsRvalueRefTry</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfolly_1_1fibers_1_1IsRvalueRefTry_3_01folly_1_1Try_3_01T_01_4_01_6_6_01_4.html">IsRvalueRefTry&lt; folly::Try&lt; T &gt; &amp;&amp; &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1LocalType.html">LocalType</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1LoopController.html">LoopController</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1Promise.html">Promise</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1Semaphore.html">Semaphore</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1SimpleLoopController.html">SimpleLoopController</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1StackCache.html">StackCache</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1StackCacheEntry.html">StackCacheEntry</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1TaskIterator.html">TaskIterator</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1TimedMutex.html">TimedMutex</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1TimedRWMutex.html">TimedRWMutex</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1fibers_1_1TimeoutController.html">TimeoutController</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a528084320b1f662a11e8ddf8b13a17d6"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefolly_1_1fibers.html#a528084320b1f662a11e8ddf8b13a17d6">once_flag</a> = <a class="el" href="classfolly_1_1basic__once__flag.html">basic_once_flag</a>&lt; <a class="el" href="classfolly_1_1fibers_1_1TimedMutex.html">TimedMutex</a> &gt;</td></tr>
<tr class="separator:a528084320b1f662a11e8ddf8b13a17d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01002f11bf10537f02a2af0c013b9dd6"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classfolly_1_1fibers_1_1Baton.html">Baton</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefolly_1_1fibers.html#a01002f11bf10537f02a2af0c013b9dd6">GenericBaton</a></td></tr>
<tr class="separator:a01002f11bf10537f02a2af0c013b9dd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a942d61e9c238f8b7673636dac40b745e"><td class="memTemplParams" colspan="2">template&lt;class InputIterator &gt; </td></tr>
<tr class="memitem:a942d61e9c238f8b7673636dac40b745e"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1fibers_1_1TaskIterator.html">TaskIterator</a>&lt; <a class="el" href="namespacefolly.html#a959935d9eb6cce6bd25049997b200b93">invoke_result_t</a>&lt; typename std::iterator_traits&lt; InputIterator &gt;::value_type &gt; &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacefolly_1_1fibers.html#a942d61e9c238f8b7673636dac40b745e">addTasks</a> (InputIterator first, InputIterator last)</td></tr>
<tr class="separator:a942d61e9c238f8b7673636dac40b745e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c981103fe9bcc8c72153370f73db9e7"><td class="memTemplParams" colspan="2">template&lt;typename InputT , typename ResultT &gt; </td></tr>
<tr class="memitem:a8c981103fe9bcc8c72153370f73db9e7"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html">AtomicBatchDispatcher</a>&lt; InputT, ResultT &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacefolly_1_1fibers.html#a8c981103fe9bcc8c72153370f73db9e7">createAtomicBatchDispatcher</a> (<a class="el" href="classfolly_1_1Function.html">folly::Function</a>&lt; std::vector&lt; ResultT &gt;(std::vector&lt; InputT &gt; &amp;&amp;)&gt; dispatchFunc, size_t initialCapacity)</td></tr>
<tr class="separator:a8c981103fe9bcc8c72153370f73db9e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d41d11c2abd9aa82f603a71b5b71082"><td class="memTemplParams" colspan="2">template&lt;typename F &gt; </td></tr>
<tr class="memitem:a6d41d11c2abd9aa82f603a71b5b71082"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="structfolly_1_1fibers_1_1FirstArgOf.html">FirstArgOf</a>&lt; F &gt;::type::value_type&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacefolly_1_1fibers.html#a6d41d11c2abd9aa82f603a71b5b71082">await</a> (F &amp;&amp;func)</td></tr>
<tr class="separator:a6d41d11c2abd9aa82f603a71b5b71082"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a341d0742a33f0b37fbff8dfe610dce7c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefolly_1_1fibers.html#a341d0742a33f0b37fbff8dfe610dce7c">onFiber</a> ()</td></tr>
<tr class="separator:a341d0742a33f0b37fbff8dfe610dce7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af795b6995b7ad6733f7f8d649764965e"><td class="memTemplParams" colspan="2">template&lt;typename F &gt; </td></tr>
<tr class="memitem:af795b6995b7ad6733f7f8d649764965e"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacefolly_1_1fibers.html#af795b6995b7ad6733f7f8d649764965e">addTask</a> (F &amp;&amp;func)</td></tr>
<tr class="separator:af795b6995b7ad6733f7f8d649764965e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2f0b493b47556d6dce0ad0059ce44cb"><td class="memTemplParams" colspan="2">template&lt;typename F , typename G &gt; </td></tr>
<tr class="memitem:ac2f0b493b47556d6dce0ad0059ce44cb"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacefolly_1_1fibers.html#ac2f0b493b47556d6dce0ad0059ce44cb">addTaskFinally</a> (F &amp;&amp;func, G &amp;&amp;finally)</td></tr>
<tr class="separator:ac2f0b493b47556d6dce0ad0059ce44cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a381276f855bf3cd77fbafe57a779b2bd"><td class="memTemplParams" colspan="2">template&lt;typename F &gt; </td></tr>
<tr class="memitem:a381276f855bf3cd77fbafe57a779b2bd"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="namespacefolly.html#a959935d9eb6cce6bd25049997b200b93">invoke_result_t</a>&lt; F &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacefolly_1_1fibers.html#a381276f855bf3cd77fbafe57a779b2bd">runInMainContext</a> (F &amp;&amp;func)</td></tr>
<tr class="separator:a381276f855bf3cd77fbafe57a779b2bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22a1997749381111f322c5acfd6db44e"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a22a1997749381111f322c5acfd6db44e"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a> &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacefolly_1_1fibers.html#a22a1997749381111f322c5acfd6db44e">local</a> ()</td></tr>
<tr class="separator:a22a1997749381111f322c5acfd6db44e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9af2bea32bcaa0b71686fc62475c2a8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefolly_1_1fibers.html#ad9af2bea32bcaa0b71686fc62475c2a8">yield</a> ()</td></tr>
<tr class="separator:ad9af2bea32bcaa0b71686fc62475c2a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad304e26e860b2d4d10271c3fb187c819"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html">FiberManager</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefolly_1_1fibers.html#ad304e26e860b2d4d10271c3fb187c819">getFiberManager</a> (<a class="el" href="classfolly_1_1EventBase.html">EventBase</a> &amp;evb, const <a class="el" href="structfolly_1_1fibers_1_1FiberManager_1_1Options.html">FiberManager::Options</a> &amp;opts)</td></tr>
<tr class="separator:ad304e26e860b2d4d10271c3fb187c819"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26b3326157bfcddea571253131ea4895"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html">FiberManager</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefolly_1_1fibers.html#a26b3326157bfcddea571253131ea4895">getFiberManager</a> (<a class="el" href="classfolly_1_1VirtualEventBase.html">VirtualEventBase</a> &amp;evb, const <a class="el" href="structfolly_1_1fibers_1_1FiberManager_1_1Options.html">FiberManager::Options</a> &amp;opts)</td></tr>
<tr class="separator:a26b3326157bfcddea571253131ea4895"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd7a23ae6e1c938a427b2ef14ad56c15"><td class="memTemplParams" colspan="2">template&lt;class InputIterator , class F &gt; </td></tr>
<tr class="memitem:abd7a23ae6e1c938a427b2ef14ad56c15"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacefolly_1_1fibers.html#abd7a23ae6e1c938a427b2ef14ad56c15">forEach</a> (InputIterator first, InputIterator last, F &amp;&amp;<a class="el" href="StackOverflow_8cpp.html#a818f01d15ad1b9b4900c4513a27c273f">f</a>)</td></tr>
<tr class="separator:abd7a23ae6e1c938a427b2ef14ad56c15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34150604b8843b348f1792243fbcf270"><td class="memTemplParams" colspan="2">template&lt;class InputIterator &gt; </td></tr>
<tr class="memitem:a34150604b8843b348f1792243fbcf270"><td class="memTemplItemLeft" align="right" valign="top">std::vector&lt; typename std::enable_if&lt; !std::is_same&lt; <a class="el" href="namespacefolly.html#a959935d9eb6cce6bd25049997b200b93">invoke_result_t</a>&lt; typename std::iterator_traits&lt; InputIterator &gt;::value_type &gt;, void &gt;::<a class="el" href="namespacefolly.html#af765fccfa9242184196b4906286ada49">value</a>, typename std::pair&lt; size_t, <a class="el" href="namespacefolly.html#a959935d9eb6cce6bd25049997b200b93">invoke_result_t</a>&lt; typename std::iterator_traits&lt; InputIterator &gt;::value_type &gt; &gt; &gt;::<a class="el" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">type</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacefolly_1_1fibers.html#a34150604b8843b348f1792243fbcf270">collectN</a> (InputIterator first, InputIterator last, size_t n)</td></tr>
<tr class="separator:a34150604b8843b348f1792243fbcf270"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3374095b28b8f01768d865d0208b372e"><td class="memTemplParams" colspan="2">template&lt;class InputIterator &gt; </td></tr>
<tr class="memitem:a3374095b28b8f01768d865d0208b372e"><td class="memTemplItemLeft" align="right" valign="top">std::enable_if&lt; std::is_same&lt; <a class="el" href="namespacefolly.html#a959935d9eb6cce6bd25049997b200b93">invoke_result_t</a>&lt; typename std::iterator_traits&lt; InputIterator &gt;::value_type &gt;, void &gt;::<a class="el" href="namespacefolly.html#af765fccfa9242184196b4906286ada49">value</a>, std::vector&lt; size_t &gt; &gt;::<a class="el" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">type</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacefolly_1_1fibers.html#a3374095b28b8f01768d865d0208b372e">collectN</a> (InputIterator first, InputIterator last, size_t n)</td></tr>
<tr class="separator:a3374095b28b8f01768d865d0208b372e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5a8fe7d1959104e27da8a0146411e2a"><td class="memTemplParams" colspan="2">template&lt;class InputIterator &gt; </td></tr>
<tr class="memitem:ac5a8fe7d1959104e27da8a0146411e2a"><td class="memTemplItemLeft" align="right" valign="top">std::vector&lt; typename std::enable_if&lt; !std::is_same&lt; <a class="el" href="namespacefolly.html#a959935d9eb6cce6bd25049997b200b93">invoke_result_t</a>&lt; typename std::iterator_traits&lt; InputIterator &gt;::value_type &gt;, void &gt;::<a class="el" href="namespacefolly.html#af765fccfa9242184196b4906286ada49">value</a>, <a class="el" href="namespacefolly.html#a959935d9eb6cce6bd25049997b200b93">invoke_result_t</a>&lt; typename std::iterator_traits&lt; InputIterator &gt;::value_type &gt; &gt;::<a class="el" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">type</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacefolly_1_1fibers.html#ac5a8fe7d1959104e27da8a0146411e2a">collectAll</a> (InputIterator first, InputIterator last)</td></tr>
<tr class="separator:ac5a8fe7d1959104e27da8a0146411e2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a141e66913f847c866e16bb21737acdf4"><td class="memTemplParams" colspan="2">template&lt;class InputIterator &gt; </td></tr>
<tr class="memitem:a141e66913f847c866e16bb21737acdf4"><td class="memTemplItemLeft" align="right" valign="top">std::enable_if&lt; std::is_same&lt; <a class="el" href="namespacefolly.html#a959935d9eb6cce6bd25049997b200b93">invoke_result_t</a>&lt; typename std::iterator_traits&lt; InputIterator &gt;::value_type &gt;, void &gt;::<a class="el" href="namespacefolly.html#af765fccfa9242184196b4906286ada49">value</a>, void &gt;::<a class="el" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">type</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacefolly_1_1fibers.html#a141e66913f847c866e16bb21737acdf4">collectAll</a> (InputIterator first, InputIterator last)</td></tr>
<tr class="separator:a141e66913f847c866e16bb21737acdf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdc6e8340f94f6f09ccb924ba6b7984f"><td class="memTemplParams" colspan="2">template&lt;class InputIterator &gt; </td></tr>
<tr class="memitem:abdc6e8340f94f6f09ccb924ba6b7984f"><td class="memTemplItemLeft" align="right" valign="top">std::enable_if&lt; !std::is_same&lt; <a class="el" href="namespacefolly.html#a959935d9eb6cce6bd25049997b200b93">invoke_result_t</a>&lt; typename std::iterator_traits&lt; InputIterator &gt;::value_type &gt;, void &gt;::<a class="el" href="namespacefolly.html#af765fccfa9242184196b4906286ada49">value</a>, typename std::pair&lt; size_t, <a class="el" href="namespacefolly.html#a959935d9eb6cce6bd25049997b200b93">invoke_result_t</a>&lt; typename std::iterator_traits&lt; InputIterator &gt;::value_type &gt; &gt; &gt;::<a class="el" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">type</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacefolly_1_1fibers.html#abdc6e8340f94f6f09ccb924ba6b7984f">collectAny</a> (InputIterator first, InputIterator last)</td></tr>
<tr class="separator:abdc6e8340f94f6f09ccb924ba6b7984f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab97258fdca2729476ec3457b6b0bc8d3"><td class="memTemplParams" colspan="2">template&lt;class InputIterator &gt; </td></tr>
<tr class="memitem:ab97258fdca2729476ec3457b6b0bc8d3"><td class="memTemplItemLeft" align="right" valign="top">std::enable_if&lt; std::is_same&lt; <a class="el" href="namespacefolly.html#a959935d9eb6cce6bd25049997b200b93">invoke_result_t</a>&lt; typename std::iterator_traits&lt; InputIterator &gt;::value_type &gt;, void &gt;::<a class="el" href="namespacefolly.html#af765fccfa9242184196b4906286ada49">value</a>, size_t &gt;::<a class="el" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">type</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacefolly_1_1fibers.html#ab97258fdca2729476ec3457b6b0bc8d3">collectAny</a> (InputIterator first, InputIterator last)</td></tr>
<tr class="separator:ab97258fdca2729476ec3457b6b0bc8d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae6e7c0e52f810e63bdd4b50154f17d92"><td class="memItemLeft" align="right" valign="top">constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefolly_1_1fibers.html#ae6e7c0e52f810e63bdd4b50154f17d92">kNumGuarded</a> = 100</td></tr>
<tr class="separator:ae6e7c0e52f810e63bdd4b50154f17d92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a730f6ddcce6f06d6452b3134ebe89a91"><td class="memItemLeft" align="right" valign="top">constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefolly_1_1fibers.html#a730f6ddcce6f06d6452b3134ebe89a91">kMaxInUse</a> = 100</td></tr>
<tr class="separator:a730f6ddcce6f06d6452b3134ebe89a91"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a01002f11bf10537f02a2af0c013b9dd6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classfolly_1_1fibers_1_1Baton.html">Baton</a> <a class="el" href="namespacefolly_1_1fibers.html#a01002f11bf10537f02a2af0c013b9dd6">folly::fibers::GenericBaton</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="GenericBaton_8h_source.html#l00025">25</a> of file <a class="el" href="GenericBaton_8h_source.html">GenericBaton.h</a>.</p>

</div>
</div>
<a class="anchor" id="a528084320b1f662a11e8ddf8b13a17d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="namespacefolly_1_1fibers.html#a528084320b1f662a11e8ddf8b13a17d6">folly::fibers::once_flag</a> = typedef <a class="el" href="classfolly_1_1basic__once__flag.html">basic_once_flag</a>&lt;<a class="el" href="classfolly_1_1fibers_1_1TimedMutex.html">TimedMutex</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="fibers_2CallOnce_8h_source.html#l00023">23</a> of file <a class="el" href="fibers_2CallOnce_8h_source.html">CallOnce.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="af795b6995b7ad6733f7f8d649764965e"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::fibers::addTask </td>
          <td>(</td>
          <td class="paramtype">F &amp;&amp;&#160;</td>
          <td class="paramname"><em>func</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Add a new task to be executed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>Task functor; must have a signature of <code>void func()</code>. The object will be destroyed once task execution is complete. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00529">529</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>References <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00306">folly::fibers::FiberManager::addTask()</a>, and <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00483">folly::fibers::FiberManager::getFiberManager()</a>.</p>

<p>Referenced by <a class="el" href="WhenN-inl_8h_source.html#l00034">collectN()</a>, <a class="el" href="ForEach-inl_8h_source.html#l00041">forEach()</a>, <a class="el" href="FibersTest_8cpp_source.html#l01223">TEST()</a>, and <a class="el" href="FibersTest_8cpp_source.html#l01163">testFiberLocal()</a>.</p>
<div class="fragment"><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                              {</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacefolly_1_1fibers.html#ad304e26e860b2d4d10271c3fb187c819">FiberManager::getFiberManager</a>().<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a8aad674d853ce51489e0ba3e1a0bdd55">addTask</a>(std::forward&lt;F&gt;(func));</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;}</div><div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a8aad674d853ce51489e0ba3e1a0bdd55"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a8aad674d853ce51489e0ba3e1a0bdd55">folly::fibers::FiberManager::addTask</a></div><div class="ttdeci">void addTask(F &amp;&amp;func)</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal-inl_8h_source.html#l00306">FiberManagerInternal-inl.h:306</a></div></div>
<div class="ttc" id="namespacefolly_1_1fibers_html_ad304e26e860b2d4d10271c3fb187c819"><div class="ttname"><a href="namespacefolly_1_1fibers.html#ad304e26e860b2d4d10271c3fb187c819">folly::fibers::getFiberManager</a></div><div class="ttdeci">FiberManager &amp; getFiberManager(EventBase &amp;evb, const FiberManager::Options &amp;opts)</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerMap_8cpp_source.html#l00183">FiberManagerMap.cpp:183</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac2f0b493b47556d6dce0ad0059ce44cb"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename F , typename G &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::fibers::addTaskFinally </td>
          <td>(</td>
          <td class="paramtype">F &amp;&amp;&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">G &amp;&amp;&#160;</td>
          <td class="paramname"><em>finally</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Add a new task. When the task is complete, execute finally(Try&lt;Result&gt;&amp;&amp;) on the main context. Task functor is run and destroyed on the fiber context. Finally functor is run and destroyed on the main context.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>Task functor; must have a signature of <code>T func()</code> for some T. </td></tr>
    <tr><td class="paramname">finally</td><td>Finally functor; must have a signature of <code>void finally(<a class="el" href="classfolly_1_1Try.html">Try</a>&lt;T&gt;&amp;&amp;)</code> and will be passed the result of func() (including the exception if occurred). </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00545">545</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>References <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00417">folly::fibers::FiberManager::addTaskFinally()</a>, <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00557">await()</a>, and <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00483">folly::fibers::FiberManager::getFiberManager()</a>.</p>

<p>Referenced by <a class="el" href="FiberManagerInternal_8h_source.html#l00239">folly::fibers::FiberManager::add()</a>, and <a class="el" href="FiberManager-inl_8h_source.html#l00025">folly::fibers::FiberManager::addTaskFuture()</a>.</p>
<div class="fragment"><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                                                  {</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacefolly_1_1fibers.html#ad304e26e860b2d4d10271c3fb187c819">FiberManager::getFiberManager</a>().<a class="code" href="classfolly_1_1fibers_1_1FiberManager.html#a65aad1466338d8765458ee5faf1a2800">addTaskFinally</a>(</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;      std::forward&lt;F&gt;(func), std::forward&lt;G&gt;(<span class="keywordflow">finally</span>));</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;}</div><div class="ttc" id="classfolly_1_1fibers_1_1FiberManager_html_a65aad1466338d8765458ee5faf1a2800"><div class="ttname"><a href="classfolly_1_1fibers_1_1FiberManager.html#a65aad1466338d8765458ee5faf1a2800">folly::fibers::FiberManager::addTaskFinally</a></div><div class="ttdeci">void addTaskFinally(F &amp;&amp;func, G &amp;&amp;finally)</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal-inl_8h_source.html#l00417">FiberManagerInternal-inl.h:417</a></div></div>
<div class="ttc" id="namespacefolly_1_1fibers_html_ad304e26e860b2d4d10271c3fb187c819"><div class="ttname"><a href="namespacefolly_1_1fibers.html#ad304e26e860b2d4d10271c3fb187c819">folly::fibers::getFiberManager</a></div><div class="ttdeci">FiberManager &amp; getFiberManager(EventBase &amp;evb, const FiberManager::Options &amp;opts)</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerMap_8cpp_source.html#l00183">FiberManagerMap.cpp:183</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a942d61e9c238f8b7673636dac40b745e"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class InputIterator &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1fibers_1_1TaskIterator.html">TaskIterator</a>&lt; <a class="el" href="namespacefolly.html#a959935d9eb6cce6bd25049997b200b93">invoke_result_t</a>&lt; typename std::iterator_traits&lt; InputIterator &gt;::value_type &gt; &gt; folly::fibers::addTasks </td>
          <td>(</td>
          <td class="paramtype">InputIterator&#160;</td>
          <td class="paramname"><em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">InputIterator&#160;</td>
          <td class="paramname"><em>last</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Schedules several tasks and immediately returns an iterator, that allow one to traverse tasks in the order of their completion. All results and exceptions thrown are stored alongside with the task id and are accessible via iterator.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">first</td><td><a class="el" href="classfolly_1_1Range.html">Range</a> of tasks to be scheduled </td></tr>
    <tr><td class="paramname">last</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>movable, non-copyable iterator </dd></dl>

<p>Definition at line <a class="el" href="AddTasks-inl_8h_source.html#l00114">114</a> of file <a class="el" href="AddTasks-inl_8h_source.html">AddTasks-inl.h</a>.</p>

<p>References <a class="el" href="AddTasks-inl_8h_source.html#l00089">folly::fibers::TaskIterator&lt; T &gt;::addTask()</a>, <a class="el" href="Base-inl_8h_source.html#l02553">folly::gen::first</a>, and <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>.</p>

<p>Referenced by <a class="el" href="FibersTest_8cpp_source.html#l00286">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                                                  {</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="keyword">typedef</span> <a class="code" href="namespacefolly_1_1pushmi.html#a94c07d185f2868254c033992aee1482a">invoke_result_t</a>&lt;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      <span class="keyword">typename</span> std::iterator_traits&lt;InputIterator&gt;::value_type&gt;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      ResultType;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="keyword">typedef</span> TaskIterator&lt;ResultType&gt; IteratorType;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  IteratorType iterator;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="keywordflow">for</span> (; <a class="code" href="namespacefolly_1_1gen.html#af220ef9930b641e74fa9588a0bcffb8c">first</a> != last; ++<a class="code" href="namespacefolly_1_1gen.html#af220ef9930b641e74fa9588a0bcffb8c">first</a>) {</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    iterator.addTask(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(*<a class="code" href="namespacefolly_1_1gen.html#af220ef9930b641e74fa9588a0bcffb8c">first</a>));</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  }</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  iterator.context_-&gt;results.reserve(iterator.context_-&gt;totalTasks);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(iterator);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;}</div><div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="namespacefolly_1_1pushmi_html_a94c07d185f2868254c033992aee1482a"><div class="ttname"><a href="namespacefolly_1_1pushmi.html#a94c07d185f2868254c033992aee1482a">folly::pushmi::invoke_result_t</a></div><div class="ttdeci">decltype(folly::pushmi::invoke(std::declval&lt; F &gt;(), std::declval&lt; As &gt;()...)) invoke_result_t</div><div class="ttdef"><b>Definition:</b> <a href="functional_8h_source.html#l00047">functional.h:47</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_af220ef9930b641e74fa9588a0bcffb8c"><div class="ttname"><a href="namespacefolly_1_1gen.html#af220ef9930b641e74fa9588a0bcffb8c">folly::gen::first</a></div><div class="ttdeci">constexpr detail::First first</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02553">Base-inl.h:2553</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6d41d11c2abd9aa82f603a71b5b71082"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfolly_1_1fibers_1_1FirstArgOf.html">FirstArgOf</a>&lt; F &gt;::type::value_type folly::fibers::await </td>
          <td>(</td>
          <td class="paramtype">F &amp;&amp;&#160;</td>
          <td class="paramname"><em>func</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Blocks task execution until given promise is fulfilled.</p>
<p>Calls function passing in a Promise&lt;T&gt;, which has to be fulfilled.</p>
<dl class="section return"><dt>Returns</dt><dd>data which was used to fulfill the promise. </dd></dl>

<p>Definition at line <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00557">557</a> of file <a class="el" href="FiberManagerInternal-inl_8h_source.html">FiberManagerInternal-inl.h</a>.</p>

<p>References <a class="el" href="fibers_2Promise-inl_8h_source.html#l00094">folly::fibers::Promise&lt; T, BatonT &gt;::await()</a>.</p>

<p>Referenced by <a class="el" href="FiberManagerInternal_8h_source.html#l00545">addTaskFinally()</a>, <a class="el" href="WhenN-inl_8h_source.html#l00034">collectN()</a>, <a class="el" href="FibersTestApp_8cpp_source.html#l00033">Application::loop()</a>, <a class="el" href="AddTasks-inl_8h_source.html#l00062">folly::fibers::TaskIterator&lt; T &gt;::reserve()</a>, <a class="el" href="FibersBenchmark_8cpp_source.html#l00031">runBenchmark()</a>, and <a class="el" href="FibersTest_8cpp_source.html#l00286">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                                                            {</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="keyword">typedef</span> <span class="keyword">typename</span> FirstArgOf&lt;F&gt;::type::value_type Result;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  <span class="keyword">typedef</span> <span class="keyword">typename</span> FirstArgOf&lt;F&gt;::type::baton_type BatonT;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacefolly_1_1fibers.html#a6d41d11c2abd9aa82f603a71b5b71082">Promise&lt;Result, BatonT&gt;::await</a>(std::forward&lt;F&gt;(func));</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;}</div><div class="ttc" id="namespacefolly_1_1fibers_html_a6d41d11c2abd9aa82f603a71b5b71082"><div class="ttname"><a href="namespacefolly_1_1fibers.html#a6d41d11c2abd9aa82f603a71b5b71082">folly::fibers::await</a></div><div class="ttdeci">FirstArgOf&lt; F &gt;::type::value_type await(F &amp;&amp;func)</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal-inl_8h_source.html#l00557">FiberManagerInternal-inl.h:557</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac5a8fe7d1959104e27da8a0146411e2a"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class InputIterator &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; typename std::enable_if&lt; !std::is_same&lt; <a class="el" href="namespacefolly.html#a959935d9eb6cce6bd25049997b200b93">invoke_result_t</a>&lt; typename std::iterator_traits&lt; InputIterator &gt;::value_type &gt;, void &gt;::<a class="el" href="namespacefolly.html#af765fccfa9242184196b4906286ada49">value</a>, <a class="el" href="namespacefolly.html#a959935d9eb6cce6bd25049997b200b93">invoke_result_t</a>&lt; typename std::iterator_traits&lt; InputIterator &gt;::value_type &gt; &gt;::<a class="el" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">type</a> &gt; folly::fibers::collectAll </td>
          <td>(</td>
          <td class="paramtype">InputIterator&#160;</td>
          <td class="paramname"><em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">InputIterator&#160;</td>
          <td class="paramname"><em>last</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Schedules several tasks and blocks until all of these tasks are completed. If any of the tasks throws an exception, this exception will be re-thrown, but only when all the tasks are complete. If several tasks throw exceptions one of them will be re-thrown.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">first</td><td><a class="el" href="classfolly_1_1Range.html">Range</a> of tasks to be scheduled </td></tr>
    <tr><td class="paramname">last</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>vector of values returned by tasks </dd></dl>

<p>Definition at line <a class="el" href="WhenN-inl_8h_source.html#l00147">147</a> of file <a class="el" href="WhenN-inl_8h_source.html">WhenN-inl.h</a>.</p>

<p>References <a class="el" href="ForEach-inl_8h_source.html#l00041">forEach()</a>, <a class="el" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt_source.html#l00083">i</a>, <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>, <a class="el" href="SynchronizedTest_8cpp_source.html#l00744">order</a>, and <a class="el" href="LockFreeRingBufferTest_8cpp_source.html#l00096">folly::value()</a>.</p>

<p>Referenced by <a class="el" href="ServerProtocol_8cpp_source.html#l00953">fizz::sm::getCertificateRequest()</a>, and <a class="el" href="FibersTest_8cpp_source.html#l00784">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                                                                         {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="keyword">typedef</span> <a class="code" href="namespacefolly_1_1pushmi.html#a94c07d185f2868254c033992aee1482a">invoke_result_t</a>&lt;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      <span class="keyword">typename</span> std::iterator_traits&lt;InputIterator&gt;::value_type&gt;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      Result;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="keywordtype">size_t</span> n = size_t(std::distance(<a class="code" href="namespacefolly_1_1gen.html#af220ef9930b641e74fa9588a0bcffb8c">first</a>, last));</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  std::vector&lt;Result&gt; results;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  std::vector&lt;size_t&gt; <a class="code" href="SynchronizedTest_8cpp.html#ac85d5511fdb8d162a7278bfb440ae420">order</a>(n);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  results.reserve(n);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <a class="code" href="namespacefolly_1_1fibers.html#abd7a23ae6e1c938a427b2ef14ad56c15">forEach</a>(<a class="code" href="namespacefolly_1_1gen.html#af220ef9930b641e74fa9588a0bcffb8c">first</a>, last, [&amp;results, &amp;<a class="code" href="SynchronizedTest_8cpp.html#ac85d5511fdb8d162a7278bfb440ae420">order</a>](<span class="keywordtype">size_t</span> <span class="keywordtype">id</span>, Result result) {</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <a class="code" href="SynchronizedTest_8cpp.html#ac85d5511fdb8d162a7278bfb440ae420">order</a>[id] = results.size();</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    results.emplace_back(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(result));</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  });</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  assert(results.size() == n);</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  std::vector&lt;Result&gt; orderedResults;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  orderedResults.reserve(n);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> = 0; <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> &lt; n; ++<a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    orderedResults.emplace_back(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(results[<a class="code" href="SynchronizedTest_8cpp.html#ac85d5511fdb8d162a7278bfb440ae420">order</a>[<a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>]]));</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  }</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="keywordflow">return</span> orderedResults;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;}</div><div class="ttc" id="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt_html_a7e98b8a17c0aad30ba64d47b74e2a6c1"><div class="ttname"><a href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt_source.html#l00083">gtest_output_test_golden_lin.txt:83</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="namespacefolly_1_1fibers_html_abd7a23ae6e1c938a427b2ef14ad56c15"><div class="ttname"><a href="namespacefolly_1_1fibers.html#abd7a23ae6e1c938a427b2ef14ad56c15">folly::fibers::forEach</a></div><div class="ttdeci">void forEach(InputIterator first, InputIterator last, F &amp;&amp;f)</div><div class="ttdef"><b>Definition:</b> <a href="ForEach-inl_8h_source.html#l00041">ForEach-inl.h:41</a></div></div>
<div class="ttc" id="namespacefolly_1_1pushmi_html_a94c07d185f2868254c033992aee1482a"><div class="ttname"><a href="namespacefolly_1_1pushmi.html#a94c07d185f2868254c033992aee1482a">folly::pushmi::invoke_result_t</a></div><div class="ttdeci">decltype(folly::pushmi::invoke(std::declval&lt; F &gt;(), std::declval&lt; As &gt;()...)) invoke_result_t</div><div class="ttdef"><b>Definition:</b> <a href="functional_8h_source.html#l00047">functional.h:47</a></div></div>
<div class="ttc" id="SynchronizedTest_8cpp_html_ac85d5511fdb8d162a7278bfb440ae420"><div class="ttname"><a href="SynchronizedTest_8cpp.html#ac85d5511fdb8d162a7278bfb440ae420">order</a></div><div class="ttdeci">int order</div><div class="ttdef"><b>Definition:</b> <a href="SynchronizedTest_8cpp_source.html#l00744">SynchronizedTest.cpp:744</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_af220ef9930b641e74fa9588a0bcffb8c"><div class="ttname"><a href="namespacefolly_1_1gen.html#af220ef9930b641e74fa9588a0bcffb8c">folly::gen::first</a></div><div class="ttdeci">constexpr detail::First first</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02553">Base-inl.h:2553</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a141e66913f847c866e16bb21737acdf4"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class InputIterator &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::enable_if&lt; std::is_same&lt; <a class="el" href="namespacefolly.html#a959935d9eb6cce6bd25049997b200b93">invoke_result_t</a>&lt; typename std::iterator_traits&lt; InputIterator &gt;::value_type &gt;, void &gt;::<a class="el" href="namespacefolly.html#af765fccfa9242184196b4906286ada49">value</a>, void &gt;::<a class="el" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">type</a> folly::fibers::collectAll </td>
          <td>(</td>
          <td class="paramtype">InputIterator&#160;</td>
          <td class="paramname"><em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">InputIterator&#160;</td>
          <td class="paramname"><em>last</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>collectAll specialization for functions returning void</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">first</td><td><a class="el" href="classfolly_1_1Range.html">Range</a> of tasks to be scheduled </td></tr>
    <tr><td class="paramname">last</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="WhenN-inl_8h_source.html#l00178">178</a> of file <a class="el" href="WhenN-inl_8h_source.html">WhenN-inl.h</a>.</p>

<p>References <a class="el" href="ForEach-inl_8h_source.html#l00041">forEach()</a>, <a class="el" href="ClientProtocol_8cpp_source.html#l00777">type</a>, and <a class="el" href="LockFreeRingBufferTest_8cpp_source.html#l00096">folly::value()</a>.</p>
<div class="fragment"><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                                                                         {</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <a class="code" href="namespacefolly_1_1fibers.html#abd7a23ae6e1c938a427b2ef14ad56c15">forEach</a>(<a class="code" href="namespacefolly_1_1gen.html#af220ef9930b641e74fa9588a0bcffb8c">first</a>, last, [](<span class="keywordtype">size_t</span> <span class="comment">/* id */</span>) {});</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;}</div><div class="ttc" id="namespacefolly_1_1fibers_html_abd7a23ae6e1c938a427b2ef14ad56c15"><div class="ttname"><a href="namespacefolly_1_1fibers.html#abd7a23ae6e1c938a427b2ef14ad56c15">folly::fibers::forEach</a></div><div class="ttdeci">void forEach(InputIterator first, InputIterator last, F &amp;&amp;f)</div><div class="ttdef"><b>Definition:</b> <a href="ForEach-inl_8h_source.html#l00041">ForEach-inl.h:41</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_af220ef9930b641e74fa9588a0bcffb8c"><div class="ttname"><a href="namespacefolly_1_1gen.html#af220ef9930b641e74fa9588a0bcffb8c">folly::gen::first</a></div><div class="ttdeci">constexpr detail::First first</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02553">Base-inl.h:2553</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abdc6e8340f94f6f09ccb924ba6b7984f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class InputIterator &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::enable_if&lt; !std::is_same&lt; <a class="el" href="namespacefolly.html#a959935d9eb6cce6bd25049997b200b93">invoke_result_t</a>&lt; typename std::iterator_traits&lt; InputIterator &gt;::value_type &gt;, void &gt;::<a class="el" href="namespacefolly.html#af765fccfa9242184196b4906286ada49">value</a>, typename std::pair&lt; size_t, <a class="el" href="namespacefolly.html#a959935d9eb6cce6bd25049997b200b93">invoke_result_t</a>&lt; typename std::iterator_traits&lt; InputIterator &gt;::value_type &gt; &gt; &gt;::<a class="el" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">type</a> folly::fibers::collectAny </td>
          <td>(</td>
          <td class="paramtype">InputIterator&#160;</td>
          <td class="paramname"><em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">InputIterator&#160;</td>
          <td class="paramname"><em>last</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Schedules several tasks and blocks until one of them is completed. If this task throws an exception, this exception will be re-thrown. Exceptions thrown by all other tasks will be ignored.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">first</td><td><a class="el" href="classfolly_1_1Range.html">Range</a> of tasks to be scheduled </td></tr>
    <tr><td class="paramname">last</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pair of index of the first completed task and its return value </dd></dl>

<p>Definition at line <a class="el" href="WhenN-inl_8h_source.html#l00192">192</a> of file <a class="el" href="WhenN-inl_8h_source.html">WhenN-inl.h</a>.</p>

<p>References <a class="el" href="WhenN-inl_8h_source.html#l00034">collectN()</a>, <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>, and <a class="el" href="LockFreeRingBufferTest_8cpp_source.html#l00096">folly::value()</a>.</p>

<p>Referenced by <a class="el" href="FibersTest_8cpp_source.html#l00858">TEST()</a>, and <a class="el" href="FibersTest_8cpp_source.html#l01163">testFiberLocal()</a>.</p>
<div class="fragment"><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                                                                    {</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="keyword">auto</span> result = <a class="code" href="namespacefolly_1_1fibers.html#a3374095b28b8f01768d865d0208b372e">collectN</a>(<a class="code" href="namespacefolly_1_1gen.html#af220ef9930b641e74fa9588a0bcffb8c">first</a>, last, 1);</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  assert(result.size() == 1);</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(result[0]);</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;}</div><div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="namespacefolly_1_1fibers_html_a3374095b28b8f01768d865d0208b372e"><div class="ttname"><a href="namespacefolly_1_1fibers.html#a3374095b28b8f01768d865d0208b372e">folly::fibers::collectN</a></div><div class="ttdeci">std::enable_if&lt; std::is_same&lt; invoke_result_t&lt; typename std::iterator_traits&lt; InputIterator &gt;::value_type &gt;, void &gt;::value, std::vector&lt; size_t &gt; &gt;::type collectN(InputIterator first, InputIterator last, size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="WhenN-inl_8h_source.html#l00091">WhenN-inl.h:91</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_af220ef9930b641e74fa9588a0bcffb8c"><div class="ttname"><a href="namespacefolly_1_1gen.html#af220ef9930b641e74fa9588a0bcffb8c">folly::gen::first</a></div><div class="ttdeci">constexpr detail::First first</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02553">Base-inl.h:2553</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab97258fdca2729476ec3457b6b0bc8d3"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class InputIterator &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::enable_if&lt; std::is_same&lt; <a class="el" href="namespacefolly.html#a959935d9eb6cce6bd25049997b200b93">invoke_result_t</a>&lt; typename std::iterator_traits&lt; InputIterator &gt;::value_type &gt;, void &gt;::<a class="el" href="namespacefolly.html#af765fccfa9242184196b4906286ada49">value</a>, size_t &gt;::<a class="el" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">type</a> folly::fibers::collectAny </td>
          <td>(</td>
          <td class="paramtype">InputIterator&#160;</td>
          <td class="paramname"><em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">InputIterator&#160;</td>
          <td class="paramname"><em>last</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>WhenAny specialization for functions returning void.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">first</td><td><a class="el" href="classfolly_1_1Range.html">Range</a> of tasks to be scheduled </td></tr>
    <tr><td class="paramname">last</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>index of the first completed task </dd></dl>

<p>Definition at line <a class="el" href="WhenN-inl_8h_source.html#l00204">204</a> of file <a class="el" href="WhenN-inl_8h_source.html">WhenN-inl.h</a>.</p>

<p>References <a class="el" href="WhenN-inl_8h_source.html#l00034">collectN()</a>, and <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>.</p>
<div class="fragment"><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                                                                           {</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keyword">auto</span> result = <a class="code" href="namespacefolly_1_1fibers.html#a3374095b28b8f01768d865d0208b372e">collectN</a>(<a class="code" href="namespacefolly_1_1gen.html#af220ef9930b641e74fa9588a0bcffb8c">first</a>, last, 1);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  assert(result.size() == 1);</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(result[0]);</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;}</div><div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="namespacefolly_1_1fibers_html_a3374095b28b8f01768d865d0208b372e"><div class="ttname"><a href="namespacefolly_1_1fibers.html#a3374095b28b8f01768d865d0208b372e">folly::fibers::collectN</a></div><div class="ttdeci">std::enable_if&lt; std::is_same&lt; invoke_result_t&lt; typename std::iterator_traits&lt; InputIterator &gt;::value_type &gt;, void &gt;::value, std::vector&lt; size_t &gt; &gt;::type collectN(InputIterator first, InputIterator last, size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="WhenN-inl_8h_source.html#l00091">WhenN-inl.h:91</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_af220ef9930b641e74fa9588a0bcffb8c"><div class="ttname"><a href="namespacefolly_1_1gen.html#af220ef9930b641e74fa9588a0bcffb8c">folly::gen::first</a></div><div class="ttdeci">constexpr detail::First first</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02553">Base-inl.h:2553</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a34150604b8843b348f1792243fbcf270"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class InputIterator &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; typename std::enable_if&lt; !std::is_same&lt; <a class="el" href="namespacefolly.html#a959935d9eb6cce6bd25049997b200b93">invoke_result_t</a>&lt; typename std::iterator_traits&lt; InputIterator &gt;::value_type &gt;, void &gt;::<a class="el" href="namespacefolly.html#af765fccfa9242184196b4906286ada49">value</a>, typename std::pair&lt; size_t, <a class="el" href="namespacefolly.html#a959935d9eb6cce6bd25049997b200b93">invoke_result_t</a>&lt; typename std::iterator_traits&lt; InputIterator &gt;::value_type &gt; &gt; &gt;::<a class="el" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">type</a> &gt; folly::fibers::collectN </td>
          <td>(</td>
          <td class="paramtype">InputIterator&#160;</td>
          <td class="paramname"><em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">InputIterator&#160;</td>
          <td class="paramname"><em>last</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Schedules several tasks and blocks until n of these tasks are completed. If any of these n tasks throws an exception, this exception will be re-thrown, but only when n tasks are complete. If several tasks throw exceptions one of them will be re-thrown.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">first</td><td><a class="el" href="classfolly_1_1Range.html">Range</a> of tasks to be scheduled </td></tr>
    <tr><td class="paramname">last</td><td></td></tr>
    <tr><td class="paramname">n</td><td>Number of tasks to wait for</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>vector of pairs (task index, return value of task) </dd></dl>

<p>Definition at line <a class="el" href="WhenN-inl_8h_source.html#l00034">34</a> of file <a class="el" href="WhenN-inl_8h_source.html">WhenN-inl.h</a>.</p>

<p>References <a class="el" href="FiberManagerInternal_8h_source.html#l00529">addTask()</a>, <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00557">await()</a>, <a class="el" href="fizz_2build___2CMakeCache_8txt_source.html#l00563">context</a>, <a class="el" href="PushmiBenchmarks_8cpp_source.html#l00515">f</a>, <a class="el" href="Base-inl_8h_source.html#l02553">folly::gen::first</a>, <a class="el" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt_source.html#l00083">i</a>, <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>, <a class="el" href="ClientProtocol_8cpp_source.html#l00777">type</a>, and <a class="el" href="LockFreeRingBufferTest_8cpp_source.html#l00096">folly::value()</a>.</p>

<p>Referenced by <a class="el" href="WhenN-inl_8h_source.html#l00192">collectAny()</a>, and <a class="el" href="FibersTest_8cpp_source.html#l00630">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;                                                            {</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  <span class="keyword">typedef</span> <a class="code" href="namespacefolly_1_1pushmi.html#a94c07d185f2868254c033992aee1482a">invoke_result_t</a>&lt;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;      <span class="keyword">typename</span> std::iterator_traits&lt;InputIterator&gt;::value_type&gt;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;      Result;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  assert(n &gt; 0);</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  assert(std::distance(<a class="code" href="namespacefolly_1_1gen.html#af220ef9930b641e74fa9588a0bcffb8c">first</a>, last) &gt;= 0);</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  assert(n &lt;= static_cast&lt;size_t&gt;(std::distance(<a class="code" href="namespacefolly_1_1gen.html#af220ef9930b641e74fa9588a0bcffb8c">first</a>, last)));</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <span class="keyword">struct </span>Context {</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    std::vector&lt;std::pair&lt;size_t, Result&gt;&gt; results;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keywordtype">size_t</span> tasksTodo;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    std::exception_ptr e;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <a class="code" href="classfolly_1_1Optional.html">folly::Optional&lt;Promise&lt;void&gt;</a>&gt; promise;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    Context(<span class="keywordtype">size_t</span> tasksTodo_) : tasksTodo(tasksTodo_) {</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;      this-&gt;results.reserve(tasksTodo_);</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    }</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  };</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <span class="keyword">auto</span> <a class="code" href="fizz_2build___2CMakeCache_8txt.html#a261f9f58ccbeaa962c4e675e4212c9cc">context</a> = std::make_shared&lt;Context&gt;(n);</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <a class="code" href="namespacefolly_1_1fibers.html#a6d41d11c2abd9aa82f603a71b5b71082">await</a>([<a class="code" href="namespacefolly_1_1gen.html#af220ef9930b641e74fa9588a0bcffb8c">first</a>, last, <a class="code" href="fizz_2build___2CMakeCache_8txt.html#a261f9f58ccbeaa962c4e675e4212c9cc">context</a>](Promise&lt;void&gt; promise) <span class="keyword">mutable</span> {</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <a class="code" href="fizz_2build___2CMakeCache_8txt.html#a261f9f58ccbeaa962c4e675e4212c9cc">context</a>-&gt;promise = <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(promise);</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> = 0; <a class="code" href="namespacefolly_1_1gen.html#af220ef9930b641e74fa9588a0bcffb8c">first</a> != last; ++<a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, ++<a class="code" href="namespacefolly_1_1gen.html#af220ef9930b641e74fa9588a0bcffb8c">first</a>) {</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;      <a class="code" href="namespacefolly_1_1fibers.html#af795b6995b7ad6733f7f8d649764965e">addTask</a>([<a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, <a class="code" href="fizz_2build___2CMakeCache_8txt.html#a261f9f58ccbeaa962c4e675e4212c9cc">context</a>, <a class="code" href="PushmiBenchmarks_8cpp.html#ad94c2c2f9fd35a12cc099962b7540071">f</a> = <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(*<a class="code" href="namespacefolly_1_1gen.html#af220ef9930b641e74fa9588a0bcffb8c">first</a>)]() {</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <span class="keywordflow">try</span> {</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;          <span class="keyword">auto</span> result = <a class="code" href="PushmiBenchmarks_8cpp.html#ad94c2c2f9fd35a12cc099962b7540071">f</a>();</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="fizz_2build___2CMakeCache_8txt.html#a261f9f58ccbeaa962c4e675e4212c9cc">context</a>-&gt;tasksTodo == 0) {</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;          }</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;          <a class="code" href="fizz_2build___2CMakeCache_8txt.html#a261f9f58ccbeaa962c4e675e4212c9cc">context</a>-&gt;results.emplace_back(<a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(result));</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        } <span class="keywordflow">catch</span> (...) {</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="fizz_2build___2CMakeCache_8txt.html#a261f9f58ccbeaa962c4e675e4212c9cc">context</a>-&gt;tasksTodo == 0) {</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;          }</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;          <a class="code" href="fizz_2build___2CMakeCache_8txt.html#a261f9f58ccbeaa962c4e675e4212c9cc">context</a>-&gt;e = std::current_exception();</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        }</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <span class="keywordflow">if</span> (--<a class="code" href="fizz_2build___2CMakeCache_8txt.html#a261f9f58ccbeaa962c4e675e4212c9cc">context</a>-&gt;tasksTodo == 0) {</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;          <a class="code" href="fizz_2build___2CMakeCache_8txt.html#a261f9f58ccbeaa962c4e675e4212c9cc">context</a>-&gt;promise-&gt;setValue();</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        }</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;      });</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    }</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  });</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="fizz_2build___2CMakeCache_8txt.html#a261f9f58ccbeaa962c4e675e4212c9cc">context</a>-&gt;e != std::exception_ptr()) {</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <a class="code" href="ExceptionTracerLib_8cpp.html#a14bf5b6a962f91f8313ef5efb6f5c67a">std::rethrow_exception</a>(<a class="code" href="fizz_2build___2CMakeCache_8txt.html#a261f9f58ccbeaa962c4e675e4212c9cc">context</a>-&gt;e);</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  }</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(<a class="code" href="fizz_2build___2CMakeCache_8txt.html#a261f9f58ccbeaa962c4e675e4212c9cc">context</a>-&gt;results);</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;}</div><div class="ttc" id="PushmiBenchmarks_8cpp_html_ad94c2c2f9fd35a12cc099962b7540071"><div class="ttname"><a href="PushmiBenchmarks_8cpp.html#ad94c2c2f9fd35a12cc099962b7540071">f</a></div><div class="ttdeci">auto f</div><div class="ttdef"><b>Definition:</b> <a href="PushmiBenchmarks_8cpp_source.html#l00515">PushmiBenchmarks.cpp:515</a></div></div>
<div class="ttc" id="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt_html_a7e98b8a17c0aad30ba64d47b74e2a6c1"><div class="ttname"><a href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt_source.html#l00083">gtest_output_test_golden_lin.txt:83</a></div></div>
<div class="ttc" id="ExceptionTracerLib_8cpp_html_a14bf5b6a962f91f8313ef5efb6f5c67a"><div class="ttname"><a href="ExceptionTracerLib_8cpp.html#a14bf5b6a962f91f8313ef5efb6f5c67a">std::rethrow_exception</a></div><div class="ttdeci">void rethrow_exception(std::exception_ptr ep)</div><div class="ttdef"><b>Definition:</b> <a href="ExceptionTracerLib_8cpp_source.html#l00144">ExceptionTracerLib.cpp:144</a></div></div>
<div class="ttc" id="fizz_2build___2CMakeCache_8txt_html_a261f9f58ccbeaa962c4e675e4212c9cc"><div class="ttname"><a href="fizz_2build___2CMakeCache_8txt.html#a261f9f58ccbeaa962c4e675e4212c9cc">context</a></div><div class="ttdeci">context</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2build___2CMakeCache_8txt_source.html#l00563">CMakeCache.txt:563</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="classfolly_1_1Optional_html"><div class="ttname"><a href="classfolly_1_1Optional.html">folly::Optional</a></div><div class="ttdef"><b>Definition:</b> <a href="Optional_8h_source.html#l00071">Optional.h:71</a></div></div>
<div class="ttc" id="namespacefolly_1_1fibers_html_af795b6995b7ad6733f7f8d649764965e"><div class="ttname"><a href="namespacefolly_1_1fibers.html#af795b6995b7ad6733f7f8d649764965e">folly::fibers::addTask</a></div><div class="ttdeci">void addTask(F &amp;&amp;func)</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00529">FiberManagerInternal.h:529</a></div></div>
<div class="ttc" id="namespacefolly_1_1pushmi_html_a94c07d185f2868254c033992aee1482a"><div class="ttname"><a href="namespacefolly_1_1pushmi.html#a94c07d185f2868254c033992aee1482a">folly::pushmi::invoke_result_t</a></div><div class="ttdeci">decltype(folly::pushmi::invoke(std::declval&lt; F &gt;(), std::declval&lt; As &gt;()...)) invoke_result_t</div><div class="ttdef"><b>Definition:</b> <a href="functional_8h_source.html#l00047">functional.h:47</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_af220ef9930b641e74fa9588a0bcffb8c"><div class="ttname"><a href="namespacefolly_1_1gen.html#af220ef9930b641e74fa9588a0bcffb8c">folly::gen::first</a></div><div class="ttdeci">constexpr detail::First first</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02553">Base-inl.h:2553</a></div></div>
<div class="ttc" id="namespacefolly_1_1fibers_html_a6d41d11c2abd9aa82f603a71b5b71082"><div class="ttname"><a href="namespacefolly_1_1fibers.html#a6d41d11c2abd9aa82f603a71b5b71082">folly::fibers::await</a></div><div class="ttdeci">FirstArgOf&lt; F &gt;::type::value_type await(F &amp;&amp;func)</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal-inl_8h_source.html#l00557">FiberManagerInternal-inl.h:557</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3374095b28b8f01768d865d0208b372e"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class InputIterator &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::enable_if&lt; std::is_same&lt; <a class="el" href="namespacefolly.html#a959935d9eb6cce6bd25049997b200b93">invoke_result_t</a>&lt; typename std::iterator_traits&lt; InputIterator &gt;::value_type &gt;, void &gt;::<a class="el" href="namespacefolly.html#af765fccfa9242184196b4906286ada49">value</a>, std::vector&lt; size_t &gt; &gt;::<a class="el" href="ClientProtocol_8cpp.html#afb6f25e8ca4d7adb175ad413430bbb90">type</a> folly::fibers::collectN </td>
          <td>(</td>
          <td class="paramtype">InputIterator&#160;</td>
          <td class="paramname"><em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">InputIterator&#160;</td>
          <td class="paramname"><em>last</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>collectN specialization for functions returning void</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">first</td><td><a class="el" href="classfolly_1_1Range.html">Range</a> of tasks to be scheduled </td></tr>
    <tr><td class="paramname">last</td><td></td></tr>
    <tr><td class="paramname">n</td><td>Number of tasks to wait for</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>vector of completed task indices </dd></dl>

<p>Definition at line <a class="el" href="WhenN-inl_8h_source.html#l00091">91</a> of file <a class="el" href="WhenN-inl_8h_source.html">WhenN-inl.h</a>.</p>

<p>References <a class="el" href="FiberManagerInternal_8h_source.html#l00529">addTask()</a>, <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00557">await()</a>, <a class="el" href="fizz_2build___2CMakeCache_8txt_source.html#l00563">context</a>, <a class="el" href="PushmiBenchmarks_8cpp_source.html#l00515">f</a>, <a class="el" href="Base-inl_8h_source.html#l02553">folly::gen::first</a>, <a class="el" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt_source.html#l00083">i</a>, <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>, <a class="el" href="ClientProtocol_8cpp_source.html#l00777">type</a>, and <a class="el" href="LockFreeRingBufferTest_8cpp_source.html#l00096">folly::value()</a>.</p>
<div class="fragment"><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                                                            {</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  assert(n &gt; 0);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  assert(std::distance(<a class="code" href="namespacefolly_1_1gen.html#af220ef9930b641e74fa9588a0bcffb8c">first</a>, last) &gt;= 0);</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  assert(n &lt;= static_cast&lt;size_t&gt;(std::distance(<a class="code" href="namespacefolly_1_1gen.html#af220ef9930b641e74fa9588a0bcffb8c">first</a>, last)));</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="keyword">struct </span>Context {</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    std::vector&lt;size_t&gt; taskIndices;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    std::exception_ptr e;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordtype">size_t</span> tasksTodo;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <a class="code" href="classfolly_1_1Optional.html">folly::Optional&lt;Promise&lt;void&gt;</a>&gt; promise;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    Context(<span class="keywordtype">size_t</span> tasksTodo_) : tasksTodo(tasksTodo_) {</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;      this-&gt;taskIndices.reserve(tasksTodo_);</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    }</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  };</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="keyword">auto</span> <a class="code" href="fizz_2build___2CMakeCache_8txt.html#a261f9f58ccbeaa962c4e675e4212c9cc">context</a> = std::make_shared&lt;Context&gt;(n);</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <a class="code" href="namespacefolly_1_1fibers.html#a6d41d11c2abd9aa82f603a71b5b71082">await</a>([<a class="code" href="namespacefolly_1_1gen.html#af220ef9930b641e74fa9588a0bcffb8c">first</a>, last, <a class="code" href="fizz_2build___2CMakeCache_8txt.html#a261f9f58ccbeaa962c4e675e4212c9cc">context</a>](Promise&lt;void&gt; promise) <span class="keyword">mutable</span> {</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <a class="code" href="fizz_2build___2CMakeCache_8txt.html#a261f9f58ccbeaa962c4e675e4212c9cc">context</a>-&gt;promise = <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(promise);</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> = 0; <a class="code" href="namespacefolly_1_1gen.html#af220ef9930b641e74fa9588a0bcffb8c">first</a> != last; ++<a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, ++<a class="code" href="namespacefolly_1_1gen.html#af220ef9930b641e74fa9588a0bcffb8c">first</a>) {</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      <a class="code" href="namespacefolly_1_1fibers.html#af795b6995b7ad6733f7f8d649764965e">addTask</a>([<a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, <a class="code" href="fizz_2build___2CMakeCache_8txt.html#a261f9f58ccbeaa962c4e675e4212c9cc">context</a>, <a class="code" href="PushmiBenchmarks_8cpp.html#ad94c2c2f9fd35a12cc099962b7540071">f</a> = <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(*<a class="code" href="namespacefolly_1_1gen.html#af220ef9930b641e74fa9588a0bcffb8c">first</a>)]() {</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="keywordflow">try</span> {</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;          <a class="code" href="PushmiBenchmarks_8cpp.html#ad94c2c2f9fd35a12cc099962b7540071">f</a>();</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="fizz_2build___2CMakeCache_8txt.html#a261f9f58ccbeaa962c4e675e4212c9cc">context</a>-&gt;tasksTodo == 0) {</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;          }</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;          <a class="code" href="fizz_2build___2CMakeCache_8txt.html#a261f9f58ccbeaa962c4e675e4212c9cc">context</a>-&gt;taskIndices.push_back(<a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        } <span class="keywordflow">catch</span> (...) {</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="fizz_2build___2CMakeCache_8txt.html#a261f9f58ccbeaa962c4e675e4212c9cc">context</a>-&gt;tasksTodo == 0) {</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;          }</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;          <a class="code" href="fizz_2build___2CMakeCache_8txt.html#a261f9f58ccbeaa962c4e675e4212c9cc">context</a>-&gt;e = std::current_exception();</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        }</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <span class="keywordflow">if</span> (--<a class="code" href="fizz_2build___2CMakeCache_8txt.html#a261f9f58ccbeaa962c4e675e4212c9cc">context</a>-&gt;tasksTodo == 0) {</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;          <a class="code" href="fizz_2build___2CMakeCache_8txt.html#a261f9f58ccbeaa962c4e675e4212c9cc">context</a>-&gt;promise-&gt;setValue();</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        }</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      });</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    }</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  });</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="fizz_2build___2CMakeCache_8txt.html#a261f9f58ccbeaa962c4e675e4212c9cc">context</a>-&gt;e != std::exception_ptr()) {</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <a class="code" href="ExceptionTracerLib_8cpp.html#a14bf5b6a962f91f8313ef5efb6f5c67a">std::rethrow_exception</a>(<a class="code" href="fizz_2build___2CMakeCache_8txt.html#a261f9f58ccbeaa962c4e675e4212c9cc">context</a>-&gt;e);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  }</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="fizz_2build___2CMakeCache_8txt.html#a261f9f58ccbeaa962c4e675e4212c9cc">context</a>-&gt;taskIndices;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;}</div><div class="ttc" id="PushmiBenchmarks_8cpp_html_ad94c2c2f9fd35a12cc099962b7540071"><div class="ttname"><a href="PushmiBenchmarks_8cpp.html#ad94c2c2f9fd35a12cc099962b7540071">f</a></div><div class="ttdeci">auto f</div><div class="ttdef"><b>Definition:</b> <a href="PushmiBenchmarks_8cpp_source.html#l00515">PushmiBenchmarks.cpp:515</a></div></div>
<div class="ttc" id="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt_html_a7e98b8a17c0aad30ba64d47b74e2a6c1"><div class="ttname"><a href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt_source.html#l00083">gtest_output_test_golden_lin.txt:83</a></div></div>
<div class="ttc" id="ExceptionTracerLib_8cpp_html_a14bf5b6a962f91f8313ef5efb6f5c67a"><div class="ttname"><a href="ExceptionTracerLib_8cpp.html#a14bf5b6a962f91f8313ef5efb6f5c67a">std::rethrow_exception</a></div><div class="ttdeci">void rethrow_exception(std::exception_ptr ep)</div><div class="ttdef"><b>Definition:</b> <a href="ExceptionTracerLib_8cpp_source.html#l00144">ExceptionTracerLib.cpp:144</a></div></div>
<div class="ttc" id="fizz_2build___2CMakeCache_8txt_html_a261f9f58ccbeaa962c4e675e4212c9cc"><div class="ttname"><a href="fizz_2build___2CMakeCache_8txt.html#a261f9f58ccbeaa962c4e675e4212c9cc">context</a></div><div class="ttdeci">context</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2build___2CMakeCache_8txt_source.html#l00563">CMakeCache.txt:563</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="classfolly_1_1Optional_html"><div class="ttname"><a href="classfolly_1_1Optional.html">folly::Optional</a></div><div class="ttdef"><b>Definition:</b> <a href="Optional_8h_source.html#l00071">Optional.h:71</a></div></div>
<div class="ttc" id="namespacefolly_1_1fibers_html_af795b6995b7ad6733f7f8d649764965e"><div class="ttname"><a href="namespacefolly_1_1fibers.html#af795b6995b7ad6733f7f8d649764965e">folly::fibers::addTask</a></div><div class="ttdeci">void addTask(F &amp;&amp;func)</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00529">FiberManagerInternal.h:529</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_af220ef9930b641e74fa9588a0bcffb8c"><div class="ttname"><a href="namespacefolly_1_1gen.html#af220ef9930b641e74fa9588a0bcffb8c">folly::gen::first</a></div><div class="ttdeci">constexpr detail::First first</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02553">Base-inl.h:2553</a></div></div>
<div class="ttc" id="namespacefolly_1_1fibers_html_a6d41d11c2abd9aa82f603a71b5b71082"><div class="ttname"><a href="namespacefolly_1_1fibers.html#a6d41d11c2abd9aa82f603a71b5b71082">folly::fibers::await</a></div><div class="ttdeci">FirstArgOf&lt; F &gt;::type::value_type await(F &amp;&amp;func)</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal-inl_8h_source.html#l00557">FiberManagerInternal-inl.h:557</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8c981103fe9bcc8c72153370f73db9e7"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename InputT , typename ResultT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1fibers_1_1AtomicBatchDispatcher.html">AtomicBatchDispatcher</a>&lt; InputT, ResultT &gt; folly::fibers::createAtomicBatchDispatcher </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1Function.html">folly::Function</a>&lt; std::vector&lt; ResultT &gt;(std::vector&lt; InputT &gt; &amp;&amp;)&gt;&#160;</td>
          <td class="paramname"><em>dispatchFunc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>initialCapacity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AtomicBatchDispatcher-inl_8h_source.html#l00214">214</a> of file <a class="el" href="AtomicBatchDispatcher-inl_8h_source.html">AtomicBatchDispatcher-inl.h</a>.</p>

<p>References <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>, and <a class="el" href="AtomicBatchDispatcher-inl_8h_source.html#l00188">folly::fibers::AtomicBatchDispatcher&lt; InputT, ResultT &gt;::reserve()</a>.</p>

<p>Referenced by <a class="el" href="FibersTest_8cpp_source.html#l01941">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                            {</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <span class="keyword">auto</span> abd = AtomicBatchDispatcher&lt;InputT, ResultT&gt;(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(dispatchFunc));</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="keywordflow">if</span> (initialCapacity) {</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    abd.reserve(initialCapacity);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  }</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="keywordflow">return</span> abd;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;}</div><div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abd7a23ae6e1c938a427b2ef14ad56c15"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class InputIterator , class F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::fibers::forEach </td>
          <td>(</td>
          <td class="paramtype">InputIterator&#160;</td>
          <td class="paramname"><em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">InputIterator&#160;</td>
          <td class="paramname"><em>last</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">F &amp;&amp;&#160;</td>
          <td class="paramname"><em>f</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Schedules several tasks and blocks until all of them are completed. In the process of their successfull completion given callback would be called for each of them with the index of the task and the result it returned (if not void). If any of these n tasks throws an exception, this exception will be re-thrown, but only when all tasks are complete. If several tasks throw exceptions one of them will be re-thrown. Callback won't be called for tasks that throw exception.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">first</td><td><a class="el" href="classfolly_1_1Range.html">Range</a> of tasks to be scheduled </td></tr>
    <tr><td class="paramname">last</td><td></td></tr>
    <tr><td class="paramname">F</td><td>callback to call for each result. In case of each task returning void it should be callable F(size_t id) otherwise should be callable F(size_t id, Result) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ForEach-inl_8h_source.html#l00041">41</a> of file <a class="el" href="ForEach-inl_8h_source.html">ForEach-inl.h</a>.</p>

<p>References <a class="el" href="FiberManagerInternal_8h_source.html#l00529">addTask()</a>, <a class="el" href="PushmiBenchmarks_8cpp_source.html#l00515">f</a>, <a class="el" href="Base-inl_8h_source.html#l02553">folly::gen::first</a>, <a class="el" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt_source.html#l00083">i</a>, <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>, and <a class="el" href="fibers_2Baton_8cpp_source.html#l00045">folly::fibers::Baton::wait()</a>.</p>

<p>Referenced by <a class="el" href="WhenN-inl_8h_source.html#l00147">collectAll()</a>, and <a class="el" href="FibersTest_8cpp_source.html#l00587">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;                                                                    {</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacefolly_1_1gen.html#af220ef9930b641e74fa9588a0bcffb8c">first</a> == last) {</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  }</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <span class="keyword">typedef</span> <span class="keyword">typename</span> std::iterator_traits&lt;InputIterator&gt;::value_type FuncType;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <span class="keywordtype">size_t</span> tasksTodo = 1;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  std::exception_ptr e;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  Baton baton;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <span class="keyword">auto</span> taskFunc = [&amp;tasksTodo, &amp;e, &amp;<a class="code" href="PushmiBenchmarks_8cpp.html#ad94c2c2f9fd35a12cc099962b7540071">f</a>, &amp;baton](<span class="keywordtype">size_t</span> id, FuncType&amp;&amp; func) {</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordflow">return</span> [id,</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;            &amp;tasksTodo,</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;            &amp;e,</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;            &amp;<a class="code" href="PushmiBenchmarks_8cpp.html#ad94c2c2f9fd35a12cc099962b7540071">f</a>,</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;            &amp;baton,</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;            func_ = std::forward&lt;FuncType&gt;(func)]() <span class="keyword">mutable</span> {</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;      <span class="keywordflow">try</span> {</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        callFuncs(std::forward&lt;FuncType&gt;(func_), f, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;      } <span class="keywordflow">catch</span> (...) {</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        e = std::current_exception();</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;      }</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;      <span class="keywordflow">if</span> (--tasksTodo == 0) {</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        baton.post();</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;      }</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    };</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  };</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="keyword">auto</span> firstTask = <a class="code" href="namespacefolly_1_1gen.html#af220ef9930b641e74fa9588a0bcffb8c">first</a>;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  ++<a class="code" href="namespacefolly_1_1gen.html#af220ef9930b641e74fa9588a0bcffb8c">first</a>;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> = 1; <a class="code" href="namespacefolly_1_1gen.html#af220ef9930b641e74fa9588a0bcffb8c">first</a> != last; ++<a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, ++<a class="code" href="namespacefolly_1_1gen.html#af220ef9930b641e74fa9588a0bcffb8c">first</a>, ++tasksTodo) {</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <a class="code" href="namespacefolly_1_1fibers.html#af795b6995b7ad6733f7f8d649764965e">addTask</a>(taskFunc(<a class="code" href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(*first)));</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  }</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  taskFunc(0, <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(*firstTask))();</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  baton.wait();</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="keywordflow">if</span> (e != std::exception_ptr()) {</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <a class="code" href="ExceptionTracerLib_8cpp.html#a14bf5b6a962f91f8313ef5efb6f5c67a">std::rethrow_exception</a>(e);</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  }</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;}</div><div class="ttc" id="PushmiBenchmarks_8cpp_html_ad94c2c2f9fd35a12cc099962b7540071"><div class="ttname"><a href="PushmiBenchmarks_8cpp.html#ad94c2c2f9fd35a12cc099962b7540071">f</a></div><div class="ttdeci">auto f</div><div class="ttdef"><b>Definition:</b> <a href="PushmiBenchmarks_8cpp_source.html#l00515">PushmiBenchmarks.cpp:515</a></div></div>
<div class="ttc" id="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt_html_a7e98b8a17c0aad30ba64d47b74e2a6c1"><div class="ttname"><a href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2build___2gtest_2src_2gtest_2googletest_2test_2gtest__output__test__golden__lin_8txt_source.html#l00083">gtest_output_test_golden_lin.txt:83</a></div></div>
<div class="ttc" id="ExceptionTracerLib_8cpp_html_a14bf5b6a962f91f8313ef5efb6f5c67a"><div class="ttname"><a href="ExceptionTracerLib_8cpp.html#a14bf5b6a962f91f8313ef5efb6f5c67a">std::rethrow_exception</a></div><div class="ttdeci">void rethrow_exception(std::exception_ptr ep)</div><div class="ttdef"><b>Definition:</b> <a href="ExceptionTracerLib_8cpp_source.html#l00144">ExceptionTracerLib.cpp:144</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="namespacefolly_1_1fibers_html_af795b6995b7ad6733f7f8d649764965e"><div class="ttname"><a href="namespacefolly_1_1fibers.html#af795b6995b7ad6733f7f8d649764965e">folly::fibers::addTask</a></div><div class="ttdeci">void addTask(F &amp;&amp;func)</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00529">FiberManagerInternal.h:529</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_af220ef9930b641e74fa9588a0bcffb8c"><div class="ttname"><a href="namespacefolly_1_1gen.html#af220ef9930b641e74fa9588a0bcffb8c">folly::gen::first</a></div><div class="ttdeci">constexpr detail::First first</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02553">Base-inl.h:2553</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad304e26e860b2d4d10271c3fb187c819"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html">FiberManager</a> &amp; folly::fibers::getFiberManager </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1EventBase.html">EventBase</a> &amp;&#160;</td>
          <td class="paramname"><em>evb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structfolly_1_1fibers_1_1FiberManager_1_1Options.html">FiberManager::Options</a> &amp;&#160;</td>
          <td class="paramname"><em>opts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FiberManagerMap_8cpp_source.html#l00183">183</a> of file <a class="el" href="FiberManagerMap_8cpp_source.html">FiberManagerMap.cpp</a>.</p>

<p>References <a class="el" href="submit_8h_source.html#l00391">folly::pushmi::operators::get</a>.</p>

<p>Referenced by <a class="el" href="FiberIOExecutor_8h_source.html#l00038">folly::FiberIOExecutor::add()</a>, <a class="el" href="FibersBenchmark_8cpp_source.html#l00075">BENCHMARK()</a>, <a class="el" href="StackOverflow_8cpp_source.html#l00033">main()</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00337">folly::fibers::FiberManager::runQueueSize()</a>, <a class="el" href="FibersTest_8cpp_source.html#l00330">TEST()</a>, and <a class="el" href="FiberIOExecutorTest_8cpp_source.html#l00037">TEST_F()</a>.</p>
<div class="fragment"><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                                     {</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacefolly_1_1pushmi_1_1operators.html#a3fb4b634ea259cf94b63687a25b3f505">ThreadLocalCache&lt;EventBase&gt;::get</a>(evb, opts);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;}</div><div class="ttc" id="namespacefolly_1_1pushmi_1_1operators_html_a3fb4b634ea259cf94b63687a25b3f505"><div class="ttname"><a href="namespacefolly_1_1pushmi_1_1operators.html#a3fb4b634ea259cf94b63687a25b3f505">folly::pushmi::operators::get</a></div><div class="ttdeci">PUSHMI_INLINE_VAR constexpr detail::get_fn&lt; T &gt; get</div><div class="ttdef"><b>Definition:</b> <a href="submit_8h_source.html#l00391">submit.h:391</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a26b3326157bfcddea571253131ea4895"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1fibers_1_1FiberManager.html">FiberManager</a> &amp; folly::fibers::getFiberManager </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1VirtualEventBase.html">VirtualEventBase</a> &amp;&#160;</td>
          <td class="paramname"><em>evb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structfolly_1_1fibers_1_1FiberManager_1_1Options.html">FiberManager::Options</a> &amp;&#160;</td>
          <td class="paramname"><em>opts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FiberManagerMap_8cpp_source.html#l00189">189</a> of file <a class="el" href="FiberManagerMap_8cpp_source.html">FiberManagerMap.cpp</a>.</p>

<p>References <a class="el" href="submit_8h_source.html#l00391">folly::pushmi::operators::get</a>.</p>
<div class="fragment"><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                                     {</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacefolly_1_1pushmi_1_1operators.html#a3fb4b634ea259cf94b63687a25b3f505">ThreadLocalCache&lt;VirtualEventBase&gt;::get</a>(evb, opts);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;}</div><div class="ttc" id="namespacefolly_1_1pushmi_1_1operators_html_a3fb4b634ea259cf94b63687a25b3f505"><div class="ttname"><a href="namespacefolly_1_1pushmi_1_1operators.html#a3fb4b634ea259cf94b63687a25b3f505">folly::pushmi::operators::get</a></div><div class="ttdeci">PUSHMI_INLINE_VAR constexpr detail::get_fn&lt; T &gt; get</div><div class="ttdef"><b>Definition:</b> <a href="submit_8h_source.html#l00391">submit.h:391</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a22a1997749381111f322c5acfd6db44e"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">T</a>&amp; folly::fibers::local </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a refference to a fiber-local context for given <a class="el" href="classfolly_1_1fibers_1_1Fiber.html" title="Fiber object used by FiberManager to execute tasks. ">Fiber</a>. Should be always called with the same T for each fiber. Fiber-local context is lazily default-constructed on first request. When new task is scheduled via addTask / addTaskRemote from a fiber its fiber-local context is copied into the new fiber. </p>

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00584">584</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>References <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00488">folly::fibers::FiberManager::getFiberManagerUnsafe()</a>, and <a class="el" href="namespacefolly.html#a0652a9c51b69e7a13d40ccbcb139bc55">folly::T</a>.</p>

<p>Referenced by <a class="el" href="FiberManagerInternal_8h_source.html#l00239">folly::fibers::FiberManager::add()</a>, <a class="el" href="HazptrTest_8cpp_source.html#l00813">lifo_test()</a>, <a class="el" href="AtomicSharedPtr_8h_source.html#l00106">folly::atomic_shared_ptr&lt; T, Atom, CountedDetail &gt;::load()</a>, <a class="el" href="AtomicSharedPtr_8h_source.html#l00375">folly::atomic_shared_ptr&lt; T, Atom, CountedDetail &gt;::putOwnedBase()</a>, <a class="el" href="ThreadCachedLists_8h_source.html#l00178">folly::detail::ThreadCachedLists&lt; Tag &gt;::ListHead::splice()</a>, <a class="el" href="AtomicSharedPtr_8h_source.html#l00342">folly::atomic_shared_ptr&lt; T, Atom, CountedDetail &gt;::takeOwnedBase()</a>, and <a class="el" href="AsyncSocket_8cpp_source.html#l02814">folly::AsyncSocket::withAddr()</a>.</p>
<div class="fragment"><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;           {</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  <span class="keyword">auto</span> fm = FiberManager::getFiberManagerUnsafe();</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  <span class="keywordflow">if</span> (fm) {</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="keywordflow">return</span> fm-&gt;local&lt;<a class="code" href="http__parser_8c.html#ad24d0de3f597ca60dd95c4bc59c2ff73">T</a>&gt;();</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  }</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  <span class="keywordflow">return</span> FiberManager::localThread&lt;T&gt;();</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;}</div><div class="ttc" id="http__parser_8c_html_ad24d0de3f597ca60dd95c4bc59c2ff73"><div class="ttname"><a href="http__parser_8c.html#ad24d0de3f597ca60dd95c4bc59c2ff73">T</a></div><div class="ttdeci">#define T(v)</div><div class="ttdef"><b>Definition:</b> <a href="http__parser_8c_source.html#l00233">http_parser.c:233</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a341d0742a33f0b37fbff8dfe610dce7c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool folly::fibers::onFiber </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>true iff we are running in a fiber's context </dd></dl>

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00517">517</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>References <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00488">folly::fibers::FiberManager::getFiberManagerUnsafe()</a>.</p>

<p>Referenced by <a class="el" href="SSLSessionCacheManager_8cpp_source.html#l00272">wangle::SSLSessionCacheManager::getSession()</a>, <a class="el" href="TimedMutex-inl_8h_source.html#l00028">folly::fibers::TimedMutex::lockHelper()</a>, and <a class="el" href="FiberIOExecutorTest_8cpp_source.html#l00037">TEST_F()</a>.</p>
<div class="fragment"><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                      {</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <span class="keyword">auto</span> fm = FiberManager::getFiberManagerUnsafe();</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="keywordflow">return</span> fm ? fm-&gt;hasActiveFiber() : <span class="keyword">false</span>;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a381276f855bf3cd77fbafe57a779b2bd"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacefolly.html#a959935d9eb6cce6bd25049997b200b93">invoke_result_t</a>&lt;F&gt; folly::fibers::runInMainContext </td>
          <td>(</td>
          <td class="paramtype">F &amp;&amp;&#160;</td>
          <td class="paramname"><em>func</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>If called from a fiber, immediately switches to the <a class="el" href="classfolly_1_1fibers_1_1FiberManager.html" title="Single-threaded task execution engine. ">FiberManager</a>'s context and runs func(), going back to the <a class="el" href="classfolly_1_1fibers_1_1Fiber.html" title="Fiber object used by FiberManager to execute tasks. ">Fiber</a>'s context after completion. Outside a fiber, just calls func() directly.</p>
<dl class="section return"><dt>Returns</dt><dd>value returned by func(). </dd></dl>

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00568">568</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>References <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00488">folly::fibers::FiberManager::getFiberManagerUnsafe()</a>, and <a class="el" href="Likely_8h_source.html#l00048">UNLIKELY</a>.</p>

<p>Referenced by <a class="el" href="FiberManagerInternal_8h_source.html#l00239">folly::fibers::FiberManager::add()</a>, <a class="el" href="FiberManager-inl_8h_source.html#l00041">folly::fibers::FiberManager::addTaskRemoteFuture()</a>, <a class="el" href="fibers_8cpp_source.html#l00024">folly::python::getFiberManager()</a>, and <a class="el" href="FibersTest_8cpp_source.html#l00927">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                                                     {</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <span class="keyword">auto</span> fm = FiberManager::getFiberManagerUnsafe();</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="Likely_8h.html#ab10d0a221f4d7a706701b806c8135fd7">UNLIKELY</a>(fm == <span class="keyword">nullptr</span>)) {</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="keywordflow">return</span> func();</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  }</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <span class="keywordflow">return</span> fm-&gt;runInMainContext(std::forward&lt;F&gt;(func));</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;}</div><div class="ttc" id="Likely_8h_html_ab10d0a221f4d7a706701b806c8135fd7"><div class="ttname"><a href="Likely_8h.html#ab10d0a221f4d7a706701b806c8135fd7">UNLIKELY</a></div><div class="ttdeci">#define UNLIKELY(x)</div><div class="ttdef"><b>Definition:</b> <a href="Likely_8h_source.html#l00048">Likely.h:48</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad9af2bea32bcaa0b71686fc62475c2a8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void folly::fibers::yield </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="FiberManagerInternal_8h_source.html#l00592">592</a> of file <a class="el" href="FiberManagerInternal_8h_source.html">FiberManagerInternal.h</a>.</p>

<p>References <a class="el" href="FiberManagerInternal-inl_8h_source.html#l00488">folly::fibers::FiberManager::getFiberManagerUnsafe()</a>.</p>

<p>Referenced by <a class="el" href="SharedMutex_8h_source.html#l01167">folly::SharedMutexImpl&lt; true &gt;::applyDeferredReaders()</a>, <a class="el" href="AtomicHashUtils_8h_source.html#l00030">folly::detail::atomic_hash_spin_wait()</a>, <a class="el" href="CacheLocalityBenchmark_8cpp_source.html#l00252">atomicIncrBaseline()</a>, <a class="el" href="BaseBenchmark_8cpp_source.html#l00168">BENCHMARK_RELATIVE()</a>, <a class="el" href="FlowManyTest_8cpp_source.html#l00146">ConcurrentFlowManySender::cancellation_test()</a>, <a class="el" href="FlowTest_8cpp_source.html#l00147">ConcurrentFlowSingleSender::cancellation_test()</a>, <a class="el" href="AtomicUnorderedMapTest_8cpp_source.html#l00252">contendedRW()</a>, <a class="el" href="LifoSemTests_8cpp_source.html#l00395">contendedUse()</a>, <a class="el" href="CacheLocalityBenchmark_8cpp_source.html#l00182">contentionAtWidth()</a>, <a class="el" href="FiberManagerInternal_8h_source.html#l00297">folly::fibers::FiberManager::currentFiber()</a>, <a class="el" href="LifoSem_8h_source.html#l00678">folly::detail::LifoSemBase&lt; BatonType, Atom &gt;::decrOrPush()</a>, <a class="el" href="RelaxedConcurrentPriorityQueue_8h_source.html#l00373">folly::RelaxedConcurrentPriorityQueue&lt; T, MayBlock, SupportsSize, PopBatch, ListTargetSize, Mutex, Atom &gt;::grow()</a>, <a class="el" href="LifoSem_8h_source.html#l00645">folly::detail::LifoSemBase&lt; BatonType, Atom &gt;::incrOrPop()</a>, <a class="el" href="SequencedExecutorTest_8cpp_source.html#l00027">folly::isSequencedExecutor()</a>, <a class="el" href="FutexTest_8cpp_source.html#l00062">liveClockWaitUntilTests()</a>, <a class="el" href="synchronization_2RWSpinLock_8h_source.html#l00191">folly::RWSpinLock::lock()</a>, <a class="el" href="Synchronized_8h_source.html#l00871">folly::detail::lock()</a>, <a class="el" href="synchronization_2RWSpinLock_8h_source.html#l00207">folly::RWSpinLock::lock_shared()</a>, <a class="el" href="synchronization_2RWSpinLock_8h_source.html#l00227">folly::RWSpinLock::lock_upgrade()</a>, <a class="el" href="MicroLock_8cpp_source.html#l00024">folly::MicroLockCore::lockSlowPath()</a>, <a class="el" href="SynchronizedBenchmark_8cpp_source.html#l00493">main()</a>, <a class="el" href="BaseBenchmark_8cpp_source.html#l00205">FibYielder::operator()()</a>, <a class="el" href="FutexTest_8cpp_source.html#l00046">run_basic_tests()</a>, <a class="el" href="SharedMutexTest_8cpp_source.html#l00754">runAllAndValidate()</a>, <a class="el" href="SharedMutexTest_8cpp_source.html#l00530">runContendedReaders()</a>, <a class="el" href="SharedMutexTest_8cpp_source.html#l00618">runMixed()</a>, <a class="el" href="SharedMutexTest_8cpp_source.html#l01302">runPingPong()</a>, <a class="el" href="SharedMutexTest_8cpp_source.html#l01149">runRemoteUnlock()</a>, <a class="el" href="LifoSem_8h_source.html#l00398">folly::detail::LifoSemBase&lt; BatonType, Atom &gt;::shutdown()</a>, <a class="el" href="Spin_8h_source.html#l00070">folly::detail::spin_yield_until()</a>, <a class="el" href="AtomicSharedPtr_8h_source.html#l00342">folly::atomic_shared_ptr&lt; T, Atom, CountedDetail &gt;::takeOwnedBase()</a>, <a class="el" href="CacheLocalityTest_8cpp_source.html#l00384">TEST()</a>, <a class="el" href="NewThreadTest_8cpp_source.html#l00111">TEST_F()</a>, <a class="el" href="SynchronizedTestLib-inl_8h_source.html#l00473">folly::sync_tests::testConcurrency()</a>, <a class="el" href="LifoSem_8h_source.html#l00594">folly::detail::LifoSemBase&lt; BatonType, Atom &gt;::tryRemoveNode()</a>, <a class="el" href="synchronization_2RWSpinLock_8h_source.html#l00241">folly::RWSpinLock::unlock_upgrade_and_lock()</a>, <a class="el" href="HazptrDomain_8h_source.html#l00230">folly::hazptr_domain&lt; DeterministicAtomic &gt;::wait_for_zero_bulk_reclaims()</a>, <a class="el" href="EventBase_8cpp_source.html#l00249">folly::EventBase::waitUntilRunning()</a>, and <a class="el" href="SharedMutex_8h_source.html#l01002">folly::SharedMutexImpl&lt; true &gt;::yieldWaitForZeroBits()</a>.</p>
<div class="fragment"><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                    {</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  <span class="keyword">auto</span> fm = FiberManager::getFiberManagerUnsafe();</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  <span class="keywordflow">if</span> (fm) {</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    fm-&gt;yield();</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <a class="code" href="namespacefolly_1_1fibers.html#ad9af2bea32bcaa0b71686fc62475c2a8">std::this_thread::yield</a>();</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  }</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;}</div><div class="ttc" id="namespacefolly_1_1fibers_html_ad9af2bea32bcaa0b71686fc62475c2a8"><div class="ttname"><a href="namespacefolly_1_1fibers.html#ad9af2bea32bcaa0b71686fc62475c2a8">folly::fibers::yield</a></div><div class="ttdeci">void yield()</div><div class="ttdef"><b>Definition:</b> <a href="FiberManagerInternal_8h_source.html#l00592">FiberManagerInternal.h:592</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a730f6ddcce6f06d6452b3134ebe89a91"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">constexpr size_t folly::fibers::kMaxInUse = 100</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Maximum number of allocator instances with guarded stacks enabled </p>

<p>Definition at line <a class="el" href="GuardPageAllocator_8cpp_source.html#l00053">53</a> of file <a class="el" href="GuardPageAllocator_8cpp_source.html">GuardPageAllocator.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae6e7c0e52f810e63bdd4b50154f17d92"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">constexpr size_t folly::fibers::kNumGuarded = 100</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Each stack with a guard page creates two memory mappings. Since this is a limited resource, we don't want to create too many of these.</p>
<p>The upper bound on total number of mappings created is kNumGuarded * kMaxInUse. Number of guarded stacks per allocator instance </p>

<p>Definition at line <a class="el" href="GuardPageAllocator_8cpp_source.html#l00048">48</a> of file <a class="el" href="GuardPageAllocator_8cpp_source.html">GuardPageAllocator.cpp</a>.</p>

<p>Referenced by <a class="el" href="GuardPageAllocator_8cpp_source.html#l00113">folly::fibers::StackCache::giveBack()</a>, and <a class="el" href="GuardPageAllocator_8cpp_source.html#l00062">folly::fibers::StackCache::StackCache()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefolly.html">folly</a></li><li class="navelem"><a class="el" href="namespacefolly_1_1fibers.html">fibers</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
