<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>proxygen: fizz::server::test::FizzTestServer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">proxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classfizz_1_1server_1_1test_1_1FizzTestServer.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classfizz_1_1server_1_1test_1_1FizzTestServer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">fizz::server::test::FizzTestServer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html">Utils.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for fizz::server::test::FizzTestServer:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classfizz_1_1server_1_1test_1_1FizzTestServer.png" usemap="#fizz::server::test::FizzTestServer_map" alt=""/>
  <map id="fizz::server::test::FizzTestServer_map" name="fizz::server::test::FizzTestServer_map">
<area href="classfolly_1_1AsyncServerSocket_1_1AcceptCallback.html" alt="folly::AsyncServerSocket::AcceptCallback" shape="rect" coords="0,0,250,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfizz_1_1server_1_1test_1_1FizzTestServer_1_1CallbackFactory.html">CallbackFactory</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a817a346cbac84766587c8c0ca9fe7ef6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a817a346cbac84766587c8c0ca9fe7ef6">FizzTestServer</a> (<a class="el" href="classfolly_1_1EventBase.html">folly::EventBase</a> &amp;evb, <a class="el" href="classfizz_1_1server_1_1test_1_1FizzTestServer_1_1CallbackFactory.html">CallbackFactory</a> *factory, int port=0)</td></tr>
<tr class="separator:a817a346cbac84766587c8c0ca9fe7ef6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacfe21e47a7aa9d1defb1235a2f2442c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#aacfe21e47a7aa9d1defb1235a2f2442c">setFizzContext</a> (std::shared_ptr&lt; <a class="el" href="classfizz_1_1server_1_1FizzServerContext.html">FizzServerContext</a> &gt; ctx)</td></tr>
<tr class="separator:aacfe21e47a7aa9d1defb1235a2f2442c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9ba15898aaebf6414052753990027ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#ab9ba15898aaebf6414052753990027ab">acceptError</a> (const std::exception &amp;ex) noexceptoverride</td></tr>
<tr class="separator:ab9ba15898aaebf6414052753990027ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a775ed9188814ab01f304f20946ffa0d7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a775ed9188814ab01f304f20946ffa0d7">connectionAccepted</a> (int fd, const <a class="el" href="classfolly_1_1SocketAddress.html">folly::SocketAddress</a> &amp;) noexceptoverride</td></tr>
<tr class="separator:a775ed9188814ab01f304f20946ffa0d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a029f9236df3fe3e8c8be2be41dddd16f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a029f9236df3fe3e8c8be2be41dddd16f">setResumption</a> (bool enable)</td></tr>
<tr class="separator:a029f9236df3fe3e8c8be2be41dddd16f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fb1da62461ccd99dbc11784640d5e19"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a7fb1da62461ccd99dbc11784640d5e19">setCertificate</a> (std::unique_ptr&lt; <a class="el" href="classfizz_1_1SelfCert.html">SelfCert</a> &gt; cert)</td></tr>
<tr class="separator:a7fb1da62461ccd99dbc11784640d5e19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1924f9310bf804865d4524b6a22d0169"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a1924f9310bf804865d4524b6a22d0169">enableClientAuthWithChain</a> (<a class="el" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a> path, <a class="el" href="namespacefizz_1_1server.html#afa366405c336894fd4a7f1c423ab7394">ClientAuthMode</a> <a class="el" href="ClientProtocol_8cpp.html#a2338bdb38c880ef36a2a26fa841e20b5">mode</a>=<a class="el" href="namespacefizz_1_1server.html#afa366405c336894fd4a7f1c423ab7394aebb061953c0454b2c8ee7b0ac615ebcd">ClientAuthMode::Optional</a>)</td></tr>
<tr class="separator:a1924f9310bf804865d4524b6a22d0169"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88951cbe2dfd5c9dfd91089cf2d6f5a1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a88951cbe2dfd5c9dfd91089cf2d6f5a1">disableClientAuth</a> ()</td></tr>
<tr class="separator:a88951cbe2dfd5c9dfd91089cf2d6f5a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a5c275781c2eff25bf0bd083043a4b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a6a5c275781c2eff25bf0bd083043a4b1">setAcceptEarlyData</a> (bool enable)</td></tr>
<tr class="separator:a6a5c275781c2eff25bf0bd083043a4b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89d628ea622e597ca353692574b39a37"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a89d628ea622e597ca353692574b39a37">stopAccepting</a> ()</td></tr>
<tr class="separator:a89d628ea622e597ca353692574b39a37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cd747f651e3591cfce9dd30519c4350"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1SocketAddress.html">folly::SocketAddress</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a0cd747f651e3591cfce9dd30519c4350">getAddress</a> ()</td></tr>
<tr class="separator:a0cd747f651e3591cfce9dd30519c4350"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ec07039b54649ccf19b04e35d917125"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classfizz_1_1server_1_1FizzServerContext.html">FizzServerContext</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a8ec07039b54649ccf19b04e35d917125">getFizzContext</a> ()</td></tr>
<tr class="separator:a8ec07039b54649ccf19b04e35d917125"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classfolly_1_1AsyncServerSocket_1_1AcceptCallback"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classfolly_1_1AsyncServerSocket_1_1AcceptCallback')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classfolly_1_1AsyncServerSocket_1_1AcceptCallback.html">folly::AsyncServerSocket::AcceptCallback</a></td></tr>
<tr class="memitem:a896afa0a618799d1fa09e255fa0c6027 inherit pub_methods_classfolly_1_1AsyncServerSocket_1_1AcceptCallback"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1AsyncServerSocket_1_1AcceptCallback.html#a896afa0a618799d1fa09e255fa0c6027">~AcceptCallback</a> ()=default</td></tr>
<tr class="separator:a896afa0a618799d1fa09e255fa0c6027 inherit pub_methods_classfolly_1_1AsyncServerSocket_1_1AcceptCallback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c53b1718a80a18f2fc0f789af1bc5b6 inherit pub_methods_classfolly_1_1AsyncServerSocket_1_1AcceptCallback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1AsyncServerSocket_1_1AcceptCallback.html#a3c53b1718a80a18f2fc0f789af1bc5b6">acceptStarted</a> () noexcept</td></tr>
<tr class="separator:a3c53b1718a80a18f2fc0f789af1bc5b6 inherit pub_methods_classfolly_1_1AsyncServerSocket_1_1AcceptCallback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cc76fc51f835995c7dd5e53a67d3027 inherit pub_methods_classfolly_1_1AsyncServerSocket_1_1AcceptCallback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfolly_1_1AsyncServerSocket_1_1AcceptCallback.html#a6cc76fc51f835995c7dd5e53a67d3027">acceptStopped</a> () noexcept</td></tr>
<tr class="separator:a6cc76fc51f835995c7dd5e53a67d3027 inherit pub_methods_classfolly_1_1AsyncServerSocket_1_1AcceptCallback"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a5e9ce0127b60551af6a6cb811d9ce7df"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1AsyncServerSocket.html#a1a61df9e0ee98382ed7d7e678c9e3e52">folly::AsyncServerSocket::UniquePtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a5e9ce0127b60551af6a6cb811d9ce7df">socket_</a></td></tr>
<tr class="separator:a5e9ce0127b60551af6a6cb811d9ce7df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b6033df30ebe2c771d88ce654f54502"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classfizz_1_1server_1_1FizzServerContext.html">FizzServerContext</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a6b6033df30ebe2c771d88ce654f54502">ctx_</a></td></tr>
<tr class="separator:a6b6033df30ebe2c771d88ce654f54502"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe5beaefe41e33250fa0af4cfc2118a8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfizz_1_1server_1_1test_1_1FizzTestServer_1_1CallbackFactory.html">CallbackFactory</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#afe5beaefe41e33250fa0af4cfc2118a8">factory_</a></td></tr>
<tr class="separator:afe5beaefe41e33250fa0af4cfc2118a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae82971288010d8c9fe80c2f6b141d75b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfolly_1_1EventBase.html">folly::EventBase</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#ae82971288010d8c9fe80c2f6b141d75b">evb_</a></td></tr>
<tr class="separator:ae82971288010d8c9fe80c2f6b141d75b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00021">21</a> of file <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html">Utils.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a817a346cbac84766587c8c0ca9fe7ef6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">fizz::server::test::FizzTestServer::FizzTestServer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfolly_1_1EventBase.html">folly::EventBase</a> &amp;&#160;</td>
          <td class="paramname"><em>evb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfizz_1_1server_1_1test_1_1FizzTestServer_1_1CallbackFactory.html">CallbackFactory</a> *&#160;</td>
          <td class="paramname"><em>factory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00030">30</a> of file <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html">Utils.h</a>.</p>

<p>References <a class="el" href="protocol_2test_2Utilities_8h_source.html#l00035">fizz::test::createCert()</a>, <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00148">ctx_</a>, <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00150">evb_</a>, <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>, and <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00147">socket_</a>.</p>
<div class="fragment"><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;      : <a class="code" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#afe5beaefe41e33250fa0af4cfc2118a8">factory_</a>(factory), <a class="code" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#ae82971288010d8c9fe80c2f6b141d75b">evb_</a>(evb) {</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <span class="keyword">auto</span> certData =</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        <a class="code" href="namespacefizz_1_1test.html#a9a05099c4e39c8a566412ea0ce7b9b43">fizz::test::createCert</a>(<span class="stringliteral">&quot;fizz-test-selfsign&quot;</span>, <span class="keyword">false</span>, <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    std::vector&lt;folly::ssl::X509UniquePtr&gt; certChain;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    certChain.push_back(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(certData.cert));</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="keyword">auto</span> fizzCert = std::make_unique&lt;SelfCertImpl&lt;KeyType::P256&gt;&gt;(</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(certData.key), <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(certChain));</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="keyword">auto</span> certManager = std::make_unique&lt;CertManager&gt;();</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    certManager-&gt;addCert(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(fizzCert), <span class="keyword">true</span>);</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <a class="code" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a6b6033df30ebe2c771d88ce654f54502">ctx_</a> = std::make_shared&lt;FizzServerContext&gt;();</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <a class="code" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a6b6033df30ebe2c771d88ce654f54502">ctx_</a>-&gt;setCertManager(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(certManager));</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <a class="code" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a5e9ce0127b60551af6a6cb811d9ce7df">socket_</a> = <a class="code" href="classfolly_1_1AsyncServerSocket.html#a1a61df9e0ee98382ed7d7e678c9e3e52">folly::AsyncServerSocket::UniquePtr</a>(</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        <span class="keyword">new</span> <a class="code" href="classfolly_1_1AsyncServerSocket.html">folly::AsyncServerSocket</a>(&amp;<a class="code" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#ae82971288010d8c9fe80c2f6b141d75b">evb_</a>));</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <a class="code" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a5e9ce0127b60551af6a6cb811d9ce7df">socket_</a>-&gt;bind(port);</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <a class="code" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a5e9ce0127b60551af6a6cb811d9ce7df">socket_</a>-&gt;listen(100);</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <a class="code" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a5e9ce0127b60551af6a6cb811d9ce7df">socket_</a>-&gt;addAcceptCallback(<span class="keyword">this</span>, &amp;<a class="code" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#ae82971288010d8c9fe80c2f6b141d75b">evb_</a>);</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <a class="code" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a5e9ce0127b60551af6a6cb811d9ce7df">socket_</a>-&gt;startAccepting();</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  }</div><div class="ttc" id="classfizz_1_1server_1_1test_1_1FizzTestServer_html_a5e9ce0127b60551af6a6cb811d9ce7df"><div class="ttname"><a href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a5e9ce0127b60551af6a6cb811d9ce7df">fizz::server::test::FizzTestServer::socket_</a></div><div class="ttdeci">folly::AsyncServerSocket::UniquePtr socket_</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00147">Utils.h:147</a></div></div>
<div class="ttc" id="classfolly_1_1AsyncServerSocket_html"><div class="ttname"><a href="classfolly_1_1AsyncServerSocket.html">folly::AsyncServerSocket</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncServerSocket_8h_source.html#l00065">AsyncServerSocket.h:65</a></div></div>
<div class="ttc" id="classfizz_1_1server_1_1test_1_1FizzTestServer_html_ae82971288010d8c9fe80c2f6b141d75b"><div class="ttname"><a href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#ae82971288010d8c9fe80c2f6b141d75b">fizz::server::test::FizzTestServer::evb_</a></div><div class="ttdeci">folly::EventBase &amp; evb_</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00150">Utils.h:150</a></div></div>
<div class="ttc" id="classfizz_1_1server_1_1test_1_1FizzTestServer_html_afe5beaefe41e33250fa0af4cfc2118a8"><div class="ttname"><a href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#afe5beaefe41e33250fa0af4cfc2118a8">fizz::server::test::FizzTestServer::factory_</a></div><div class="ttdeci">CallbackFactory * factory_</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00149">Utils.h:149</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="classfizz_1_1server_1_1test_1_1FizzTestServer_html_a6b6033df30ebe2c771d88ce654f54502"><div class="ttname"><a href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a6b6033df30ebe2c771d88ce654f54502">fizz::server::test::FizzTestServer::ctx_</a></div><div class="ttdeci">std::shared_ptr&lt; FizzServerContext &gt; ctx_</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00148">Utils.h:148</a></div></div>
<div class="ttc" id="classfolly_1_1AsyncServerSocket_html_a1a61df9e0ee98382ed7d7e678c9e3e52"><div class="ttname"><a href="classfolly_1_1AsyncServerSocket.html#a1a61df9e0ee98382ed7d7e678c9e3e52">folly::AsyncServerSocket::UniquePtr</a></div><div class="ttdeci">std::unique_ptr&lt; AsyncServerSocket, Destructor &gt; UniquePtr</div><div class="ttdef"><b>Definition:</b> <a href="AsyncServerSocket_8h_source.html#l00067">AsyncServerSocket.h:67</a></div></div>
<div class="ttc" id="namespacefizz_1_1test_html_a9a05099c4e39c8a566412ea0ce7b9b43"><div class="ttname"><a href="namespacefizz_1_1test.html#a9a05099c4e39c8a566412ea0ce7b9b43">fizz::test::createCert</a></div><div class="ttdeci">CertAndKey createCert(std::string cn, bool ca, CertAndKey *issuer)</div><div class="ttdef"><b>Definition:</b> <a href="protocol_2test_2Utilities_8h_source.html#l00035">Utilities.h:35</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ab9ba15898aaebf6414052753990027ab"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void fizz::server::test::FizzTestServer::acceptError </td>
          <td>(</td>
          <td class="paramtype">const std::exception &amp;&#160;</td>
          <td class="paramname"><em>ex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#ab9ba15898aaebf6414052753990027ab">acceptError()</a> is called if an error occurs while accepting.</p>
<p>The AcceptCallback will remain installed even after an accept error, as the errors are typically somewhat transient, such as being out of file descriptors. The server socket must be explicitly stopped if you wish to stop accepting after an error.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ex</td><td>An exception representing the error. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classfolly_1_1AsyncServerSocket_1_1AcceptCallback.html#a094d946adcbfba63d0db0fbb43723851">folly::AsyncServerSocket::AcceptCallback</a>.</p>

<p>Definition at line <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00054">54</a> of file <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html">Utils.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                                                             {</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    LOG(ERROR) &lt;&lt; <span class="stringliteral">&quot;Accept error: &quot;</span> &lt;&lt; ex.what();</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a775ed9188814ab01f304f20946ffa0d7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void fizz::server::test::FizzTestServer::connectionAccepted </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classfolly_1_1SocketAddress.html">folly::SocketAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>clientAddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a775ed9188814ab01f304f20946ffa0d7">connectionAccepted()</a> is called whenever a new client connection is received.</p>
<p>The AcceptCallback will remain installed after <a class="el" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a775ed9188814ab01f304f20946ffa0d7">connectionAccepted()</a> returns.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>The newly accepted client socket. The AcceptCallback assumes ownership of this socket, and is responsible for closing it when done. The newly accepted file descriptor will have already been put into non-blocking mode. </td></tr>
    <tr><td class="paramname">clientAddr</td><td><a class="el" href="structA.html">A</a> reference to a SocketAddress struct containing the client's address. This struct is only guaranteed to remain valid until <a class="el" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a775ed9188814ab01f304f20946ffa0d7">connectionAccepted()</a> returns. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classfolly_1_1AsyncServerSocket_1_1AcceptCallback.html#a8fc130e1179006e400b57d8f1c9e776e">folly::AsyncServerSocket::AcceptCallback</a>.</p>

<p>Definition at line <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00058">58</a> of file <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html">Utils.h</a>.</p>

<p>References <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00148">ctx_</a>, <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00150">evb_</a>, <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00149">factory_</a>, and <a class="el" href="classfizz_1_1server_1_1test_1_1FizzTestServer_1_1CallbackFactory.html#a371e38c5c508c1c20a5a849eaa9aefd8">fizz::server::test::FizzTestServer::CallbackFactory::getCallback()</a>.</p>
<div class="fragment"><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                                                     {</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keyword">auto</span> sock = <span class="keyword">new</span> <a class="code" href="classfolly_1_1AsyncSocket.html">folly::AsyncSocket</a>(&amp;<a class="code" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#ae82971288010d8c9fe80c2f6b141d75b">evb_</a>, fd);</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    std::shared_ptr&lt;AsyncFizzServer&gt; transport = <a class="code" href="classfizz_1_1server_1_1AsyncFizzServerT.html#a4cb8398d9805e4123c49b1c5b80143e4">AsyncFizzServer::UniquePtr</a>(</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <span class="keyword">new</span> <a class="code" href="namespacefizz_1_1server.html#a368b149bedd14169b4e1546cb72eca24">AsyncFizzServer</a>(<a class="code" href="classfolly_1_1AsyncSocket.html#a59188939b6c898468addc2f6d56c6376">folly::AsyncSocket::UniquePtr</a>(sock), <a class="code" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a6b6033df30ebe2c771d88ce654f54502">ctx_</a>));</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keyword">auto</span> callback = <a class="code" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#afe5beaefe41e33250fa0af4cfc2118a8">factory_</a>-&gt;<a class="code" href="classfizz_1_1server_1_1test_1_1FizzTestServer_1_1CallbackFactory.html#a371e38c5c508c1c20a5a849eaa9aefd8">getCallback</a>(transport);</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    transport-&gt;accept(callback);</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  }</div><div class="ttc" id="classfizz_1_1server_1_1test_1_1FizzTestServer_html_ae82971288010d8c9fe80c2f6b141d75b"><div class="ttname"><a href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#ae82971288010d8c9fe80c2f6b141d75b">fizz::server::test::FizzTestServer::evb_</a></div><div class="ttdeci">folly::EventBase &amp; evb_</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00150">Utils.h:150</a></div></div>
<div class="ttc" id="classfizz_1_1server_1_1test_1_1FizzTestServer_html_afe5beaefe41e33250fa0af4cfc2118a8"><div class="ttname"><a href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#afe5beaefe41e33250fa0af4cfc2118a8">fizz::server::test::FizzTestServer::factory_</a></div><div class="ttdeci">CallbackFactory * factory_</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00149">Utils.h:149</a></div></div>
<div class="ttc" id="classfizz_1_1server_1_1test_1_1FizzTestServer_1_1CallbackFactory_html_a371e38c5c508c1c20a5a849eaa9aefd8"><div class="ttname"><a href="classfizz_1_1server_1_1test_1_1FizzTestServer_1_1CallbackFactory.html#a371e38c5c508c1c20a5a849eaa9aefd8">fizz::server::test::FizzTestServer::CallbackFactory::getCallback</a></div><div class="ttdeci">virtual AsyncFizzServer::HandshakeCallback * getCallback(std::shared_ptr&lt; AsyncFizzServer &gt; server)=0</div></div>
<div class="ttc" id="classfizz_1_1server_1_1test_1_1FizzTestServer_html_a6b6033df30ebe2c771d88ce654f54502"><div class="ttname"><a href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a6b6033df30ebe2c771d88ce654f54502">fizz::server::test::FizzTestServer::ctx_</a></div><div class="ttdeci">std::shared_ptr&lt; FizzServerContext &gt; ctx_</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00148">Utils.h:148</a></div></div>
<div class="ttc" id="classfizz_1_1server_1_1AsyncFizzServerT_html_a4cb8398d9805e4123c49b1c5b80143e4"><div class="ttname"><a href="classfizz_1_1server_1_1AsyncFizzServerT.html#a4cb8398d9805e4123c49b1c5b80143e4">fizz::server::AsyncFizzServerT::UniquePtr</a></div><div class="ttdeci">std::unique_ptr&lt; AsyncFizzServerT, folly::DelayedDestruction::Destructor &gt; UniquePtr</div><div class="ttdef"><b>Definition:</b> <a href="AsyncFizzServer_8h_source.html#l00038">AsyncFizzServer.h:38</a></div></div>
<div class="ttc" id="namespacefizz_1_1server_html_a368b149bedd14169b4e1546cb72eca24"><div class="ttname"><a href="namespacefizz_1_1server.html#a368b149bedd14169b4e1546cb72eca24">fizz::server::AsyncFizzServer</a></div><div class="ttdeci">AsyncFizzServerT&lt; ServerStateMachine &gt; AsyncFizzServer</div><div class="ttdef"><b>Definition:</b> <a href="AsyncFizzServer_8h_source.html#l00136">AsyncFizzServer.h:136</a></div></div>
<div class="ttc" id="classfolly_1_1AsyncSocket_html"><div class="ttname"><a href="classfolly_1_1AsyncSocket.html">folly::AsyncSocket</a></div><div class="ttdef"><b>Definition:</b> <a href="AsyncSocket_8h_source.html#l00081">AsyncSocket.h:81</a></div></div>
<div class="ttc" id="classfolly_1_1AsyncSocket_html_a59188939b6c898468addc2f6d56c6376"><div class="ttname"><a href="classfolly_1_1AsyncSocket.html#a59188939b6c898468addc2f6d56c6376">folly::AsyncSocket::UniquePtr</a></div><div class="ttdeci">std::unique_ptr&lt; AsyncSocket, Destructor &gt; UniquePtr</div><div class="ttdef"><b>Definition:</b> <a href="AsyncSocket_8h_source.html#l00083">AsyncSocket.h:83</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a88951cbe2dfd5c9dfd91089cf2d6f5a1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void fizz::server::test::FizzTestServer::disableClientAuth </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00116">116</a> of file <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html">Utils.h</a>.</p>

<p>References <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00148">ctx_</a>, and <a class="el" href="namespacefizz_1_1server.html#afa366405c336894fd4a7f1c423ab7394a6adf97f83acf6453d4a6a4b1070f3754">fizz::server::None</a>.</p>
<div class="fragment"><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                           {</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <a class="code" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a6b6033df30ebe2c771d88ce654f54502">ctx_</a>-&gt;setClientAuthMode(<a class="code" href="namespacefizz_1_1server.html#afa366405c336894fd4a7f1c423ab7394a6adf97f83acf6453d4a6a4b1070f3754">ClientAuthMode::None</a>);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <a class="code" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a6b6033df30ebe2c771d88ce654f54502">ctx_</a>-&gt;setClientCertVerifier(<span class="keyword">nullptr</span>);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  }</div><div class="ttc" id="namespacefizz_1_1server_html_afa366405c336894fd4a7f1c423ab7394a6adf97f83acf6453d4a6a4b1070f3754"><div class="ttname"><a href="namespacefizz_1_1server.html#afa366405c336894fd4a7f1c423ab7394a6adf97f83acf6453d4a6a4b1070f3754">fizz::server::ClientAuthMode::None</a></div></div>
<div class="ttc" id="classfizz_1_1server_1_1test_1_1FizzTestServer_html_a6b6033df30ebe2c771d88ce654f54502"><div class="ttname"><a href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a6b6033df30ebe2c771d88ce654f54502">fizz::server::test::FizzTestServer::ctx_</a></div><div class="ttdeci">std::shared_ptr&lt; FizzServerContext &gt; ctx_</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00148">Utils.h:148</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1924f9310bf804865d4524b6a22d0169"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void fizz::server::test::FizzTestServer::enableClientAuthWithChain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a>&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacefizz_1_1server.html#afa366405c336894fd4a7f1c423ab7394">ClientAuthMode</a>&#160;</td>
          <td class="paramname"><em>mode</em> = <code><a class="el" href="namespacefizz_1_1server.html#afa366405c336894fd4a7f1c423ab7394aebb061953c0454b2c8ee7b0ac615ebcd">ClientAuthMode::Optional</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00088">88</a> of file <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html">Utils.h</a>.</p>

<p>References <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00148">ctx_</a>, <a class="el" href="ClientProtocol_8cpp_source.html#l00778">mode</a>, <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>, <a class="el" href="OpenSSLCertUtils_8cpp_source.html#l00209">folly::ssl::OpenSSLCertUtils::readCertsFromBuffer()</a>, <a class="el" href="FileUtil_8h_source.html#l00125">folly::readFile()</a>, <a class="el" href="namespacefizz.html#ac1a57c6c1e0a9f90d1777788a3b513b9a9aa1b03934893d7134a660af4204f2a9">fizz::Server</a>, and <a class="el" href="Conv_8cpp_source.html#l00212">string</a>.</p>
<div class="fragment"><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                                                    {</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <a class="code" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a6b6033df30ebe2c771d88ce654f54502">ctx_</a>-&gt;setClientAuthMode(<a class="code" href="ClientProtocol_8cpp.html#a2338bdb38c880ef36a2a26fa841e20b5">mode</a>);</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <a class="code" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a> certData;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    CHECK(<a class="code" href="namespacefolly.html#a0ec012b343d6c6956f582c861a19372d">folly::readFile</a>(path.c_str(), certData));</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keyword">auto</span> certRange = <a class="code" href="namespacefolly.html#a7f61a634c75bc3bb46447ec2b17ff0fe">folly::ByteRange</a>(<a class="code" href="classfolly_1_1Range.html">folly::StringPiece</a>(certData));</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keyword">auto</span> clientAuthCerts =</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <a class="code" href="classfolly_1_1ssl_1_1OpenSSLCertUtils.html#a566f63568280789678636a681a262927">folly::ssl::OpenSSLCertUtils::readCertsFromBuffer</a>(certRange);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    ERR_clear_error();</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <a class="code" href="namespacefolly_1_1ssl.html#a4af9e919e085c65b79f91e3a3659be3d">folly::ssl::X509StoreUniquePtr</a> store(X509_STORE_new());</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; caCert : clientAuthCerts) {</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      <span class="keywordflow">if</span> (X509_STORE_add_cert(store.get(), caCert.get()) != 1) {</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="keyword">auto</span> err = ERR_get_error();</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        CHECK(</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            ERR_GET_LIB(err) == ERR_LIB_X509 &amp;&amp;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            ERR_GET_REASON(err) == X509_R_CERT_ALREADY_IN_HASH_TABLE)</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;Could not insert CA certificate into store: &quot;</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            &lt;&lt; <a class="code" href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">std::string</a>(ERR_error_string(err, <span class="keyword">nullptr</span>));</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;      }</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    }</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keyword">auto</span> verifier = std::make_shared&lt;DefaultCertificateVerifier&gt;(</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <a class="code" href="namespacefizz.html#ac1a57c6c1e0a9f90d1777788a3b513b9a9aa1b03934893d7134a660af4204f2a9">VerificationContext::Server</a>, <a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(store));</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <a class="code" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a6b6033df30ebe2c771d88ce654f54502">ctx_</a>-&gt;setClientCertVerifier(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(verifier));</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  }</div><div class="ttc" id="namespacefolly_html_a0ec012b343d6c6956f582c861a19372d"><div class="ttname"><a href="namespacefolly.html#a0ec012b343d6c6956f582c861a19372d">folly::readFile</a></div><div class="ttdeci">bool readFile(int fd, Container &amp;out, size_t num_bytes=std::numeric_limits&lt; size_t &gt;::max())</div><div class="ttdef"><b>Definition:</b> <a href="FileUtil_8h_source.html#l00125">FileUtil.h:125</a></div></div>
<div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="ClientProtocol_8cpp_html_a2338bdb38c880ef36a2a26fa841e20b5"><div class="ttname"><a href="ClientProtocol_8cpp.html#a2338bdb38c880ef36a2a26fa841e20b5">mode</a></div><div class="ttdeci">folly::Optional&lt; PskKeyExchangeMode &gt; mode</div><div class="ttdef"><b>Definition:</b> <a href="ClientProtocol_8cpp_source.html#l00778">ClientProtocol.cpp:778</a></div></div>
<div class="ttc" id="namespacefizz_html_ac1a57c6c1e0a9f90d1777788a3b513b9a9aa1b03934893d7134a660af4204f2a9"><div class="ttname"><a href="namespacefizz.html#ac1a57c6c1e0a9f90d1777788a3b513b9a9aa1b03934893d7134a660af4204f2a9">fizz::VerificationContext::Server</a></div></div>
<div class="ttc" id="namespacefolly_1_1ssl_html_a4af9e919e085c65b79f91e3a3659be3d"><div class="ttname"><a href="namespacefolly_1_1ssl.html#a4af9e919e085c65b79f91e3a3659be3d">folly::ssl::X509StoreUniquePtr</a></div><div class="ttdeci">std::unique_ptr&lt; X509_STORE, X509StoreDeleter &gt; X509StoreUniquePtr</div><div class="ttdef"><b>Definition:</b> <a href="OpenSSLPtrTypes_8h_source.html#l00046">OpenSSLPtrTypes.h:46</a></div></div>
<div class="ttc" id="classfizz_1_1server_1_1test_1_1FizzTestServer_html_a6b6033df30ebe2c771d88ce654f54502"><div class="ttname"><a href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a6b6033df30ebe2c771d88ce654f54502">fizz::server::test::FizzTestServer::ctx_</a></div><div class="ttdeci">std::shared_ptr&lt; FizzServerContext &gt; ctx_</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00148">Utils.h:148</a></div></div>
<div class="ttc" id="classfolly_1_1Range_html"><div class="ttname"><a href="classfolly_1_1Range.html">folly::Range&lt; const char * &gt;</a></div></div>
<div class="ttc" id="Conv_8cpp_html_ae1adbce218e7a9d09164012443191d24"><div class="ttname"><a href="Conv_8cpp.html#ae1adbce218e7a9d09164012443191d24">string</a></div><div class="ttdeci">const char * string</div><div class="ttdef"><b>Definition:</b> <a href="Conv_8cpp_source.html#l00212">Conv.cpp:212</a></div></div>
<div class="ttc" id="namespacefolly_html_a7f61a634c75bc3bb46447ec2b17ff0fe"><div class="ttname"><a href="namespacefolly.html#a7f61a634c75bc3bb46447ec2b17ff0fe">folly::ByteRange</a></div><div class="ttdeci">Range&lt; const unsigned char * &gt; ByteRange</div><div class="ttdef"><b>Definition:</b> <a href="Range_8h_source.html#l01163">Range.h:1163</a></div></div>
<div class="ttc" id="classfolly_1_1ssl_1_1OpenSSLCertUtils_html_a566f63568280789678636a681a262927"><div class="ttname"><a href="classfolly_1_1ssl_1_1OpenSSLCertUtils.html#a566f63568280789678636a681a262927">folly::ssl::OpenSSLCertUtils::readCertsFromBuffer</a></div><div class="ttdeci">static std::vector&lt; X509UniquePtr &gt; readCertsFromBuffer(ByteRange range)</div><div class="ttdef"><b>Definition:</b> <a href="OpenSSLCertUtils_8cpp_source.html#l00209">OpenSSLCertUtils.cpp:209</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0cd747f651e3591cfce9dd30519c4350"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1SocketAddress.html">folly::SocketAddress</a> fizz::server::test::FizzTestServer::getAddress </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00136">136</a> of file <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html">Utils.h</a>.</p>

<p>References <a class="el" href="GlobalThreadPoolList_8cpp_source.html#l00061">addr</a>, and <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00147">socket_</a>.</p>
<div class="fragment"><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                                  {</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <a class="code" href="classfolly_1_1SocketAddress.html">folly::SocketAddress</a> <a class="code" href="GlobalThreadPoolList_8cpp.html#ab94a49ce2d97d58d5e22352a39c2345c">addr</a>;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <a class="code" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a5e9ce0127b60551af6a6cb811d9ce7df">socket_</a>-&gt;getAddress(&amp;addr);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="GlobalThreadPoolList_8cpp.html#ab94a49ce2d97d58d5e22352a39c2345c">addr</a>;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  }</div><div class="ttc" id="classfizz_1_1server_1_1test_1_1FizzTestServer_html_a5e9ce0127b60551af6a6cb811d9ce7df"><div class="ttname"><a href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a5e9ce0127b60551af6a6cb811d9ce7df">fizz::server::test::FizzTestServer::socket_</a></div><div class="ttdeci">folly::AsyncServerSocket::UniquePtr socket_</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00147">Utils.h:147</a></div></div>
<div class="ttc" id="classfolly_1_1SocketAddress_html"><div class="ttname"><a href="classfolly_1_1SocketAddress.html">folly::SocketAddress</a></div><div class="ttdef"><b>Definition:</b> <a href="SocketAddress_8h_source.html#l00032">SocketAddress.h:32</a></div></div>
<div class="ttc" id="GlobalThreadPoolList_8cpp_html_ab94a49ce2d97d58d5e22352a39c2345c"><div class="ttname"><a href="GlobalThreadPoolList_8cpp.html#ab94a49ce2d97d58d5e22352a39c2345c">addr</a></div><div class="ttdeci">ThreadPoolListHook * addr</div><div class="ttdef"><b>Definition:</b> <a href="GlobalThreadPoolList_8cpp_source.html#l00061">GlobalThreadPoolList.cpp:61</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8ec07039b54649ccf19b04e35d917125"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classfizz_1_1server_1_1FizzServerContext.html">FizzServerContext</a>&gt; fizz::server::test::FizzTestServer::getFizzContext </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00142">142</a> of file <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html">Utils.h</a>.</p>

<p>References <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00148">ctx_</a>.</p>
<div class="fragment"><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                                                    {</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a6b6033df30ebe2c771d88ce654f54502">ctx_</a>;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  }</div><div class="ttc" id="classfizz_1_1server_1_1test_1_1FizzTestServer_html_a6b6033df30ebe2c771d88ce654f54502"><div class="ttname"><a href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a6b6033df30ebe2c771d88ce654f54502">fizz::server::test::FizzTestServer::ctx_</a></div><div class="ttdeci">std::shared_ptr&lt; FizzServerContext &gt; ctx_</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00148">Utils.h:148</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6a5c275781c2eff25bf0bd083043a4b1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void fizz::server::test::FizzTestServer::setAcceptEarlyData </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enable</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00121">121</a> of file <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html">Utils.h</a>.</p>

<p>References <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00148">ctx_</a>.</p>
<div class="fragment"><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                                       {</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">if</span> (enable) {</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      <a class="code" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a6b6033df30ebe2c771d88ce654f54502">ctx_</a>-&gt;setEarlyDataSettings(</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;          <span class="keyword">true</span>,</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;          {std::chrono::seconds(-10), std::chrono::seconds(10)},</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;          std::make_shared&lt;AllowAllReplayReplayCache&gt;());</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      <a class="code" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a6b6033df30ebe2c771d88ce654f54502">ctx_</a>-&gt;setEarlyDataSettings(<span class="keyword">false</span>, ClockSkewTolerance(), <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    }</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  }</div><div class="ttc" id="classfizz_1_1server_1_1test_1_1FizzTestServer_html_a6b6033df30ebe2c771d88ce654f54502"><div class="ttname"><a href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a6b6033df30ebe2c771d88ce654f54502">fizz::server::test::FizzTestServer::ctx_</a></div><div class="ttdeci">std::shared_ptr&lt; FizzServerContext &gt; ctx_</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00148">Utils.h:148</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7fb1da62461ccd99dbc11784640d5e19"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void fizz::server::test::FizzTestServer::setCertificate </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classfizz_1_1SelfCert.html">SelfCert</a> &gt;&#160;</td>
          <td class="paramname"><em>cert</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00082">82</a> of file <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html">Utils.h</a>.</p>

<p>References <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00148">ctx_</a>, and <a class="el" href="Base-inl_8h_source.html#l02567">folly::gen::move</a>.</p>
<div class="fragment"><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                                                    {</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keyword">auto</span> certManager = std::make_unique&lt;CertManager&gt;();</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    certManager-&gt;addCert(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(cert), <span class="keyword">true</span>);</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a6b6033df30ebe2c771d88ce654f54502">ctx_</a>-&gt;setCertManager(<a class="code" href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">std::move</a>(certManager));</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  }</div><div class="ttc" id="namespacefolly_1_1gen_html_ac24ec252b1b738a40c274285527c193f"><div class="ttname"><a href="namespacefolly_1_1gen.html#ac24ec252b1b738a40c274285527c193f">folly::gen::move</a></div><div class="ttdeci">constexpr detail::Map&lt; Move &gt; move</div><div class="ttdef"><b>Definition:</b> <a href="Base-inl_8h_source.html#l02567">Base-inl.h:2567</a></div></div>
<div class="ttc" id="classfizz_1_1server_1_1test_1_1FizzTestServer_html_a6b6033df30ebe2c771d88ce654f54502"><div class="ttname"><a href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a6b6033df30ebe2c771d88ce654f54502">fizz::server::test::FizzTestServer::ctx_</a></div><div class="ttdeci">std::shared_ptr&lt; FizzServerContext &gt; ctx_</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00148">Utils.h:148</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aacfe21e47a7aa9d1defb1235a2f2442c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void fizz::server::test::FizzTestServer::setFizzContext </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classfizz_1_1server_1_1FizzServerContext.html">FizzServerContext</a> &gt;&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00050">50</a> of file <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html">Utils.h</a>.</p>

<p>References <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00148">ctx_</a>.</p>
<div class="fragment"><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                                                            {</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <a class="code" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a6b6033df30ebe2c771d88ce654f54502">ctx_</a> = ctx;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  }</div><div class="ttc" id="classfizz_1_1server_1_1test_1_1FizzTestServer_html_a6b6033df30ebe2c771d88ce654f54502"><div class="ttname"><a href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a6b6033df30ebe2c771d88ce654f54502">fizz::server::test::FizzTestServer::ctx_</a></div><div class="ttdeci">std::shared_ptr&lt; FizzServerContext &gt; ctx_</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00148">Utils.h:148</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a029f9236df3fe3e8c8be2be41dddd16f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void fizz::server::test::FizzTestServer::setResumption </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enable</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00068">68</a> of file <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html">Utils.h</a>.</p>

<p>References <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00148">ctx_</a>, and <a class="el" href="Range_8h_source.html#l01114">folly::range()</a>.</p>
<div class="fragment"><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                                  {</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">if</span> (enable) {</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      <span class="keyword">auto</span> ticketCipher = std::make_shared&lt;AeadTicketCipher&lt;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;          OpenSSLEVPCipher&lt;AESGCM128&gt;,</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;          TicketCodec&lt;CertificateStorage::X509&gt;,</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;          HkdfImpl&lt;Sha256&gt;&gt;&gt;();</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;      <span class="keyword">auto</span> ticketSeed = RandomGenerator&lt;32&gt;().generateRandom();</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      ticketCipher-&gt;setTicketSecrets({{<a class="code" href="namespacefolly.html#a79a54cd1a19a22878c86be5f90a33643">folly::range</a>(ticketSeed)}});</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;      <a class="code" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a6b6033df30ebe2c771d88ce654f54502">ctx_</a>-&gt;setTicketCipher(ticketCipher);</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;      <a class="code" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a6b6033df30ebe2c771d88ce654f54502">ctx_</a>-&gt;setTicketCipher(<span class="keyword">nullptr</span>);</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    }</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  }</div><div class="ttc" id="namespacefolly_html_a79a54cd1a19a22878c86be5f90a33643"><div class="ttname"><a href="namespacefolly.html#a79a54cd1a19a22878c86be5f90a33643">folly::range</a></div><div class="ttdeci">constexpr Range&lt; Iter &gt; range(Iter first, Iter last)</div><div class="ttdef"><b>Definition:</b> <a href="Range_8h_source.html#l01114">Range.h:1114</a></div></div>
<div class="ttc" id="classfizz_1_1server_1_1test_1_1FizzTestServer_html_a6b6033df30ebe2c771d88ce654f54502"><div class="ttname"><a href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a6b6033df30ebe2c771d88ce654f54502">fizz::server::test::FizzTestServer::ctx_</a></div><div class="ttdeci">std::shared_ptr&lt; FizzServerContext &gt; ctx_</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00148">Utils.h:148</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a89d628ea622e597ca353692574b39a37"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void fizz::server::test::FizzTestServer::stopAccepting </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00132">132</a> of file <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html">Utils.h</a>.</p>

<p>References <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00147">socket_</a>.</p>
<div class="fragment"><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                       {</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <a class="code" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a5e9ce0127b60551af6a6cb811d9ce7df">socket_</a>.reset();</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  }</div><div class="ttc" id="classfizz_1_1server_1_1test_1_1FizzTestServer_html_a5e9ce0127b60551af6a6cb811d9ce7df"><div class="ttname"><a href="classfizz_1_1server_1_1test_1_1FizzTestServer.html#a5e9ce0127b60551af6a6cb811d9ce7df">fizz::server::test::FizzTestServer::socket_</a></div><div class="ttdeci">folly::AsyncServerSocket::UniquePtr socket_</div><div class="ttdef"><b>Definition:</b> <a href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00147">Utils.h:147</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a6b6033df30ebe2c771d88ce654f54502"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classfizz_1_1server_1_1FizzServerContext.html">FizzServerContext</a>&gt; fizz::server::test::FizzTestServer::ctx_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00148">148</a> of file <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html">Utils.h</a>.</p>

<p>Referenced by <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00058">connectionAccepted()</a>, <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00116">disableClientAuth()</a>, <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00088">enableClientAuthWithChain()</a>, <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00030">FizzTestServer()</a>, <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00142">getFizzContext()</a>, <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00121">setAcceptEarlyData()</a>, <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00082">setCertificate()</a>, <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00050">setFizzContext()</a>, and <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00068">setResumption()</a>.</p>

</div>
</div>
<a class="anchor" id="ae82971288010d8c9fe80c2f6b141d75b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1EventBase.html">folly::EventBase</a>&amp; fizz::server::test::FizzTestServer::evb_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00150">150</a> of file <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html">Utils.h</a>.</p>

<p>Referenced by <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00058">connectionAccepted()</a>, and <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00030">FizzTestServer()</a>.</p>

</div>
</div>
<a class="anchor" id="afe5beaefe41e33250fa0af4cfc2118a8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfizz_1_1server_1_1test_1_1FizzTestServer_1_1CallbackFactory.html">CallbackFactory</a>* fizz::server::test::FizzTestServer::factory_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00149">149</a> of file <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html">Utils.h</a>.</p>

<p>Referenced by <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00058">connectionAccepted()</a>.</p>

</div>
</div>
<a class="anchor" id="a5e9ce0127b60551af6a6cb811d9ce7df"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfolly_1_1AsyncServerSocket.html#a1a61df9e0ee98382ed7d7e678c9e3e52">folly::AsyncServerSocket::UniquePtr</a> fizz::server::test::FizzTestServer::socket_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00147">147</a> of file <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html">Utils.h</a>.</p>

<p>Referenced by <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00030">FizzTestServer()</a>, <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00136">getAddress()</a>, and <a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html#l00132">stopAccepting()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>proxygen/fizz/fizz/server/test/<a class="el" href="fizz_2fizz_2server_2test_2Utils_8h_source.html">Utils.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefizz.html">fizz</a></li><li class="navelem"><a class="el" href="namespacefizz_1_1server.html">server</a></li><li class="navelem"><a class="el" href="namespacefizz_1_1server_1_1test.html">test</a></li><li class="navelem"><a class="el" href="classfizz_1_1server_1_1test_1_1FizzTestServer.html">FizzTestServer</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
